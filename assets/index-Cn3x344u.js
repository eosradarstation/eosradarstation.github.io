var s3=Object.defineProperty;var r3=(e,t,i)=>t in e?s3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Ji=(e,t,i)=>r3(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=i(r);fetch(r.href,n)}})();var Ud,De,Zy,Xo,i0,Yy,Wp,pm,Tp,Lp,zy,id={},jy=[],n3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Vh=Array.isArray;function fn(e,t){for(var i in t)e[i]=t[i];return e}function Xy(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Hr(e,t,i){var s,r,n,o={};for(n in t)n=="key"?s=t[n]:n=="ref"?r=t[n]:o[n]=t[n];if(arguments.length>2&&(o.children=arguments.length>3?Ud.call(arguments,2):i),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)o[n]===void 0&&(o[n]=e.defaultProps[n]);return Nc(e,o,s,r,null)}function Nc(e,t,i,s,r){var n={type:e,props:t,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++Zy,__i:-1,__u:0};return r==null&&De.vnode!=null&&De.vnode(n),n}function Jy(){return{current:null}}function hs(e){return e.children}function cr(e,t){this.props=e,this.context=t}function ml(e,t){if(t==null)return e.__?ml(e.__,e.__i+1):null;for(var i;t<e.__k.length;t++)if((i=e.__k[t])!=null&&i.__e!=null)return i.__e;return typeof e.type=="function"?ml(e):null}function Uy(e){var t,i;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((i=e.__k[t])!=null&&i.__e!=null){e.__e=e.__c.base=i.__e;break}return Uy(e)}}function Np(e){(!e.__d&&(e.__d=!0)&&Xo.push(e)&&!Ku.__r++||i0!==De.debounceRendering)&&((i0=De.debounceRendering)||Yy)(Ku)}function Ku(){var e,t,i,s,r,n,o,a;for(Xo.sort(Wp);e=Xo.shift();)e.__d&&(t=Xo.length,s=void 0,n=(r=(i=e).__v).__e,o=[],a=[],i.__P&&((s=fn({},r)).__v=r.__v+1,De.vnode&&De.vnode(s),gm(i.__P,s,r,i.__n,i.__P.namespaceURI,32&r.__u?[n]:null,o,n??ml(r),!!(32&r.__u),a),s.__v=r.__v,s.__.__k[s.__i]=s,Qy(o,s,a),s.__e!=n&&Uy(s)),Xo.length>t&&Xo.sort(Wp));Ku.__r=0}function qy(e,t,i,s,r,n,o,a,l,c,d){var u,f,g,m,y,b=s&&s.__k||jy,S=t.length;for(i.__d=l,o3(i,t,b),l=i.__d,u=0;u<S;u++)(g=i.__k[u])!=null&&(f=g.__i===-1?id:b[g.__i]||id,g.__i=u,gm(e,g,f,r,n,o,a,l,c,d),m=g.__e,g.ref&&f.ref!=g.ref&&(f.ref&&mm(f.ref,null,g),d.push(g.ref,g.__c||m,g)),y==null&&m!=null&&(y=m),65536&g.__u||f.__k===g.__k?l=Ky(g,l,e):typeof g.type=="function"&&g.__d!==void 0?l=g.__d:m&&(l=m.nextSibling),g.__d=void 0,g.__u&=-196609);i.__d=l,i.__e=y}function o3(e,t,i){var s,r,n,o,a,l=t.length,c=i.length,d=c,u=0;for(e.__k=[],s=0;s<l;s++)(r=t[s])!=null&&typeof r!="boolean"&&typeof r!="function"?(o=s+u,(r=e.__k[s]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?Nc(null,r,null,null,null):Vh(r)?Nc(hs,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?Nc(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,n=null,(a=r.__i=a3(r,i,o,d))!==-1&&(d--,(n=i[a])&&(n.__u|=131072)),n==null||n.__v===null?(a==-1&&u--,typeof r.type!="function"&&(r.__u|=65536)):a!==o&&(a==o-1?u--:a==o+1?u++:(a>o?u--:u++,r.__u|=65536))):r=e.__k[s]=null;if(d)for(s=0;s<c;s++)(n=i[s])!=null&&!(131072&n.__u)&&(n.__e==e.__d&&(e.__d=ml(n)),$y(n,n))}function Ky(e,t,i){var s,r;if(typeof e.type=="function"){for(s=e.__k,r=0;s&&r<s.length;r++)s[r]&&(s[r].__=e,t=Ky(s[r],t,i));return t}e.__e!=t&&(t&&e.type&&!i.contains(t)&&(t=ml(e)),i.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function yn(e,t){return t=t||[],e==null||typeof e=="boolean"||(Vh(e)?e.some(function(i){yn(i,t)}):t.push(e)),t}function a3(e,t,i,s){var r=e.key,n=e.type,o=i-1,a=i+1,l=t[i];if(l===null||l&&r==l.key&&n===l.type&&!(131072&l.__u))return i;if(s>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&!(131072&l.__u)&&r==l.key&&n===l.type)return o;o--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&r==l.key&&n===l.type)return a;a++}}return-1}function s0(e,t,i){t[0]==="-"?e.setProperty(t,i??""):e[t]=i==null?"":typeof i!="number"||n3.test(t)?i:i+"px"}function Su(e,t,i,s,r){var n;e:if(t==="style")if(typeof i=="string")e.style.cssText=i;else{if(typeof s=="string"&&(e.style.cssText=s=""),s)for(t in s)i&&t in i||s0(e.style,t,"");if(i)for(t in i)s&&i[t]===s[t]||s0(e.style,t,i[t])}else if(t[0]==="o"&&t[1]==="n")n=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+n]=i,i?s?i.u=s.u:(i.u=pm,e.addEventListener(t,n?Lp:Tp,n)):e.removeEventListener(t,n?Lp:Tp,n);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&i==1?"":i))}}function r0(e){return function(t){if(this.l){var i=this.l[t.type+e];if(t.t==null)t.t=pm++;else if(t.t<i.u)return;return i(De.event?De.event(t):t)}}}function gm(e,t,i,s,r,n,o,a,l,c){var d,u,f,g,m,y,b,S,I,F,D,V,O,L,q,T,X=t.type;if(t.constructor!==void 0)return null;128&i.__u&&(l=!!(32&i.__u),n=[a=t.__e=i.__e]),(d=De.__b)&&d(t);e:if(typeof X=="function")try{if(S=t.props,I="prototype"in X&&X.prototype.render,F=(d=X.contextType)&&s[d.__c],D=d?F?F.props.value:d.__:s,i.__c?b=(u=t.__c=i.__c).__=u.__E:(I?t.__c=u=new X(S,D):(t.__c=u=new cr(S,D),u.constructor=X,u.render=c3),F&&F.sub(u),u.props=S,u.state||(u.state={}),u.context=D,u.__n=s,f=u.__d=!0,u.__h=[],u._sb=[]),I&&u.__s==null&&(u.__s=u.state),I&&X.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=fn({},u.__s)),fn(u.__s,X.getDerivedStateFromProps(S,u.__s))),g=u.props,m=u.state,u.__v=t,f)I&&X.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),I&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(I&&X.getDerivedStateFromProps==null&&S!==g&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(S,D),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(S,u.__s,D)===!1||t.__v===i.__v)){for(t.__v!==i.__v&&(u.props=S,u.state=u.__s,u.__d=!1),t.__e=i.__e,t.__k=i.__k,t.__k.some(function(_){_&&(_.__=t)}),V=0;V<u._sb.length;V++)u.__h.push(u._sb[V]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(S,u.__s,D),I&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(g,m,y)})}if(u.context=D,u.props=S,u.__P=e,u.__e=!1,O=De.__r,L=0,I){for(u.state=u.__s,u.__d=!1,O&&O(t),d=u.render(u.props,u.state,u.context),q=0;q<u._sb.length;q++)u.__h.push(u._sb[q]);u._sb=[]}else do u.__d=!1,O&&O(t),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++L<25);u.state=u.__s,u.getChildContext!=null&&(s=fn(fn({},s),u.getChildContext())),I&&!f&&u.getSnapshotBeforeUpdate!=null&&(y=u.getSnapshotBeforeUpdate(g,m)),qy(e,Vh(T=d!=null&&d.type===hs&&d.key==null?d.props.children:d)?T:[T],t,i,s,r,n,o,a,l,c),u.base=t.__e,t.__u&=-161,u.__h.length&&o.push(u),b&&(u.__E=u.__=null)}catch(_){if(t.__v=null,l||n!=null){for(t.__u|=l?160:128;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;n[n.indexOf(a)]=null,t.__e=a}else t.__e=i.__e,t.__k=i.__k;De.__e(_,t,i)}else n==null&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=l3(i.__e,t,i,s,r,n,o,l,c);(d=De.diffed)&&d(t)}function Qy(e,t,i){t.__d=void 0;for(var s=0;s<i.length;s++)mm(i[s],i[++s],i[++s]);De.__c&&De.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){De.__e(n,r.__v)}})}function l3(e,t,i,s,r,n,o,a,l){var c,d,u,f,g,m,y,b=i.props,S=t.props,I=t.type;if(I==="svg"?r="http://www.w3.org/2000/svg":I==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),n!=null){for(c=0;c<n.length;c++)if((g=n[c])&&"setAttribute"in g==!!I&&(I?g.localName===I:g.nodeType===3)){e=g,n[c]=null;break}}if(e==null){if(I===null)return document.createTextNode(S);e=document.createElementNS(r,I,S.is&&S),a&&(De.__m&&De.__m(t,n),a=!1),n=null}if(I===null)b===S||a&&e.data===S||(e.data=S);else{if(n=n&&Ud.call(e.childNodes),b=i.props||id,!a&&n!=null)for(b={},c=0;c<e.attributes.length;c++)b[(g=e.attributes[c]).name]=g.value;for(c in b)if(g=b[c],c!="children"){if(c=="dangerouslySetInnerHTML")u=g;else if(!(c in S)){if(c=="value"&&"defaultValue"in S||c=="checked"&&"defaultChecked"in S)continue;Su(e,c,null,g,r)}}for(c in S)g=S[c],c=="children"?f=g:c=="dangerouslySetInnerHTML"?d=g:c=="value"?m=g:c=="checked"?y=g:a&&typeof g!="function"||b[c]===g||Su(e,c,g,b[c],r);if(d)a||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),qy(e,Vh(f)?f:[f],t,i,s,I==="foreignObject"?"http://www.w3.org/1999/xhtml":r,n,o,n?n[0]:i.__k&&ml(i,0),a,l),n!=null)for(c=n.length;c--;)Xy(n[c]);a||(c="value",I==="progress"&&m==null?e.removeAttribute("value"):m!==void 0&&(m!==e[c]||I==="progress"&&!m||I==="option"&&m!==b[c])&&Su(e,c,m,b[c],r),c="checked",y!==void 0&&y!==e[c]&&Su(e,c,y,b[c],r))}return e}function mm(e,t,i){try{if(typeof e=="function"){var s=typeof e.__u=="function";s&&e.__u(),s&&t==null||(e.__u=e(t))}else e.current=t}catch(r){De.__e(r,i)}}function $y(e,t,i){var s,r;if(De.unmount&&De.unmount(e),(s=e.ref)&&(s.current&&s.current!==e.__e||mm(s,null,t)),(s=e.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(n){De.__e(n,t)}s.base=s.__P=null}if(s=e.__k)for(r=0;r<s.length;r++)s[r]&&$y(s[r],t,i||typeof e.type!="function");i||Xy(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function c3(e,t,i){return this.constructor(e,i)}function ca(e,t,i){var s,r,n,o;De.__&&De.__(e,t),r=(s=typeof i=="function")?null:i&&i.__k||t.__k,n=[],o=[],gm(t,e=(!s&&i||t).__k=Hr(hs,null,[e]),r||id,id,t.namespaceURI,!s&&i?[i]:r?null:t.firstChild?Ud.call(t.childNodes):null,n,!s&&i?i:r?r.__e:t.firstChild,s,o),Qy(n,e,o)}function e1(e,t){ca(e,t,e1)}function d3(e,t,i){var s,r,n,o,a=fn({},e.props);for(n in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)n=="key"?s=t[n]:n=="ref"?r=t[n]:a[n]=t[n]===void 0&&o!==void 0?o[n]:t[n];return arguments.length>2&&(a.children=arguments.length>3?Ud.call(arguments,2):i),Nc(e.type,a,s||e.key,r||e.ref,null)}function t1(e,t){var i={__c:t="__cC"+zy++,__:e,Consumer:function(s,r){return s.children(r)},Provider:function(s){var r,n;return this.getChildContext||(r=new Set,(n={})[t]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.forEach(function(a){a.__e=!0,Np(a)})},this.sub=function(o){r.add(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){r&&r.delete(o),a&&a.call(o)}}),s.children}};return i.Provider.__=i.Consumer.contextType=i}Ud=jy.slice,De={__e:function(e,t,i,s){for(var r,n,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((n=r.constructor)&&n.getDerivedStateFromError!=null&&(r.setState(n.getDerivedStateFromError(e)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,s||{}),o=r.__d),o)return r.__E=r}catch(a){e=a}throw e}},Zy=0,cr.prototype.setState=function(e,t){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=fn({},this.state),typeof e=="function"&&(e=e(fn({},i),this.props)),e&&fn(i,e),e!=null&&this.__v&&(t&&this._sb.push(t),Np(this))},cr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Np(this))},cr.prototype.render=hs,Xo=[],Yy=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Wp=function(e,t){return e.__v.__b-t.__v.__b},Ku.__r=0,pm=0,Tp=r0(!1),Lp=r0(!0),zy=0;var u3=0;function ee(e,t,i,s,r,n){t||(t={});var o,a,l=t;"ref"in t&&(o=t.ref,delete t.ref);var c={type:e,props:l,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--u3,__i:-1,__u:0,__source:r,__self:n};if(typeof e=="function"&&(o=e.defaultProps))for(a in o)l[a]===void 0&&(l[a]=o[a]);return De.vnode&&De.vnode(c),c}var Rn,Et,Lf,n0,vl=0,i1=[],$t=De,o0=$t.__b,a0=$t.__r,l0=$t.diffed,c0=$t.__c,d0=$t.unmount,u0=$t.__;function Oa(e,t){$t.__h&&$t.__h(Et,e,vl||t),vl=0;var i=Et.__H||(Et.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function Zr(e){return vl=1,Hh(s1,e)}function Hh(e,t,i){var s=Oa(Rn++,2);if(s.t=e,!s.__c&&(s.__=[i?i(t):s1(void 0,t),function(a){var l=s.__N?s.__N[0]:s.__[0],c=s.t(l,a);l!==c&&(s.__N=[c,s.__[1]],s.__c.setState({}))}],s.__c=Et,!Et.u)){var r=function(a,l,c){if(!s.__c.__H)return!0;var d=s.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!n||n.call(this,a,l,c);var u=!1;return d.forEach(function(f){if(f.__N){var g=f.__[0];f.__=f.__N,f.__N=void 0,g!==f.__[0]&&(u=!0)}}),!(!u&&s.__c.props===a)&&(!n||n.call(this,a,l,c))};Et.u=!0;var n=Et.shouldComponentUpdate,o=Et.componentWillUpdate;Et.componentWillUpdate=function(a,l,c){if(this.__e){var d=n;n=void 0,r(a,l,c),n=d}o&&o.call(this,a,l,c)},Et.shouldComponentUpdate=r}return s.__N||s.__}function pn(e,t){var i=Oa(Rn++,3);!$t.__s&&Sm(i.__H,t)&&(i.__=e,i.i=t,Et.__H.__h.push(i))}function ql(e,t){var i=Oa(Rn++,4);!$t.__s&&Sm(i.__H,t)&&(i.__=e,i.i=t,Et.__h.push(i))}function Zh(e){return vl=5,Kl(function(){return{current:e}},[])}function vm(e,t,i){vl=6,ql(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},i==null?i:i.concat(e))}function Kl(e,t){var i=Oa(Rn++,7);return Sm(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function bm(e,t){return vl=8,Kl(function(){return e},t)}function Cm(e){var t=Et.context[e.__c],i=Oa(Rn++,9);return i.c=e,t?(i.__==null&&(i.__=!0,t.sub(Et)),t.props.value):e.__}function ym(e,t){$t.useDebugValue&&$t.useDebugValue(t?t(e):e)}function h3(e){var t=Oa(Rn++,10),i=Zr();return t.__=e,Et.componentDidCatch||(Et.componentDidCatch=function(s,r){t.__&&t.__(s,r),i[1](s)}),[i[0],function(){i[1](void 0)}]}function wm(){var e=Oa(Rn++,11);if(!e.__){for(var t=Et.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var i=t.__m||(t.__m=[0,0]);e.__="P"+i[0]+"-"+i[1]++}return e.__}function f3(){for(var e;e=i1.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Lu),e.__H.__h.forEach(Vp),e.__H.__h=[]}catch(t){e.__H.__h=[],$t.__e(t,e.__v)}}$t.__b=function(e){Et=null,o0&&o0(e)},$t.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),u0&&u0(e,t)},$t.__r=function(e){a0&&a0(e),Rn=0;var t=(Et=e.__c).__H;t&&(Lf===Et?(t.__h=[],Et.__h=[],t.__.forEach(function(i){i.__N&&(i.__=i.__N),i.i=i.__N=void 0})):(t.__h.forEach(Lu),t.__h.forEach(Vp),t.__h=[],Rn=0)),Lf=Et},$t.diffed=function(e){l0&&l0(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(i1.push(t)!==1&&n0===$t.requestAnimationFrame||((n0=$t.requestAnimationFrame)||p3)(f3)),t.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.i=void 0})),Lf=Et=null},$t.__c=function(e,t){t.some(function(i){try{i.__h.forEach(Lu),i.__h=i.__h.filter(function(s){return!s.__||Vp(s)})}catch(s){t.some(function(r){r.__h&&(r.__h=[])}),t=[],$t.__e(s,i.__v)}}),c0&&c0(e,t)},$t.unmount=function(e){d0&&d0(e);var t,i=e.__c;i&&i.__H&&(i.__H.__.forEach(function(s){try{Lu(s)}catch(r){t=r}}),i.__H=void 0,t&&$t.__e(t,i.__v))};var h0=typeof requestAnimationFrame=="function";function p3(e){var t,i=function(){clearTimeout(s),h0&&cancelAnimationFrame(t),setTimeout(e)},s=setTimeout(i,100);h0&&(t=requestAnimationFrame(i))}function Lu(e){var t=Et,i=e.__c;typeof i=="function"&&(e.__c=void 0,i()),Et=t}function Vp(e){var t=Et;e.__c=e.__(),Et=t}function Sm(e,t){return!e||e.length!==t.length||t.some(function(i,s){return i!==e[s]})}function s1(e,t){return typeof t=="function"?t(e):t}const f0=e=>{let t;const i=new Set,s=(c,d)=>{const u=typeof c=="function"?c(t):c;if(!Object.is(u,t)){const f=t;t=d??(typeof u!="object"||u===null)?u:Object.assign({},t,u),i.forEach(g=>g(t,f))}},r=()=>t,a={setState:s,getState:r,getInitialState:()=>l,subscribe:c=>(i.add(c),()=>i.delete(c))},l=t=e(s,r,a);return a},g3=e=>e?f0(e):f0;function Hp(e,t){for(var i in e)if(i!=="__source"&&!(i in t))return!0;for(var s in t)if(s!=="__source"&&e[s]!==t[s])return!0;return!1}function Qu(e,t){this.props=e,this.context=t}function r1(e,t){function i(r){var n=this.props.ref,o=n==r.ref;return!o&&n&&(n.call?n(null):n.current=null),t?!t(this.props,r)||!o:Hp(this.props,r)}function s(r){return this.shouldComponentUpdate=i,Hr(e,r)}return s.displayName="Memo("+(e.displayName||e.name)+")",s.prototype.isReactComponent=!0,s.__f=!0,s}(Qu.prototype=new cr).isPureReactComponent=!0,Qu.prototype.shouldComponentUpdate=function(e,t){return Hp(this.props,e)||Hp(this.state,t)};var p0=De.__b;De.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),p0&&p0(e)};var m3=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function n1(e){function t(i){if(!("ref"in i))return e(i,null);var s=i.ref;delete i.ref;var r=e(i,s);return i.ref=s,r}return t.$$typeof=m3,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var g0=function(e,t){return e==null?null:yn(yn(e).map(t))},o1={map:g0,forEach:g0,count:function(e){return e?yn(e).length:0},only:function(e){var t=yn(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:yn},v3=De.__e;De.__e=function(e,t,i,s){if(e.then){for(var r,n=t;n=n.__;)if((r=n.__c)&&r.__c)return t.__e==null&&(t.__e=i.__e,t.__k=i.__k),r.__c(e,t)}v3(e,t,i,s)};var m0=De.unmount;function a1(e,t,i){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(s){typeof s.__c=="function"&&s.__c()}),e.__c.__H=null),(e=function(s,r){for(var n in r)s[n]=r[n];return s}({},e)).__c!=null&&(e.__c.__P===i&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(s){return a1(s,t,i)})),e}function l1(e,t,i){return e&&i&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(s){return l1(s,t,i)}),e.__c&&e.__c.__P===t&&(e.__e&&i.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=i)),e}function Vc(){this.__u=0,this.t=null,this.__b=null}function c1(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function d1(e){var t,i,s;function r(n){if(t||(t=e()).then(function(o){i=o.default||o},function(o){s=o}),s)throw s;if(!i)throw t;return Hr(i,n)}return r.displayName="Lazy",r.__f=!0,r}function tl(){this.u=null,this.o=null}De.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),m0&&m0(e)},(Vc.prototype=new cr).__c=function(e,t){var i=t.__c,s=this;s.t==null&&(s.t=[]),s.t.push(i);var r=c1(s.__v),n=!1,o=function(){n||(n=!0,i.__R=null,r?r(a):a())};i.__R=o;var a=function(){if(!--s.__u){if(s.state.__a){var l=s.state.__a;s.__v.__k[0]=l1(l,l.__c.__P,l.__c.__O)}var c;for(s.setState({__a:s.__b=null});c=s.t.pop();)c.forceUpdate()}};s.__u++||32&t.__u||s.setState({__a:s.__b=s.__v.__k[0]}),e.then(o,o)},Vc.prototype.componentWillUnmount=function(){this.t=[]},Vc.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=a1(this.__b,i,s.__O=s.__P)}this.__b=null}var r=t.__a&&Hr(hs,null,e.fallback);return r&&(r.__u&=-33),[Hr(hs,null,t.__a?null:e.children),r]};var v0=function(e,t,i){if(++i[1]===i[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(i=e.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;e.u=i=i[2]}};function b3(e){return this.getChildContext=function(){return e.context},e.children}function C3(e){var t=this,i=e.i;t.componentWillUnmount=function(){ca(null,t.l),t.l=null,t.i=null},t.i&&t.i!==i&&t.componentWillUnmount(),t.l||(t.i=i,t.l={nodeType:1,parentNode:i,childNodes:[],contains:function(){return!0},appendChild:function(s){this.childNodes.push(s),t.i.appendChild(s)},insertBefore:function(s,r){this.childNodes.push(s),t.i.appendChild(s)},removeChild:function(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),t.i.removeChild(s)}}),ca(Hr(b3,{context:t.context},e.__v),t.l)}function u1(e,t){var i=Hr(C3,{__v:e,i:t});return i.containerInfo=t,i}(tl.prototype=new cr).__a=function(e){var t=this,i=c1(t.__v),s=t.o.get(e);return s[0]++,function(r){var n=function(){t.props.revealOrder?(s.push(r),v0(t,e,s)):r()};i?i(n):n()}},tl.prototype.render=function(e){this.u=null,this.o=new Map;var t=yn(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var i=t.length;i--;)this.o.set(t[i],this.u=[1,0,this.u]);return e.children},tl.prototype.componentDidUpdate=tl.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,i){v0(e,i,t)})};var h1=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,y3=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,w3=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,S3=/[A-Z0-9]/g,R3=typeof document<"u",A3=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function f1(e,t,i){return t.__k==null&&(t.textContent=""),ca(e,t),typeof i=="function"&&i(),e?e.__c:null}function p1(e,t,i){return e1(e,t),typeof i=="function"&&i(),e?e.__c:null}cr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(cr.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var b0=De.event;function I3(){}function F3(){return this.cancelBubble}function x3(){return this.defaultPrevented}De.event=function(e){return b0&&(e=b0(e)),e.persist=I3,e.isPropagationStopped=F3,e.isDefaultPrevented=x3,e.nativeEvent=e};var Rm,_3={enumerable:!1,configurable:!0,get:function(){return this.class}},C0=De.vnode;De.vnode=function(e){typeof e.type=="string"&&function(t){var i=t.props,s=t.type,r={},n=s.indexOf("-")===-1;for(var o in i){var a=i[o];if(!(o==="value"&&"defaultValue"in i&&a==null||R3&&o==="children"&&s==="noscript"||o==="class"||o==="className")){var l=o.toLowerCase();o==="defaultValue"&&"value"in i&&i.value==null?o="value":o==="download"&&a===!0?a="":l==="translate"&&a==="no"?a=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?o="ondblclick":l!=="onchange"||s!=="input"&&s!=="textarea"||A3(i.type)?l==="onfocus"?o="onfocusin":l==="onblur"?o="onfocusout":w3.test(o)&&(o=l):l=o="oninput":n&&y3.test(o)?o=o.replace(S3,"-$&").toLowerCase():a===null&&(a=void 0),l==="oninput"&&r[o=l]&&(o="oninputCapture"),r[o]=a}}s=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=yn(i.children).forEach(function(c){c.props.selected=r.value.indexOf(c.props.value)!=-1})),s=="select"&&r.defaultValue!=null&&(r.value=yn(i.children).forEach(function(c){c.props.selected=r.multiple?r.defaultValue.indexOf(c.props.value)!=-1:r.defaultValue==c.props.value})),i.class&&!i.className?(r.class=i.class,Object.defineProperty(r,"className",_3)):(i.className&&!i.class||i.class&&i.className)&&(r.class=r.className=i.className),t.props=r}(e),e.$$typeof=h1,C0&&C0(e)};var y0=De.__r;De.__r=function(e){y0&&y0(e),Rm=e.__c};var w0=De.diffed;De.diffed=function(e){w0&&w0(e);var t=e.props,i=e.__e;i!=null&&e.type==="textarea"&&"value"in t&&t.value!==i.value&&(i.value=t.value==null?"":t.value),Rm=null};var g1={ReactCurrentDispatcher:{current:{readContext:function(e){return Rm.__n[e.__c].props.value},useCallback:bm,useContext:Cm,useDebugValue:ym,useDeferredValue:Im,useEffect:pn,useId:wm,useImperativeHandle:vm,useInsertionEffect:xm,useLayoutEffect:ql,useMemo:Kl,useReducer:Hh,useRef:Zh,useState:Zr,useSyncExternalStore:_m,useTransition:Fm}}},E3="18.3.1";function m1(e){return Hr.bind(null,e)}function qd(e){return!!e&&e.$$typeof===h1}function v1(e){return qd(e)&&e.type===hs}function b1(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function C1(e){return qd(e)?d3.apply(null,arguments):e}function y1(e){return!!e.__k&&(ca(null,e),!0)}function w1(e){return e&&(e.base||e.nodeType===1&&e)||null}var S1=function(e,t){return e(t)},R1=function(e,t){return e(t)},A1=hs;function Am(e){e()}function Im(e){return e}function Fm(){return[!1,Am]}var xm=ql,I1=qd;function _m(e,t){var i=t(),s=Zr({h:{__:i,v:t}}),r=s[0].h,n=s[1];return ql(function(){r.__=i,r.v=t,Nf(r)&&n({h:r})},[e,i,t]),pn(function(){return Nf(r)&&n({h:r}),e(function(){Nf(r)&&n({h:r})})},[e]),i}function Nf(e){var t,i,s=e.v,r=e.__;try{var n=s();return!((t=r)===(i=n)&&(t!==0||1/t==1/i)||t!=t&&i!=i)}catch{return!0}}var Zp={useState:Zr,useId:wm,useReducer:Hh,useEffect:pn,useLayoutEffect:ql,useInsertionEffect:xm,useTransition:Fm,useDeferredValue:Im,useSyncExternalStore:_m,startTransition:Am,useRef:Zh,useImperativeHandle:vm,useMemo:Kl,useCallback:bm,useContext:Cm,useDebugValue:ym,version:"18.3.1",Children:o1,render:f1,hydrate:p1,unmountComponentAtNode:y1,createPortal:u1,createElement:Hr,createContext:t1,createFactory:m1,cloneElement:C1,createRef:Jy,Fragment:hs,isValidElement:qd,isElement:I1,isFragment:v1,isMemo:b1,findDOMNode:w1,Component:cr,PureComponent:Qu,memo:r1,forwardRef:n1,flushSync:R1,unstable_batchedUpdates:S1,StrictMode:A1,Suspense:Vc,SuspenseList:tl,lazy:d1,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:g1};const M3=Object.freeze(Object.defineProperty({__proto__:null,Children:o1,Component:cr,Fragment:hs,PureComponent:Qu,StrictMode:A1,Suspense:Vc,SuspenseList:tl,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:g1,cloneElement:C1,createContext:t1,createElement:Hr,createFactory:m1,createPortal:u1,createRef:Jy,default:Zp,findDOMNode:w1,flushSync:R1,forwardRef:n1,hydrate:p1,isElement:I1,isFragment:v1,isMemo:b1,isValidElement:qd,lazy:d1,memo:r1,render:f1,startTransition:Am,unmountComponentAtNode:y1,unstable_batchedUpdates:S1,useCallback:bm,useContext:Cm,useDebugValue:ym,useDeferredValue:Im,useEffect:pn,useErrorBoundary:h3,useId:wm,useImperativeHandle:vm,useInsertionEffect:xm,useLayoutEffect:ql,useMemo:Kl,useReducer:Hh,useRef:Zh,useState:Zr,useSyncExternalStore:_m,useTransition:Fm,version:E3},Symbol.toStringTag,{value:"Module"})),k3=e=>e;function D3(e,t=k3){const i=Zp.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Zp.useDebugValue(i),i}const G3=e=>{const t=g3(e),i=s=>D3(t,s);return Object.assign(i,t),i},Kd=e=>G3,P3=e=>(t,i,s)=>{const r=s.subscribe;return s.subscribe=(o,a,l)=>{let c=o;if(a){const d=(l==null?void 0:l.equalityFn)||Object.is;let u=o(s.getState());c=f=>{const g=o(f);if(!d(u,g)){const m=u;a(u=g,m)}},l!=null&&l.fireImmediately&&a(u,u)}return r(c)},e(t,i,s)},Qd=P3;var O3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Em(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(i,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),i}var Mm={exports:{}};const B3={},W3=Object.freeze(Object.defineProperty({__proto__:null,default:B3},Symbol.toStringTag,{value:"Module"})),F1=Em(W3);var Vf;Mm.exports=function(t){return Vf||(Vf=new to(null)),Vf.generate(t)};function to(e){this.rand=e}Mm.exports.Rand=to;to.prototype.generate=function(t){return this._rand(t)};to.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var i=new Uint8Array(t),s=0;s<i.length;s++)i[s]=this.rand.getByte();return i};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?to.prototype._rand=function(t){var i=new Uint8Array(t);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?to.prototype._rand=function(t){var i=new Uint8Array(t);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(to.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var S0=F1;if(typeof S0.randomBytes!="function")throw new Error("Not supported");to.prototype._rand=function(t){return S0.randomBytes(t)}}catch{}var km=Mm.exports;const T3=Yh(km);var Or={},Je={},Ba=x1;function x1(e,t){if(!e)throw new Error(t||"Assertion failed")}x1.equal=function(t,i,s){if(t!=i)throw new Error(s||"Assertion failed: "+t+" != "+i)};var Yp={exports:{}};typeof Object.create=="function"?Yp.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Yp.exports=function(t,i){if(i){t.super_=i;var s=function(){};s.prototype=i.prototype,t.prototype=new s,t.prototype.constructor=t}};var zh=Yp.exports,L3=Ba,N3=zh;Je.inherits=N3;function V3(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function H3(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),r=0;r<e.length;r+=2)i.push(parseInt(e[r]+e[r+1],16))}else for(var s=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?i[s++]=n:n<2048?(i[s++]=n>>6|192,i[s++]=n&63|128):V3(e,r)?(n=65536+((n&1023)<<10)+(e.charCodeAt(++r)&1023),i[s++]=n>>18|240,i[s++]=n>>12&63|128,i[s++]=n>>6&63|128,i[s++]=n&63|128):(i[s++]=n>>12|224,i[s++]=n>>6&63|128,i[s++]=n&63|128)}else for(r=0;r<e.length;r++)i[r]=e[r]|0;return i}Je.toArray=H3;function Z3(e){for(var t="",i=0;i<e.length;i++)t+=E1(e[i].toString(16));return t}Je.toHex=Z3;function _1(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Je.htonl=_1;function Y3(e,t){for(var i="",s=0;s<e.length;s++){var r=e[s];t==="little"&&(r=_1(r)),i+=M1(r.toString(16))}return i}Je.toHex32=Y3;function E1(e){return e.length===1?"0"+e:e}Je.zero2=E1;function M1(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Je.zero8=M1;function z3(e,t,i,s){var r=i-t;L3(r%4===0);for(var n=new Array(r/4),o=0,a=t;o<n.length;o++,a+=4){var l;s==="big"?l=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:l=e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],n[o]=l>>>0}return n}Je.join32=z3;function j3(e,t){for(var i=new Array(e.length*4),s=0,r=0;s<e.length;s++,r+=4){var n=e[s];t==="big"?(i[r]=n>>>24,i[r+1]=n>>>16&255,i[r+2]=n>>>8&255,i[r+3]=n&255):(i[r+3]=n>>>24,i[r+2]=n>>>16&255,i[r+1]=n>>>8&255,i[r]=n&255)}return i}Je.split32=j3;function X3(e,t){return e>>>t|e<<32-t}Je.rotr32=X3;function J3(e,t){return e<<t|e>>>32-t}Je.rotl32=J3;function U3(e,t){return e+t>>>0}Je.sum32=U3;function q3(e,t,i){return e+t+i>>>0}Je.sum32_3=q3;function K3(e,t,i,s){return e+t+i+s>>>0}Je.sum32_4=K3;function Q3(e,t,i,s,r){return e+t+i+s+r>>>0}Je.sum32_5=Q3;function $3(e,t,i,s){var r=e[t],n=e[t+1],o=s+n>>>0,a=(o<s?1:0)+i+r;e[t]=a>>>0,e[t+1]=o}Je.sum64=$3;function eA(e,t,i,s){var r=t+s>>>0,n=(r<t?1:0)+e+i;return n>>>0}Je.sum64_hi=eA;function tA(e,t,i,s){var r=t+s;return r>>>0}Je.sum64_lo=tA;function iA(e,t,i,s,r,n,o,a){var l=0,c=t;c=c+s>>>0,l+=c<t?1:0,c=c+n>>>0,l+=c<n?1:0,c=c+a>>>0,l+=c<a?1:0;var d=e+i+r+o+l;return d>>>0}Je.sum64_4_hi=iA;function sA(e,t,i,s,r,n,o,a){var l=t+s+n+a;return l>>>0}Je.sum64_4_lo=sA;function rA(e,t,i,s,r,n,o,a,l,c){var d=0,u=t;u=u+s>>>0,d+=u<t?1:0,u=u+n>>>0,d+=u<n?1:0,u=u+a>>>0,d+=u<a?1:0,u=u+c>>>0,d+=u<c?1:0;var f=e+i+r+o+l+d;return f>>>0}Je.sum64_5_hi=rA;function nA(e,t,i,s,r,n,o,a,l,c){var d=t+s+n+a+c;return d>>>0}Je.sum64_5_lo=nA;function oA(e,t,i){var s=t<<32-i|e>>>i;return s>>>0}Je.rotr64_hi=oA;function aA(e,t,i){var s=e<<32-i|t>>>i;return s>>>0}Je.rotr64_lo=aA;function lA(e,t,i){return e>>>i}Je.shr64_hi=lA;function cA(e,t,i){var s=e<<32-i|t>>>i;return s>>>0}Je.shr64_lo=cA;var Ql={},R0=Je,dA=Ba;function jh(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Ql.BlockHash=jh;jh.prototype.update=function(t,i){if(t=R0.toArray(t,i),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var s=t.length%this._delta8;this.pending=t.slice(t.length-s,t.length),this.pending.length===0&&(this.pending=null),t=R0.join32(t,0,t.length-s,this.endian);for(var r=0;r<t.length;r+=this._delta32)this._update(t,r,r+this._delta32)}return this};jh.prototype.digest=function(t){return this.update(this._pad()),dA(this.pending===null),this._digest(t)};jh.prototype._pad=function(){var t=this.pendingTotal,i=this._delta8,s=i-(t+this.padLength)%i,r=new Array(s+this.padLength);r[0]=128;for(var n=1;n<s;n++)r[n]=0;if(t<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)r[n++]=0;r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=t>>>24&255,r[n++]=t>>>16&255,r[n++]=t>>>8&255,r[n++]=t&255}else for(r[n++]=t&255,r[n++]=t>>>8&255,r[n++]=t>>>16&255,r[n++]=t>>>24&255,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,o=8;o<this.padLength;o++)r[n++]=0;return r};var $l={},tn={},uA=Je,Br=uA.rotr32;function hA(e,t,i,s){if(e===0)return k1(t,i,s);if(e===1||e===3)return G1(t,i,s);if(e===2)return D1(t,i,s)}tn.ft_1=hA;function k1(e,t,i){return e&t^~e&i}tn.ch32=k1;function D1(e,t,i){return e&t^e&i^t&i}tn.maj32=D1;function G1(e,t,i){return e^t^i}tn.p32=G1;function fA(e){return Br(e,2)^Br(e,13)^Br(e,22)}tn.s0_256=fA;function pA(e){return Br(e,6)^Br(e,11)^Br(e,25)}tn.s1_256=pA;function gA(e){return Br(e,7)^Br(e,18)^e>>>3}tn.g0_256=gA;function mA(e){return Br(e,17)^Br(e,19)^e>>>10}tn.g1_256=mA;var bl=Je,vA=Ql,bA=tn,Hf=bl.rotl32,Sc=bl.sum32,CA=bl.sum32_5,yA=bA.ft_1,P1=vA.BlockHash,wA=[1518500249,1859775393,2400959708,3395469782];function Yr(){if(!(this instanceof Yr))return new Yr;P1.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}bl.inherits(Yr,P1);var SA=Yr;Yr.blockSize=512;Yr.outSize=160;Yr.hmacStrength=80;Yr.padLength=64;Yr.prototype._update=function(t,i){for(var s=this.W,r=0;r<16;r++)s[r]=t[i+r];for(;r<s.length;r++)s[r]=Hf(s[r-3]^s[r-8]^s[r-14]^s[r-16],1);var n=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4];for(r=0;r<s.length;r++){var d=~~(r/20),u=CA(Hf(n,5),yA(d,o,a,l),c,s[r],wA[d]);c=l,l=a,a=Hf(o,30),o=n,n=u}this.h[0]=Sc(this.h[0],n),this.h[1]=Sc(this.h[1],o),this.h[2]=Sc(this.h[2],a),this.h[3]=Sc(this.h[3],l),this.h[4]=Sc(this.h[4],c)};Yr.prototype._digest=function(t){return t==="hex"?bl.toHex32(this.h,"big"):bl.split32(this.h,"big")};var Cl=Je,RA=Ql,ec=tn,AA=Ba,tr=Cl.sum32,IA=Cl.sum32_4,FA=Cl.sum32_5,xA=ec.ch32,_A=ec.maj32,EA=ec.s0_256,MA=ec.s1_256,kA=ec.g0_256,DA=ec.g1_256,O1=RA.BlockHash,GA=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function zr(){if(!(this instanceof zr))return new zr;O1.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=GA,this.W=new Array(64)}Cl.inherits(zr,O1);var B1=zr;zr.blockSize=512;zr.outSize=256;zr.hmacStrength=192;zr.padLength=64;zr.prototype._update=function(t,i){for(var s=this.W,r=0;r<16;r++)s[r]=t[i+r];for(;r<s.length;r++)s[r]=IA(DA(s[r-2]),s[r-7],kA(s[r-15]),s[r-16]);var n=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4],d=this.h[5],u=this.h[6],f=this.h[7];for(AA(this.k.length===s.length),r=0;r<s.length;r++){var g=FA(f,MA(c),xA(c,d,u),this.k[r],s[r]),m=tr(EA(n),_A(n,o,a));f=u,u=d,d=c,c=tr(l,g),l=a,a=o,o=n,n=tr(g,m)}this.h[0]=tr(this.h[0],n),this.h[1]=tr(this.h[1],o),this.h[2]=tr(this.h[2],a),this.h[3]=tr(this.h[3],l),this.h[4]=tr(this.h[4],c),this.h[5]=tr(this.h[5],d),this.h[6]=tr(this.h[6],u),this.h[7]=tr(this.h[7],f)};zr.prototype._digest=function(t){return t==="hex"?Cl.toHex32(this.h,"big"):Cl.split32(this.h,"big")};var zp=Je,W1=B1;function An(){if(!(this instanceof An))return new An;W1.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}zp.inherits(An,W1);var PA=An;An.blockSize=512;An.outSize=224;An.hmacStrength=192;An.padLength=64;An.prototype._digest=function(t){return t==="hex"?zp.toHex32(this.h.slice(0,7),"big"):zp.split32(this.h.slice(0,7),"big")};var fs=Je,OA=Ql,BA=Ba,Wr=fs.rotr64_hi,Tr=fs.rotr64_lo,T1=fs.shr64_hi,L1=fs.shr64_lo,zn=fs.sum64,Zf=fs.sum64_hi,Yf=fs.sum64_lo,WA=fs.sum64_4_hi,TA=fs.sum64_4_lo,LA=fs.sum64_5_hi,NA=fs.sum64_5_lo,N1=OA.BlockHash,VA=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function hr(){if(!(this instanceof hr))return new hr;N1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=VA,this.W=new Array(160)}fs.inherits(hr,N1);var V1=hr;hr.blockSize=1024;hr.outSize=512;hr.hmacStrength=192;hr.padLength=128;hr.prototype._prepareBlock=function(t,i){for(var s=this.W,r=0;r<32;r++)s[r]=t[i+r];for(;r<s.length;r+=2){var n=QA(s[r-4],s[r-3]),o=$A(s[r-4],s[r-3]),a=s[r-14],l=s[r-13],c=qA(s[r-30],s[r-29]),d=KA(s[r-30],s[r-29]),u=s[r-32],f=s[r-31];s[r]=WA(n,o,a,l,c,d,u,f),s[r+1]=TA(n,o,a,l,c,d,u,f)}};hr.prototype._update=function(t,i){this._prepareBlock(t,i);var s=this.W,r=this.h[0],n=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],d=this.h[6],u=this.h[7],f=this.h[8],g=this.h[9],m=this.h[10],y=this.h[11],b=this.h[12],S=this.h[13],I=this.h[14],F=this.h[15];BA(this.k.length===s.length);for(var D=0;D<s.length;D+=2){var V=I,O=F,L=JA(f,g),q=UA(f,g),T=HA(f,g,m,y,b),X=ZA(f,g,m,y,b,S),_=this.k[D],v=this.k[D+1],w=s[D],R=s[D+1],A=LA(V,O,L,q,T,X,_,v,w,R),M=NA(V,O,L,q,T,X,_,v,w,R);V=jA(r,n),O=XA(r,n),L=YA(r,n,o,a,l),q=zA(r,n,o,a,l,c);var x=Zf(V,O,L,q),G=Yf(V,O,L,q);I=b,F=S,b=m,S=y,m=f,y=g,f=Zf(d,u,A,M),g=Yf(u,u,A,M),d=l,u=c,l=o,c=a,o=r,a=n,r=Zf(A,M,x,G),n=Yf(A,M,x,G)}zn(this.h,0,r,n),zn(this.h,2,o,a),zn(this.h,4,l,c),zn(this.h,6,d,u),zn(this.h,8,f,g),zn(this.h,10,m,y),zn(this.h,12,b,S),zn(this.h,14,I,F)};hr.prototype._digest=function(t){return t==="hex"?fs.toHex32(this.h,"big"):fs.split32(this.h,"big")};function HA(e,t,i,s,r){var n=e&i^~e&r;return n<0&&(n+=4294967296),n}function ZA(e,t,i,s,r,n){var o=t&s^~t&n;return o<0&&(o+=4294967296),o}function YA(e,t,i,s,r){var n=e&i^e&r^i&r;return n<0&&(n+=4294967296),n}function zA(e,t,i,s,r,n){var o=t&s^t&n^s&n;return o<0&&(o+=4294967296),o}function jA(e,t){var i=Wr(e,t,28),s=Wr(t,e,2),r=Wr(t,e,7),n=i^s^r;return n<0&&(n+=4294967296),n}function XA(e,t){var i=Tr(e,t,28),s=Tr(t,e,2),r=Tr(t,e,7),n=i^s^r;return n<0&&(n+=4294967296),n}function JA(e,t){var i=Wr(e,t,14),s=Wr(e,t,18),r=Wr(t,e,9),n=i^s^r;return n<0&&(n+=4294967296),n}function UA(e,t){var i=Tr(e,t,14),s=Tr(e,t,18),r=Tr(t,e,9),n=i^s^r;return n<0&&(n+=4294967296),n}function qA(e,t){var i=Wr(e,t,1),s=Wr(e,t,8),r=T1(e,t,7),n=i^s^r;return n<0&&(n+=4294967296),n}function KA(e,t){var i=Tr(e,t,1),s=Tr(e,t,8),r=L1(e,t,7),n=i^s^r;return n<0&&(n+=4294967296),n}function QA(e,t){var i=Wr(e,t,19),s=Wr(t,e,29),r=T1(e,t,6),n=i^s^r;return n<0&&(n+=4294967296),n}function $A(e,t){var i=Tr(e,t,19),s=Tr(t,e,29),r=L1(e,t,6),n=i^s^r;return n<0&&(n+=4294967296),n}var jp=Je,H1=V1;function In(){if(!(this instanceof In))return new In;H1.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}jp.inherits(In,H1);var eI=In;In.blockSize=1024;In.outSize=384;In.hmacStrength=192;In.padLength=128;In.prototype._digest=function(t){return t==="hex"?jp.toHex32(this.h.slice(0,12),"big"):jp.split32(this.h.slice(0,12),"big")};$l.sha1=SA;$l.sha224=PA;$l.sha256=B1;$l.sha384=eI;$l.sha512=V1;var Z1={},da=Je,tI=Ql,Ru=da.rotl32,A0=da.sum32,Rc=da.sum32_3,I0=da.sum32_4,Y1=tI.BlockHash;function jr(){if(!(this instanceof jr))return new jr;Y1.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}da.inherits(jr,Y1);Z1.ripemd160=jr;jr.blockSize=512;jr.outSize=160;jr.hmacStrength=192;jr.padLength=64;jr.prototype._update=function(t,i){for(var s=this.h[0],r=this.h[1],n=this.h[2],o=this.h[3],a=this.h[4],l=s,c=r,d=n,u=o,f=a,g=0;g<80;g++){var m=A0(Ru(I0(s,F0(g,r,n,o),t[rI[g]+i],iI(g)),oI[g]),a);s=a,a=o,o=Ru(n,10),n=r,r=m,m=A0(Ru(I0(l,F0(79-g,c,d,u),t[nI[g]+i],sI(g)),aI[g]),f),l=f,f=u,u=Ru(d,10),d=c,c=m}m=Rc(this.h[1],n,u),this.h[1]=Rc(this.h[2],o,f),this.h[2]=Rc(this.h[3],a,l),this.h[3]=Rc(this.h[4],s,c),this.h[4]=Rc(this.h[0],r,d),this.h[0]=m};jr.prototype._digest=function(t){return t==="hex"?da.toHex32(this.h,"little"):da.split32(this.h,"little")};function F0(e,t,i,s){return e<=15?t^i^s:e<=31?t&i|~t&s:e<=47?(t|~i)^s:e<=63?t&s|i&~s:t^(i|~s)}function iI(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function sI(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var rI=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],nI=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],oI=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],aI=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],lI=Je,cI=Ba;function yl(e,t,i){if(!(this instanceof yl))return new yl(e,t,i);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(lI.toArray(t,i))}var dI=yl;yl.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),cI(t.length<=this.blockSize);for(var i=t.length;i<this.blockSize;i++)t.push(0);for(i=0;i<t.length;i++)t[i]^=54;for(this.inner=new this.Hash().update(t),i=0;i<t.length;i++)t[i]^=106;this.outer=new this.Hash().update(t)};yl.prototype.update=function(t,i){return this.inner.update(t,i),this};yl.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(e){var t=e;t.utils=Je,t.common=Ql,t.sha=$l,t.ripemd=Z1,t.hmac=dI,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(Or);var Dm={exports:{}};Dm.exports;(function(e){(function(t,i){function s(_,v){if(!_)throw new Error(v||"Assertion failed")}function r(_,v){_.super_=v;var w=function(){};w.prototype=v.prototype,_.prototype=new w,_.prototype.constructor=_}function n(_,v,w){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((v==="le"||v==="be")&&(w=v,v=10),this._init(_||0,v||10,w||"be"))}typeof t=="object"?t.exports=n:i.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=F1.Buffer}catch{}n.isBN=function(v){return v instanceof n?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===n.wordSize&&Array.isArray(v.words)},n.max=function(v,w){return v.cmp(w)>0?v:w},n.min=function(v,w){return v.cmp(w)<0?v:w},n.prototype._init=function(v,w,R){if(typeof v=="number")return this._initNumber(v,w,R);if(typeof v=="object")return this._initArray(v,w,R);w==="hex"&&(w=16),s(w===(w|0)&&w>=2&&w<=36),v=v.toString().replace(/\s+/g,"");var A=0;v[0]==="-"&&(A++,this.negative=1),A<v.length&&(w===16?this._parseHex(v,A,R):(this._parseBase(v,w,A),R==="le"&&this._initArray(this.toArray(),w,R)))},n.prototype._initNumber=function(v,w,R){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(s(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),w,R)},n.prototype._initArray=function(v,w,R){if(s(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var M,x,G=0;if(R==="be")for(A=v.length-1,M=0;A>=0;A-=3)x=v[A]|v[A-1]<<8|v[A-2]<<16,this.words[M]|=x<<G&67108863,this.words[M+1]=x>>>26-G&67108863,G+=24,G>=26&&(G-=26,M++);else if(R==="le")for(A=0,M=0;A<v.length;A+=3)x=v[A]|v[A+1]<<8|v[A+2]<<16,this.words[M]|=x<<G&67108863,this.words[M+1]=x>>>26-G&67108863,G+=24,G>=26&&(G-=26,M++);return this.strip()};function a(_,v){var w=_.charCodeAt(v);return w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:w-48&15}function l(_,v,w){var R=a(_,w);return w-1>=v&&(R|=a(_,w-1)<<4),R}n.prototype._parseHex=function(v,w,R){this.length=Math.ceil((v.length-w)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var M=0,x=0,G;if(R==="be")for(A=v.length-1;A>=w;A-=2)G=l(v,w,A)<<M,this.words[x]|=G&67108863,M>=18?(M-=18,x+=1,this.words[x]|=G>>>26):M+=8;else{var E=v.length-w;for(A=E%2===0?w+1:w;A<v.length;A+=2)G=l(v,w,A)<<M,this.words[x]|=G&67108863,M>=18?(M-=18,x+=1,this.words[x]|=G>>>26):M+=8}this.strip()};function c(_,v,w,R){for(var A=0,M=Math.min(_.length,w),x=v;x<M;x++){var G=_.charCodeAt(x)-48;A*=R,G>=49?A+=G-49+10:G>=17?A+=G-17+10:A+=G}return A}n.prototype._parseBase=function(v,w,R){this.words=[0],this.length=1;for(var A=0,M=1;M<=67108863;M*=w)A++;A--,M=M/w|0;for(var x=v.length-R,G=x%A,E=Math.min(x,x-G)+R,C=0,k=R;k<E;k+=A)C=c(v,k,k+A,w),this.imuln(M),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C);if(G!==0){var ce=1;for(C=c(v,k,v.length,w),k=0;k<G;k++)ce*=w;this.imuln(ce),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C)}this.strip()},n.prototype.copy=function(v){v.words=new Array(this.length);for(var w=0;w<this.length;w++)v.words[w]=this.words[w];v.length=this.length,v.negative=this.negative,v.red=this.red},n.prototype.clone=function(){var v=new n(null);return this.copy(v),v},n.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(v,w){v=v||10,w=w|0||1;var R;if(v===16||v==="hex"){R="";for(var A=0,M=0,x=0;x<this.length;x++){var G=this.words[x],E=((G<<A|M)&16777215).toString(16);M=G>>>24-A&16777215,A+=2,A>=26&&(A-=26,x--),M!==0||x!==this.length-1?R=d[6-E.length]+E+R:R=E+R}for(M!==0&&(R=M.toString(16)+R);R.length%w!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(v===(v|0)&&v>=2&&v<=36){var C=u[v],k=f[v];R="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var de=ce.modn(k).toString(v);ce=ce.idivn(k),ce.isZero()?R=de+R:R=d[C-de.length]+de+R}for(this.isZero()&&(R="0"+R);R.length%w!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}s(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(v,w){return s(typeof o<"u"),this.toArrayLike(o,v,w)},n.prototype.toArray=function(v,w){return this.toArrayLike(Array,v,w)},n.prototype.toArrayLike=function(v,w,R){var A=this.byteLength(),M=R||Math.max(1,A);s(A<=M,"byte array longer than desired length"),s(M>0,"Requested array length <= 0"),this.strip();var x=w==="le",G=new v(M),E,C,k=this.clone();if(x){for(C=0;!k.isZero();C++)E=k.andln(255),k.iushrn(8),G[C]=E;for(;C<M;C++)G[C]=0}else{for(C=0;C<M-A;C++)G[C]=0;for(C=0;!k.isZero();C++)E=k.andln(255),k.iushrn(8),G[M-C-1]=E}return G},Math.clz32?n.prototype._countBits=function(v){return 32-Math.clz32(v)}:n.prototype._countBits=function(v){var w=v,R=0;return w>=4096&&(R+=13,w>>>=13),w>=64&&(R+=7,w>>>=7),w>=8&&(R+=4,w>>>=4),w>=2&&(R+=2,w>>>=2),R+w},n.prototype._zeroBits=function(v){if(v===0)return 26;var w=v,R=0;return w&8191||(R+=13,w>>>=13),w&127||(R+=7,w>>>=7),w&15||(R+=4,w>>>=4),w&3||(R+=2,w>>>=2),w&1||R++,R},n.prototype.bitLength=function(){var v=this.words[this.length-1],w=this._countBits(v);return(this.length-1)*26+w};function g(_){for(var v=new Array(_.bitLength()),w=0;w<v.length;w++){var R=w/26|0,A=w%26;v[w]=(_.words[R]&1<<A)>>>A}return v}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,w=0;w<this.length;w++){var R=this._zeroBits(this.words[w]);if(v+=R,R!==26)break}return v},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},n.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var w=0;w<v.length;w++)this.words[w]=this.words[w]|v.words[w];return this.strip()},n.prototype.ior=function(v){return s((this.negative|v.negative)===0),this.iuor(v)},n.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},n.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},n.prototype.iuand=function(v){var w;this.length>v.length?w=v:w=this;for(var R=0;R<w.length;R++)this.words[R]=this.words[R]&v.words[R];return this.length=w.length,this.strip()},n.prototype.iand=function(v){return s((this.negative|v.negative)===0),this.iuand(v)},n.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},n.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},n.prototype.iuxor=function(v){var w,R;this.length>v.length?(w=this,R=v):(w=v,R=this);for(var A=0;A<R.length;A++)this.words[A]=w.words[A]^R.words[A];if(this!==w)for(;A<w.length;A++)this.words[A]=w.words[A];return this.length=w.length,this.strip()},n.prototype.ixor=function(v){return s((this.negative|v.negative)===0),this.iuxor(v)},n.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},n.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},n.prototype.inotn=function(v){s(typeof v=="number"&&v>=0);var w=Math.ceil(v/26)|0,R=v%26;this._expand(w),R>0&&w--;for(var A=0;A<w;A++)this.words[A]=~this.words[A]&67108863;return R>0&&(this.words[A]=~this.words[A]&67108863>>26-R),this.strip()},n.prototype.notn=function(v){return this.clone().inotn(v)},n.prototype.setn=function(v,w){s(typeof v=="number"&&v>=0);var R=v/26|0,A=v%26;return this._expand(R+1),w?this.words[R]=this.words[R]|1<<A:this.words[R]=this.words[R]&~(1<<A),this.strip()},n.prototype.iadd=function(v){var w;if(this.negative!==0&&v.negative===0)return this.negative=0,w=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,w=this.isub(v),v.negative=1,w._normSign();var R,A;this.length>v.length?(R=this,A=v):(R=v,A=this);for(var M=0,x=0;x<A.length;x++)w=(R.words[x]|0)+(A.words[x]|0)+M,this.words[x]=w&67108863,M=w>>>26;for(;M!==0&&x<R.length;x++)w=(R.words[x]|0)+M,this.words[x]=w&67108863,M=w>>>26;if(this.length=R.length,M!==0)this.words[this.length]=M,this.length++;else if(R!==this)for(;x<R.length;x++)this.words[x]=R.words[x];return this},n.prototype.add=function(v){var w;return v.negative!==0&&this.negative===0?(v.negative=0,w=this.sub(v),v.negative^=1,w):v.negative===0&&this.negative!==0?(this.negative=0,w=v.sub(this),this.negative=1,w):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},n.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var w=this.iadd(v);return v.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var R=this.cmp(v);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,M;R>0?(A=this,M=v):(A=v,M=this);for(var x=0,G=0;G<M.length;G++)w=(A.words[G]|0)-(M.words[G]|0)+x,x=w>>26,this.words[G]=w&67108863;for(;x!==0&&G<A.length;G++)w=(A.words[G]|0)+x,x=w>>26,this.words[G]=w&67108863;if(x===0&&G<A.length&&A!==this)for(;G<A.length;G++)this.words[G]=A.words[G];return this.length=Math.max(this.length,G),A!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(v){return this.clone().isub(v)};function m(_,v,w){w.negative=v.negative^_.negative;var R=_.length+v.length|0;w.length=R,R=R-1|0;var A=_.words[0]|0,M=v.words[0]|0,x=A*M,G=x&67108863,E=x/67108864|0;w.words[0]=G;for(var C=1;C<R;C++){for(var k=E>>>26,ce=E&67108863,de=Math.min(C,v.length-1),ue=Math.max(0,C-_.length+1);ue<=de;ue++){var we=C-ue|0;A=_.words[we]|0,M=v.words[ue]|0,x=A*M+ce,k+=x/67108864|0,ce=x&67108863}w.words[C]=ce|0,E=k|0}return E!==0?w.words[C]=E|0:w.length--,w.strip()}var y=function(v,w,R){var A=v.words,M=w.words,x=R.words,G=0,E,C,k,ce=A[0]|0,de=ce&8191,ue=ce>>>13,we=A[1]|0,Me=we&8191,We=we>>>13,he=A[2]|0,U=he&8191,et=he>>>13,is=A[3]|0,Ke=is&8191,ut=is>>>13,nn=A[4]|0,gt=nn&8191,lt=nn>>>13,ss=A[5]|0,st=ss&8191,Ee=ss>>>13,bs=A[6]|0,mt=bs&8191,Ue=bs>>>13,Qs=A[7]|0,Ft=Qs&8191,ct=Qs>>>13,J=A[8]|0,Z=J&8191,ae=J>>>13,fe=A[9]|0,Re=fe&8191,Ie=fe>>>13,vt=M[0]|0,Se=vt&8191,ke=vt>>>13,Zt=M[1]|0,Ze=Zt&8191,Te=Zt>>>13,Xi=M[2]|0,nt=Xi&8191,ht=Xi>>>13,ai=M[3]|0,xt=ai&8191,Mt=ai>>>13,Vn=M[4]|0,kt=Vn&8191,bt=Vn>>>13,$s=M[5]|0,_t=$s&8191,Ot=$s>>>13,Hn=M[6]|0,Bt=Hn&8191,Wt=Hn>>>13,Wo=M[7]|0,Ct=Wo&8191,yt=Wo>>>13,To=M[8]|0,wt=To&8191,ft=To>>>13,Lo=M[9]|0,Tt=Lo&8191,St=Lo>>>13;R.negative=v.negative^w.negative,R.length=19,E=Math.imul(de,Se),C=Math.imul(de,ke),C=C+Math.imul(ue,Se)|0,k=Math.imul(ue,ke);var Sr=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,E=Math.imul(Me,Se),C=Math.imul(Me,ke),C=C+Math.imul(We,Se)|0,k=Math.imul(We,ke),E=E+Math.imul(de,Ze)|0,C=C+Math.imul(de,Te)|0,C=C+Math.imul(ue,Ze)|0,k=k+Math.imul(ue,Te)|0;var Mi=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,E=Math.imul(U,Se),C=Math.imul(U,ke),C=C+Math.imul(et,Se)|0,k=Math.imul(et,ke),E=E+Math.imul(Me,Ze)|0,C=C+Math.imul(Me,Te)|0,C=C+Math.imul(We,Ze)|0,k=k+Math.imul(We,Te)|0,E=E+Math.imul(de,nt)|0,C=C+Math.imul(de,ht)|0,C=C+Math.imul(ue,nt)|0,k=k+Math.imul(ue,ht)|0;var Zn=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,E=Math.imul(Ke,Se),C=Math.imul(Ke,ke),C=C+Math.imul(ut,Se)|0,k=Math.imul(ut,ke),E=E+Math.imul(U,Ze)|0,C=C+Math.imul(U,Te)|0,C=C+Math.imul(et,Ze)|0,k=k+Math.imul(et,Te)|0,E=E+Math.imul(Me,nt)|0,C=C+Math.imul(Me,ht)|0,C=C+Math.imul(We,nt)|0,k=k+Math.imul(We,ht)|0,E=E+Math.imul(de,xt)|0,C=C+Math.imul(de,Mt)|0,C=C+Math.imul(ue,xt)|0,k=k+Math.imul(ue,Mt)|0;var Yn=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,E=Math.imul(gt,Se),C=Math.imul(gt,ke),C=C+Math.imul(lt,Se)|0,k=Math.imul(lt,ke),E=E+Math.imul(Ke,Ze)|0,C=C+Math.imul(Ke,Te)|0,C=C+Math.imul(ut,Ze)|0,k=k+Math.imul(ut,Te)|0,E=E+Math.imul(U,nt)|0,C=C+Math.imul(U,ht)|0,C=C+Math.imul(et,nt)|0,k=k+Math.imul(et,ht)|0,E=E+Math.imul(Me,xt)|0,C=C+Math.imul(Me,Mt)|0,C=C+Math.imul(We,xt)|0,k=k+Math.imul(We,Mt)|0,E=E+Math.imul(de,kt)|0,C=C+Math.imul(de,bt)|0,C=C+Math.imul(ue,kt)|0,k=k+Math.imul(ue,bt)|0;var on=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(on>>>26)|0,on&=67108863,E=Math.imul(st,Se),C=Math.imul(st,ke),C=C+Math.imul(Ee,Se)|0,k=Math.imul(Ee,ke),E=E+Math.imul(gt,Ze)|0,C=C+Math.imul(gt,Te)|0,C=C+Math.imul(lt,Ze)|0,k=k+Math.imul(lt,Te)|0,E=E+Math.imul(Ke,nt)|0,C=C+Math.imul(Ke,ht)|0,C=C+Math.imul(ut,nt)|0,k=k+Math.imul(ut,ht)|0,E=E+Math.imul(U,xt)|0,C=C+Math.imul(U,Mt)|0,C=C+Math.imul(et,xt)|0,k=k+Math.imul(et,Mt)|0,E=E+Math.imul(Me,kt)|0,C=C+Math.imul(Me,bt)|0,C=C+Math.imul(We,kt)|0,k=k+Math.imul(We,bt)|0,E=E+Math.imul(de,_t)|0,C=C+Math.imul(de,Ot)|0,C=C+Math.imul(ue,_t)|0,k=k+Math.imul(ue,Ot)|0;var er=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(er>>>26)|0,er&=67108863,E=Math.imul(mt,Se),C=Math.imul(mt,ke),C=C+Math.imul(Ue,Se)|0,k=Math.imul(Ue,ke),E=E+Math.imul(st,Ze)|0,C=C+Math.imul(st,Te)|0,C=C+Math.imul(Ee,Ze)|0,k=k+Math.imul(Ee,Te)|0,E=E+Math.imul(gt,nt)|0,C=C+Math.imul(gt,ht)|0,C=C+Math.imul(lt,nt)|0,k=k+Math.imul(lt,ht)|0,E=E+Math.imul(Ke,xt)|0,C=C+Math.imul(Ke,Mt)|0,C=C+Math.imul(ut,xt)|0,k=k+Math.imul(ut,Mt)|0,E=E+Math.imul(U,kt)|0,C=C+Math.imul(U,bt)|0,C=C+Math.imul(et,kt)|0,k=k+Math.imul(et,bt)|0,E=E+Math.imul(Me,_t)|0,C=C+Math.imul(Me,Ot)|0,C=C+Math.imul(We,_t)|0,k=k+Math.imul(We,Ot)|0,E=E+Math.imul(de,Bt)|0,C=C+Math.imul(de,Wt)|0,C=C+Math.imul(ue,Bt)|0,k=k+Math.imul(ue,Wt)|0;var $=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+($>>>26)|0,$&=67108863,E=Math.imul(Ft,Se),C=Math.imul(Ft,ke),C=C+Math.imul(ct,Se)|0,k=Math.imul(ct,ke),E=E+Math.imul(mt,Ze)|0,C=C+Math.imul(mt,Te)|0,C=C+Math.imul(Ue,Ze)|0,k=k+Math.imul(Ue,Te)|0,E=E+Math.imul(st,nt)|0,C=C+Math.imul(st,ht)|0,C=C+Math.imul(Ee,nt)|0,k=k+Math.imul(Ee,ht)|0,E=E+Math.imul(gt,xt)|0,C=C+Math.imul(gt,Mt)|0,C=C+Math.imul(lt,xt)|0,k=k+Math.imul(lt,Mt)|0,E=E+Math.imul(Ke,kt)|0,C=C+Math.imul(Ke,bt)|0,C=C+Math.imul(ut,kt)|0,k=k+Math.imul(ut,bt)|0,E=E+Math.imul(U,_t)|0,C=C+Math.imul(U,Ot)|0,C=C+Math.imul(et,_t)|0,k=k+Math.imul(et,Ot)|0,E=E+Math.imul(Me,Bt)|0,C=C+Math.imul(Me,Wt)|0,C=C+Math.imul(We,Bt)|0,k=k+Math.imul(We,Wt)|0,E=E+Math.imul(de,Ct)|0,C=C+Math.imul(de,yt)|0,C=C+Math.imul(ue,Ct)|0,k=k+Math.imul(ue,yt)|0;var xf=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(xf>>>26)|0,xf&=67108863,E=Math.imul(Z,Se),C=Math.imul(Z,ke),C=C+Math.imul(ae,Se)|0,k=Math.imul(ae,ke),E=E+Math.imul(Ft,Ze)|0,C=C+Math.imul(Ft,Te)|0,C=C+Math.imul(ct,Ze)|0,k=k+Math.imul(ct,Te)|0,E=E+Math.imul(mt,nt)|0,C=C+Math.imul(mt,ht)|0,C=C+Math.imul(Ue,nt)|0,k=k+Math.imul(Ue,ht)|0,E=E+Math.imul(st,xt)|0,C=C+Math.imul(st,Mt)|0,C=C+Math.imul(Ee,xt)|0,k=k+Math.imul(Ee,Mt)|0,E=E+Math.imul(gt,kt)|0,C=C+Math.imul(gt,bt)|0,C=C+Math.imul(lt,kt)|0,k=k+Math.imul(lt,bt)|0,E=E+Math.imul(Ke,_t)|0,C=C+Math.imul(Ke,Ot)|0,C=C+Math.imul(ut,_t)|0,k=k+Math.imul(ut,Ot)|0,E=E+Math.imul(U,Bt)|0,C=C+Math.imul(U,Wt)|0,C=C+Math.imul(et,Bt)|0,k=k+Math.imul(et,Wt)|0,E=E+Math.imul(Me,Ct)|0,C=C+Math.imul(Me,yt)|0,C=C+Math.imul(We,Ct)|0,k=k+Math.imul(We,yt)|0,E=E+Math.imul(de,wt)|0,C=C+Math.imul(de,ft)|0,C=C+Math.imul(ue,wt)|0,k=k+Math.imul(ue,ft)|0;var _f=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(_f>>>26)|0,_f&=67108863,E=Math.imul(Re,Se),C=Math.imul(Re,ke),C=C+Math.imul(Ie,Se)|0,k=Math.imul(Ie,ke),E=E+Math.imul(Z,Ze)|0,C=C+Math.imul(Z,Te)|0,C=C+Math.imul(ae,Ze)|0,k=k+Math.imul(ae,Te)|0,E=E+Math.imul(Ft,nt)|0,C=C+Math.imul(Ft,ht)|0,C=C+Math.imul(ct,nt)|0,k=k+Math.imul(ct,ht)|0,E=E+Math.imul(mt,xt)|0,C=C+Math.imul(mt,Mt)|0,C=C+Math.imul(Ue,xt)|0,k=k+Math.imul(Ue,Mt)|0,E=E+Math.imul(st,kt)|0,C=C+Math.imul(st,bt)|0,C=C+Math.imul(Ee,kt)|0,k=k+Math.imul(Ee,bt)|0,E=E+Math.imul(gt,_t)|0,C=C+Math.imul(gt,Ot)|0,C=C+Math.imul(lt,_t)|0,k=k+Math.imul(lt,Ot)|0,E=E+Math.imul(Ke,Bt)|0,C=C+Math.imul(Ke,Wt)|0,C=C+Math.imul(ut,Bt)|0,k=k+Math.imul(ut,Wt)|0,E=E+Math.imul(U,Ct)|0,C=C+Math.imul(U,yt)|0,C=C+Math.imul(et,Ct)|0,k=k+Math.imul(et,yt)|0,E=E+Math.imul(Me,wt)|0,C=C+Math.imul(Me,ft)|0,C=C+Math.imul(We,wt)|0,k=k+Math.imul(We,ft)|0,E=E+Math.imul(de,Tt)|0,C=C+Math.imul(de,St)|0,C=C+Math.imul(ue,Tt)|0,k=k+Math.imul(ue,St)|0;var Ef=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(Ef>>>26)|0,Ef&=67108863,E=Math.imul(Re,Ze),C=Math.imul(Re,Te),C=C+Math.imul(Ie,Ze)|0,k=Math.imul(Ie,Te),E=E+Math.imul(Z,nt)|0,C=C+Math.imul(Z,ht)|0,C=C+Math.imul(ae,nt)|0,k=k+Math.imul(ae,ht)|0,E=E+Math.imul(Ft,xt)|0,C=C+Math.imul(Ft,Mt)|0,C=C+Math.imul(ct,xt)|0,k=k+Math.imul(ct,Mt)|0,E=E+Math.imul(mt,kt)|0,C=C+Math.imul(mt,bt)|0,C=C+Math.imul(Ue,kt)|0,k=k+Math.imul(Ue,bt)|0,E=E+Math.imul(st,_t)|0,C=C+Math.imul(st,Ot)|0,C=C+Math.imul(Ee,_t)|0,k=k+Math.imul(Ee,Ot)|0,E=E+Math.imul(gt,Bt)|0,C=C+Math.imul(gt,Wt)|0,C=C+Math.imul(lt,Bt)|0,k=k+Math.imul(lt,Wt)|0,E=E+Math.imul(Ke,Ct)|0,C=C+Math.imul(Ke,yt)|0,C=C+Math.imul(ut,Ct)|0,k=k+Math.imul(ut,yt)|0,E=E+Math.imul(U,wt)|0,C=C+Math.imul(U,ft)|0,C=C+Math.imul(et,wt)|0,k=k+Math.imul(et,ft)|0,E=E+Math.imul(Me,Tt)|0,C=C+Math.imul(Me,St)|0,C=C+Math.imul(We,Tt)|0,k=k+Math.imul(We,St)|0;var Mf=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(Mf>>>26)|0,Mf&=67108863,E=Math.imul(Re,nt),C=Math.imul(Re,ht),C=C+Math.imul(Ie,nt)|0,k=Math.imul(Ie,ht),E=E+Math.imul(Z,xt)|0,C=C+Math.imul(Z,Mt)|0,C=C+Math.imul(ae,xt)|0,k=k+Math.imul(ae,Mt)|0,E=E+Math.imul(Ft,kt)|0,C=C+Math.imul(Ft,bt)|0,C=C+Math.imul(ct,kt)|0,k=k+Math.imul(ct,bt)|0,E=E+Math.imul(mt,_t)|0,C=C+Math.imul(mt,Ot)|0,C=C+Math.imul(Ue,_t)|0,k=k+Math.imul(Ue,Ot)|0,E=E+Math.imul(st,Bt)|0,C=C+Math.imul(st,Wt)|0,C=C+Math.imul(Ee,Bt)|0,k=k+Math.imul(Ee,Wt)|0,E=E+Math.imul(gt,Ct)|0,C=C+Math.imul(gt,yt)|0,C=C+Math.imul(lt,Ct)|0,k=k+Math.imul(lt,yt)|0,E=E+Math.imul(Ke,wt)|0,C=C+Math.imul(Ke,ft)|0,C=C+Math.imul(ut,wt)|0,k=k+Math.imul(ut,ft)|0,E=E+Math.imul(U,Tt)|0,C=C+Math.imul(U,St)|0,C=C+Math.imul(et,Tt)|0,k=k+Math.imul(et,St)|0;var kf=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(kf>>>26)|0,kf&=67108863,E=Math.imul(Re,xt),C=Math.imul(Re,Mt),C=C+Math.imul(Ie,xt)|0,k=Math.imul(Ie,Mt),E=E+Math.imul(Z,kt)|0,C=C+Math.imul(Z,bt)|0,C=C+Math.imul(ae,kt)|0,k=k+Math.imul(ae,bt)|0,E=E+Math.imul(Ft,_t)|0,C=C+Math.imul(Ft,Ot)|0,C=C+Math.imul(ct,_t)|0,k=k+Math.imul(ct,Ot)|0,E=E+Math.imul(mt,Bt)|0,C=C+Math.imul(mt,Wt)|0,C=C+Math.imul(Ue,Bt)|0,k=k+Math.imul(Ue,Wt)|0,E=E+Math.imul(st,Ct)|0,C=C+Math.imul(st,yt)|0,C=C+Math.imul(Ee,Ct)|0,k=k+Math.imul(Ee,yt)|0,E=E+Math.imul(gt,wt)|0,C=C+Math.imul(gt,ft)|0,C=C+Math.imul(lt,wt)|0,k=k+Math.imul(lt,ft)|0,E=E+Math.imul(Ke,Tt)|0,C=C+Math.imul(Ke,St)|0,C=C+Math.imul(ut,Tt)|0,k=k+Math.imul(ut,St)|0;var Df=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(Df>>>26)|0,Df&=67108863,E=Math.imul(Re,kt),C=Math.imul(Re,bt),C=C+Math.imul(Ie,kt)|0,k=Math.imul(Ie,bt),E=E+Math.imul(Z,_t)|0,C=C+Math.imul(Z,Ot)|0,C=C+Math.imul(ae,_t)|0,k=k+Math.imul(ae,Ot)|0,E=E+Math.imul(Ft,Bt)|0,C=C+Math.imul(Ft,Wt)|0,C=C+Math.imul(ct,Bt)|0,k=k+Math.imul(ct,Wt)|0,E=E+Math.imul(mt,Ct)|0,C=C+Math.imul(mt,yt)|0,C=C+Math.imul(Ue,Ct)|0,k=k+Math.imul(Ue,yt)|0,E=E+Math.imul(st,wt)|0,C=C+Math.imul(st,ft)|0,C=C+Math.imul(Ee,wt)|0,k=k+Math.imul(Ee,ft)|0,E=E+Math.imul(gt,Tt)|0,C=C+Math.imul(gt,St)|0,C=C+Math.imul(lt,Tt)|0,k=k+Math.imul(lt,St)|0;var Gf=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(Gf>>>26)|0,Gf&=67108863,E=Math.imul(Re,_t),C=Math.imul(Re,Ot),C=C+Math.imul(Ie,_t)|0,k=Math.imul(Ie,Ot),E=E+Math.imul(Z,Bt)|0,C=C+Math.imul(Z,Wt)|0,C=C+Math.imul(ae,Bt)|0,k=k+Math.imul(ae,Wt)|0,E=E+Math.imul(Ft,Ct)|0,C=C+Math.imul(Ft,yt)|0,C=C+Math.imul(ct,Ct)|0,k=k+Math.imul(ct,yt)|0,E=E+Math.imul(mt,wt)|0,C=C+Math.imul(mt,ft)|0,C=C+Math.imul(Ue,wt)|0,k=k+Math.imul(Ue,ft)|0,E=E+Math.imul(st,Tt)|0,C=C+Math.imul(st,St)|0,C=C+Math.imul(Ee,Tt)|0,k=k+Math.imul(Ee,St)|0;var Pf=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(Pf>>>26)|0,Pf&=67108863,E=Math.imul(Re,Bt),C=Math.imul(Re,Wt),C=C+Math.imul(Ie,Bt)|0,k=Math.imul(Ie,Wt),E=E+Math.imul(Z,Ct)|0,C=C+Math.imul(Z,yt)|0,C=C+Math.imul(ae,Ct)|0,k=k+Math.imul(ae,yt)|0,E=E+Math.imul(Ft,wt)|0,C=C+Math.imul(Ft,ft)|0,C=C+Math.imul(ct,wt)|0,k=k+Math.imul(ct,ft)|0,E=E+Math.imul(mt,Tt)|0,C=C+Math.imul(mt,St)|0,C=C+Math.imul(Ue,Tt)|0,k=k+Math.imul(Ue,St)|0;var Of=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(Of>>>26)|0,Of&=67108863,E=Math.imul(Re,Ct),C=Math.imul(Re,yt),C=C+Math.imul(Ie,Ct)|0,k=Math.imul(Ie,yt),E=E+Math.imul(Z,wt)|0,C=C+Math.imul(Z,ft)|0,C=C+Math.imul(ae,wt)|0,k=k+Math.imul(ae,ft)|0,E=E+Math.imul(Ft,Tt)|0,C=C+Math.imul(Ft,St)|0,C=C+Math.imul(ct,Tt)|0,k=k+Math.imul(ct,St)|0;var Bf=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(Bf>>>26)|0,Bf&=67108863,E=Math.imul(Re,wt),C=Math.imul(Re,ft),C=C+Math.imul(Ie,wt)|0,k=Math.imul(Ie,ft),E=E+Math.imul(Z,Tt)|0,C=C+Math.imul(Z,St)|0,C=C+Math.imul(ae,Tt)|0,k=k+Math.imul(ae,St)|0;var Wf=(G+E|0)+((C&8191)<<13)|0;G=(k+(C>>>13)|0)+(Wf>>>26)|0,Wf&=67108863,E=Math.imul(Re,Tt),C=Math.imul(Re,St),C=C+Math.imul(Ie,Tt)|0,k=Math.imul(Ie,St);var Tf=(G+E|0)+((C&8191)<<13)|0;return G=(k+(C>>>13)|0)+(Tf>>>26)|0,Tf&=67108863,x[0]=Sr,x[1]=Mi,x[2]=Zn,x[3]=Yn,x[4]=on,x[5]=er,x[6]=$,x[7]=xf,x[8]=_f,x[9]=Ef,x[10]=Mf,x[11]=kf,x[12]=Df,x[13]=Gf,x[14]=Pf,x[15]=Of,x[16]=Bf,x[17]=Wf,x[18]=Tf,G!==0&&(x[19]=G,R.length++),R};Math.imul||(y=m);function b(_,v,w){w.negative=v.negative^_.negative,w.length=_.length+v.length;for(var R=0,A=0,M=0;M<w.length-1;M++){var x=A;A=0;for(var G=R&67108863,E=Math.min(M,v.length-1),C=Math.max(0,M-_.length+1);C<=E;C++){var k=M-C,ce=_.words[k]|0,de=v.words[C]|0,ue=ce*de,we=ue&67108863;x=x+(ue/67108864|0)|0,we=we+G|0,G=we&67108863,x=x+(we>>>26)|0,A+=x>>>26,x&=67108863}w.words[M]=G,R=x,x=A}return R!==0?w.words[M]=R:w.length--,w.strip()}function S(_,v,w){var R=new I;return R.mulp(_,v,w)}n.prototype.mulTo=function(v,w){var R,A=this.length+v.length;return this.length===10&&v.length===10?R=y(this,v,w):A<63?R=m(this,v,w):A<1024?R=b(this,v,w):R=S(this,v,w),R};function I(_,v){this.x=_,this.y=v}I.prototype.makeRBT=function(v){for(var w=new Array(v),R=n.prototype._countBits(v)-1,A=0;A<v;A++)w[A]=this.revBin(A,R,v);return w},I.prototype.revBin=function(v,w,R){if(v===0||v===R-1)return v;for(var A=0,M=0;M<w;M++)A|=(v&1)<<w-M-1,v>>=1;return A},I.prototype.permute=function(v,w,R,A,M,x){for(var G=0;G<x;G++)A[G]=w[v[G]],M[G]=R[v[G]]},I.prototype.transform=function(v,w,R,A,M,x){this.permute(x,v,w,R,A,M);for(var G=1;G<M;G<<=1)for(var E=G<<1,C=Math.cos(2*Math.PI/E),k=Math.sin(2*Math.PI/E),ce=0;ce<M;ce+=E)for(var de=C,ue=k,we=0;we<G;we++){var Me=R[ce+we],We=A[ce+we],he=R[ce+we+G],U=A[ce+we+G],et=de*he-ue*U;U=de*U+ue*he,he=et,R[ce+we]=Me+he,A[ce+we]=We+U,R[ce+we+G]=Me-he,A[ce+we+G]=We-U,we!==E&&(et=C*de-k*ue,ue=C*ue+k*de,de=et)}},I.prototype.guessLen13b=function(v,w){var R=Math.max(w,v)|1,A=R&1,M=0;for(R=R/2|0;R;R=R>>>1)M++;return 1<<M+1+A},I.prototype.conjugate=function(v,w,R){if(!(R<=1))for(var A=0;A<R/2;A++){var M=v[A];v[A]=v[R-A-1],v[R-A-1]=M,M=w[A],w[A]=-w[R-A-1],w[R-A-1]=-M}},I.prototype.normalize13b=function(v,w){for(var R=0,A=0;A<w/2;A++){var M=Math.round(v[2*A+1]/w)*8192+Math.round(v[2*A]/w)+R;v[A]=M&67108863,M<67108864?R=0:R=M/67108864|0}return v},I.prototype.convert13b=function(v,w,R,A){for(var M=0,x=0;x<w;x++)M=M+(v[x]|0),R[2*x]=M&8191,M=M>>>13,R[2*x+1]=M&8191,M=M>>>13;for(x=2*w;x<A;++x)R[x]=0;s(M===0),s((M&-8192)===0)},I.prototype.stub=function(v){for(var w=new Array(v),R=0;R<v;R++)w[R]=0;return w},I.prototype.mulp=function(v,w,R){var A=2*this.guessLen13b(v.length,w.length),M=this.makeRBT(A),x=this.stub(A),G=new Array(A),E=new Array(A),C=new Array(A),k=new Array(A),ce=new Array(A),de=new Array(A),ue=R.words;ue.length=A,this.convert13b(v.words,v.length,G,A),this.convert13b(w.words,w.length,k,A),this.transform(G,x,E,C,A,M),this.transform(k,x,ce,de,A,M);for(var we=0;we<A;we++){var Me=E[we]*ce[we]-C[we]*de[we];C[we]=E[we]*de[we]+C[we]*ce[we],E[we]=Me}return this.conjugate(E,C,A),this.transform(E,C,ue,x,A,M),this.conjugate(ue,x,A),this.normalize13b(ue,A),R.negative=v.negative^w.negative,R.length=v.length+w.length,R.strip()},n.prototype.mul=function(v){var w=new n(null);return w.words=new Array(this.length+v.length),this.mulTo(v,w)},n.prototype.mulf=function(v){var w=new n(null);return w.words=new Array(this.length+v.length),S(this,v,w)},n.prototype.imul=function(v){return this.clone().mulTo(v,this)},n.prototype.imuln=function(v){s(typeof v=="number"),s(v<67108864);for(var w=0,R=0;R<this.length;R++){var A=(this.words[R]|0)*v,M=(A&67108863)+(w&67108863);w>>=26,w+=A/67108864|0,w+=M>>>26,this.words[R]=M&67108863}return w!==0&&(this.words[R]=w,this.length++),this},n.prototype.muln=function(v){return this.clone().imuln(v)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(v){var w=g(v);if(w.length===0)return new n(1);for(var R=this,A=0;A<w.length&&w[A]===0;A++,R=R.sqr());if(++A<w.length)for(var M=R.sqr();A<w.length;A++,M=M.sqr())w[A]!==0&&(R=R.mul(M));return R},n.prototype.iushln=function(v){s(typeof v=="number"&&v>=0);var w=v%26,R=(v-w)/26,A=67108863>>>26-w<<26-w,M;if(w!==0){var x=0;for(M=0;M<this.length;M++){var G=this.words[M]&A,E=(this.words[M]|0)-G<<w;this.words[M]=E|x,x=G>>>26-w}x&&(this.words[M]=x,this.length++)}if(R!==0){for(M=this.length-1;M>=0;M--)this.words[M+R]=this.words[M];for(M=0;M<R;M++)this.words[M]=0;this.length+=R}return this.strip()},n.prototype.ishln=function(v){return s(this.negative===0),this.iushln(v)},n.prototype.iushrn=function(v,w,R){s(typeof v=="number"&&v>=0);var A;w?A=(w-w%26)/26:A=0;var M=v%26,x=Math.min((v-M)/26,this.length),G=67108863^67108863>>>M<<M,E=R;if(A-=x,A=Math.max(0,A),E){for(var C=0;C<x;C++)E.words[C]=this.words[C];E.length=x}if(x!==0)if(this.length>x)for(this.length-=x,C=0;C<this.length;C++)this.words[C]=this.words[C+x];else this.words[0]=0,this.length=1;var k=0;for(C=this.length-1;C>=0&&(k!==0||C>=A);C--){var ce=this.words[C]|0;this.words[C]=k<<26-M|ce>>>M,k=ce&G}return E&&k!==0&&(E.words[E.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(v,w,R){return s(this.negative===0),this.iushrn(v,w,R)},n.prototype.shln=function(v){return this.clone().ishln(v)},n.prototype.ushln=function(v){return this.clone().iushln(v)},n.prototype.shrn=function(v){return this.clone().ishrn(v)},n.prototype.ushrn=function(v){return this.clone().iushrn(v)},n.prototype.testn=function(v){s(typeof v=="number"&&v>=0);var w=v%26,R=(v-w)/26,A=1<<w;if(this.length<=R)return!1;var M=this.words[R];return!!(M&A)},n.prototype.imaskn=function(v){s(typeof v=="number"&&v>=0);var w=v%26,R=(v-w)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(w!==0&&R++,this.length=Math.min(R,this.length),w!==0){var A=67108863^67108863>>>w<<w;this.words[this.length-1]&=A}return this.strip()},n.prototype.maskn=function(v){return this.clone().imaskn(v)},n.prototype.iaddn=function(v){return s(typeof v=="number"),s(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},n.prototype._iaddn=function(v){this.words[0]+=v;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},n.prototype.isubn=function(v){if(s(typeof v=="number"),s(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},n.prototype.addn=function(v){return this.clone().iaddn(v)},n.prototype.subn=function(v){return this.clone().isubn(v)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(v,w,R){var A=v.length+R,M;this._expand(A);var x,G=0;for(M=0;M<v.length;M++){x=(this.words[M+R]|0)+G;var E=(v.words[M]|0)*w;x-=E&67108863,G=(x>>26)-(E/67108864|0),this.words[M+R]=x&67108863}for(;M<this.length-R;M++)x=(this.words[M+R]|0)+G,G=x>>26,this.words[M+R]=x&67108863;if(G===0)return this.strip();for(s(G===-1),G=0,M=0;M<this.length;M++)x=-(this.words[M]|0)+G,G=x>>26,this.words[M]=x&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(v,w){var R=this.length-v.length,A=this.clone(),M=v,x=M.words[M.length-1]|0,G=this._countBits(x);R=26-G,R!==0&&(M=M.ushln(R),A.iushln(R),x=M.words[M.length-1]|0);var E=A.length-M.length,C;if(w!=="mod"){C=new n(null),C.length=E+1,C.words=new Array(C.length);for(var k=0;k<C.length;k++)C.words[k]=0}var ce=A.clone()._ishlnsubmul(M,1,E);ce.negative===0&&(A=ce,C&&(C.words[E]=1));for(var de=E-1;de>=0;de--){var ue=(A.words[M.length+de]|0)*67108864+(A.words[M.length+de-1]|0);for(ue=Math.min(ue/x|0,67108863),A._ishlnsubmul(M,ue,de);A.negative!==0;)ue--,A.negative=0,A._ishlnsubmul(M,1,de),A.isZero()||(A.negative^=1);C&&(C.words[de]=ue)}return C&&C.strip(),A.strip(),w!=="div"&&R!==0&&A.iushrn(R),{div:C||null,mod:A}},n.prototype.divmod=function(v,w,R){if(s(!v.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var A,M,x;return this.negative!==0&&v.negative===0?(x=this.neg().divmod(v,w),w!=="mod"&&(A=x.div.neg()),w!=="div"&&(M=x.mod.neg(),R&&M.negative!==0&&M.iadd(v)),{div:A,mod:M}):this.negative===0&&v.negative!==0?(x=this.divmod(v.neg(),w),w!=="mod"&&(A=x.div.neg()),{div:A,mod:x.mod}):this.negative&v.negative?(x=this.neg().divmod(v.neg(),w),w!=="div"&&(M=x.mod.neg(),R&&M.negative!==0&&M.isub(v)),{div:x.div,mod:M}):v.length>this.length||this.cmp(v)<0?{div:new n(0),mod:this}:v.length===1?w==="div"?{div:this.divn(v.words[0]),mod:null}:w==="mod"?{div:null,mod:new n(this.modn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new n(this.modn(v.words[0]))}:this._wordDiv(v,w)},n.prototype.div=function(v){return this.divmod(v,"div",!1).div},n.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},n.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},n.prototype.divRound=function(v){var w=this.divmod(v);if(w.mod.isZero())return w.div;var R=w.div.negative!==0?w.mod.isub(v):w.mod,A=v.ushrn(1),M=v.andln(1),x=R.cmp(A);return x<0||M===1&&x===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},n.prototype.modn=function(v){s(v<=67108863);for(var w=(1<<26)%v,R=0,A=this.length-1;A>=0;A--)R=(w*R+(this.words[A]|0))%v;return R},n.prototype.idivn=function(v){s(v<=67108863);for(var w=0,R=this.length-1;R>=0;R--){var A=(this.words[R]|0)+w*67108864;this.words[R]=A/v|0,w=A%v}return this.strip()},n.prototype.divn=function(v){return this.clone().idivn(v)},n.prototype.egcd=function(v){s(v.negative===0),s(!v.isZero());var w=this,R=v.clone();w.negative!==0?w=w.umod(v):w=w.clone();for(var A=new n(1),M=new n(0),x=new n(0),G=new n(1),E=0;w.isEven()&&R.isEven();)w.iushrn(1),R.iushrn(1),++E;for(var C=R.clone(),k=w.clone();!w.isZero();){for(var ce=0,de=1;!(w.words[0]&de)&&ce<26;++ce,de<<=1);if(ce>0)for(w.iushrn(ce);ce-- >0;)(A.isOdd()||M.isOdd())&&(A.iadd(C),M.isub(k)),A.iushrn(1),M.iushrn(1);for(var ue=0,we=1;!(R.words[0]&we)&&ue<26;++ue,we<<=1);if(ue>0)for(R.iushrn(ue);ue-- >0;)(x.isOdd()||G.isOdd())&&(x.iadd(C),G.isub(k)),x.iushrn(1),G.iushrn(1);w.cmp(R)>=0?(w.isub(R),A.isub(x),M.isub(G)):(R.isub(w),x.isub(A),G.isub(M))}return{a:x,b:G,gcd:R.iushln(E)}},n.prototype._invmp=function(v){s(v.negative===0),s(!v.isZero());var w=this,R=v.clone();w.negative!==0?w=w.umod(v):w=w.clone();for(var A=new n(1),M=new n(0),x=R.clone();w.cmpn(1)>0&&R.cmpn(1)>0;){for(var G=0,E=1;!(w.words[0]&E)&&G<26;++G,E<<=1);if(G>0)for(w.iushrn(G);G-- >0;)A.isOdd()&&A.iadd(x),A.iushrn(1);for(var C=0,k=1;!(R.words[0]&k)&&C<26;++C,k<<=1);if(C>0)for(R.iushrn(C);C-- >0;)M.isOdd()&&M.iadd(x),M.iushrn(1);w.cmp(R)>=0?(w.isub(R),A.isub(M)):(R.isub(w),M.isub(A))}var ce;return w.cmpn(1)===0?ce=A:ce=M,ce.cmpn(0)<0&&ce.iadd(v),ce},n.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var w=this.clone(),R=v.clone();w.negative=0,R.negative=0;for(var A=0;w.isEven()&&R.isEven();A++)w.iushrn(1),R.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;R.isEven();)R.iushrn(1);var M=w.cmp(R);if(M<0){var x=w;w=R,R=x}else if(M===0||R.cmpn(1)===0)break;w.isub(R)}while(!0);return R.iushln(A)},n.prototype.invm=function(v){return this.egcd(v).a.umod(v)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(v){return this.words[0]&v},n.prototype.bincn=function(v){s(typeof v=="number");var w=v%26,R=(v-w)/26,A=1<<w;if(this.length<=R)return this._expand(R+1),this.words[R]|=A,this;for(var M=A,x=R;M!==0&&x<this.length;x++){var G=this.words[x]|0;G+=M,M=G>>>26,G&=67108863,this.words[x]=G}return M!==0&&(this.words[x]=M,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(v){var w=v<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var R;if(this.length>1)R=1;else{w&&(v=-v),s(v<=67108863,"Number is too big");var A=this.words[0]|0;R=A===v?0:A<v?-1:1}return this.negative!==0?-R|0:R},n.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var w=this.ucmp(v);return this.negative!==0?-w|0:w},n.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var w=0,R=this.length-1;R>=0;R--){var A=this.words[R]|0,M=v.words[R]|0;if(A!==M){A<M?w=-1:A>M&&(w=1);break}}return w},n.prototype.gtn=function(v){return this.cmpn(v)===1},n.prototype.gt=function(v){return this.cmp(v)===1},n.prototype.gten=function(v){return this.cmpn(v)>=0},n.prototype.gte=function(v){return this.cmp(v)>=0},n.prototype.ltn=function(v){return this.cmpn(v)===-1},n.prototype.lt=function(v){return this.cmp(v)===-1},n.prototype.lten=function(v){return this.cmpn(v)<=0},n.prototype.lte=function(v){return this.cmp(v)<=0},n.prototype.eqn=function(v){return this.cmpn(v)===0},n.prototype.eq=function(v){return this.cmp(v)===0},n.red=function(v){return new T(v)},n.prototype.toRed=function(v){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},n.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(v){return this.red=v,this},n.prototype.forceRed=function(v){return s(!this.red,"Already a number in reduction context"),this._forceRed(v)},n.prototype.redAdd=function(v){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},n.prototype.redIAdd=function(v){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},n.prototype.redSub=function(v){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},n.prototype.redISub=function(v){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},n.prototype.redShl=function(v){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},n.prototype.redMul=function(v){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},n.prototype.redIMul=function(v){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},n.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(v){return s(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var F={k256:null,p224:null,p192:null,p25519:null};function D(_,v){this.name=_,this.p=new n(v,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var v=new n(null);return v.words=new Array(Math.ceil(this.n/13)),v},D.prototype.ireduce=function(v){var w=v,R;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),R=w.bitLength();while(R>this.n);var A=R<this.n?-1:w.ucmp(this.p);return A===0?(w.words[0]=0,w.length=1):A>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},D.prototype.split=function(v,w){v.iushrn(this.n,0,w)},D.prototype.imulK=function(v){return v.imul(this.k)};function V(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r(V,D),V.prototype.split=function(v,w){for(var R=4194303,A=Math.min(v.length,9),M=0;M<A;M++)w.words[M]=v.words[M];if(w.length=A,v.length<=9){v.words[0]=0,v.length=1;return}var x=v.words[9];for(w.words[w.length++]=x&R,M=10;M<v.length;M++){var G=v.words[M]|0;v.words[M-10]=(G&R)<<4|x>>>22,x=G}x>>>=22,v.words[M-10]=x,x===0&&v.length>10?v.length-=10:v.length-=9},V.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var w=0,R=0;R<v.length;R++){var A=v.words[R]|0;w+=A*977,v.words[R]=w&67108863,w=A*64+(w/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function O(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r(O,D);function L(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r(L,D);function q(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r(q,D),q.prototype.imulK=function(v){for(var w=0,R=0;R<v.length;R++){var A=(v.words[R]|0)*19+w,M=A&67108863;A>>>=26,v.words[R]=M,w=A}return w!==0&&(v.words[v.length++]=w),v},n._prime=function(v){if(F[v])return F[v];var w;if(v==="k256")w=new V;else if(v==="p224")w=new O;else if(v==="p192")w=new L;else if(v==="p25519")w=new q;else throw new Error("Unknown prime "+v);return F[v]=w,w};function T(_){if(typeof _=="string"){var v=n._prime(_);this.m=v.p,this.prime=v}else s(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}T.prototype._verify1=function(v){s(v.negative===0,"red works only with positives"),s(v.red,"red works only with red numbers")},T.prototype._verify2=function(v,w){s((v.negative|w.negative)===0,"red works only with positives"),s(v.red&&v.red===w.red,"red works only with red numbers")},T.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):v.umod(this.m)._forceRed(this)},T.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},T.prototype.add=function(v,w){this._verify2(v,w);var R=v.add(w);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},T.prototype.iadd=function(v,w){this._verify2(v,w);var R=v.iadd(w);return R.cmp(this.m)>=0&&R.isub(this.m),R},T.prototype.sub=function(v,w){this._verify2(v,w);var R=v.sub(w);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},T.prototype.isub=function(v,w){this._verify2(v,w);var R=v.isub(w);return R.cmpn(0)<0&&R.iadd(this.m),R},T.prototype.shl=function(v,w){return this._verify1(v),this.imod(v.ushln(w))},T.prototype.imul=function(v,w){return this._verify2(v,w),this.imod(v.imul(w))},T.prototype.mul=function(v,w){return this._verify2(v,w),this.imod(v.mul(w))},T.prototype.isqr=function(v){return this.imul(v,v.clone())},T.prototype.sqr=function(v){return this.mul(v,v)},T.prototype.sqrt=function(v){if(v.isZero())return v.clone();var w=this.m.andln(3);if(s(w%2===1),w===3){var R=this.m.add(new n(1)).iushrn(2);return this.pow(v,R)}for(var A=this.m.subn(1),M=0;!A.isZero()&&A.andln(1)===0;)M++,A.iushrn(1);s(!A.isZero());var x=new n(1).toRed(this),G=x.redNeg(),E=this.m.subn(1).iushrn(1),C=this.m.bitLength();for(C=new n(2*C*C).toRed(this);this.pow(C,E).cmp(G)!==0;)C.redIAdd(G);for(var k=this.pow(C,A),ce=this.pow(v,A.addn(1).iushrn(1)),de=this.pow(v,A),ue=M;de.cmp(x)!==0;){for(var we=de,Me=0;we.cmp(x)!==0;Me++)we=we.redSqr();s(Me<ue);var We=this.pow(k,new n(1).iushln(ue-Me-1));ce=ce.redMul(We),k=We.redSqr(),de=de.redMul(k),ue=Me}return ce},T.prototype.invm=function(v){var w=v._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},T.prototype.pow=function(v,w){if(w.isZero())return new n(1).toRed(this);if(w.cmpn(1)===0)return v.clone();var R=4,A=new Array(1<<R);A[0]=new n(1).toRed(this),A[1]=v;for(var M=2;M<A.length;M++)A[M]=this.mul(A[M-1],v);var x=A[0],G=0,E=0,C=w.bitLength()%26;for(C===0&&(C=26),M=w.length-1;M>=0;M--){for(var k=w.words[M],ce=C-1;ce>=0;ce--){var de=k>>ce&1;if(x!==A[0]&&(x=this.sqr(x)),de===0&&G===0){E=0;continue}G<<=1,G|=de,E++,!(E!==R&&(M!==0||ce!==0))&&(x=this.mul(x,A[G]),E=0,G=0)}C=26}return x},T.prototype.convertTo=function(v){var w=v.umod(this.m);return w===v?w.clone():w},T.prototype.convertFrom=function(v){var w=v.clone();return w.red=null,w},n.mont=function(v){return new X(v)};function X(_){T.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(X,T),X.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},X.prototype.convertFrom=function(v){var w=this.imod(v.mul(this.rinv));return w.red=null,w},X.prototype.imul=function(v,w){if(v.isZero()||w.isZero())return v.words[0]=0,v.length=1,v;var R=v.imul(w),A=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=R.isub(A).iushrn(this.shift),x=M;return M.cmp(this.m)>=0?x=M.isub(this.m):M.cmpn(0)<0&&(x=M.iadd(this.m)),x._forceRed(this)},X.prototype.mul=function(v,w){if(v.isZero()||w.isZero())return new n(0)._forceRed(this);var R=v.mul(w),A=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=R.isub(A).iushrn(this.shift),x=M;return M.cmp(this.m)>=0?x=M.isub(this.m):M.cmpn(0)<0&&(x=M.iadd(this.m)),x._forceRed(this)},X.prototype.invm=function(v){var w=this.imod(v._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(e,O3)})(Dm);var sn=Dm.exports;const Xt=Yh(sn);var Xp={};const uI="elliptic",hI="6.6.1",fI="EC cryptography",pI="lib/elliptic.js",gI=["lib"],mI={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},vI={type:"git",url:"git@github.com:indutny/elliptic"},bI=["EC","Elliptic","curve","Cryptography"],CI="Fedor Indutny <fedor@indutny.com>",yI="MIT",wI={url:"https://github.com/indutny/elliptic/issues"},SI="https://github.com/indutny/elliptic",RI={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},AI={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},II={name:uI,version:hI,description:fI,main:pI,files:gI,scripts:mI,repository:vI,keywords:bI,author:CI,license:yI,bugs:wI,homepage:SI,devDependencies:RI,dependencies:AI};var ks={},Gm={};(function(e){var t=e;function i(n,o){if(Array.isArray(n))return n.slice();if(!n)return[];var a=[];if(typeof n!="string"){for(var l=0;l<n.length;l++)a[l]=n[l]|0;return a}if(o==="hex"){n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n);for(var l=0;l<n.length;l+=2)a.push(parseInt(n[l]+n[l+1],16))}else for(var l=0;l<n.length;l++){var c=n.charCodeAt(l),d=c>>8,u=c&255;d?a.push(d,u):a.push(u)}return a}t.toArray=i;function s(n){return n.length===1?"0"+n:n}t.zero2=s;function r(n){for(var o="",a=0;a<n.length;a++)o+=s(n[a].toString(16));return o}t.toHex=r,t.encode=function(o,a){return a==="hex"?r(o):o}})(Gm);(function(e){var t=e,i=sn,s=Ba,r=Gm;t.assert=s,t.toArray=r.toArray,t.zero2=r.zero2,t.toHex=r.toHex,t.encode=r.encode;function n(d,u,f){var g=new Array(Math.max(d.bitLength(),f)+1),m;for(m=0;m<g.length;m+=1)g[m]=0;var y=1<<u+1,b=d.clone();for(m=0;m<g.length;m++){var S,I=b.andln(y-1);b.isOdd()?(I>(y>>1)-1?S=(y>>1)-I:S=I,b.isubn(S)):S=0,g[m]=S,b.iushrn(1)}return g}t.getNAF=n;function o(d,u){var f=[[],[]];d=d.clone(),u=u.clone();for(var g=0,m=0,y;d.cmpn(-g)>0||u.cmpn(-m)>0;){var b=d.andln(3)+g&3,S=u.andln(3)+m&3;b===3&&(b=-1),S===3&&(S=-1);var I;b&1?(y=d.andln(7)+g&7,(y===3||y===5)&&S===2?I=-b:I=b):I=0,f[0].push(I);var F;S&1?(y=u.andln(7)+m&7,(y===3||y===5)&&b===2?F=-S:F=S):F=0,f[1].push(F),2*g===I+1&&(g=1-g),2*m===F+1&&(m=1-m),d.iushrn(1),u.iushrn(1)}return f}t.getJSF=o;function a(d,u,f){var g="_"+u;d.prototype[u]=function(){return this[g]!==void 0?this[g]:this[g]=f.call(this)}}t.cachedProperty=a;function l(d){return typeof d=="string"?t.toArray(d,"hex"):d}t.parseBytes=l;function c(d){return new i(d,"hex","le")}t.intFromLE=c})(ks);var Pm={},No=sn,$d=ks,$u=$d.getNAF,FI=$d.getJSF,eh=$d.assert;function Go(e,t){this.type=e,this.p=new No(t.p,16),this.red=t.prime?No.red(t.prime):No.mont(this.p),this.zero=new No(0).toRed(this.red),this.one=new No(1).toRed(this.red),this.two=new No(2).toRed(this.red),this.n=t.n&&new No(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Xh=Go;Go.prototype.point=function(){throw new Error("Not implemented")};Go.prototype.validate=function(){throw new Error("Not implemented")};Go.prototype._fixedNafMul=function(t,i){eh(t.precomputed);var s=t._getDoubles(),r=$u(i,1,this._bitLength),n=(1<<s.step+1)-(s.step%2===0?2:1);n/=3;var o=[],a,l;for(a=0;a<r.length;a+=s.step){l=0;for(var c=a+s.step-1;c>=a;c--)l=(l<<1)+r[c];o.push(l)}for(var d=this.jpoint(null,null,null),u=this.jpoint(null,null,null),f=n;f>0;f--){for(a=0;a<o.length;a++)l=o[a],l===f?u=u.mixedAdd(s.points[a]):l===-f&&(u=u.mixedAdd(s.points[a].neg()));d=d.add(u)}return d.toP()};Go.prototype._wnafMul=function(t,i){var s=4,r=t._getNAFPoints(s);s=r.wnd;for(var n=r.points,o=$u(i,s,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var d=o[l];eh(d!==0),t.type==="affine"?d>0?a=a.mixedAdd(n[d-1>>1]):a=a.mixedAdd(n[-d-1>>1].neg()):d>0?a=a.add(n[d-1>>1]):a=a.add(n[-d-1>>1].neg())}return t.type==="affine"?a.toP():a};Go.prototype._wnafMulAdd=function(t,i,s,r,n){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,d,u,f;for(d=0;d<r;d++){f=i[d];var g=f._getNAFPoints(t);o[d]=g.wnd,a[d]=g.points}for(d=r-1;d>=1;d-=2){var m=d-1,y=d;if(o[m]!==1||o[y]!==1){l[m]=$u(s[m],o[m],this._bitLength),l[y]=$u(s[y],o[y],this._bitLength),c=Math.max(l[m].length,c),c=Math.max(l[y].length,c);continue}var b=[i[m],null,null,i[y]];i[m].y.cmp(i[y].y)===0?(b[1]=i[m].add(i[y]),b[2]=i[m].toJ().mixedAdd(i[y].neg())):i[m].y.cmp(i[y].y.redNeg())===0?(b[1]=i[m].toJ().mixedAdd(i[y]),b[2]=i[m].add(i[y].neg())):(b[1]=i[m].toJ().mixedAdd(i[y]),b[2]=i[m].toJ().mixedAdd(i[y].neg()));var S=[-3,-1,-5,-7,0,7,5,1,3],I=FI(s[m],s[y]);for(c=Math.max(I[0].length,c),l[m]=new Array(c),l[y]=new Array(c),u=0;u<c;u++){var F=I[0][u]|0,D=I[1][u]|0;l[m][u]=S[(F+1)*3+(D+1)],l[y][u]=0,a[m]=b}}var V=this.jpoint(null,null,null),O=this._wnafT4;for(d=c;d>=0;d--){for(var L=0;d>=0;){var q=!0;for(u=0;u<r;u++)O[u]=l[u][d]|0,O[u]!==0&&(q=!1);if(!q)break;L++,d--}if(d>=0&&L++,V=V.dblp(L),d<0)break;for(u=0;u<r;u++){var T=O[u];T!==0&&(T>0?f=a[u][T-1>>1]:T<0&&(f=a[u][-T-1>>1].neg()),f.type==="affine"?V=V.mixedAdd(f):V=V.add(f))}}for(d=0;d<r;d++)a[d]=null;return n?V:V.toP()};function qs(e,t){this.curve=e,this.type=t,this.precomputed=null}Go.BasePoint=qs;qs.prototype.eq=function(){throw new Error("Not implemented")};qs.prototype.validate=function(){return this.curve.validate(this)};Go.prototype.decodePoint=function(t,i){t=$d.toArray(t,i);var s=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*s){t[0]===6?eh(t[t.length-1]%2===0):t[0]===7&&eh(t[t.length-1]%2===1);var r=this.point(t.slice(1,1+s),t.slice(1+s,1+2*s));return r}else if((t[0]===2||t[0]===3)&&t.length-1===s)return this.pointFromX(t.slice(1,1+s),t[0]===3);throw new Error("Unknown point format")};qs.prototype.encodeCompressed=function(t){return this.encode(t,!0)};qs.prototype._encode=function(t){var i=this.curve.p.byteLength(),s=this.getX().toArray("be",i);return t?[this.getY().isEven()?2:3].concat(s):[4].concat(s,this.getY().toArray("be",i))};qs.prototype.encode=function(t,i){return $d.encode(this._encode(i),t)};qs.prototype.precompute=function(t){if(this.precomputed)return this;var i={doubles:null,naf:null,beta:null};return i.naf=this._getNAFPoints(8),i.doubles=this._getDoubles(4,t),i.beta=this._getBeta(),this.precomputed=i,this};qs.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var i=this.precomputed.doubles;return i?i.points.length>=Math.ceil((t.bitLength()+1)/i.step):!1};qs.prototype._getDoubles=function(t,i){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var s=[this],r=this,n=0;n<i;n+=t){for(var o=0;o<t;o++)r=r.dbl();s.push(r)}return{step:t,points:s}};qs.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var i=[this],s=(1<<t)-1,r=s===1?null:this.dbl(),n=1;n<s;n++)i[n]=i[n-1].add(r);return{wnd:t,points:i}};qs.prototype._getBeta=function(){return null};qs.prototype.dblp=function(t){for(var i=this,s=0;s<t;s++)i=i.dbl();return i};var xI=ks,ni=sn,Om=zh,tc=Xh,_I=xI.assert;function Ks(e){tc.call(this,"short",e),this.a=new ni(e.a,16).toRed(this.red),this.b=new ni(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Om(Ks,tc);var EI=Ks;Ks.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var i,s;if(t.beta)i=new ni(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);i=r[0].cmp(r[1])<0?r[0]:r[1],i=i.toRed(this.red)}if(t.lambda)s=new ni(t.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(i))===0?s=n[0]:(s=n[1],_I(this.g.mul(s).x.cmp(this.g.x.redMul(i))===0))}var o;return t.basis?o=t.basis.map(function(a){return{a:new ni(a.a,16),b:new ni(a.b,16)}}):o=this._getEndoBasis(s),{beta:i,lambda:s,basis:o}}};Ks.prototype._getEndoRoots=function(t){var i=t===this.p?this.red:ni.mont(t),s=new ni(2).toRed(i).redInvm(),r=s.redNeg(),n=new ni(3).toRed(i).redNeg().redSqrt().redMul(s),o=r.redAdd(n).fromRed(),a=r.redSub(n).fromRed();return[o,a]};Ks.prototype._getEndoBasis=function(t){for(var i=this.n.ushrn(Math.floor(this.n.bitLength()/2)),s=t,r=this.n.clone(),n=new ni(1),o=new ni(0),a=new ni(0),l=new ni(1),c,d,u,f,g,m,y,b=0,S,I;s.cmpn(0)!==0;){var F=r.div(s);S=r.sub(F.mul(s)),I=a.sub(F.mul(n));var D=l.sub(F.mul(o));if(!u&&S.cmp(i)<0)c=y.neg(),d=n,u=S.neg(),f=I;else if(u&&++b===2)break;y=S,r=s,s=S,a=n,n=I,l=o,o=D}g=S.neg(),m=I;var V=u.sqr().add(f.sqr()),O=g.sqr().add(m.sqr());return O.cmp(V)>=0&&(g=c,m=d),u.negative&&(u=u.neg(),f=f.neg()),g.negative&&(g=g.neg(),m=m.neg()),[{a:u,b:f},{a:g,b:m}]};Ks.prototype._endoSplit=function(t){var i=this.endo.basis,s=i[0],r=i[1],n=r.b.mul(t).divRound(this.n),o=s.b.neg().mul(t).divRound(this.n),a=n.mul(s.a),l=o.mul(r.a),c=n.mul(s.b),d=o.mul(r.b),u=t.sub(a).sub(l),f=c.add(d).neg();return{k1:u,k2:f}};Ks.prototype.pointFromX=function(t,i){t=new ni(t,16),t.red||(t=t.toRed(this.red));var s=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=s.redSqrt();if(r.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var n=r.fromRed().isOdd();return(i&&!n||!i&&n)&&(r=r.redNeg()),this.point(t,r)};Ks.prototype.validate=function(t){if(t.inf)return!0;var i=t.x,s=t.y,r=this.a.redMul(i),n=i.redSqr().redMul(i).redIAdd(r).redIAdd(this.b);return s.redSqr().redISub(n).cmpn(0)===0};Ks.prototype._endoWnafMulAdd=function(t,i,s){for(var r=this._endoWnafT1,n=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(i[o]),l=t[o],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),r[o*2]=l,r[o*2+1]=c,n[o*2]=a.k1,n[o*2+1]=a.k2}for(var d=this._wnafMulAdd(1,r,n,o*2,s),u=0;u<o*2;u++)r[u]=null,n[u]=null;return d};function Ei(e,t,i,s){tc.BasePoint.call(this,e,"affine"),t===null&&i===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ni(t,16),this.y=new ni(i,16),s&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Om(Ei,tc.BasePoint);Ks.prototype.point=function(t,i,s){return new Ei(this,t,i,s)};Ks.prototype.pointFromJSON=function(t,i){return Ei.fromJSON(this,t,i)};Ei.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var i=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var s=this.curve,r=function(n){return s.point(n.x.redMul(s.endo.beta),n.y)};t.beta=i,i.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return i}};Ei.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ei.fromJSON=function(t,i,s){typeof i=="string"&&(i=JSON.parse(i));var r=t.point(i[0],i[1],s);if(!i[2])return r;function n(a){return t.point(a[0],a[1],s)}var o=i[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(n))}},r};Ei.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ei.prototype.isInfinity=function(){return this.inf};Ei.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var i=this.y.redSub(t.y);i.cmpn(0)!==0&&(i=i.redMul(this.x.redSub(t.x).redInvm()));var s=i.redSqr().redISub(this.x).redISub(t.x),r=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,r)};Ei.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var i=this.curve.a,s=this.x.redSqr(),r=t.redInvm(),n=s.redAdd(s).redIAdd(s).redIAdd(i).redMul(r),o=n.redSqr().redISub(this.x.redAdd(this.x)),a=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Ei.prototype.getX=function(){return this.x.fromRed()};Ei.prototype.getY=function(){return this.y.fromRed()};Ei.prototype.mul=function(t){return t=new ni(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};Ei.prototype.mulAdd=function(t,i,s){var r=[this,i],n=[t,s];return this.curve.endo?this.curve._endoWnafMulAdd(r,n):this.curve._wnafMulAdd(1,r,n,2)};Ei.prototype.jmulAdd=function(t,i,s){var r=[this,i],n=[t,s];return this.curve.endo?this.curve._endoWnafMulAdd(r,n,!0):this.curve._wnafMulAdd(1,r,n,2,!0)};Ei.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Ei.prototype.neg=function(t){if(this.inf)return this;var i=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var s=this.precomputed,r=function(n){return n.neg()};i.precomputed={naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(r)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(r)}}}return i};Ei.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function Bi(e,t,i,s){tc.BasePoint.call(this,e,"jacobian"),t===null&&i===null&&s===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ni(0)):(this.x=new ni(t,16),this.y=new ni(i,16),this.z=new ni(s,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Om(Bi,tc.BasePoint);Ks.prototype.jpoint=function(t,i,s){return new Bi(this,t,i,s)};Bi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),i=t.redSqr(),s=this.x.redMul(i),r=this.y.redMul(i).redMul(t);return this.curve.point(s,r)};Bi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Bi.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var i=t.z.redSqr(),s=this.z.redSqr(),r=this.x.redMul(i),n=t.x.redMul(s),o=this.y.redMul(i.redMul(t.z)),a=t.y.redMul(s.redMul(this.z)),l=r.redSub(n),c=o.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=l.redSqr(),u=d.redMul(l),f=r.redMul(d),g=c.redSqr().redIAdd(u).redISub(f).redISub(f),m=c.redMul(f.redISub(g)).redISub(o.redMul(u)),y=this.z.redMul(t.z).redMul(l);return this.curve.jpoint(g,m,y)};Bi.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var i=this.z.redSqr(),s=this.x,r=t.x.redMul(i),n=this.y,o=t.y.redMul(i).redMul(this.z),a=s.redSub(r),l=n.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),d=c.redMul(a),u=s.redMul(c),f=l.redSqr().redIAdd(d).redISub(u).redISub(u),g=l.redMul(u.redISub(f)).redISub(n.redMul(d)),m=this.z.redMul(a);return this.curve.jpoint(f,g,m)};Bi.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var i;if(this.curve.zeroA||this.curve.threeA){var s=this;for(i=0;i<t;i++)s=s.dbl();return s}var r=this.curve.a,n=this.curve.tinv,o=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),d=a.redAdd(a);for(i=0;i<t;i++){var u=o.redSqr(),f=d.redSqr(),g=f.redSqr(),m=u.redAdd(u).redIAdd(u).redIAdd(r.redMul(c)),y=o.redMul(f),b=m.redSqr().redISub(y.redAdd(y)),S=y.redISub(b),I=m.redMul(S);I=I.redIAdd(I).redISub(g);var F=d.redMul(l);i+1<t&&(c=c.redMul(g)),o=b,l=F,d=I}return this.curve.jpoint(o,d.redMul(n),l)};Bi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Bi.prototype._zeroDbl=function(){var t,i,s;if(this.zOne){var r=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var l=r.redAdd(r).redIAdd(r),c=l.redSqr().redISub(a).redISub(a),d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),t=c,i=l.redMul(a.redISub(c)).redISub(d),s=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),f=this.y.redSqr(),g=f.redSqr(),m=this.x.redAdd(f).redSqr().redISub(u).redISub(g);m=m.redIAdd(m);var y=u.redAdd(u).redIAdd(u),b=y.redSqr(),S=g.redIAdd(g);S=S.redIAdd(S),S=S.redIAdd(S),t=b.redISub(m).redISub(m),i=y.redMul(m.redISub(t)).redISub(S),s=this.y.redMul(this.z),s=s.redIAdd(s)}return this.curve.jpoint(t,i,s)};Bi.prototype._threeDbl=function(){var t,i,s;if(this.zOne){var r=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var l=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);t=c;var d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),i=l.redMul(a.redISub(c)).redISub(d),s=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),f=this.y.redSqr(),g=this.x.redMul(f),m=this.x.redSub(u).redMul(this.x.redAdd(u));m=m.redAdd(m).redIAdd(m);var y=g.redIAdd(g);y=y.redIAdd(y);var b=y.redAdd(y);t=m.redSqr().redISub(b),s=this.y.redAdd(this.z).redSqr().redISub(f).redISub(u);var S=f.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S),i=m.redMul(y.redISub(t)).redISub(S)}return this.curve.jpoint(t,i,s)};Bi.prototype._dbl=function(){var t=this.curve.a,i=this.x,s=this.y,r=this.z,n=r.redSqr().redSqr(),o=i.redSqr(),a=s.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(n)),c=i.redAdd(i);c=c.redIAdd(c);var d=c.redMul(a),u=l.redSqr().redISub(d.redAdd(d)),f=d.redISub(u),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=l.redMul(f).redISub(g),y=s.redAdd(s).redMul(r);return this.curve.jpoint(u,m,y)};Bi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),i=this.y.redSqr(),s=this.z.redSqr(),r=i.redSqr(),n=t.redAdd(t).redIAdd(t),o=n.redSqr(),a=this.x.redAdd(i).redSqr().redISub(t).redISub(r);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),c=r.redIAdd(r);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var d=n.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(c),u=i.redMul(d);u=u.redIAdd(u),u=u.redIAdd(u);var f=this.x.redMul(l).redISub(u);f=f.redIAdd(f),f=f.redIAdd(f);var g=this.y.redMul(d.redMul(c.redISub(d)).redISub(a.redMul(l)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=this.z.redAdd(a).redSqr().redISub(s).redISub(l);return this.curve.jpoint(f,g,m)};Bi.prototype.mul=function(t,i){return t=new ni(t,i),this.curve._wnafMul(this,t)};Bi.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var i=this.z.redSqr(),s=t.z.redSqr();if(this.x.redMul(s).redISub(t.x.redMul(i)).cmpn(0)!==0)return!1;var r=i.redMul(this.z),n=s.redMul(t.z);return this.y.redMul(n).redISub(t.y.redMul(r)).cmpn(0)===0};Bi.prototype.eqXToP=function(t){var i=this.z.redSqr(),s=t.toRed(this.curve.red).redMul(i);if(this.x.cmp(s)===0)return!0;for(var r=t.clone(),n=this.curve.redN.redMul(i);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(s.redIAdd(n),this.x.cmp(s)===0)return!0}};Bi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Bi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var il=sn,z1=zh,Jh=Xh,MI=ks;function ic(e){Jh.call(this,"mont",e),this.a=new il(e.a,16).toRed(this.red),this.b=new il(e.b,16).toRed(this.red),this.i4=new il(4).toRed(this.red).redInvm(),this.two=new il(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}z1(ic,Jh);var kI=ic;ic.prototype.validate=function(t){var i=t.normalize().x,s=i.redSqr(),r=s.redMul(i).redAdd(s.redMul(this.a)).redAdd(i),n=r.redSqrt();return n.redSqr().cmp(r)===0};function Fi(e,t,i){Jh.BasePoint.call(this,e,"projective"),t===null&&i===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new il(t,16),this.z=new il(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}z1(Fi,Jh.BasePoint);ic.prototype.decodePoint=function(t,i){return this.point(MI.toArray(t,i),1)};ic.prototype.point=function(t,i){return new Fi(this,t,i)};ic.prototype.pointFromJSON=function(t){return Fi.fromJSON(this,t)};Fi.prototype.precompute=function(){};Fi.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Fi.fromJSON=function(t,i){return new Fi(t,i[0],i[1]||t.one)};Fi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Fi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Fi.prototype.dbl=function(){var t=this.x.redAdd(this.z),i=t.redSqr(),s=this.x.redSub(this.z),r=s.redSqr(),n=i.redSub(r),o=i.redMul(r),a=n.redMul(r.redAdd(this.curve.a24.redMul(n)));return this.curve.point(o,a)};Fi.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Fi.prototype.diffAdd=function(t,i){var s=this.x.redAdd(this.z),r=this.x.redSub(this.z),n=t.x.redAdd(t.z),o=t.x.redSub(t.z),a=o.redMul(s),l=n.redMul(r),c=i.z.redMul(a.redAdd(l).redSqr()),d=i.x.redMul(a.redISub(l).redSqr());return this.curve.point(c,d)};Fi.prototype.mul=function(t){for(var i=t.clone(),s=this,r=this.curve.point(null,null),n=this,o=[];i.cmpn(0)!==0;i.iushrn(1))o.push(i.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(s=s.diffAdd(r,n),r=r.dbl()):(r=s.diffAdd(r,n),s=s.dbl());return r};Fi.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Fi.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Fi.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};Fi.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Fi.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var DI=ks,gn=sn,j1=zh,Uh=Xh,GI=DI.assert;function rn(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,Uh.call(this,"edwards",e),this.a=new gn(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new gn(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new gn(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),GI(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}j1(rn,Uh);var PI=rn;rn.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};rn.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};rn.prototype.jpoint=function(t,i,s,r){return this.point(t,i,s,r)};rn.prototype.pointFromX=function(t,i){t=new gn(t,16),t.red||(t=t.toRed(this.red));var s=t.redSqr(),r=this.c2.redSub(this.a.redMul(s)),n=this.one.redSub(this.c2.redMul(this.d).redMul(s)),o=r.redMul(n.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var l=a.fromRed().isOdd();return(i&&!l||!i&&l)&&(a=a.redNeg()),this.point(t,a)};rn.prototype.pointFromY=function(t,i){t=new gn(t,16),t.red||(t=t.toRed(this.red));var s=t.redSqr(),r=s.redSub(this.c2),n=s.redMul(this.d).redMul(this.c2).redSub(this.a),o=r.redMul(n.redInvm());if(o.cmp(this.zero)===0){if(i)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==i&&(a=a.redNeg()),this.point(a,t)};rn.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var i=t.x.redSqr(),s=t.y.redSqr(),r=i.redMul(this.a).redAdd(s),n=this.c2.redMul(this.one.redAdd(this.d.redMul(i).redMul(s)));return r.cmp(n)===0};function Gt(e,t,i,s,r){Uh.BasePoint.call(this,e,"projective"),t===null&&i===null&&s===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new gn(t,16),this.y=new gn(i,16),this.z=s?new gn(s,16):this.curve.one,this.t=r&&new gn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}j1(Gt,Uh.BasePoint);rn.prototype.pointFromJSON=function(t){return Gt.fromJSON(this,t)};rn.prototype.point=function(t,i,s,r){return new Gt(this,t,i,s,r)};Gt.fromJSON=function(t,i){return new Gt(t,i[0],i[1],i[2])};Gt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Gt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Gt.prototype._extDbl=function(){var t=this.x.redSqr(),i=this.y.redSqr(),s=this.z.redSqr();s=s.redIAdd(s);var r=this.curve._mulA(t),n=this.x.redAdd(this.y).redSqr().redISub(t).redISub(i),o=r.redAdd(i),a=o.redSub(s),l=r.redSub(i),c=n.redMul(a),d=o.redMul(l),u=n.redMul(l),f=a.redMul(o);return this.curve.point(c,d,f,u)};Gt.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),s=this.y.redSqr(),r,n,o,a,l,c;if(this.curve.twisted){a=this.curve._mulA(i);var d=a.redAdd(s);this.zOne?(r=t.redSub(i).redSub(s).redMul(d.redSub(this.curve.two)),n=d.redMul(a.redSub(s)),o=d.redSqr().redSub(d).redSub(d)):(l=this.z.redSqr(),c=d.redSub(l).redISub(l),r=t.redSub(i).redISub(s).redMul(c),n=d.redMul(a.redSub(s)),o=d.redMul(c))}else a=i.redAdd(s),l=this.curve._mulC(this.z).redSqr(),c=a.redSub(l).redSub(l),r=this.curve._mulC(t.redISub(a)).redMul(c),n=this.curve._mulC(a).redMul(i.redISub(s)),o=a.redMul(c);return this.curve.point(r,n,o)};Gt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Gt.prototype._extAdd=function(t){var i=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),s=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),r=this.t.redMul(this.curve.dd).redMul(t.t),n=this.z.redMul(t.z.redAdd(t.z)),o=s.redSub(i),a=n.redSub(r),l=n.redAdd(r),c=s.redAdd(i),d=o.redMul(a),u=l.redMul(c),f=o.redMul(c),g=a.redMul(l);return this.curve.point(d,u,g,f)};Gt.prototype._projAdd=function(t){var i=this.z.redMul(t.z),s=i.redSqr(),r=this.x.redMul(t.x),n=this.y.redMul(t.y),o=this.curve.d.redMul(r).redMul(n),a=s.redSub(o),l=s.redAdd(o),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(r).redISub(n),d=i.redMul(a).redMul(c),u,f;return this.curve.twisted?(u=i.redMul(l).redMul(n.redSub(this.curve._mulA(r))),f=a.redMul(l)):(u=i.redMul(l).redMul(n.redSub(r)),f=this.curve._mulC(a).redMul(l)),this.curve.point(d,u,f)};Gt.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};Gt.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};Gt.prototype.mulAdd=function(t,i,s){return this.curve._wnafMulAdd(1,[this,i],[t,s],2,!1)};Gt.prototype.jmulAdd=function(t,i,s){return this.curve._wnafMulAdd(1,[this,i],[t,s],2,!0)};Gt.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};Gt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Gt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Gt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Gt.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};Gt.prototype.eqXToP=function(t){var i=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(i)===0)return!0;for(var s=t.clone(),r=this.curve.redN.redMul(this.z);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(r),this.x.cmp(i)===0)return!0}};Gt.prototype.toP=Gt.prototype.normalize;Gt.prototype.mixedAdd=Gt.prototype.add;(function(e){var t=e;t.base=Xh,t.short=EI,t.mont=kI,t.edwards=PI})(Pm);var qh={},zf,x0;function OI(){return x0||(x0=1,zf={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),zf}(function(e){var t=e,i=Or,s=Pm,r=ks,n=r.assert;function o(c){c.type==="short"?this.curve=new s.short(c):c.type==="edwards"?this.curve=new s.edwards(c):this.curve=new s.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=o;function a(c,d){Object.defineProperty(t,c,{configurable:!0,enumerable:!0,get:function(){var u=new o(d);return Object.defineProperty(t,c,{configurable:!0,enumerable:!0,value:u}),u}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=OI()}catch{l=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})})(qh);var BI=Or,ia=Gm,X1=Ba;function go(e){if(!(this instanceof go))return new go(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=ia.toArray(e.entropy,e.entropyEnc||"hex"),i=ia.toArray(e.nonce,e.nonceEnc||"hex"),s=ia.toArray(e.pers,e.persEnc||"hex");X1(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,s)}var WI=go;go.prototype._init=function(t,i,s){var r=t.concat(i).concat(s);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656};go.prototype._hmac=function(){return new BI.hmac(this.hash,this.K)};go.prototype._update=function(t){var i=this._hmac().update(this.V).update([0]);t&&(i=i.update(t)),this.K=i.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};go.prototype.reseed=function(t,i,s,r){typeof i!="string"&&(r=s,s=i,i=null),t=ia.toArray(t,i),s=ia.toArray(s,r),X1(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(s||[])),this._reseed=1};go.prototype.generate=function(t,i,s,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof i!="string"&&(r=s,s=i,i=null),s&&(s=ia.toArray(s,r||"hex"),this._update(s));for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var o=n.slice(0,t);return this._update(s),this._reseed++,ia.encode(o,i)};var TI=sn,LI=ks,Jp=LI.assert;function Zi(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var NI=Zi;Zi.fromPublic=function(t,i,s){return i instanceof Zi?i:new Zi(t,{pub:i,pubEnc:s})};Zi.fromPrivate=function(t,i,s){return i instanceof Zi?i:new Zi(t,{priv:i,privEnc:s})};Zi.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Zi.prototype.getPublic=function(t,i){return typeof t=="string"&&(i=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,t):this.pub};Zi.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};Zi.prototype._importPrivate=function(t,i){this.priv=new TI(t,i||16),this.priv=this.priv.umod(this.ec.curve.n)};Zi.prototype._importPublic=function(t,i){if(t.x||t.y){this.ec.curve.type==="mont"?Jp(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Jp(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,i)};Zi.prototype.derive=function(t){return t.validate()||Jp(t.validate(),"public point not validated"),t.mul(this.priv).getX()};Zi.prototype.sign=function(t,i,s){return this.ec.sign(t,this,i,s)};Zi.prototype.verify=function(t,i,s){return this.ec.verify(t,i,this,void 0,s)};Zi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var th=sn,Bm=ks,VI=Bm.assert;function Kh(e,t){if(e instanceof Kh)return e;this._importDER(e,t)||(VI(e.r&&e.s,"Signature without r or s"),this.r=new th(e.r,16),this.s=new th(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var HI=Kh;function ZI(){this.place=0}function jf(e,t){var i=e[t.place++];if(!(i&128))return i;var s=i&15;if(s===0||s>4||e[t.place]===0)return!1;for(var r=0,n=0,o=t.place;n<s;n++,o++)r<<=8,r|=e[o],r>>>=0;return r<=127?!1:(t.place=o,r)}function _0(e){for(var t=0,i=e.length-1;!e[t]&&!(e[t+1]&128)&&t<i;)t++;return t===0?e:e.slice(t)}Kh.prototype._importDER=function(t,i){t=Bm.toArray(t,i);var s=new ZI;if(t[s.place++]!==48)return!1;var r=jf(t,s);if(r===!1||r+s.place!==t.length||t[s.place++]!==2)return!1;var n=jf(t,s);if(n===!1||t[s.place]&128)return!1;var o=t.slice(s.place,n+s.place);if(s.place+=n,t[s.place++]!==2)return!1;var a=jf(t,s);if(a===!1||t.length!==a+s.place||t[s.place]&128)return!1;var l=t.slice(s.place,a+s.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new th(o),this.s=new th(l),this.recoveryParam=null,!0};function Xf(e,t){if(t<128){e.push(t);return}var i=1+(Math.log(t)/Math.LN2>>>3);for(e.push(i|128);--i;)e.push(t>>>(i<<3)&255);e.push(t)}Kh.prototype.toDER=function(t){var i=this.r.toArray(),s=this.s.toArray();for(i[0]&128&&(i=[0].concat(i)),s[0]&128&&(s=[0].concat(s)),i=_0(i),s=_0(s);!s[0]&&!(s[1]&128);)s=s.slice(1);var r=[2];Xf(r,i.length),r=r.concat(i),r.push(2),Xf(r,s.length);var n=r.concat(s),o=[48];return Xf(o,n.length),o=o.concat(n),Bm.encode(o,t)};var lr=sn,J1=WI,YI=ks,Jf=qh,zI=km,Jo=YI.assert,Wm=NI,Qh=HI;function zs(e){if(!(this instanceof zs))return new zs(e);typeof e=="string"&&(Jo(Object.prototype.hasOwnProperty.call(Jf,e),"Unknown curve "+e),e=Jf[e]),e instanceof Jf.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var jI=zs;zs.prototype.keyPair=function(t){return new Wm(this,t)};zs.prototype.keyFromPrivate=function(t,i){return Wm.fromPrivate(this,t,i)};zs.prototype.keyFromPublic=function(t,i){return Wm.fromPublic(this,t,i)};zs.prototype.genKeyPair=function(t){t||(t={});for(var i=new J1({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||zI(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),s=this.n.byteLength(),r=this.n.sub(new lr(2));;){var n=new lr(i.generate(s));if(!(n.cmp(r)>0))return n.iaddn(1),this.keyFromPrivate(n)}};zs.prototype._truncateToN=function(t,i,s){var r;if(lr.isBN(t)||typeof t=="number")t=new lr(t,16),r=t.byteLength();else if(typeof t=="object")r=t.length,t=new lr(t,16);else{var n=t.toString();r=n.length+1>>>1,t=new lr(n,16)}typeof s!="number"&&(s=r*8);var o=s-this.n.bitLength();return o>0&&(t=t.ushrn(o)),!i&&t.cmp(this.n)>=0?t.sub(this.n):t};zs.prototype.sign=function(t,i,s,r){if(typeof s=="object"&&(r=s,s=null),r||(r={}),typeof t!="string"&&typeof t!="number"&&!lr.isBN(t)){Jo(typeof t=="object"&&t&&typeof t.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Jo(t.length>>>0===t.length);for(var n=0;n<t.length;n++)Jo((t[n]&255)===t[n])}i=this.keyFromPrivate(i,s),t=this._truncateToN(t,!1,r.msgBitLength),Jo(!t.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=i.getPrivate().toArray("be",o),l=t.toArray("be",o);Jo(new lr(l).eq(t),"Can not sign message");for(var c=new J1({hash:this.hash,entropy:a,nonce:l,pers:r.pers,persEnc:r.persEnc||"utf8"}),d=this.n.sub(new lr(1)),u=0;;u++){var f=r.k?r.k(u):new lr(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(d)>=0)){var g=this.g.mul(f);if(!g.isInfinity()){var m=g.getX(),y=m.umod(this.n);if(y.cmpn(0)!==0){var b=f.invm(this.n).mul(y.mul(i.getPrivate()).iadd(t));if(b=b.umod(this.n),b.cmpn(0)!==0){var S=(g.getY().isOdd()?1:0)|(m.cmp(y)!==0?2:0);return r.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),S^=1),new Qh({r:y,s:b,recoveryParam:S})}}}}}};zs.prototype.verify=function(t,i,s,r,n){n||(n={}),t=this._truncateToN(t,!1,n.msgBitLength),s=this.keyFromPublic(s,r),i=new Qh(i,"hex");var o=i.r,a=i.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),c=l.mul(t).umod(this.n),d=l.mul(o).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,s.getPublic(),d),u.isInfinity()?!1:u.eqXToP(o)):(u=this.g.mulAdd(c,s.getPublic(),d),u.isInfinity()?!1:u.getX().umod(this.n).cmp(o)===0)};zs.prototype.recoverPubKey=function(e,t,i,s){Jo((3&i)===i,"The recovery param is more than two bits"),t=new Qh(t,s);var r=this.n,n=new lr(e),o=t.r,a=t.s,l=i&1,c=i>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var d=t.r.invm(r),u=r.sub(n).mul(d).umod(r),f=a.mul(d).umod(r);return this.g.mulAdd(u,o,f)};zs.prototype.getKeyRecoveryParam=function(e,t,i,s){if(t=new Qh(t,s),t.recoveryParam!==null)return t.recoveryParam;for(var r=0;r<4;r++){var n;try{n=this.recoverPubKey(e,t,r)}catch{continue}if(n.eq(i))return r}throw new Error("Unable to find valid recovery factor")};var eu=ks,U1=eu.assert,E0=eu.parseBytes,sc=eu.cachedProperty;function Ii(e,t){this.eddsa=e,this._secret=E0(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=E0(t.pub)}Ii.fromPublic=function(t,i){return i instanceof Ii?i:new Ii(t,{pub:i})};Ii.fromSecret=function(t,i){return i instanceof Ii?i:new Ii(t,{secret:i})};Ii.prototype.secret=function(){return this._secret};sc(Ii,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});sc(Ii,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});sc(Ii,"privBytes",function(){var t=this.eddsa,i=this.hash(),s=t.encodingLength-1,r=i.slice(0,t.encodingLength);return r[0]&=248,r[s]&=127,r[s]|=64,r});sc(Ii,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});sc(Ii,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});sc(Ii,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Ii.prototype.sign=function(t){return U1(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};Ii.prototype.verify=function(t,i){return this.eddsa.verify(t,i,this)};Ii.prototype.getSecret=function(t){return U1(this._secret,"KeyPair is public only"),eu.encode(this.secret(),t)};Ii.prototype.getPublic=function(t){return eu.encode(this.pubBytes(),t)};var XI=Ii,JI=sn,$h=ks,M0=$h.assert,ef=$h.cachedProperty,UI=$h.parseBytes;function Wa(e,t){this.eddsa=e,typeof t!="object"&&(t=UI(t)),Array.isArray(t)&&(M0(t.length===e.encodingLength*2,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),M0(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof JI&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}ef(Wa,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});ef(Wa,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});ef(Wa,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});ef(Wa,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Wa.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Wa.prototype.toHex=function(){return $h.encode(this.toBytes(),"hex").toUpperCase()};var qI=Wa,KI=Or,QI=qh,wl=ks,$I=wl.assert,q1=wl.parseBytes,K1=XI,k0=qI;function ps(e){if($I(e==="ed25519","only tested with ed25519 so far"),!(this instanceof ps))return new ps(e);e=QI[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=KI.sha512}var e5=ps;ps.prototype.sign=function(t,i){t=q1(t);var s=this.keyFromSecret(i),r=this.hashInt(s.messagePrefix(),t),n=this.g.mul(r),o=this.encodePoint(n),a=this.hashInt(o,s.pubBytes(),t).mul(s.priv()),l=r.add(a).umod(this.curve.n);return this.makeSignature({R:n,S:l,Rencoded:o})};ps.prototype.verify=function(t,i,s){if(t=q1(t),i=this.makeSignature(i),i.S().gte(i.eddsa.curve.n)||i.S().isNeg())return!1;var r=this.keyFromPublic(s),n=this.hashInt(i.Rencoded(),r.pubBytes(),t),o=this.g.mul(i.S()),a=i.R().add(r.pub().mul(n));return a.eq(o)};ps.prototype.hashInt=function(){for(var t=this.hash(),i=0;i<arguments.length;i++)t.update(arguments[i]);return wl.intFromLE(t.digest()).umod(this.curve.n)};ps.prototype.keyFromPublic=function(t){return K1.fromPublic(this,t)};ps.prototype.keyFromSecret=function(t){return K1.fromSecret(this,t)};ps.prototype.makeSignature=function(t){return t instanceof k0?t:new k0(this,t)};ps.prototype.encodePoint=function(t){var i=t.getY().toArray("le",this.encodingLength);return i[this.encodingLength-1]|=t.getX().isOdd()?128:0,i};ps.prototype.decodePoint=function(t){t=wl.parseBytes(t);var i=t.length-1,s=t.slice(0,i).concat(t[i]&-129),r=(t[i]&128)!==0,n=wl.intFromLE(s);return this.curve.pointFromY(n,r)};ps.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};ps.prototype.decodeInt=function(t){return wl.intFromLE(t)};ps.prototype.isPoint=function(t){return t instanceof this.pointClass};(function(e){var t=e;t.version=II.version,t.utils=ks,t.rand=km,t.curve=Pm,t.curves=qh,t.ec=jI,t.eddsa=e5})(Xp);function p(e,t,i,s){var r=arguments.length,n=r<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,i):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(n=(r<3?o(n):r>3?o(t,i,n):o(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const t5=4,D0=0,G0=1,i5=2;function rc(e){let t=e.length;for(;--t>=0;)e[t]=0}const s5=0,Q1=1,r5=2,n5=3,o5=258,Tm=29,tu=256,sd=tu+1+Tm,ll=30,Lm=19,$1=2*sd+1,Qo=15,Uf=16,a5=7,Nm=256,ew=16,tw=17,iw=18,Up=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Nu=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l5=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),sw=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c5=512,ln=new Array((sd+2)*2);rc(ln);const Hc=new Array(ll*2);rc(Hc);const rd=new Array(c5);rc(rd);const nd=new Array(o5-n5+1);rc(nd);const Vm=new Array(Tm);rc(Vm);const ih=new Array(ll);rc(ih);function qf(e,t,i,s,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=s,this.max_length=r,this.has_stree=e&&e.length}let rw,nw,ow;function Kf(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const aw=e=>e<256?rd[e]:rd[256+(e>>>7)],od=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},os=(e,t,i)=>{e.bi_valid>Uf-i?(e.bi_buf|=t<<e.bi_valid&65535,od(e,e.bi_buf),e.bi_buf=t>>Uf-e.bi_valid,e.bi_valid+=i-Uf):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},Mr=(e,t,i)=>{os(e,i[t*2],i[t*2+1])},lw=(e,t)=>{let i=0;do i|=e&1,e>>>=1,i<<=1;while(--t>0);return i>>>1},d5=e=>{e.bi_valid===16?(od(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},u5=(e,t)=>{const i=t.dyn_tree,s=t.max_code,r=t.stat_desc.static_tree,n=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,u,f,g,m,y=0;for(f=0;f<=Qo;f++)e.bl_count[f]=0;for(i[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<$1;c++)d=e.heap[c],f=i[i[d*2+1]*2+1]+1,f>l&&(f=l,y++),i[d*2+1]=f,!(d>s)&&(e.bl_count[f]++,g=0,d>=a&&(g=o[d-a]),m=i[d*2],e.opt_len+=m*(f+g),n&&(e.static_len+=m*(r[d*2+1]+g)));if(y!==0){do{for(f=l-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[l]--,y-=2}while(y>0);for(f=l;f!==0;f--)for(d=e.bl_count[f];d!==0;)u=e.heap[--c],!(u>s)&&(i[u*2+1]!==f&&(e.opt_len+=(f-i[u*2+1])*i[u*2],i[u*2+1]=f),d--)}},cw=(e,t,i)=>{const s=new Array(Qo+1);let r=0,n,o;for(n=1;n<=Qo;n++)r=r+i[n-1]<<1,s[n]=r;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=lw(s[a]++,a))}},h5=()=>{let e,t,i,s,r;const n=new Array(Qo+1);for(i=0,s=0;s<Tm-1;s++)for(Vm[s]=i,e=0;e<1<<Up[s];e++)nd[i++]=s;for(nd[i-1]=s,r=0,s=0;s<16;s++)for(ih[s]=r,e=0;e<1<<Nu[s];e++)rd[r++]=s;for(r>>=7;s<ll;s++)for(ih[s]=r<<7,e=0;e<1<<Nu[s]-7;e++)rd[256+r++]=s;for(t=0;t<=Qo;t++)n[t]=0;for(e=0;e<=143;)ln[e*2+1]=8,e++,n[8]++;for(;e<=255;)ln[e*2+1]=9,e++,n[9]++;for(;e<=279;)ln[e*2+1]=7,e++,n[7]++;for(;e<=287;)ln[e*2+1]=8,e++,n[8]++;for(cw(ln,sd+1,n),e=0;e<ll;e++)Hc[e*2+1]=5,Hc[e*2]=lw(e,5);rw=new qf(ln,Up,tu+1,sd,Qo),nw=new qf(Hc,Nu,0,ll,Qo),ow=new qf(new Array(0),l5,0,Lm,a5)},dw=e=>{let t;for(t=0;t<sd;t++)e.dyn_ltree[t*2]=0;for(t=0;t<ll;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Lm;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Nm*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},uw=e=>{e.bi_valid>8?od(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},P0=(e,t,i,s)=>{const r=t*2,n=i*2;return e[r]<e[n]||e[r]===e[n]&&s[t]<=s[i]},Qf=(e,t,i)=>{const s=e.heap[i];let r=i<<1;for(;r<=e.heap_len&&(r<e.heap_len&&P0(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!P0(t,s,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=s},O0=(e,t,i)=>{let s,r,n=0,o,a;if(e.sym_next!==0)do s=e.pending_buf[e.sym_buf+n++]&255,s+=(e.pending_buf[e.sym_buf+n++]&255)<<8,r=e.pending_buf[e.sym_buf+n++],s===0?Mr(e,r,t):(o=nd[r],Mr(e,o+tu+1,t),a=Up[o],a!==0&&(r-=Vm[o],os(e,r,a)),s--,o=aw(s),Mr(e,o,i),a=Nu[o],a!==0&&(s-=ih[o],os(e,s,a)));while(n<e.sym_next);Mr(e,Nm,t)},qp=(e,t)=>{const i=t.dyn_tree,s=t.stat_desc.static_tree,r=t.stat_desc.has_stree,n=t.stat_desc.elems;let o,a,l=-1,c;for(e.heap_len=0,e.heap_max=$1,o=0;o<n;o++)i[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):i[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,i[c*2]=1,e.depth[c]=0,e.opt_len--,r&&(e.static_len-=s[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)Qf(e,i,o);c=n;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Qf(e,i,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,i[c*2]=i[o*2]+i[a*2],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,i[o*2+1]=i[a*2+1]=c,e.heap[1]=c++,Qf(e,i,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],u5(e,t),cw(i,l,e.bl_count)},B0=(e,t,i)=>{let s,r=-1,n,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(i+1)*2+1]=65535,s=0;s<=i;s++)n=o,o=t[(s+1)*2+1],!(++a<l&&n===o)&&(a<c?e.bl_tree[n*2]+=a:n!==0?(n!==r&&e.bl_tree[n*2]++,e.bl_tree[ew*2]++):a<=10?e.bl_tree[tw*2]++:e.bl_tree[iw*2]++,a=0,r=n,o===0?(l=138,c=3):n===o?(l=6,c=3):(l=7,c=4))},W0=(e,t,i)=>{let s,r=-1,n,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),s=0;s<=i;s++)if(n=o,o=t[(s+1)*2+1],!(++a<l&&n===o)){if(a<c)do Mr(e,n,e.bl_tree);while(--a!==0);else n!==0?(n!==r&&(Mr(e,n,e.bl_tree),a--),Mr(e,ew,e.bl_tree),os(e,a-3,2)):a<=10?(Mr(e,tw,e.bl_tree),os(e,a-3,3)):(Mr(e,iw,e.bl_tree),os(e,a-11,7));a=0,r=n,o===0?(l=138,c=3):n===o?(l=6,c=3):(l=7,c=4)}},f5=e=>{let t;for(B0(e,e.dyn_ltree,e.l_desc.max_code),B0(e,e.dyn_dtree,e.d_desc.max_code),qp(e,e.bl_desc),t=Lm-1;t>=3&&e.bl_tree[sw[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},p5=(e,t,i,s)=>{let r;for(os(e,t-257,5),os(e,i-1,5),os(e,s-4,4),r=0;r<s;r++)os(e,e.bl_tree[sw[r]*2+1],3);W0(e,e.dyn_ltree,t-1),W0(e,e.dyn_dtree,i-1)},g5=e=>{let t=4093624447,i;for(i=0;i<=31;i++,t>>>=1)if(t&1&&e.dyn_ltree[i*2]!==0)return D0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return G0;for(i=32;i<tu;i++)if(e.dyn_ltree[i*2]!==0)return G0;return D0};let T0=!1;const m5=e=>{T0||(h5(),T0=!0),e.l_desc=new Kf(e.dyn_ltree,rw),e.d_desc=new Kf(e.dyn_dtree,nw),e.bl_desc=new Kf(e.bl_tree,ow),e.bi_buf=0,e.bi_valid=0,dw(e)},hw=(e,t,i,s)=>{os(e,(s5<<1)+(s?1:0),3),uw(e),od(e,i),od(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i},v5=e=>{os(e,Q1<<1,3),Mr(e,Nm,ln),d5(e)},b5=(e,t,i,s)=>{let r,n,o=0;e.level>0?(e.strm.data_type===i5&&(e.strm.data_type=g5(e)),qp(e,e.l_desc),qp(e,e.d_desc),o=f5(e),r=e.opt_len+3+7>>>3,n=e.static_len+3+7>>>3,n<=r&&(r=n)):r=n=i+5,i+4<=r&&t!==-1?hw(e,t,i,s):e.strategy===t5||n===r?(os(e,(Q1<<1)+(s?1:0),3),O0(e,ln,Hc)):(os(e,(r5<<1)+(s?1:0),3),p5(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),O0(e,e.dyn_ltree,e.dyn_dtree)),dw(e),s&&uw(e)},C5=(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,t===0?e.dyn_ltree[i*2]++:(e.matches++,t--,e.dyn_ltree[(nd[i]+tu+1)*2]++,e.dyn_dtree[aw(t)*2]++),e.sym_next===e.sym_end);var y5=m5,w5=hw,S5=b5,R5=C5,A5=v5,I5={_tr_init:y5,_tr_stored_block:w5,_tr_flush_block:S5,_tr_tally:R5,_tr_align:A5};const F5=(e,t,i,s)=>{let r=e&65535|0,n=e>>>16&65535|0,o=0;for(;i!==0;){o=i>2e3?2e3:i,i-=o;do r=r+t[s++]|0,n=n+r|0;while(--o);r%=65521,n%=65521}return r|n<<16|0};var ad=F5;const x5=()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;t[i]=e}return t},_5=new Uint32Array(x5()),E5=(e,t,i,s)=>{const r=_5,n=s+i;e^=-1;for(let o=s;o<n;o++)e=e>>>8^r[(e^t[o])&255];return e^-1};var wi=E5,ua={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ta={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:M5,_tr_stored_block:Kp,_tr_flush_block:k5,_tr_tally:lo,_tr_align:D5}=I5,{Z_NO_FLUSH:co,Z_PARTIAL_FLUSH:G5,Z_FULL_FLUSH:P5,Z_FINISH:Os,Z_BLOCK:L0,Z_OK:Di,Z_STREAM_END:N0,Z_STREAM_ERROR:Lr,Z_DATA_ERROR:O5,Z_BUF_ERROR:$f,Z_DEFAULT_COMPRESSION:B5,Z_FILTERED:W5,Z_HUFFMAN_ONLY:Au,Z_RLE:T5,Z_FIXED:L5,Z_DEFAULT_STRATEGY:N5,Z_UNKNOWN:V5,Z_DEFLATED:tf}=Ta,H5=9,Z5=15,Y5=8,z5=29,j5=256,Qp=j5+1+z5,X5=30,J5=19,U5=2*Qp+1,q5=15,qe=3,io=258,Nr=io+qe+1,K5=32,Sl=42,Hm=57,$p=69,eg=73,tg=91,ig=103,$o=113,Dc=666,ts=1,nc=2,ha=3,oc=4,Q5=3,ea=(e,t)=>(e.msg=ua[t],t),V0=e=>e*2-(e>4?9:0),$n=e=>{let t=e.length;for(;--t>=0;)e[t]=0},$5=e=>{let t,i,s,r=e.w_size;t=e.hash_size,s=t;do i=e.head[--s],e.head[s]=i>=r?i-r:0;while(--t);t=r,s=t;do i=e.prev[--s],e.prev[s]=i>=r?i-r:0;while(--t)};let e4=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask,uo=e4;const ws=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),i!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,t.pending===0&&(t.pending_out=0))},Is=(e,t)=>{k5(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ws(e.strm)},ot=(e,t)=>{e.pending_buf[e.pending++]=t},Ac=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},sg=(e,t,i,s)=>{let r=e.avail_in;return r>s&&(r=s),r===0?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),i),e.state.wrap===1?e.adler=ad(e.adler,t,r,i):e.state.wrap===2&&(e.adler=wi(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)},fw=(e,t)=>{let i=e.max_chain_length,s=e.strstart,r,n,o=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-Nr?e.strstart-(e.w_size-Nr):0,c=e.window,d=e.w_mask,u=e.prev,f=e.strstart+io;let g=c[s+o-1],m=c[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do if(r=t,!(c[r+o]!==m||c[r+o-1]!==g||c[r]!==c[s]||c[++r]!==c[s+1])){s+=2,r++;do;while(c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&s<f);if(n=io-(f-s),s=f-io,n>o){if(e.match_start=t,o=n,n>=a)break;g=c[s+o-1],m=c[s+o]}}while((t=u[t&d])>l&&--i!==0);return o<=e.lookahead?o:e.lookahead},Rl=e=>{const t=e.w_size;let i,s,r;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Nr)&&(e.window.set(e.window.subarray(t,t+t-s),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),$5(e),s+=t),e.strm.avail_in===0)break;if(i=sg(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=i,e.lookahead+e.insert>=qe)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=uo(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=uo(e,e.ins_h,e.window[r+qe-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<qe)););}while(e.lookahead<Nr&&e.strm.avail_in!==0)},pw=(e,t)=>{let i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s,r,n,o=0,a=e.strm.avail_in;do{if(s=65535,n=e.bi_valid+42>>3,e.strm.avail_out<n||(n=e.strm.avail_out-n,r=e.strstart-e.block_start,s>r+e.strm.avail_in&&(s=r+e.strm.avail_in),s>n&&(s=n),s<i&&(s===0&&t!==Os||t===co||s!==r+e.strm.avail_in)))break;o=t===Os&&s===r+e.strm.avail_in?1:0,Kp(e,0,0,o),e.pending_buf[e.pending-4]=s,e.pending_buf[e.pending-3]=s>>8,e.pending_buf[e.pending-2]=~s,e.pending_buf[e.pending-1]=~s>>8,ws(e.strm),r&&(r>s&&(r=s),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,s-=r),s&&(sg(e.strm,e.strm.output,e.strm.next_out,s),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?oc:t!==co&&t!==Os&&e.strm.avail_in===0&&e.strstart===e.block_start?nc:(n=e.window_size-e.strstart,e.strm.avail_in>n&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,n+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),n>e.strm.avail_in&&(n=e.strm.avail_in),n&&(sg(e.strm,e.window,e.strstart,n),e.strstart+=n,e.insert+=n>e.w_size-e.insert?e.w_size-e.insert:n),e.high_water<e.strstart&&(e.high_water=e.strstart),n=e.bi_valid+42>>3,n=e.pending_buf_size-n>65535?65535:e.pending_buf_size-n,i=n>e.w_size?e.w_size:n,r=e.strstart-e.block_start,(r>=i||(r||t===Os)&&t!==co&&e.strm.avail_in===0&&r<=n)&&(s=r>n?n:r,o=t===Os&&e.strm.avail_in===0&&s===r?1:0,Kp(e,e.block_start,s,o),e.block_start+=s,ws(e.strm)),o?ha:ts)},ep=(e,t)=>{let i,s;for(;;){if(e.lookahead<Nr){if(Rl(e),e.lookahead<Nr&&t===co)return ts;if(e.lookahead===0)break}if(i=0,e.lookahead>=qe&&(e.ins_h=uo(e,e.ins_h,e.window[e.strstart+qe-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),i!==0&&e.strstart-i<=e.w_size-Nr&&(e.match_length=fw(e,i)),e.match_length>=qe)if(s=lo(e,e.strstart-e.match_start,e.match_length-qe),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=qe){e.match_length--;do e.strstart++,e.ins_h=uo(e,e.ins_h,e.window[e.strstart+qe-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=uo(e,e.ins_h,e.window[e.strstart+1]);else s=lo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(Is(e,!1),e.strm.avail_out===0))return ts}return e.insert=e.strstart<qe-1?e.strstart:qe-1,t===Os?(Is(e,!0),e.strm.avail_out===0?ha:oc):e.sym_next&&(Is(e,!1),e.strm.avail_out===0)?ts:nc},za=(e,t)=>{let i,s,r;for(;;){if(e.lookahead<Nr){if(Rl(e),e.lookahead<Nr&&t===co)return ts;if(e.lookahead===0)break}if(i=0,e.lookahead>=qe&&(e.ins_h=uo(e,e.ins_h,e.window[e.strstart+qe-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=qe-1,i!==0&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-Nr&&(e.match_length=fw(e,i),e.match_length<=5&&(e.strategy===W5||e.match_length===qe&&e.strstart-e.match_start>4096)&&(e.match_length=qe-1)),e.prev_length>=qe&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-qe,s=lo(e,e.strstart-1-e.prev_match,e.prev_length-qe),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=uo(e,e.ins_h,e.window[e.strstart+qe-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=qe-1,e.strstart++,s&&(Is(e,!1),e.strm.avail_out===0))return ts}else if(e.match_available){if(s=lo(e,0,e.window[e.strstart-1]),s&&Is(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ts}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=lo(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<qe-1?e.strstart:qe-1,t===Os?(Is(e,!0),e.strm.avail_out===0?ha:oc):e.sym_next&&(Is(e,!1),e.strm.avail_out===0)?ts:nc},t4=(e,t)=>{let i,s,r,n;const o=e.window;for(;;){if(e.lookahead<=io){if(Rl(e),e.lookahead<=io&&t===co)return ts;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=qe&&e.strstart>0&&(r=e.strstart-1,s=o[r],s===o[++r]&&s===o[++r]&&s===o[++r])){n=e.strstart+io;do;while(s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&r<n);e.match_length=io-(n-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=qe?(i=lo(e,1,e.match_length-qe),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=lo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(Is(e,!1),e.strm.avail_out===0))return ts}return e.insert=0,t===Os?(Is(e,!0),e.strm.avail_out===0?ha:oc):e.sym_next&&(Is(e,!1),e.strm.avail_out===0)?ts:nc},i4=(e,t)=>{let i;for(;;){if(e.lookahead===0&&(Rl(e),e.lookahead===0)){if(t===co)return ts;break}if(e.match_length=0,i=lo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(Is(e,!1),e.strm.avail_out===0))return ts}return e.insert=0,t===Os?(Is(e,!0),e.strm.avail_out===0?ha:oc):e.sym_next&&(Is(e,!1),e.strm.avail_out===0)?ts:nc};function Rr(e,t,i,s,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=s,this.func=r}const Gc=[new Rr(0,0,0,0,pw),new Rr(4,4,8,4,ep),new Rr(4,5,16,8,ep),new Rr(4,6,32,32,ep),new Rr(4,4,16,16,za),new Rr(8,16,32,32,za),new Rr(8,16,128,128,za),new Rr(8,32,128,256,za),new Rr(32,128,258,1024,za),new Rr(32,258,258,4096,za)],s4=e=>{e.window_size=2*e.w_size,$n(e.head),e.max_lazy_match=Gc[e.level].max_lazy,e.good_match=Gc[e.level].good_length,e.nice_match=Gc[e.level].nice_length,e.max_chain_length=Gc[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=qe-1,e.match_available=0,e.ins_h=0};function r4(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tf,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(U5*2),this.dyn_dtree=new Uint16Array((2*X5+1)*2),this.bl_tree=new Uint16Array((2*J5+1)*2),$n(this.dyn_ltree),$n(this.dyn_dtree),$n(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(q5+1),this.heap=new Uint16Array(2*Qp+1),$n(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Qp+1),$n(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const iu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Sl&&t.status!==Hm&&t.status!==$p&&t.status!==eg&&t.status!==tg&&t.status!==ig&&t.status!==$o&&t.status!==Dc?1:0},gw=e=>{if(iu(e))return ea(e,Lr);e.total_in=e.total_out=0,e.data_type=V5;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Hm:t.wrap?Sl:$o,e.adler=t.wrap===2?0:1,t.last_flush=-2,M5(t),Di},mw=e=>{const t=gw(e);return t===Di&&s4(e.state),t},n4=(e,t)=>iu(e)||e.state.wrap!==2?Lr:(e.state.gzhead=t,Di),vw=(e,t,i,s,r,n)=>{if(!e)return Lr;let o=1;if(t===B5&&(t=6),s<0?(o=0,s=-s):s>15&&(o=2,s-=16),r<1||r>H5||i!==tf||s<8||s>15||t<0||t>9||n<0||n>L5||s===8&&o!==1)return ea(e,Lr);s===8&&(s=9);const a=new r4;return e.state=a,a.strm=e,a.status=Sl,a.wrap=o,a.gzhead=null,a.w_bits=s,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+qe-1)/qe),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=n,a.method=i,mw(e)},o4=(e,t)=>vw(e,t,tf,Z5,Y5,N5),a4=(e,t)=>{if(iu(e)||t>L0||t<0)return e?ea(e,Lr):Lr;const i=e.state;if(!e.output||e.avail_in!==0&&!e.input||i.status===Dc&&t!==Os)return ea(e,e.avail_out===0?$f:Lr);const s=i.last_flush;if(i.last_flush=t,i.pending!==0){if(ws(e),e.avail_out===0)return i.last_flush=-1,Di}else if(e.avail_in===0&&V0(t)<=V0(s)&&t!==Os)return ea(e,$f);if(i.status===Dc&&e.avail_in!==0)return ea(e,$f);if(i.status===Sl&&i.wrap===0&&(i.status=$o),i.status===Sl){let r=tf+(i.w_bits-8<<4)<<8,n=-1;if(i.strategy>=Au||i.level<2?n=0:i.level<6?n=1:i.level===6?n=2:n=3,r|=n<<6,i.strstart!==0&&(r|=K5),r+=31-r%31,Ac(i,r),i.strstart!==0&&(Ac(i,e.adler>>>16),Ac(i,e.adler&65535)),e.adler=1,i.status=$o,ws(e),i.pending!==0)return i.last_flush=-1,Di}if(i.status===Hm){if(e.adler=0,ot(i,31),ot(i,139),ot(i,8),i.gzhead)ot(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ot(i,i.gzhead.time&255),ot(i,i.gzhead.time>>8&255),ot(i,i.gzhead.time>>16&255),ot(i,i.gzhead.time>>24&255),ot(i,i.level===9?2:i.strategy>=Au||i.level<2?4:0),ot(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(ot(i,i.gzhead.extra.length&255),ot(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=wi(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=$p;else if(ot(i,0),ot(i,0),ot(i,0),ot(i,0),ot(i,0),ot(i,i.level===9?2:i.strategy>=Au||i.level<2?4:0),ot(i,Q5),i.status=$o,ws(e),i.pending!==0)return i.last_flush=-1,Di}if(i.status===$p){if(i.gzhead.extra){let r=i.pending,n=(i.gzhead.extra.length&65535)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let a=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+a),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>r&&(e.adler=wi(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex+=a,ws(e),i.pending!==0)return i.last_flush=-1,Di;r=0,n-=a}let o=new Uint8Array(i.gzhead.extra);i.pending_buf.set(o.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>r&&(e.adler=wi(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex=0}i.status=eg}if(i.status===eg){if(i.gzhead.name){let r=i.pending,n;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r&&(e.adler=wi(e.adler,i.pending_buf,i.pending-r,r)),ws(e),i.pending!==0)return i.last_flush=-1,Di;r=0}i.gzindex<i.gzhead.name.length?n=i.gzhead.name.charCodeAt(i.gzindex++)&255:n=0,ot(i,n)}while(n!==0);i.gzhead.hcrc&&i.pending>r&&(e.adler=wi(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex=0}i.status=tg}if(i.status===tg){if(i.gzhead.comment){let r=i.pending,n;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r&&(e.adler=wi(e.adler,i.pending_buf,i.pending-r,r)),ws(e),i.pending!==0)return i.last_flush=-1,Di;r=0}i.gzindex<i.gzhead.comment.length?n=i.gzhead.comment.charCodeAt(i.gzindex++)&255:n=0,ot(i,n)}while(n!==0);i.gzhead.hcrc&&i.pending>r&&(e.adler=wi(e.adler,i.pending_buf,i.pending-r,r))}i.status=ig}if(i.status===ig){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(ws(e),i.pending!==0))return i.last_flush=-1,Di;ot(i,e.adler&255),ot(i,e.adler>>8&255),e.adler=0}if(i.status=$o,ws(e),i.pending!==0)return i.last_flush=-1,Di}if(e.avail_in!==0||i.lookahead!==0||t!==co&&i.status!==Dc){let r=i.level===0?pw(i,t):i.strategy===Au?i4(i,t):i.strategy===T5?t4(i,t):Gc[i.level].func(i,t);if((r===ha||r===oc)&&(i.status=Dc),r===ts||r===ha)return e.avail_out===0&&(i.last_flush=-1),Di;if(r===nc&&(t===G5?D5(i):t!==L0&&(Kp(i,0,0,!1),t===P5&&($n(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),ws(e),e.avail_out===0))return i.last_flush=-1,Di}return t!==Os?Di:i.wrap<=0?N0:(i.wrap===2?(ot(i,e.adler&255),ot(i,e.adler>>8&255),ot(i,e.adler>>16&255),ot(i,e.adler>>24&255),ot(i,e.total_in&255),ot(i,e.total_in>>8&255),ot(i,e.total_in>>16&255),ot(i,e.total_in>>24&255)):(Ac(i,e.adler>>>16),Ac(i,e.adler&65535)),ws(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Di:N0)},l4=e=>{if(iu(e))return Lr;const t=e.state.status;return e.state=null,t===$o?ea(e,O5):Di},c4=(e,t)=>{let i=t.length;if(iu(e))return Lr;const s=e.state,r=s.wrap;if(r===2||r===1&&s.status!==Sl||s.lookahead)return Lr;if(r===1&&(e.adler=ad(e.adler,t,i,0)),s.wrap=0,i>=s.w_size){r===0&&($n(s.head),s.strstart=0,s.block_start=0,s.insert=0);let l=new Uint8Array(s.w_size);l.set(t.subarray(i-s.w_size,i),0),t=l,i=s.w_size}const n=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,Rl(s);s.lookahead>=qe;){let l=s.strstart,c=s.lookahead-(qe-1);do s.ins_h=uo(s,s.ins_h,s.window[l+qe-1]),s.prev[l&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=l,l++;while(--c);s.strstart=l,s.lookahead=qe-1,Rl(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=qe-1,s.match_available=0,e.next_in=o,e.input=a,e.avail_in=n,s.wrap=r,Di};var d4=o4,u4=vw,h4=mw,f4=gw,p4=n4,g4=a4,m4=l4,v4=c4,b4="pako deflate (from Nodeca project)",Zc={deflateInit:d4,deflateInit2:u4,deflateReset:h4,deflateResetKeep:f4,deflateSetHeader:p4,deflate:g4,deflateEnd:m4,deflateSetDictionary:v4,deflateInfo:b4};const C4=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var y4=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const s in i)C4(i,s)&&(e[s]=i[s])}}return e},w4=e=>{let t=0;for(let s=0,r=e.length;s<r;s++)t+=e[s].length;const i=new Uint8Array(t);for(let s=0,r=0,n=e.length;s<n;s++){let o=e[s];i.set(o,r),r+=o.length}return i},sf={assign:y4,flattenChunks:w4};let bw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{bw=!1}const ld=new Uint8Array(256);for(let e=0;e<256;e++)ld[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ld[254]=ld[254]=1;var S4=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,i,s,r,n,o=e.length,a=0;for(r=0;r<o;r++)i=e.charCodeAt(r),(i&64512)===55296&&r+1<o&&(s=e.charCodeAt(r+1),(s&64512)===56320&&(i=65536+(i-55296<<10)+(s-56320),r++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(a),n=0,r=0;n<a;r++)i=e.charCodeAt(r),(i&64512)===55296&&r+1<o&&(s=e.charCodeAt(r+1),(s&64512)===56320&&(i=65536+(i-55296<<10)+(s-56320),r++)),i<128?t[n++]=i:i<2048?(t[n++]=192|i>>>6,t[n++]=128|i&63):i<65536?(t[n++]=224|i>>>12,t[n++]=128|i>>>6&63,t[n++]=128|i&63):(t[n++]=240|i>>>18,t[n++]=128|i>>>12&63,t[n++]=128|i>>>6&63,t[n++]=128|i&63);return t};const R4=(e,t)=>{if(t<65534&&e.subarray&&bw)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i="";for(let s=0;s<t;s++)i+=String.fromCharCode(e[s]);return i};var A4=(e,t)=>{const i=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let s,r;const n=new Array(i*2);for(r=0,s=0;s<i;){let o=e[s++];if(o<128){n[r++]=o;continue}let a=ld[o];if(a>4){n[r++]=65533,s+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&s<i;)o=o<<6|e[s++]&63,a--;if(a>1){n[r++]=65533;continue}o<65536?n[r++]=o:(o-=65536,n[r++]=55296|o>>10&1023,n[r++]=56320|o&1023)}return R4(n,r)},I4=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let i=t-1;for(;i>=0&&(e[i]&192)===128;)i--;return i<0||i===0?t:i+ld[e[i]]>t?i:t},cd={string2buf:S4,buf2string:A4,utf8border:I4};function F4(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Cw=F4;const yw=Object.prototype.toString,{Z_NO_FLUSH:x4,Z_SYNC_FLUSH:_4,Z_FULL_FLUSH:E4,Z_FINISH:M4,Z_OK:sh,Z_STREAM_END:k4,Z_DEFAULT_COMPRESSION:D4,Z_DEFAULT_STRATEGY:G4,Z_DEFLATED:P4}=Ta;function su(e){this.options=sf.assign({level:D4,method:P4,chunkSize:16384,windowBits:15,memLevel:8,strategy:G4},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cw,this.strm.avail_out=0;let i=Zc.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==sh)throw new Error(ua[i]);if(t.header&&Zc.deflateSetHeader(this.strm,t.header),t.dictionary){let s;if(typeof t.dictionary=="string"?s=cd.string2buf(t.dictionary):yw.call(t.dictionary)==="[object ArrayBuffer]"?s=new Uint8Array(t.dictionary):s=t.dictionary,i=Zc.deflateSetDictionary(this.strm,s),i!==sh)throw new Error(ua[i]);this._dict_set=!0}}su.prototype.push=function(e,t){const i=this.strm,s=this.options.chunkSize;let r,n;if(this.ended)return!1;for(t===~~t?n=t:n=t===!0?M4:x4,typeof e=="string"?i.input=cd.string2buf(e):yw.call(e)==="[object ArrayBuffer]"?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){if(i.avail_out===0&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),(n===_4||n===E4)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(r=Zc.deflate(i,n),r===k4)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=Zc.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===sh;if(i.avail_out===0){this.onData(i.output);continue}if(n>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(i.avail_in===0)break}return!0};su.prototype.onData=function(e){this.chunks.push(e)};su.prototype.onEnd=function(e){e===sh&&(this.result=sf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Zm(e,t){const i=new su(t);if(i.push(e,!0),i.err)throw i.msg||ua[i.err];return i.result}function O4(e,t){return t=t||{},t.raw=!0,Zm(e,t)}function B4(e,t){return t=t||{},t.gzip=!0,Zm(e,t)}var W4=su,T4=Zm,L4=O4,N4=B4,V4=Ta,H4={Deflate:W4,deflate:T4,deflateRaw:L4,gzip:N4,constants:V4};const Iu=16209,Z4=16191;var Y4=function(t,i){let s,r,n,o,a,l,c,d,u,f,g,m,y,b,S,I,F,D,V,O,L,q,T,X;const _=t.state;s=t.next_in,T=t.input,r=s+(t.avail_in-5),n=t.next_out,X=t.output,o=n-(i-t.avail_out),a=n+(t.avail_out-257),l=_.dmax,c=_.wsize,d=_.whave,u=_.wnext,f=_.window,g=_.hold,m=_.bits,y=_.lencode,b=_.distcode,S=(1<<_.lenbits)-1,I=(1<<_.distbits)-1;e:do{m<15&&(g+=T[s++]<<m,m+=8,g+=T[s++]<<m,m+=8),F=y[g&S];t:for(;;){if(D=F>>>24,g>>>=D,m-=D,D=F>>>16&255,D===0)X[n++]=F&65535;else if(D&16){V=F&65535,D&=15,D&&(m<D&&(g+=T[s++]<<m,m+=8),V+=g&(1<<D)-1,g>>>=D,m-=D),m<15&&(g+=T[s++]<<m,m+=8,g+=T[s++]<<m,m+=8),F=b[g&I];i:for(;;){if(D=F>>>24,g>>>=D,m-=D,D=F>>>16&255,D&16){if(O=F&65535,D&=15,m<D&&(g+=T[s++]<<m,m+=8,m<D&&(g+=T[s++]<<m,m+=8)),O+=g&(1<<D)-1,O>l){t.msg="invalid distance too far back",_.mode=Iu;break e}if(g>>>=D,m-=D,D=n-o,O>D){if(D=O-D,D>d&&_.sane){t.msg="invalid distance too far back",_.mode=Iu;break e}if(L=0,q=f,u===0){if(L+=c-D,D<V){V-=D;do X[n++]=f[L++];while(--D);L=n-O,q=X}}else if(u<D){if(L+=c+u-D,D-=u,D<V){V-=D;do X[n++]=f[L++];while(--D);if(L=0,u<V){D=u,V-=D;do X[n++]=f[L++];while(--D);L=n-O,q=X}}}else if(L+=u-D,D<V){V-=D;do X[n++]=f[L++];while(--D);L=n-O,q=X}for(;V>2;)X[n++]=q[L++],X[n++]=q[L++],X[n++]=q[L++],V-=3;V&&(X[n++]=q[L++],V>1&&(X[n++]=q[L++]))}else{L=n-O;do X[n++]=X[L++],X[n++]=X[L++],X[n++]=X[L++],V-=3;while(V>2);V&&(X[n++]=X[L++],V>1&&(X[n++]=X[L++]))}}else if(D&64){t.msg="invalid distance code",_.mode=Iu;break e}else{F=b[(F&65535)+(g&(1<<D)-1)];continue i}break}}else if(D&64)if(D&32){_.mode=Z4;break e}else{t.msg="invalid literal/length code",_.mode=Iu;break e}else{F=y[(F&65535)+(g&(1<<D)-1)];continue t}break}}while(s<r&&n<a);V=m>>3,s-=V,m-=V<<3,g&=(1<<m)-1,t.next_in=s,t.next_out=n,t.avail_in=s<r?5+(r-s):5-(s-r),t.avail_out=n<a?257+(a-n):257-(n-a),_.hold=g,_.bits=m};const ja=15,H0=852,Z0=592,Y0=0,tp=1,z0=2,z4=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),j4=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),X4=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),J4=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),U4=(e,t,i,s,r,n,o,a)=>{const l=a.bits;let c=0,d=0,u=0,f=0,g=0,m=0,y=0,b=0,S=0,I=0,F,D,V,O,L,q=null,T;const X=new Uint16Array(ja+1),_=new Uint16Array(ja+1);let v=null,w,R,A;for(c=0;c<=ja;c++)X[c]=0;for(d=0;d<s;d++)X[t[i+d]]++;for(g=l,f=ja;f>=1&&X[f]===0;f--);if(g>f&&(g=f),f===0)return r[n++]=1<<24|64<<16|0,r[n++]=1<<24|64<<16|0,a.bits=1,0;for(u=1;u<f&&X[u]===0;u++);for(g<u&&(g=u),b=1,c=1;c<=ja;c++)if(b<<=1,b-=X[c],b<0)return-1;if(b>0&&(e===Y0||f!==1))return-1;for(_[1]=0,c=1;c<ja;c++)_[c+1]=_[c]+X[c];for(d=0;d<s;d++)t[i+d]!==0&&(o[_[t[i+d]]++]=d);if(e===Y0?(q=v=o,T=20):e===tp?(q=z4,v=j4,T=257):(q=X4,v=J4,T=0),I=0,d=0,c=u,L=n,m=g,y=0,V=-1,S=1<<g,O=S-1,e===tp&&S>H0||e===z0&&S>Z0)return 1;for(;;){w=c-y,o[d]+1<T?(R=0,A=o[d]):o[d]>=T?(R=v[o[d]-T],A=q[o[d]-T]):(R=96,A=0),F=1<<c-y,D=1<<m,u=D;do D-=F,r[L+(I>>y)+D]=w<<24|R<<16|A|0;while(D!==0);for(F=1<<c-1;I&F;)F>>=1;if(F!==0?(I&=F-1,I+=F):I=0,d++,--X[c]===0){if(c===f)break;c=t[i+o[d]]}if(c>g&&(I&O)!==V){for(y===0&&(y=g),L+=u,m=c-y,b=1<<m;m+y<f&&(b-=X[m+y],!(b<=0));)m++,b<<=1;if(S+=1<<m,e===tp&&S>H0||e===z0&&S>Z0)return 1;V=I&O,r[V]=g<<24|m<<16|L-n|0}}return I!==0&&(r[L+I]=c-y<<24|64<<16|0),a.bits=g,0};var Yc=U4;const q4=0,ww=1,Sw=2,{Z_FINISH:j0,Z_BLOCK:K4,Z_TREES:Fu,Z_OK:fa,Z_STREAM_END:Q4,Z_NEED_DICT:$4,Z_STREAM_ERROR:js,Z_DATA_ERROR:Rw,Z_MEM_ERROR:Aw,Z_BUF_ERROR:eF,Z_DEFLATED:X0}=Ta,rf=16180,J0=16181,U0=16182,q0=16183,K0=16184,Q0=16185,$0=16186,eb=16187,tb=16188,ib=16189,rh=16190,an=16191,ip=16192,sb=16193,sp=16194,rb=16195,nb=16196,ob=16197,ab=16198,xu=16199,_u=16200,lb=16201,cb=16202,db=16203,ub=16204,hb=16205,rp=16206,fb=16207,pb=16208,Yt=16209,Iw=16210,Fw=16211,tF=852,iF=592,sF=15,rF=sF,gb=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function nF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const La=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<rf||t.mode>Fw?1:0},xw=e=>{if(La(e))return js;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=rf,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(tF),t.distcode=t.distdyn=new Int32Array(iF),t.sane=1,t.back=-1,fa},_w=e=>{if(La(e))return js;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,xw(e)},Ew=(e,t)=>{let i;if(La(e))return js;const s=e.state;return t<0?(i=0,t=-t):(i=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?js:(s.window!==null&&s.wbits!==t&&(s.window=null),s.wrap=i,s.wbits=t,_w(e))},Mw=(e,t)=>{if(!e)return js;const i=new nF;e.state=i,i.strm=e,i.window=null,i.mode=rf;const s=Ew(e,t);return s!==fa&&(e.state=null),s},oF=e=>Mw(e,rF);let mb=!0,np,op;const aF=e=>{if(mb){np=new Int32Array(512),op=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Yc(ww,e.lens,0,288,np,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Yc(Sw,e.lens,0,32,op,0,e.work,{bits:5}),mb=!1}e.lencode=np,e.lenbits=9,e.distcode=op,e.distbits=5},kw=(e,t,i,s)=>{let r;const n=e.state;return n.window===null&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new Uint8Array(n.wsize)),s>=n.wsize?(n.window.set(t.subarray(i-n.wsize,i),0),n.wnext=0,n.whave=n.wsize):(r=n.wsize-n.wnext,r>s&&(r=s),n.window.set(t.subarray(i-s,i-s+r),n.wnext),s-=r,s?(n.window.set(t.subarray(i-s,i),0),n.wnext=s,n.whave=n.wsize):(n.wnext+=r,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=r))),0},lF=(e,t)=>{let i,s,r,n,o,a,l,c,d,u,f,g,m,y,b=0,S,I,F,D,V,O,L,q;const T=new Uint8Array(4);let X,_;const v=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(La(e)||!e.output||!e.input&&e.avail_in!==0)return js;i=e.state,i.mode===an&&(i.mode=ip),o=e.next_out,r=e.output,l=e.avail_out,n=e.next_in,s=e.input,a=e.avail_in,c=i.hold,d=i.bits,u=a,f=l,q=fa;e:for(;;)switch(i.mode){case rf:if(i.wrap===0){i.mode=ip;break}for(;d<16;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(i.wrap&2&&c===35615){i.wbits===0&&(i.wbits=15),i.check=0,T[0]=c&255,T[1]=c>>>8&255,i.check=wi(i.check,T,2,0),c=0,d=0,i.mode=J0;break}if(i.head&&(i.head.done=!1),!(i.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",i.mode=Yt;break}if((c&15)!==X0){e.msg="unknown compression method",i.mode=Yt;break}if(c>>>=4,d-=4,L=(c&15)+8,i.wbits===0&&(i.wbits=L),L>15||L>i.wbits){e.msg="invalid window size",i.mode=Yt;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=c&512?ib:an,c=0,d=0;break;case J0:for(;d<16;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(i.flags=c,(i.flags&255)!==X0){e.msg="unknown compression method",i.mode=Yt;break}if(i.flags&57344){e.msg="unknown header flags set",i.mode=Yt;break}i.head&&(i.head.text=c>>8&1),i.flags&512&&i.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,i.check=wi(i.check,T,2,0)),c=0,d=0,i.mode=U0;case U0:for(;d<32;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}i.head&&(i.head.time=c),i.flags&512&&i.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,i.check=wi(i.check,T,4,0)),c=0,d=0,i.mode=q0;case q0:for(;d<16;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}i.head&&(i.head.xflags=c&255,i.head.os=c>>8),i.flags&512&&i.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,i.check=wi(i.check,T,2,0)),c=0,d=0,i.mode=K0;case K0:if(i.flags&1024){for(;d<16;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}i.length=c,i.head&&(i.head.extra_len=c),i.flags&512&&i.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,i.check=wi(i.check,T,2,0)),c=0,d=0}else i.head&&(i.head.extra=null);i.mode=Q0;case Q0:if(i.flags&1024&&(g=i.length,g>a&&(g=a),g&&(i.head&&(L=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(s.subarray(n,n+g),L)),i.flags&512&&i.wrap&4&&(i.check=wi(i.check,s,g,n)),a-=g,n+=g,i.length-=g),i.length))break e;i.length=0,i.mode=$0;case $0:if(i.flags&2048){if(a===0)break e;g=0;do L=s[n+g++],i.head&&L&&i.length<65536&&(i.head.name+=String.fromCharCode(L));while(L&&g<a);if(i.flags&512&&i.wrap&4&&(i.check=wi(i.check,s,g,n)),a-=g,n+=g,L)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=eb;case eb:if(i.flags&4096){if(a===0)break e;g=0;do L=s[n+g++],i.head&&L&&i.length<65536&&(i.head.comment+=String.fromCharCode(L));while(L&&g<a);if(i.flags&512&&i.wrap&4&&(i.check=wi(i.check,s,g,n)),a-=g,n+=g,L)break e}else i.head&&(i.head.comment=null);i.mode=tb;case tb:if(i.flags&512){for(;d<16;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(i.wrap&4&&c!==(i.check&65535)){e.msg="header crc mismatch",i.mode=Yt;break}c=0,d=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=an;break;case ib:for(;d<32;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}e.adler=i.check=gb(c),c=0,d=0,i.mode=rh;case rh:if(i.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=n,e.avail_in=a,i.hold=c,i.bits=d,$4;e.adler=i.check=1,i.mode=an;case an:if(t===K4||t===Fu)break e;case ip:if(i.last){c>>>=d&7,d-=d&7,i.mode=rp;break}for(;d<3;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}switch(i.last=c&1,c>>>=1,d-=1,c&3){case 0:i.mode=sb;break;case 1:if(aF(i),i.mode=xu,t===Fu){c>>>=2,d-=2;break e}break;case 2:i.mode=nb;break;case 3:e.msg="invalid block type",i.mode=Yt}c>>>=2,d-=2;break;case sb:for(c>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",i.mode=Yt;break}if(i.length=c&65535,c=0,d=0,i.mode=sp,t===Fu)break e;case sp:i.mode=rb;case rb:if(g=i.length,g){if(g>a&&(g=a),g>l&&(g=l),g===0)break e;r.set(s.subarray(n,n+g),o),a-=g,n+=g,l-=g,o+=g,i.length-=g;break}i.mode=an;break;case nb:for(;d<14;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(i.nlen=(c&31)+257,c>>>=5,d-=5,i.ndist=(c&31)+1,c>>>=5,d-=5,i.ncode=(c&15)+4,c>>>=4,d-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=Yt;break}i.have=0,i.mode=ob;case ob:for(;i.have<i.ncode;){for(;d<3;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}i.lens[v[i.have++]]=c&7,c>>>=3,d-=3}for(;i.have<19;)i.lens[v[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,X={bits:i.lenbits},q=Yc(q4,i.lens,0,19,i.lencode,0,i.work,X),i.lenbits=X.bits,q){e.msg="invalid code lengths set",i.mode=Yt;break}i.have=0,i.mode=ab;case ab:for(;i.have<i.nlen+i.ndist;){for(;b=i.lencode[c&(1<<i.lenbits)-1],S=b>>>24,I=b>>>16&255,F=b&65535,!(S<=d);){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(F<16)c>>>=S,d-=S,i.lens[i.have++]=F;else{if(F===16){for(_=S+2;d<_;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(c>>>=S,d-=S,i.have===0){e.msg="invalid bit length repeat",i.mode=Yt;break}L=i.lens[i.have-1],g=3+(c&3),c>>>=2,d-=2}else if(F===17){for(_=S+3;d<_;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}c>>>=S,d-=S,L=0,g=3+(c&7),c>>>=3,d-=3}else{for(_=S+7;d<_;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}c>>>=S,d-=S,L=0,g=11+(c&127),c>>>=7,d-=7}if(i.have+g>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=Yt;break}for(;g--;)i.lens[i.have++]=L}}if(i.mode===Yt)break;if(i.lens[256]===0){e.msg="invalid code -- missing end-of-block",i.mode=Yt;break}if(i.lenbits=9,X={bits:i.lenbits},q=Yc(ww,i.lens,0,i.nlen,i.lencode,0,i.work,X),i.lenbits=X.bits,q){e.msg="invalid literal/lengths set",i.mode=Yt;break}if(i.distbits=6,i.distcode=i.distdyn,X={bits:i.distbits},q=Yc(Sw,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,X),i.distbits=X.bits,q){e.msg="invalid distances set",i.mode=Yt;break}if(i.mode=xu,t===Fu)break e;case xu:i.mode=_u;case _u:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=n,e.avail_in=a,i.hold=c,i.bits=d,Y4(e,f),o=e.next_out,r=e.output,l=e.avail_out,n=e.next_in,s=e.input,a=e.avail_in,c=i.hold,d=i.bits,i.mode===an&&(i.back=-1);break}for(i.back=0;b=i.lencode[c&(1<<i.lenbits)-1],S=b>>>24,I=b>>>16&255,F=b&65535,!(S<=d);){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(I&&!(I&240)){for(D=S,V=I,O=F;b=i.lencode[O+((c&(1<<D+V)-1)>>D)],S=b>>>24,I=b>>>16&255,F=b&65535,!(D+S<=d);){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}c>>>=D,d-=D,i.back+=D}if(c>>>=S,d-=S,i.back+=S,i.length=F,I===0){i.mode=hb;break}if(I&32){i.back=-1,i.mode=an;break}if(I&64){e.msg="invalid literal/length code",i.mode=Yt;break}i.extra=I&15,i.mode=lb;case lb:if(i.extra){for(_=i.extra;d<_;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}i.length+=c&(1<<i.extra)-1,c>>>=i.extra,d-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=cb;case cb:for(;b=i.distcode[c&(1<<i.distbits)-1],S=b>>>24,I=b>>>16&255,F=b&65535,!(S<=d);){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(!(I&240)){for(D=S,V=I,O=F;b=i.distcode[O+((c&(1<<D+V)-1)>>D)],S=b>>>24,I=b>>>16&255,F=b&65535,!(D+S<=d);){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}c>>>=D,d-=D,i.back+=D}if(c>>>=S,d-=S,i.back+=S,I&64){e.msg="invalid distance code",i.mode=Yt;break}i.offset=F,i.extra=I&15,i.mode=db;case db:if(i.extra){for(_=i.extra;d<_;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}i.offset+=c&(1<<i.extra)-1,c>>>=i.extra,d-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=Yt;break}i.mode=ub;case ub:if(l===0)break e;if(g=f-l,i.offset>g){if(g=i.offset-g,g>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=Yt;break}g>i.wnext?(g-=i.wnext,m=i.wsize-g):m=i.wnext-g,g>i.length&&(g=i.length),y=i.window}else y=r,m=o-i.offset,g=i.length;g>l&&(g=l),l-=g,i.length-=g;do r[o++]=y[m++];while(--g);i.length===0&&(i.mode=_u);break;case hb:if(l===0)break e;r[o++]=i.length,l--,i.mode=_u;break;case rp:if(i.wrap){for(;d<32;){if(a===0)break e;a--,c|=s[n++]<<d,d+=8}if(f-=l,e.total_out+=f,i.total+=f,i.wrap&4&&f&&(e.adler=i.check=i.flags?wi(i.check,r,f,o-f):ad(i.check,r,f,o-f)),f=l,i.wrap&4&&(i.flags?c:gb(c))!==i.check){e.msg="incorrect data check",i.mode=Yt;break}c=0,d=0}i.mode=fb;case fb:if(i.wrap&&i.flags){for(;d<32;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(i.wrap&4&&c!==(i.total&4294967295)){e.msg="incorrect length check",i.mode=Yt;break}c=0,d=0}i.mode=pb;case pb:q=Q4;break e;case Yt:q=Rw;break e;case Iw:return Aw;case Fw:default:return js}return e.next_out=o,e.avail_out=l,e.next_in=n,e.avail_in=a,i.hold=c,i.bits=d,(i.wsize||f!==e.avail_out&&i.mode<Yt&&(i.mode<rp||t!==j0))&&kw(e,e.output,e.next_out,f-e.avail_out),u-=e.avail_in,f-=e.avail_out,e.total_in+=u,e.total_out+=f,i.total+=f,i.wrap&4&&f&&(e.adler=i.check=i.flags?wi(i.check,r,f,e.next_out-f):ad(i.check,r,f,e.next_out-f)),e.data_type=i.bits+(i.last?64:0)+(i.mode===an?128:0)+(i.mode===xu||i.mode===sp?256:0),(u===0&&f===0||t===j0)&&q===fa&&(q=eF),q},cF=e=>{if(La(e))return js;let t=e.state;return t.window&&(t.window=null),e.state=null,fa},dF=(e,t)=>{if(La(e))return js;const i=e.state;return i.wrap&2?(i.head=t,t.done=!1,fa):js},uF=(e,t)=>{const i=t.length;let s,r,n;return La(e)||(s=e.state,s.wrap!==0&&s.mode!==rh)?js:s.mode===rh&&(r=1,r=ad(r,t,i,0),r!==s.check)?Rw:(n=kw(e,t,i,i),n?(s.mode=Iw,Aw):(s.havedict=1,fa))};var hF=_w,fF=Ew,pF=xw,gF=oF,mF=Mw,vF=lF,bF=cF,CF=dF,yF=uF,wF="pako inflate (from Nodeca project)",cn={inflateReset:hF,inflateReset2:fF,inflateResetKeep:pF,inflateInit:gF,inflateInit2:mF,inflate:vF,inflateEnd:bF,inflateGetHeader:CF,inflateSetDictionary:yF,inflateInfo:wF};function SF(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var RF=SF;const Dw=Object.prototype.toString,{Z_NO_FLUSH:AF,Z_FINISH:IF,Z_OK:dd,Z_STREAM_END:ap,Z_NEED_DICT:lp,Z_STREAM_ERROR:FF,Z_DATA_ERROR:vb,Z_MEM_ERROR:xF}=Ta;function ru(e){this.options=sf.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cw,this.strm.avail_out=0;let i=cn.inflateInit2(this.strm,t.windowBits);if(i!==dd)throw new Error(ua[i]);if(this.header=new RF,cn.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=cd.string2buf(t.dictionary):Dw.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=cn.inflateSetDictionary(this.strm,t.dictionary),i!==dd)))throw new Error(ua[i])}ru.prototype.push=function(e,t){const i=this.strm,s=this.options.chunkSize,r=this.options.dictionary;let n,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?IF:AF,Dw.call(e)==="[object ArrayBuffer]"?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),n=cn.inflate(i,o),n===lp&&r&&(n=cn.inflateSetDictionary(i,r),n===dd?n=cn.inflate(i,o):n===vb&&(n=lp));i.avail_in>0&&n===ap&&i.state.wrap>0&&e[i.next_in]!==0;)cn.inflateReset(i),n=cn.inflate(i,o);switch(n){case FF:case vb:case lp:case xF:return this.onEnd(n),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(i.avail_out===0||n===ap))if(this.options.to==="string"){let l=cd.utf8border(i.output,i.next_out),c=i.next_out-l,d=cd.buf2string(i.output,l);i.next_out=c,i.avail_out=s-c,c&&i.output.set(i.output.subarray(l,l+c),0),this.onData(d)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(!(n===dd&&a===0)){if(n===ap)return n=cn.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(i.avail_in===0)break}}return!0};ru.prototype.onData=function(e){this.chunks.push(e)};ru.prototype.onEnd=function(e){e===dd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ym(e,t){const i=new ru(t);if(i.push(e),i.err)throw i.msg||ua[i.err];return i.result}function _F(e,t){return t=t||{},t.raw=!0,Ym(e,t)}var EF=ru,MF=Ym,kF=_F,DF=Ym,GF=Ta,PF={Inflate:EF,inflate:MF,inflateRaw:kF,ungzip:DF,constants:GF};const{Deflate:OF,deflate:BF,deflateRaw:WF,gzip:TF}=H4,{Inflate:LF,inflate:NF,inflateRaw:VF,ungzip:HF}=PF;var ZF=OF,YF=BF,zF=WF,jF=TF,XF=LF,JF=NF,UF=VF,qF=HF,KF=Ta,ho={Deflate:ZF,deflate:YF,deflateRaw:zF,gzip:jF,Inflate:XF,inflate:JF,inflateRaw:UF,ungzip:qF,constants:KF};/**
 * @wharfkit/antelope v1.0.13
 * https://github.com/wharfkit/antelope
 *
 * @license
 * Copyright (c) 2023 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * 1.  Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 * 2.  Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 * 3.  Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */function Al(e,t){const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(e[s]!==t[s])return!1;return!0}function QF(e,t){const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(!e[s].equals(t[s]))return!1;return!0}const so={};function Gw(){so.enc=new Array(255),so.dec={};for(let e=0;e<=255;++e){const t=e.toString(16).padStart(2,"0");so.enc[e]=t,so.dec[t]=e}}function zm(e){so.enc||Gw();const t=e.length,i=new Array(t);for(let s=0;s<t;++s)i[s]=so.enc[e[s]];return i.join("")}function $F(e){if(so.dec||Gw(),typeof e!="string")throw new Error("Expected string containing hex digits");if(e.length%2)throw new Error("Odd number of hex digits");e=e.toLowerCase();const t=e.length/2,i=new Uint8Array(t);for(let s=0;s<t;s++){const r=so.dec[e[s*2]+e[s*2+1]];if(r===void 0)throw new Error("Expected hex string");i[s]=r}return i}function nf(e){return T3(e)}let bb=!1;function ve(e,t){if(e instanceof t)return!0;if(e==null||typeof e!="object")return!1;const i=t.__className||t.abiName;if(!i)return!1;let s=e.constructor,r=!1;for(;s&&!r;){const n=s.__className||s.abiName;if(!n)break;r=i==n,s=Object.getPrototypeOf(s)}return r&&!bb&&(console.warn(`Detected alien instance of ${i}, this usually means more than one version of @wharfkit/antelope has been included in your bundle.`),bb=!0),r}let nu=class{static from(t){if(ve(t,this))return t;if(typeof t=="string")return this.fromString(t);throw new Error("Invalid blob")}static fromString(t){if(typeof Buffer=="function")return new this(new Uint8Array(Buffer.from(t,"base64")));switch(t.length%4){case 2:t+="==";break;case 3:t+="=";break;case 1:t=t.substring(0,t.length-1);break}const i=atob(t),s=new Uint8Array(i.length);for(let r=0;r<i.length;r++)s[r]=i.charCodeAt(r);return new this(s)}constructor(t){this.array=t}equals(t){const i=this.constructor;try{return Al(this.array,i.from(t).array)}catch{return!1}}get base64String(){return typeof Buffer=="function"?Buffer.from(this.array).toString("base64"):btoa(this.utf8String)}get utf8String(){return new TextDecoder().decode(this.array)}toABI(t){t.writeArray(this.array)}toString(){return this.base64String}toJSON(){return this.toString()}};nu.abiName="blob";class pe{static from(t,i){return ve(t,this)?t:typeof t=="string"?this.fromString(t,i):ArrayBuffer.isView(t)?new this(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)):ve(t.array,Uint8Array)?new this(t.array):new this(new Uint8Array(t))}static fromString(t,i="hex"){if(i==="hex"){const s=$F(t);return new this(s)}else if(i=="utf8"){const s=new TextEncoder;return new this(s.encode(t))}else throw new Error(`Unknown encoding: ${i}`)}static fromABI(t){const i=t.readVaruint32();return new this(t.readArray(i))}static abiDefault(){return new pe}static equal(t,i){return this.from(t).equals(this.from(i))}static random(t){return new this(nf(t))}static isBytes(t){return!!(ve(t,pe)||ve(t,Uint8Array)||Array.isArray(t)&&t.every(i=>typeof i=="number")||typeof t=="string"&&(/[\da-f]/i.test(t)||t===""))}constructor(t=new Uint8Array){this.array=t}get length(){return this.array.byteLength}get hexString(){return zm(this.array)}get utf8String(){return new TextDecoder().decode(this.array)}append(t){t=pe.from(t);const i=this.array.byteLength+t.array.byteLength,s=new ArrayBuffer(i),r=new Uint8Array(s);r.set(this.array),r.set(t.array,this.array.byteLength),this.array=r}appending(t){const i=new pe(this.array);return i.append(t),i}zeropad(t,i=!1){const s=i?t:Math.max(t,this.array.byteLength),r=new ArrayBuffer(s),n=new Uint8Array(r);n.fill(0),i&&this.array.byteLength>s?n.set(this.array.slice(0,s),0):n.set(this.array,s-this.array.byteLength),this.array=n}zeropadded(t,i=!1){const s=new pe(this.array);return s.zeropad(t,i),s}dropFirst(t=1){this.array=this.array.subarray(t)}droppingFirst(t=1){return new pe(this.array.subarray(t))}copy(){const t=new ArrayBuffer(this.array.byteLength),i=new Uint8Array(t);return i.set(this.array),new pe(i)}equals(t){return Al(this.array,pe.from(t).array)}toString(t="hex"){if(t==="hex")return this.hexString;if(t==="utf8")return this.utf8String;throw new Error(`Unknown encoding: ${t}`)}toABI(t){t.writeVaruint32(this.array.byteLength),t.writeArray(this.array)}toJSON(){return this.hexString}}pe.abiName="bytes";class ac{static from(t){return ve(t,this)?t:ve(t,ac)?new this(t.array):new this(pe.from(t).array)}static fromABI(t){return new this(t.readArray(this.byteSize))}static abiDefault(){return new this(new Uint8Array(this.byteSize))}constructor(t){const i=this.constructor.byteSize;if(t.byteLength!==i)throw new Error(`Checksum size mismatch, expected ${i} bytes got ${t.byteLength}`);this.array=t}equals(t){const i=this.constructor;try{return Al(this.array,i.from(t).array)}catch{return!1}}get hexString(){return zm(this.array)}toABI(t){t.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}}ac.abiName="__checksum";class _e extends ac{static from(t){return super.from(t)}static hash(t){const i=new Uint8Array(Or.sha256().update(pe.from(t).array).digest());return new _e(i)}}_e.abiName="checksum256";_e.byteSize=32;class Na extends ac{static from(t){return super.from(t)}static hash(t){const i=new Uint8Array(Or.sha512().update(pe.from(t).array).digest());return new Na(i)}}Na.abiName="checksum512";Na.byteSize=64;class mo extends ac{static from(t){return super.from(t)}static hash(t){const i=new Uint8Array(Or.ripemd160().update(pe.from(t).array).digest());return new mo(i)}}mo.abiName="checksum160";mo.byteSize=20;var Qe;(function(e){e.K1="K1",e.R1="R1",e.WA="WA"})(Qe||(Qe={}));(function(e){function t(s){switch(s){case e.K1:return 0;case e.R1:return 1;case e.WA:return 2;default:throw new Error(`Unknown curve type: ${s}`)}}e.indexFor=t;function i(s){let r;switch(typeof s!="number"?r=e.indexFor(s):r=s,r){case 0:return e.K1;case 1:return e.R1;case 2:return e.WA;default:throw new Error("Unknown curve type")}}e.from=i})(Qe||(Qe={}));class Ye{static get max(){return new Xt(2).pow(new Xt(this.byteWidth*8-(this.isSigned?1:0))).isubn(1)}static get min(){return this.isSigned?this.max.ineg().isubn(1):new Xt(0)}static add(t,i,s="truncate"){return Ye.operator(t,i,s,(r,n)=>r.add(n))}static sub(t,i,s){return Ye.operator(t,i,s,(r,n)=>r.sub(n))}static mul(t,i,s){return Ye.operator(t,i,s,(r,n)=>r.mul(n))}static div(t,i,s){return Ye.operator(t,i,s,(r,n)=>{if(n.isZero())throw new Error("Division by zero");return r.div(n)})}static divRound(t,i,s){return Ye.operator(t,i,s,(r,n)=>{if(n.isZero())throw new Error("Division by zero");return r.divRound(n)})}static divCeil(t,i,s){return Ye.operator(t,i,s,(r,n)=>{if(n.isZero())throw new Error("Division by zero");const o=r.divmod(n);return o.mod.isZero()?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)})}static gt(t,i){return t.value.gt(i.value)}static lt(t,i){return t.value.lt(i.value)}static gte(t,i){return t.value.gte(i.value)}static lte(t,i){return t.value.lte(i.value)}static operator(t,i,s="truncate",r){const{a:n,b:o}=i9(t,i),a=n.constructor,l=r(n.value,o.value);return a.from(l,s)}static from(t,i){if(ve(t,this))return t;let s=this,r;if(ve(t,Ye))s=t.constructor,r=t.value.clone();else if(t instanceof Uint8Array)r=new Xt(t,void 0,"le"),s.isSigned&&(r=r.fromTwos(s.byteWidth*8));else{if(typeof t=="string"&&!/[0-9]+/.test(t)||typeof t=="number"&&!Number.isFinite(t))throw new Error("Invalid number");r=Xt.isBN(t)?t.clone():new Xt(t,10),r.isNeg()&&!s.isSigned&&(s={byteWidth:s.byteWidth,isSigned:!0})}switch(i){case"clamp":r=e9(r,this.min,this.max);break;case"truncate":r=t9(r,s,this);break}return new this(r)}static fromABI(t){return this.from(t.readArray(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){return this.from(nf(this.byteWidth))}constructor(t){const i=this.constructor;if(i.isSigned===void 0||i.byteWidth===void 0)throw new Error("Cannot instantiate abstract class Int");if(t.gt(i.max))throw new Error(`Number ${t} overflows ${i.abiName}`);if(t.lt(i.min))throw new Error(`Number ${t} underflows ${i.abiName}`);this.value=t}cast(t,i="truncate"){return this.constructor===t?this:t.from(this,i)}get byteArray(){const t=this.constructor;return(t.isSigned?this.value.toTwos(t.byteWidth*8):this.value).toArrayLike(Uint8Array,"le",t.byteWidth)}equals(t,i=!1){const s=this.constructor;if(i===!0&&ve(t,Ye)){const r=t.constructor;if(s.byteWidth!==r.byteWidth||s.isSigned!==r.isSigned)return!1}try{return this.value.eq(s.from(t).value)}catch{return!1}}add(t){this.value=this.operator(t,Ye.add).value}adding(t){return this.operator(t,Ye.add)}subtract(t){this.value=this.operator(t,Ye.sub).value}subtracting(t){return this.operator(t,Ye.sub)}multiply(t){this.value=this.operator(t,Ye.mul).value}multiplying(t){return this.operator(t,Ye.mul)}divide(t,i){this.value=this.dividing(t,i).value}dividing(t,i){let s=Ye.div;switch(i){case"ceil":s=Ye.divCeil;break;case"round":s=Ye.divRound;break}return this.operator(t,s)}gt(t){return Ye.gt(this,t)}lt(t){return Ye.lt(this,t)}gte(t){return Ye.gte(this,t)}lte(t){return Ye.lte(this,t)}operator(t,i){let s;return ve(t,Ye)?s=t:s=me.from(t,"truncate"),i(this,s).cast(this.constructor)}toNumber(){return this.value.toNumber()}toString(){return this.value.toString()}[Symbol.toPrimitive](t){return t==="number"?this.toNumber():this.toString()}toABI(t){t.writeArray(this.byteArray)}toJSON(){return this.value.bitLength()>32?this.value.toString():this.value.toNumber()}}Ye.abiName="__int";class of extends Ye{}of.abiName="int8";of.byteWidth=1;of.isSigned=!0;class af extends Ye{}af.abiName="int16";af.byteWidth=2;af.isSigned=!0;class Fn extends Ye{}Fn.abiName="int32";Fn.byteWidth=4;Fn.isSigned=!0;class me extends Ye{}me.abiName="int64";me.byteWidth=8;me.isSigned=!0;class lf extends Ye{}lf.abiName="int128";lf.byteWidth=16;lf.isSigned=!0;class Dt extends Ye{}Dt.abiName="uint8";Dt.byteWidth=1;Dt.isSigned=!1;class li extends Ye{}li.abiName="uint16";li.byteWidth=2;li.isSigned=!1;class ge extends Ye{}ge.abiName="uint32";ge.byteWidth=4;ge.isSigned=!1;class Le extends Ye{}Le.abiName="uint64";Le.byteWidth=8;Le.isSigned=!1;class Hi extends Ye{}Hi.abiName="uint128";Hi.byteWidth=16;Hi.isSigned=!1;class cf extends Ye{static fromABI(t){return new this(new Xt(t.readVarint32()))}toABI(t){t.writeVarint32(Number(this))}}cf.abiName="varint32";cf.byteWidth=32;cf.isSigned=!0;class lc extends Ye{static fromABI(t){return new this(new Xt(t.readVaruint32()))}toABI(t){t.writeVaruint32(Number(this))}}lc.abiName="varuint32";lc.byteWidth=32;lc.isSigned=!1;function e9(e,t,i){return Xt.min(Xt.max(e,t),i)}function t9(e,t,i){const s=e.isNeg()?255:0,n=(t.isSigned?e.toTwos(t.byteWidth*8):e).toArrayLike(Uint8Array,"le"),o=new Uint8Array(i.byteWidth);o.fill(s),o.set(n.slice(0,i.byteWidth));const a=new Xt(o,void 0,"le");return i.isSigned?a.fromTwos(i.byteWidth*8):a}function i9(e,t){e=Cb(e),t=Cb(t);const i=e.constructor,s=t.constructor;return i!==s&&(i.isSigned===s.isSigned?i.byteWidth>s.byteWidth?t=t.cast(i):s.byteWidth>i.byteWidth&&(e=e.cast(s)):i.isSigned===!1&&i.byteWidth>=s.byteWidth?t=t.cast(i):s.isSigned===!1&&s.byteWidth>=i.byteWidth?e=e.cast(s):i.isSigned===!0&&i.max.gte(s.max)&&i.min.lte(s.min)?t=t.cast(i):s.isSigned===!0&&s.max.gte(i.max)&&s.min.lte(i.min)&&(e=e.cast(s))),{a:e,b:t}}function Cb(e){let t=e;return e.constructor.byteWidth<4&&(t=e.cast(Fn)),t}function df(e){const t=[],i=[],s=[],r=new Set,n=l=>{let c;return typeof l.type!="string"?c=o(l.type):c=l.type,l.array===!0&&(c+="[]"),l.optional===!0&&(c+="?"),l.extension===!0&&(c+="$"),c},o=l=>{if(l.abiName){if(l.abiName==="__struct")throw new Error("Misconfigured Struct subclass, did you forget @Struct.type?")}else throw new Error("Encountered non-conforming type");if(r.has(l))return l.abiName;if(r.add(l),l.abiAlias)s.push({new_type_name:l.abiName,type:n(l.abiAlias)});else if(l.abiFields){const c=l.abiFields.map(u=>({name:u.name,type:n(u)})),d={base:l.abiBase?o(l.abiBase):"",name:l.abiName,fields:c};t.push(d)}else if(l.abiVariant){const c={name:l.abiName,types:l.abiVariant.map(n)};i.push(c)}return l.abiName},a=o(e);return{abi:ze.from({structs:t,variants:i,types:s}),types:Array.from(r),root:a}}function nh(e){let t=typeof e.type=="string"?e.type:e.type.abiName;return e.array===!0&&(t+="[]"),e.optional===!0&&(t+="?"),e.extension===!0&&(t+="$"),t}function s9(e){return typeof e!="string"&&e.abiName===void 0&&e.type!==void 0}function Pw(e){return typeof e=="string"?{type:e}:typeof e.abiName<"u"?{type:e}:e}const Ow={abiName:"string",abiDefault:()=>"",fromABI:e=>e.readString(),from:e=>e,toABI:(e,t)=>{t.writeString(e)}},Bw={abiName:"bool",abiDefault:()=>!1,fromABI:e=>e.readByte()===1,from:e=>e,toABI:(e,t)=>{t.writeByte(e===!0?1:0)}};function r9(){return[Bw,Ow,ie,ie.Symbol,ie.SymbolCode,ro,pe,mo,_e,Na,ud,uf,Jm,yi,lf,af,Fn,me,of,B,ei,Gi,Ss,ci,Hi,li,ge,Le,Dt,cf,lc]}function rg(e=[]){const t={},i=r9();for(const s of i)t[s.abiName]=s;for(const s of e){if(!s.abiName)throw new Error("Invalid type");t[s.abiName]=s}return t}function jm(e){if(e.constructor&&e.constructor.abiName!==void 0)return e.constructor.abiName;if(Array.isArray(e)){const t=e.map(jm),i=t[0];return!i||!t.every(s=>s===i)?void 0:i+"[]"}switch(typeof e){case"boolean":return"bool";case"string":return"string"}}function oh(e,t="jsobj"){var i;if(e.constructor&&e.constructor.abiName!==void 0)return e.constructor;if(Array.isArray(e)){const r=e.map(o=>oh(o,t)),n=r[0];return!n||!r.every(o=>o&&o.abiName===n.abiName)?void 0:n}const s=typeof e;if(s==="object"&&e!==null){const r=Object.keys(e).map(n=>({name:n,type:oh(e[n],t+"_nested")}));return r.find(n=>!n.type)?void 0:(i=class extends h{},i.abiName=t,i.abiFields=r,i)}switch(s){case"boolean":return Bw;case"string":return Ow}}class Ww extends Error{constructor(t,i){const s=t.codingPath.map(({field:r,type:n})=>typeof r=="number"?r:`${r}<${n.typeName}>`).join(".");super(`Decoding error at ${s}: ${i.message}`),this.stack=i.stack,this.ctx=t,this.underlyingError=i}}Ww.__className="DecodingError";function xn(e){const t=Pw(e.type),i=nh(t),s=e.customTypes||[];let r;if(e.abi)r=ze.from(e.abi);else try{let a;if(typeof t.type=="string"){const c=rg(s),d=new ze.ResolvedType(t.type).name;if(a=c[d],!a)throw new Error(`Unknown type: ${t.type}`)}else a=t.type;const l=df(a);r=l.abi,s.push(...l.types)}catch(a){throw Error(`Unable to synthesize ABI for: ${i} (${a.message}). To decode non-class types you need to pass the ABI definition manually.`)}const n=r.resolveType(i);typeof t.type!="string"&&s.unshift(t.type);const o={types:rg(s),strictExtensions:e.strictExtensions||!1,codingPath:[{field:"root",type:n}]};try{if(e.data||e.data===""){let a;if(ve(e.data,Il))a=e.data;else{const l=pe.from(e.data),c=e.ignoreInvalidUTF8===void 0?!0:!e.ignoreInvalidUTF8;a=new Il(l.array,new TextDecoder("utf-8",{fatal:c}))}return e.metadata&&(a.metadata=e.metadata),Vu(n,a,o)}else{if(e.object!==void 0)return zc(e.object,n,o);if(e.json)return zc(JSON.parse(e.json),n,o);throw new Error("Nothing to decode, you must set one of data, json, object")}}catch(a){throw new Ww(o,a)}}const pa=Symbol("Resolved");function Vu(e,t,i){if(i.codingPath.length>32)throw new Error("Maximum decoding depth exceeded");if(e.isExtension&&!t.canRead())return i.strictExtensions?jc(e,i):null;if(e.isOptional&&t.readByte()===0)return null;if(e.isArray){const r=t.readVaruint32(),n=[];for(let o=0;o<r;o++)i.codingPath.push({field:o,type:e}),n.push(s()),i.codingPath.pop();return n}else return s();function s(){const r=i.types[e.name];if(r&&r.fromABI)return r.fromABI(t);if(e.ref){i.codingPath.push({field:"",type:e.ref});const n=Vu(e.ref,t,i);return i.codingPath.pop(),n}else if(e.fields){const n=e.allFields;if(!n)throw new Error("Invalid struct fields");const o={};for(const a of n)i.codingPath.push({field:a.name,type:a.type}),o[a.name]=Vu(a.type,t,i),i.codingPath.pop();return r?(o[pa]=!0,r.from(o)):o}else if(e.variant){const n=t.readByte(),o=e.variant[n];if(!o)throw new Error(`Unknown variant idx: ${n}`);i.codingPath.push({field:`v${n}`,type:o});const a=[o.typeName,Vu(o,t,i)];return i.codingPath.pop(),r?r.from(a):a}else throw r?new Error("Invalid type"):new Error(e.name==="any"?"Unable to decode 'any' type from binary":"Unknown type")}}function zc(e,t,i){if(e==null){if(t.isOptional)return null;if(t.isExtension)return i.strictExtensions?jc(t,i):null;throw new Error(`Unexpectedly encountered ${e} for non-optional (${i.codingPath.map(r=>r.field).join(".")})`)}else if(t.isArray){if(!Array.isArray(e))throw new Error("Expected array");const r=[],n=e.length;for(let o=0;o<n;o++)i.codingPath.push({field:o,type:t}),r.push(s(e[o])),i.codingPath.pop();return r}else return s(e);function s(r){const n=i.types[t.name];if(t.ref&&!n)return zc(r,t.ref,i);if(t.fields){if(typeof r!="object")throw new Error("Expected object");if(typeof n=="function"&&ve(r,n))return r;const o=t.allFields;if(!o)throw new Error("Invalid struct fields");const a={};for(const l of o)i.codingPath.push({field:l.name,type:l.type}),a[l.name]=zc(r[l.name],l.type,i),i.codingPath.pop();return n?(a[pa]=!0,n.from(a)):a}else if(t.variant){let o;Array.isArray(r)&&r.length===2&&typeof r[0]=="string"?(o=r[0],r=r[1]):ve(r,zi)?(o=r.variantName,r=r.value):o=jm(r);const a=t.variant.findIndex(d=>d.typeName===o);if(a===-1)throw new Error(`Unknown variant type: ${o}`);const l=t.variant[a];i.codingPath.push({field:`v${a}`,type:l});const c=[l.typeName,zc(r,l,i)];return i.codingPath.pop(),n?(c[pa]=!0,n.from(c)):c}else{if(!n){if(t.name==="any")return r;throw new Error("Unknown type")}return n.from(r)}}}function jc(e,t,i=new Set){if(e.isArray)return[];if(e.isOptional)return null;const s=t.types[e.name];if(s&&s.abiDefault)return s.abiDefault();if(i.has(e.name))throw new Error("Circular type reference");if(i.add(e.name),e.allFields){const r={};for(const n of e.allFields)t.codingPath.push({field:n.name,type:n.type}),r[n.name]=jc(n.type,t,i),t.codingPath.pop();return s?(r[pa]=!0,s.from(r)):r}if(e.variant&&e.variant.length>0){const r=[e.variant[0].typeName,jc(e.variant[0],t)];return s?(r[pa]=!0,s.from(r)):r}if(e.ref){t.codingPath.push({field:"",type:e.ref});const r=jc(e.ref,t,i);return t.codingPath.pop(),r}throw new Error("Unable to determine default value")}class Il{constructor(t,i){this.array=t,this.pos=0,this.metadata={},this.textDecoder=i||new TextDecoder("utf-8",{fatal:!0}),this.data=new DataView(t.buffer,t.byteOffset,t.byteLength)}canRead(t=1){return!(this.pos+t>this.array.byteLength)}ensure(t){if(!this.canRead(t))throw new Error("Read past end of buffer")}setPosition(t){if(t<0||t>this.array.byteLength)throw new Error("Invalid position");this.pos=t}getPosition(){return this.pos}advance(t){this.ensure(t),this.pos+=t}readByte(){return this.ensure(1),this.array[this.pos++]}readFloat(t){this.ensure(t);let i;switch(t){case 4:i=this.data.getFloat32(this.pos,!0);break;case 8:i=this.data.getFloat64(this.pos,!0);break;default:throw new Error("Invalid float size")}return this.pos+=t,i}readVaruint32(){let t=0,i=0;for(;;){const s=this.readByte();if(t|=(s&127)<<i,i+=7,!(s&128))break}return t>>>0}readVarint32(){const t=this.readVaruint32();return t&1?~t>>1|2147483648:t>>>1}readArray(t){this.ensure(t);const i=this.array.subarray(this.pos,this.pos+t);return this.pos+=t,i}readString(){const t=this.readVaruint32();return this.textDecoder.decode(this.readArray(t))}}Il.__className="ABIDecoder";class Tw extends Error{constructor(t,i){const s=t.codingPath.map(({field:r,type:n})=>typeof r=="number"?r:`${r}<${n.typeName}>`).join(".");super(`Encoding error at ${s}: ${i.message}`),this.stack=i.stack,this.ctx=t,this.underlyingError=i}}Tw.__className="EncodingError";function Xs(e){let t,i;typeof e.type=="string"?i=e.type:e.type&&s9(e.type)?(typeof e.type.type!="string"&&(t=e.type.type),i=nh(e.type)):e.type&&e.type.abiName!==void 0?(t=e.type,i=e.type.abiName):(t=oh(e.object),t&&(i=t.abiName,Array.isArray(e.object)&&(i+="[]")));const s=e.customTypes?e.customTypes.slice():[];if(t)s.unshift(t);else if(i){const l=new ze.ResolvedType(i).name;t=s.find(c=>c.abiName===l)}let r;if(e.abi&&i)r=ze.from(e.abi).resolveType(i);else if(t){const l=df(t);r=l.abi.resolveType(i||t.abiName),s.push(...l.types)}else if(i)r=new ze.ResolvedType(i);else throw new Error("Unable to determine the type of the object to be encoded. To encode custom ABI types you must pass the type argument.");const n=rg(s),o=e.encoder||new Xm;e.metadata&&(o.metadata=e.metadata);const a={types:n,encoder:o,codingPath:[{field:"root",type:r}]};try{Hu(e.object,r,a)}catch(l){throw new Tw(a,l)}return pe.from(o.getData())}function Hu(e,t,i){const s=e!=null;if(t.isOptional&&(i.encoder.writeByte(s?1:0),!s))return;if(t.isArray){if(!Array.isArray(e))throw new Error(`Expected array for: ${t.typeName}`);const n=e.length;i.encoder.writeVaruint32(n);for(let o=0;o<n;o++)i.codingPath.push({field:o,type:t}),r(e[o]),i.codingPath.pop()}else r(e);function r(n){const o=i.types[t.name];if(t.ref&&!o){Hu(n,t.ref,i);return}if(!s){if(t.isExtension)return;throw new Error(`Found ${n} for non-optional type: ${t.typeName} (${i.codingPath.map(a=>a.field).join(".")})`)}if(o&&o.toABI)o.toABI(n,i.encoder);else if(typeof n.toABI=="function"&&n.constructor.abiName===t.name)n.toABI(i.encoder);else if(t.fields){if(typeof n!="object")throw new Error(`Expected object for: ${t.name}`);const a=t.allFields;if(!a)throw new Error("Invalid struct fields");for(const l of a)i.codingPath.push({field:l.name,type:l.type}),Hu(n[l.name],l.type,i),i.codingPath.pop()}else if(t.variant){let a;Array.isArray(n)&&n.length===2&&typeof n[0]=="string"?(a=n[0],n=n[1]):ve(n,zi)?(a=n.variantName,n=n.value):a=jm(n);const l=t.variant.findIndex(d=>d.typeName===a);if(l===-1){const d=t.variant.map(u=>`'${u.typeName}'`).join(", ");throw new Error(`Unknown variant type '${a}', expected one of ${d}`)}const c=t.variant[l];i.encoder.writeVaruint32(l),i.codingPath.push({field:`v${l}`,type:c}),Hu(n,c,i),i.codingPath.pop()}else{if(!o)throw new Error(t.name==="any"?"Unable to encode any type to binary":"Unknown type");const a=o.from(n);if(!a.toABI)throw new Error(`Invalid type ${t.name}, no encoding methods implemented`);a.toABI(i.encoder)}}}class Xm{constructor(t=1024){this.pageSize=t,this.pos=0,this.textEncoder=new TextEncoder,this.metadata={};const i=new ArrayBuffer(t);this.data=new DataView(i),this.array=new Uint8Array(i)}ensure(t){if(this.data.byteLength>=this.pos+t)return;const i=Math.ceil(t/this.pageSize),s=this.data.byteLength+this.pageSize*i,r=new ArrayBuffer(s),n=new DataView(r),o=new Uint8Array(r);o.set(this.array),this.data=n,this.array=o}writeByte(t){this.ensure(1),this.array[this.pos++]=t}writeArray(t){const i=t.length;this.ensure(i),this.array.set(t,this.pos),this.pos+=i}writeFloat(t,i){switch(this.ensure(i),i){case 4:this.data.setFloat32(this.pos,t,!0);break;case 8:this.data.setFloat64(this.pos,t,!0);break;default:throw new Error("Invalid float size")}this.pos+=i}writeVaruint32(t){for(this.ensure(4);;)if(t>>>7)this.array[this.pos++]=128|t&127,t=t>>>7;else{this.array[this.pos++]=t;break}}writeVarint32(t){this.writeVaruint32(t<<1^t>>31)}writeString(t){const i=this.textEncoder.encode(t);this.writeVaruint32(i.byteLength),this.writeArray(i)}getData(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.pos)}getBytes(){return new pe(this.getData())}}Xm.__className="ABIEncoder";class ze{constructor(t){this.version=t.version||ze.version,this.types=t.types||[],this.variants=t.variants||[],this.structs=t.structs||[],this.actions=t.actions||[],this.tables=t.tables||[],this.ricardian_clauses=t.ricardian_clauses||[],this.action_results=t.action_results||[]}static from(t){return ve(t,ze)?t:ve(t,nu)?xn({data:t.array,type:this}):typeof t=="string"?new ze(JSON.parse(t)):new ze(t)}static fromABI(t){const i=t.readString(),s=[],r=t.readVaruint32();for(let S=0;S<r;S++)s.push({new_type_name:t.readString(),type:t.readString()});const n=[],o=t.readVaruint32();for(let S=0;S<o;S++){const I=t.readString(),F=t.readString(),D=t.readVaruint32(),V=[];for(let O=0;O<D;O++)V.push({name:t.readString(),type:t.readString()});n.push({base:F,name:I,fields:V})}const a=[],l=t.readVaruint32();for(let S=0;S<l;S++){const I=B.fromABI(t),F=t.readString(),D=t.readString();a.push({name:I,type:F,ricardian_contract:D})}const c=[],d=t.readVaruint32();for(let S=0;S<d;S++){const I=B.fromABI(t),F=t.readString(),D=[],V=t.readVaruint32();for(let T=0;T<V;T++)D.push(t.readString());const O=[],L=t.readVaruint32();for(let T=0;T<L;T++)O.push(t.readString());const q=t.readString();c.push({name:I,index_type:F,key_names:D,key_types:O,type:q})}const u=[],f=t.readVaruint32();for(let S=0;S<f;S++){const I=t.readString(),F=t.readString();u.push({id:I,body:F})}const g=t.readVaruint32();for(let S=0;S<g;S++)t.advance(8),t.advance(t.readVaruint32());const m=t.readVaruint32();for(let S=0;S<m;S++)t.advance(2),t.advance(t.readVaruint32());const y=[];if(t.canRead()){const S=t.readVaruint32();for(let I=0;I<S;I++){const F=t.readString(),D=[],V=t.readVaruint32();for(let O=0;O<V;O++)D.push(t.readString());y.push({name:F,types:D})}}const b=[];if(t.canRead()){const S=t.readVaruint32();for(let I=0;I<S;I++){const F=B.fromABI(t),D=t.readString();b.push({name:F,result_type:D})}}return new ze({version:i,types:s,structs:n,actions:a,tables:c,ricardian_clauses:u,variants:y,action_results:b})}toABI(t){t.writeString(this.version),t.writeVaruint32(this.types.length);for(const i of this.types)t.writeString(i.new_type_name),t.writeString(i.type);t.writeVaruint32(this.structs.length);for(const i of this.structs){t.writeString(i.name),t.writeString(i.base),t.writeVaruint32(i.fields.length);for(const s of i.fields)t.writeString(s.name),t.writeString(s.type)}t.writeVaruint32(this.actions.length);for(const i of this.actions)B.from(i.name).toABI(t),t.writeString(i.type),t.writeString(i.ricardian_contract);t.writeVaruint32(this.tables.length);for(const i of this.tables){B.from(i.name).toABI(t),t.writeString(i.index_type),t.writeVaruint32(i.key_names.length);for(const s of i.key_names)t.writeString(s);t.writeVaruint32(i.key_types.length);for(const s of i.key_types)t.writeString(s);t.writeString(i.type)}t.writeVaruint32(this.ricardian_clauses.length);for(const i of this.ricardian_clauses)t.writeString(i.id),t.writeString(i.body);t.writeVaruint32(0),t.writeVaruint32(0),t.writeVaruint32(this.variants.length);for(const i of this.variants){t.writeString(i.name),t.writeVaruint32(i.types.length);for(const s of i.types)t.writeString(s)}t.writeVaruint32(this.action_results.length);for(const i of this.action_results)B.from(i.name).toABI(t),t.writeString(i.result_type)}resolveType(t){const i={};return this.resolve({name:t,types:i},{id:0})}resolveAll(){const t={},i={id:0};return{types:this.types.map(s=>this.resolve({name:s.new_type_name,types:t},i)),variants:this.variants.map(s=>this.resolve({name:s.name,types:t},i)),structs:this.structs.map(s=>this.resolve({name:s.name,types:t},i))}}resolve({name:t,types:i},s){const r=i[t];if(r)return r;const n=new ze.ResolvedType(t,++s.id);i[n.typeName]=n;const o=this.types.find(c=>c.new_type_name==n.name);if(o)return n.ref=this.resolve({name:o.type,types:i},s),n;const a=this.getStruct(n.name);if(a)return a.base&&(n.base=this.resolve({name:a.base,types:i},s)),n.fields=a.fields.map(c=>({name:c.name,type:this.resolve({name:c.type,types:i},s)})),n;const l=this.getVariant(n.name);return l&&(n.variant=l.types.map(c=>this.resolve({name:c,types:i},s))),n}getStruct(t){return this.structs.find(i=>i.name==t)}getVariant(t){return this.variants.find(i=>i.name==t)}getActionType(t){const i=B.from(t).toString(),s=this.actions.find(r=>r.name.toString()===i);if(s)return s.type}equals(t){const i=ze.from(t);return this.version!=i.version||this.types.length!=i.types.length||this.structs.length!=i.structs.length||this.actions.length!=i.actions.length||this.tables.length!=i.tables.length||this.ricardian_clauses.length!=i.ricardian_clauses.length||this.variants.length!=i.variants.length||this.action_results.length!=i.action_results.length?!1:Xs({object:this}).equals(Xs({object:i}))}toJSON(){return{version:this.version,types:this.types,structs:this.structs,actions:this.actions,tables:this.tables,ricardian_clauses:this.ricardian_clauses,error_messages:[],abi_extensions:[],variants:this.variants,action_results:this.action_results}}}ze.abiName="abi";ze.version="eosio::abi/1.1";(function(e){class t{constructor(s,r=0){let n=s;n.endsWith("$")?(n=n.slice(0,-1),this.isExtension=!0):this.isExtension=!1,n.endsWith("?")?(n=n.slice(0,-1),this.isOptional=!0):this.isOptional=!1,n.endsWith("[]")?(n=n.slice(0,-2),this.isArray=!0):this.isArray=!1,this.id=r,this.name=n}get typeName(){let s=this.name;return this.isArray&&(s+="[]"),this.isOptional&&(s+="?"),this.isExtension&&(s+="$"),s}get allFields(){let s=this;const r=[],n=new Set;do{if(!s.fields||n.has(s.name))return;for(let o=s.fields.length-1;o>=0;o--)r.unshift(s.fields[o]);n.add(s.name),s=s.base}while(s!==void 0);return r}}e.ResolvedType=t})(ze||(ze={}));class h{static from(t){return t[pa]===!0?new this(t):ve(t,this)?t:xn({object:t,type:this})}static get structFields(){const t=[],i=s=>{s.abiBase&&i(s.abiBase);for(const r of s.abiFields||[])t.push(r)};return i(this),t}constructor(t){const i=this.constructor;for(const s of i.structFields){const r=typeof s.type=="string"?new ze.ResolvedType(String(s.type)).isOptional:s.optional,n=t[s.name];r&&!n||(this[s.name]=n)}}equals(t){const i=this.constructor;return t.constructor&&typeof t.constructor.abiName=="string"&&t.constructor.abiName!==i.abiName?!1:Xs({object:this}).equals(Xs({object:i.from(t)}))}toJSON(){const t=this.constructor,i={};for(const s of t.structFields)s.optional&&!this[s.name]||(i[s.name]=this[s.name]);return i}}h.abiName="__struct";(function(e){const t=Symbol("FieldsOwner");function i(r){return function(n){return n.abiName=r,n}}e.type=i;function s(r,n={}){return(o,a)=>{const l=o.constructor;l.abiFields?l.abiFields[t]!==l&&(l.abiBase=l.abiFields[t],l.abiFields=[],l.abiFields[t]=l):(l.abiFields=[],l.abiFields[t]=l),l.abiFields.push({...n,name:a,type:r})}}e.field=s})(h||(h={}));function cc(e){return function(t){return t.abiAlias={type:Object.getPrototypeOf(t.prototype).constructor},t.abiName=e,t}}class zi{static from(t){return t[pa]?new this(t):ve(t,this)?t:xn({object:t,type:this})}constructor(t){const i=this.constructor.abiVariant;this.value=t[1];const s=i.map(nh).findIndex(r=>r===t[0]);if(0>s||i.length<=s)throw new Error(`Unknown variant ${t[0]}`);this.variantIdx=s}equals(t){const s=this.constructor.from(t);return this.variantIdx!==s.variantIdx?!1:Xs({object:this}).equals(Xs({object:s}))}get variantName(){const t=this.constructor.abiVariant[this.variantIdx];return nh(t)}toJSON(){return[this.variantName,this.value]}}zi.abiName="__variant";zi.abiVariant=[];(function(e){function t(i,s){return function(r){return r.abiName=i,r.abiVariant=s.map(Pw),r}}e.type=t})(zi||(zi={}));class ou{static from(t){return ve(t,this)?t:(typeof t=="string"?t=Number.parseFloat(t):ve(t,ou)&&(t=t.value),new this(t))}static fromABI(t){return new this(t.readFloat(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){const t=nf(this.byteWidth),i=new Il(t);return this.fromABI(i)}constructor(t){this.value=t}equals(t){const i=this.constructor;return this.value===i.from(t).value}toABI(t){const i=this.constructor;t.writeFloat(this.value,i.byteWidth)}toString(){return this.value.toString()}toJSON(){return this.toString()}}ou.abiName="__float";class Jm extends ou{toString(){return this.value.toFixed(7)}}Jm.abiName="float32";Jm.byteWidth=4;class yi extends ou{}yi.abiName="float64";yi.byteWidth=8;class uf{static from(t){return ve(t,this)?t:(typeof t=="string"&&t.startsWith("0x")&&(t=t.slice(2)),new this(pe.from(t)))}static fromABI(t){return new this(new pe(t.readArray(this.byteWidth)))}static random(){const t=nf(16),i=new Il(t);return this.fromABI(i)}constructor(t){if(t.array.length!==16)throw new Error("Invalid float128");this.data=t}equals(t){const i=this.constructor;return this.data.equals(i.from(t).data)}toABI(t){t.writeArray(this.data.array)}toString(){return"0x"+this.data.hexString}toJSON(){return this.toString()}}uf.abiName="float128";uf.byteWidth=16;class B{get rawValue(){return this.value}static from(t){if(ve(t,B))return t;if(typeof t=="string")return new B(n9(t));if(ve(t,Le))return new B(t);throw new Error("Invalid name")}static fromABI(t){return new B(Le.fromABI(t))}static abiDefault(){return new this(Le.from(0))}constructor(t){this.value=t}equals(t){return this.value.equals(B.from(t).value)}toString(){return o9(this.value)}toABI(t){this.value.toABI(t)}toJSON(){return this.toString()}}B.abiName="name";B.pattern=/^[a-z1-5.]{0,13}$/;function n9(e){function t(r){return r>=97&&r<=122?r-97+6:r>=49&&r<=53?r-49+1:0}const i=new Uint8Array(8);let s=63;for(let r=0;r<e.length;++r){let n=t(e.charCodeAt(r));s<5&&(n=n<<1);for(let o=4;o>=0;--o)s>=0&&(i[Math.floor(s/8)]|=(n>>o&1)<<s%8,--s)}return Le.from(i)}function o9(e){const t=e.value.toArray("le",8);let i="";for(let s=63;s>=0;){let r=0;for(let n=0;n<5;++n)s>=0&&(r=r<<1|t[Math.floor(s/8)]>>s%8&1,--s);r>=6?i+=String.fromCharCode(r+97-6):r>=1?i+=String.fromCharCode(r+49-1):i+="."}for(;i.endsWith(".");)i=i.substr(0,i.length-1);return i}class dc{static from(t){return ve(t,this)?t:ve(t,dc)?this.fromMilliseconds(t.toMilliseconds()):ve(t,Date)?this.fromDate(t):typeof t=="string"?this.fromString(t):this.fromInteger(t)}static fromString(t){const i=Date.parse(t+"Z");if(!Number.isFinite(i))throw new Error("Invalid date string");return this.fromMilliseconds(i)}static fromDate(t){return this.fromMilliseconds(t.getTime())}static abiDefault(){return this.from(0)}toABI(t){this.value.toABI(t)}equals(t){const i=this.constructor;return this.toMilliseconds()===i.from(t).toMilliseconds()}toMilliseconds(){throw new Error("Not implemented")}toDate(){return new Date(this.toMilliseconds())}toJSON(){return this.toString()}}dc.abiName="__time_point_base";class Ss extends dc{static fromMilliseconds(t){return new this(me.from(Math.round(t*1e3)))}static fromInteger(t){return new this(me.from(t))}static fromABI(t){return new this(me.fromABI(t))}constructor(t){super(),this.value=t}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.dividing(1e3,"round"))}}Ss.abiName="time_point";class ci extends dc{static fromMilliseconds(t){return new this(ge.from(Math.round(t/1e3)))}static fromInteger(t){return new this(ge.from(t))}static fromABI(t){return new this(ge.fromABI(t))}constructor(t){super(),this.value=t}toString(){return this.toDate().toISOString().slice(0,-5)}toMilliseconds(){return Number(this.value.cast(Le).multiplying(1e3))}}ci.abiName="time_point_sec";class ro extends dc{static fromMilliseconds(t){return new this(ge.from(Math.round((t-9466848e5)/500)))}static fromInteger(t){return new this(ge.from(t))}static fromABI(t){return new this(ge.fromABI(t))}constructor(t){super(),this.value=t}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.cast(Le).multiplying(500).adding(9466848e5))}}ro.abiName="block_timestamp_type";let ie=class Cs{static from(t,i){if(ve(t,Cs))return t;switch(typeof t){case"number":if(!i)throw new Error("Symbol is required when creating Asset from number");return this.fromFloat(t,i);case"string":return this.fromString(t);default:throw new Error("Invalid asset")}}static fromString(t){const i=(typeof t=="string"?t:"").split(" ");if(i.length!==2)throw new Error("Invalid asset string");const s=i[0].replace(".",""),r=(i[0].split(".")[1]||"").length,n=Cs.Symbol.fromParts(i[1],r);return new Cs(me.from(s),n)}static fromFloat(t,i){const s=Cs.Symbol.from(i);return new Cs(s.convertFloat(t),s)}static fromUnits(t,i){return new Cs(me.from(t),Cs.Symbol.from(i))}static fromABI(t){const i=me.fromABI(t),s=Cs.Symbol.fromABI(t);return new Cs(i,s)}static abiDefault(){return new this(me.from(0),Cs.Symbol.abiDefault())}static formatUnits(t,i){const s=me.from(t).toString().split("");let r=!1;for(s[0]==="-"&&(r=!0,s.shift());s.length<=i;)s.unshift("0");i>0&&s.splice(s.length-i,0,".");let n=s.join("");return r&&(n="-"+n),n}constructor(t,i){this.units=t,this.symbol=i}equals(t){const{symbol:i,units:s}=Cs.from(t);return this.symbol.value.equals(i.value)&&this.units.equals(s)}get value(){return this.symbol.convertUnits(this.units)}set value(t){this.units=this.symbol.convertFloat(t)}get quantity(){return Cs.formatUnits(this.units,this.symbol.precision)}toABI(t){this.units.toABI(t),this.symbol.toABI(t)}toString(){return this.quantity+" "+this.symbol.name}toJSON(){return this.toString()}};ie.abiName="asset";(function(e){class t{static from(r){if(ve(r,t))return r;if(ve(r,Le))return new t(r);const n=r.split(",");if(n.length!==2&&r!=="0,")throw new Error("Invalid symbol string");r==="0,"&&n.push("");const o=Number.parseInt(n[0]);return t.fromParts(n[1],o)}static fromParts(r,n){return new t(a9(r,n))}static fromABI(r){return new t(Le.fromABI(r))}static abiDefault(){return this.from("4,SYS")}constructor(r){if(yb(r)>t.maxPrecision)throw new Error("Invalid asset symbol, precision too large");if(!r.equals(0)&&!i.pattern.test(cp(r)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=r}equals(r){return this.value.equals(t.from(r).value)}get name(){return cp(this.value)}get precision(){return yb(this.value)}get code(){return new i(Le.from(this.value.value.clone().iushrn(8)))}toABI(r){this.value.toABI(r)}convertUnits(r){return r.value.toNumber()/Math.pow(10,this.precision)}convertFloat(r){return me.from(r.toFixed(this.precision).replace(".",""))}toString(){return`${this.precision},${this.name}`}toJSON(){return this.toString()}}t.abiName="symbol",t.maxPrecision=18,e.Symbol=t;class i{static from(r){return ve(r,i)?r:(typeof r=="string"&&(r=Le.from(Nw(r))),new this(Le.from(r)))}static fromABI(r){return new i(Le.fromABI(r))}static abiDefault(){return this.from("SYS")}constructor(r){if(!r.equals(0)&&!i.pattern.test(cp(r)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=r}equals(r){return this.value.equals(i.from(r).value)}toABI(r){this.value.toABI(r)}toString(){return Lw(this.value.value.toArray("be"))}toJSON(){return this.toString()}}i.abiName="symbol_code",i.pattern=/^[A-Z]{0,7}$/,e.SymbolCode=i})(ie||(ie={}));class ud{static from(t){return ve(t,ud)?t:new this(ie.from(t.quantity),B.from(t.contract))}static fromABI(t){return new ud(ie.fromABI(t),B.fromABI(t))}constructor(t,i){this.quantity=t,this.contract=i}equals(t){return this.quantity.equals(t.quantity)&&this.contract.equals(t.contract)}toABI(t){this.quantity.toABI(t),this.contract.toABI(t)}toJSON(){return{quantity:this.quantity,contract:this.contract}}}ud.abiName="extended_asset";function yb(e){return e.value.and(Le.from(255).value).toNumber()}function cp(e){const t=e.value.toArray("be").slice(0,-1);return Lw(t)}function Lw(e){return e.map(t=>String.fromCharCode(t)).reverse().join("")}function a9(e,t){const i=Nw(e),s=new Uint8Array(i.length+1);return s[0]=t,s.set(i,1),Le.from(s)}function Nw(e){const t=Math.min(e.length,7),i=new Uint8Array(t);for(let s=0;s<t;s++)i[s]=e.charCodeAt(s);return i}var as;(function(e){let t;(function(m){m.E_CHECKSUM="E_CHECKSUM",m.E_INVALID="E_INVALID"})(t=e.ErrorCode||(e.ErrorCode={}));class i extends Error{constructor(y,b,S={}){super(y),this.code=b,this.info=S}}i.__className="DecodingError",e.DecodingError=i;const s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",r=new Int16Array(255).fill(-1);for(let m=0;m<58;++m)r[s.charCodeAt(m)]=m;function n(m,y){if(y==null)return u(m);const b=new Uint8Array(y);for(let S=0;S<m.length;++S){let I=r[m.charCodeAt(S)];if(I<0)throw new i("Invalid Base58 character encountered",t.E_INVALID,{char:m[S]});for(let F=0;F<y;++F){const D=b[F]*58+I;b[F]=D,I=D>>8}if(I)throw new i("Base58 value is out of range",t.E_INVALID)}return b.reverse(),new pe(b)}e.decode=n;function o(m,y){const b=n(m,y!=null?y+4:y),S=b.array.subarray(0,-4),I=b.array.subarray(-4),F=g(S);if(!Al(I,F))throw new i("Checksum mismatch",t.E_CHECKSUM,{actual:F,expected:I,data:S,hash:"double_sha256"});return new pe(S)}e.decodeCheck=o;function a(m,y,b){const S=n(m,y!=null?y+4:y),I=S.array.subarray(0,-4),F=S.array.subarray(-4),D=f(I,b);if(!Al(F,D))throw new i("Checksum mismatch",t.E_CHECKSUM,{actual:D,expected:F,data:I,hash:"ripemd160"});return new pe(I)}e.decodeRipemd160Check=a;function l(m){m=pe.from(m);const y=[];for(const b of m.array){let S=b;for(let I=0;I<y.length;++I){const F=(r[y[I]]<<8)+S;y[I]=s.charCodeAt(F%58),S=F/58|0}for(;S;)y.push(s.charCodeAt(S%58)),S=S/58|0}for(const b of m.array){if(b)break;y.push(49)}return y.reverse(),String.fromCharCode(...y)}e.encode=l;function c(m){return m=pe.from(m),m=m.appending(g(m.array)),l(m)}e.encodeCheck=c;function d(m,y){return m=pe.from(m),m=m.appending(f(m.array,y)),l(m)}e.encodeRipemd160Check=d;function u(m){const y=[];for(let b=0;b<m.length;++b){let S=r[m.charCodeAt(b)];if(S<0)throw new i("Invalid Base58 character encountered",t.E_INVALID,{char:m[b]});for(let I=0;I<y.length;++I){const F=y[I]*58+S;y[I]=F&255,S=F>>8}S&&y.push(S)}for(const b of m)if(b==="1")y.push(0);else break;return y.reverse(),pe.from(y)}function f(m,y){const b=Or.ripemd160().update(m);return y&&b.update(y),new Uint8Array(b.digest().slice(0,4))}function g(m){const y=Or.sha256().update(m).digest(),b=Or.sha256().update(y).digest();return new Uint8Array(b.slice(0,4))}})(as||(as={}));class ei{static from(t){if(ve(t,ei))return t;if(typeof t=="object"&&t.type&&t.compressed)return new ei(Qe.from(t.type),new pe(t.compressed));if(typeof t!="string")throw new Error("Invalid public key");if(t.startsWith("PUB_")){const i=t.split("_");if(i.length!==3)throw new Error("Invalid public key string");const s=Qe.from(i[1]),r=s===Qe.K1||s===Qe.R1?33:void 0,n=as.decodeRipemd160Check(i[2],r,s);return new ei(s,n)}else if(t.length>=50){const i=as.decodeRipemd160Check(t.slice(-50));return new ei(Qe.K1,i)}else throw new Error("Invalid public key string")}static fromABI(t){const i=Qe.from(t.readByte());if(i==Qe.WA){const s=t.getPosition();t.advance(33),t.advance(1),t.advance(t.readVaruint32());const r=t.getPosition()-s;t.setPosition(s);const n=pe.from(t.readArray(r));return new ei(Qe.WA,n)}return new ei(i,new pe(t.readArray(33)))}constructor(t,i){this.type=t,this.data=i}equals(t){const i=ei.from(t);return this.type===i.type&&this.data.equals(i.data)}toLegacyString(t="EOS"){if(this.type!==Qe.K1)throw new Error("Unable to create legacy formatted string for non-K1 key");return`${t}${as.encodeRipemd160Check(this.data)}`}toString(){return`PUB_${this.type}_${as.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(Qe.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}ei.abiName="public_key";const dp={};function uc(e){let t=dp[e];if(!t)if(e==="K1")t=dp[e]=new Xp.ec("secp256k1");else if(e==="R1")t=dp[e]=new Xp.ec("p256");else throw new Error(`Unknown curve type: ${e}`);return t}function l9(e,t,i){const s=uc(i),r=e[0]-31,n=e.subarray(1,33),o=e.subarray(33),a=s.recoverPubKey(t,{r:n,s:o},r);return new Uint8Array(a.encodeCompressed())}function c9(e,t,i,s){const r=uc(s),n=e.subarray(1,33),o=e.subarray(33);return r.verify(t,{r:n,s:o},i)}class Gi{static from(t){if(ve(t,Gi))return t;if(typeof t=="object"&&t.r&&t.s){const i=new Uint8Array(65);let s=t.recid;const r=Qe.from(t.type);return(t.type===Qe.K1||t.type===Qe.R1)&&(s+=31),i[0]=s,i.set(t.r,1),i.set(t.s,33),new Gi(r,new pe(i))}if(typeof t!="string")throw new Error("Invalid signature");if(t.startsWith("SIG_")){const i=t.split("_");if(i.length!==3)throw new Error("Invalid signature string");const s=Qe.from(i[1]),r=s===Qe.K1||s===Qe.R1?65:void 0,n=as.decodeRipemd160Check(i[2],r,s);return new Gi(s,n)}else throw new Error("Invalid signature string")}static fromABI(t){const i=Qe.from(t.readByte());if(i===Qe.WA){const s=t.getPosition();t.advance(65),t.advance(t.readVaruint32()),t.advance(t.readVaruint32());const r=t.getPosition()-s;t.setPosition(s);const n=pe.from(t.readArray(r));return new Gi(Qe.WA,n)}return new Gi(i,new pe(t.readArray(65)))}constructor(t,i){this.type=t,this.data=i}equals(t){const i=Gi.from(t);return this.type===i.type&&this.data.equals(i.data)}recoverDigest(t){t=_e.from(t);const i=l9(this.data.array,t.array,this.type);return ei.from({compressed:i,type:this.type})}recoverMessage(t){return this.recoverDigest(_e.hash(t))}verifyDigest(t,i){return t=_e.from(t),c9(this.data.array,t.array,i.data.array,this.type)}verifyMessage(t,i){return this.verifyDigest(_e.hash(t),i)}toString(){return`SIG_${this.type}_${as.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(Qe.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}Gi.abiName="signature";function d9(e,t){const r=uc(t).keyFromPrivate(e).getPublic();return new Uint8Array(r.encodeCompressed())}function u9(e,t,i){const s=uc(i),r=s.keyFromPrivate(e),n=s.keyFromPublic(t).getPublic();return r.derive(n).toArrayLike(Uint8Array,"be")}function h9(e,t,i){const r=uc(i).keyFromPrivate(e);let n,o,a;if(i==="K1"){let l=1;do n=r.sign(t,{canonical:!0,pers:[l++]}),o=n.r.toArrayLike(Uint8Array,"be",32),a=n.s.toArrayLike(Uint8Array,"be",32);while(!f9(o,a))}else n=r.sign(t,{canonical:!0}),o=n.r.toArrayLike(Uint8Array,"be",32),a=n.s.toArrayLike(Uint8Array,"be",32);return{type:i,r:o,s:a,recid:n.recoveryParam||0}}function f9(e,t){return!(e[0]&128)&&!(e[0]===0&&!(e[1]&128))&&!(t[0]&128)&&!(t[0]===0&&!(t[1]&128))}function p9(e){return uc(e).genKeyPair().getPrivate().toArrayLike(Uint8Array,"be",32)}class hd{static from(t){return ve(t,hd)?t:this.fromString(t)}static fromString(t,i=!1){try{const{type:s,data:r}=g9(t);return new this(s,r)}catch(s){if(s.message=`Invalid private key (${s.message})`,i&&ve(s,as.DecodingError)&&s.code===as.ErrorCode.E_CHECKSUM){const r=t.startsWith("PVT_R1")?Qe.R1:Qe.K1,n=new pe(s.info.data);return n.length===33&&n.dropFirst(),n.zeropad(32,!0),new this(r,n)}throw s}}static generate(t){return new hd(Qe.from(t),new pe(p9(t)))}constructor(t,i){if((t===Qe.K1||t===Qe.R1)&&i.length!==32)throw new Error("Invalid private key length");this.type=t,this.data=i}signDigest(t){return t=_e.from(t),Gi.from(h9(this.data.array,t.array,this.type))}signMessage(t){return this.signDigest(_e.hash(t))}sharedSecret(t){const i=u9(this.data.array,t.data.array,this.type);return Na.hash(i)}toPublic(){const t=d9(this.data.array,this.type);return ei.from({compressed:t,type:this.type})}toWif(){if(this.type!==Qe.K1)throw new Error("Unable to generate WIF for non-k1 key");return as.encodeCheck(pe.from([128]).appending(this.data))}toString(){return`PVT_${this.type}_${as.encodeRipemd160Check(this.data,this.type)}`}toJSON(){return this.toString()}}function g9(e){const t=typeof e;if(t!=="string")throw new Error(`Expected string, got ${t}`);if(e.startsWith("PVT_")){const i=e.split("_");if(i.length!==3)throw new Error("Invalid PVT format");const s=Qe.from(i[1]);let r;switch(s){case Qe.K1:case Qe.R1:r=32;break}const n=as.decodeRipemd160Check(i[2],r,s);return{type:s,data:n}}else{const i=Qe.K1,s=as.decodeCheck(e);if(s.array[0]!==128)throw new Error("Invalid WIF");return{type:i,data:s.droppingFirst()}}}var ng;let dt=ng=class extends h{static from(t){if(typeof t=="string"){const i=t.split("@");if(i.length!==2&&i[0].length>0&&i[1].length>0)throw new Error("Invalid permission level string, should be in the format <actor>@<permission>");t={actor:i[0],permission:i[1]}}return super.from(t)}equals(t){const i=ng.from(t);return this.actor.equals(i.actor)&&this.permission.equals(i.permission)}toString(){return`${this.actor}@${this.permission}`}};p([h.field("name")],dt.prototype,"actor",void 0);p([h.field("name")],dt.prototype,"permission",void 0);dt=ng=p([h.type("permission_level")],dt);var og;let di=og=class extends h{static from(t,i){let s={...t};const r=s.data;if(!pe.isBytes(r)){let o;if(i)o=ze.from(i).getActionType(s.name);else if(!r.constructor||r.constructor.abiName===void 0)throw new Error("Missing ABI definition when creating action with untyped action data");s={...s,data:Xs({object:r,type:o,abi:i})}}const n=super.from(s);if(i)n.abi=ze.from(i);else{const o=oh(r);o&&(n.abi=ze.from({...df(o).abi,actions:[{name:n.name,type:o.abiName,ricardian_contract:""}]}))}return n}equals(t){const i=og.from(t,this.abi);return this.account.equals(i.account)&&this.name.equals(i.name)&&QF(this.authorization,i.authorization)&&this.data.equals(i.data)}decodeData(t){if(typeof t=="string"||t.abiName)return xn({data:this.data,type:t});{const i=ze.from(t),s=i.getActionType(this.name);if(!s)throw new Error(`Action ${this.name} does not exist in provided ABI`);return xn({data:this.data,type:s,abi:i})}}get decoded(){if(!this.abi)throw new Error("Missing ABI definition when decoding action data");return{...this.toJSON(),data:this.decodeData(this.abi)}}};p([h.field("name")],di.prototype,"account",void 0);p([h.field("name")],di.prototype,"name",void 0);p([h.field(dt,{array:!0})],di.prototype,"authorization",void 0);p([h.field("bytes")],di.prototype,"data",void 0);di=og=p([h.type("action")],di);var ag;let fd=class extends h{};p([h.field("uint16")],fd.prototype,"type",void 0);p([h.field("bytes")],fd.prototype,"data",void 0);fd=p([h.type("transaction_extension")],fd);let Xr=class extends h{static from(t){return super.from({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...t})}};p([h.field("time_point_sec")],Xr.prototype,"expiration",void 0);p([h.field("uint16")],Xr.prototype,"ref_block_num",void 0);p([h.field("uint32")],Xr.prototype,"ref_block_prefix",void 0);p([h.field("varuint32")],Xr.prototype,"max_net_usage_words",void 0);p([h.field("uint8")],Xr.prototype,"max_cpu_usage_ms",void 0);p([h.field("varuint32")],Xr.prototype,"delay_sec",void 0);Xr=p([h.type("transaction_header")],Xr);let Ht=ag=class extends Xr{static from(t,i){const s=l=>{if(i)return Array.isArray(i)?i.filter(c=>B.from(c.contract).equals(l)).map(({abi:c})=>c)[0]:i},r=l=>l instanceof di?l:di.from(l,s(l.account)),n=(t.actions||[]).map(r),o=(t.context_free_actions||[]).map(r),a={transaction_extensions:[],...t,context_free_actions:o,actions:n};return super.from(a)}equals(t){const i=ag.from(t);return this.id.equals(i.id)}get id(){return _e.hash(Xs({object:this}))}signingDigest(t){const i=this.signingData(t);return _e.hash(i)}signingData(t){let i=pe.from(_e.from(t).array);return i=i.appending(Xs({object:this})),i=i.appending(new Uint8Array(32)),i}};p([h.field(di,{array:!0})],Ht.prototype,"context_free_actions",void 0);p([h.field(di,{array:!0})],Ht.prototype,"actions",void 0);p([h.field(fd,{array:!0})],Ht.prototype,"transaction_extensions",void 0);Ht=ag=p([h.type("transaction")],Ht);let or=class extends Ht{get transaction(){return Ht.from({...this,signatures:void 0,context_free_data:void 0})}get id(){return this.transaction.id}static from(t){return super.from({signatures:[],context_free_data:[],...t})}};p([h.field("signature[]")],or.prototype,"signatures",void 0);p([h.field("bytes[]")],or.prototype,"context_free_data",void 0);or=p([h.type("signed_transaction")],or);var sl;(function(e){e[e.none=0]="none",e[e.zlib=1]="zlib"})(sl||(sl={}));let Si=class extends h{static from(t){return super.from({signatures:[],packed_context_free_data:"",compression:0,...t})}static fromSigned(t,i=1){let s=Xs({object:Ht.from(t)}),r=Xs({object:t.context_free_data,type:"bytes[]"});switch(i){case sl.zlib:{s=ho.deflate(s.array),r=ho.deflate(r.array);break}case sl.none:break}return this.from({compression:i,signatures:t.signatures,packed_context_free_data:r,packed_trx:s})}getTransaction(){switch(Number(this.compression)){case sl.none:return xn({data:this.packed_trx,type:Ht});case sl.zlib:{const t=ho.inflate(this.packed_trx.array);return xn({data:t,type:Ht})}default:throw new Error(`Unknown transaction compression ${this.compression}`)}}getSignedTransaction(){const t=this.getTransaction();return or.from({...t,signatures:this.signatures})}};p([h.field("signature[]")],Si.prototype,"signatures",void 0);p([h.field("uint8")],Si.prototype,"compression",void 0);p([h.field("bytes")],Si.prototype,"packed_context_free_data",void 0);p([h.field("bytes")],Si.prototype,"packed_trx",void 0);Si=p([h.type("packed_transaction")],Si);let ga=class extends h{};p([h.field("string")],ga.prototype,"status",void 0);p([h.field("uint32")],ga.prototype,"cpu_usage_us",void 0);p([h.field("uint32")],ga.prototype,"net_usage_words",void 0);ga=p([h.type("transaction_receipt")],ga);var lg;let Fl=class extends li{};Fl=p([cc("weight_type")],Fl);let ma=class extends h{};p([h.field(ei)],ma.prototype,"key",void 0);p([h.field(Fl)],ma.prototype,"weight",void 0);ma=p([h.type("key_weight")],ma);let xl=class extends h{};p([h.field(dt)],xl.prototype,"permission",void 0);p([h.field(Fl)],xl.prototype,"weight",void 0);xl=p([h.type("permission_level_weight")],xl);let va=class extends h{};p([h.field(ge)],va.prototype,"wait_sec",void 0);p([h.field(Fl)],va.prototype,"weight",void 0);va=p([h.type("wait_weight")],va);let _n=lg=class extends h{static from(t){if(ve(t,lg))return t;const i=super.from({keys:[],accounts:[],waits:[],...t});return i.sort(),i}get waitThreshold(){return this.waits.reduce((t,i)=>t+i.weight.toNumber(),0)}get keyThreshold(){return this.threshold.toNumber()-this.waitThreshold}keyWeight(t){const i=this.keys.find(({key:s})=>s.equals(t));return i?i.weight.toNumber():0}hasPermission(t,i=!1){const s=i?1:this.keyThreshold;return this.keyWeight(t)>=s}sort(){this.keys.sort((t,i)=>String(t.key).localeCompare(String(i.key))),this.accounts.sort((t,i)=>String(t.permission).localeCompare(String(i.permission))),this.waits.sort((t,i)=>String(t.wait_sec).localeCompare(String(i.wait_sec)))}};p([h.field(ge)],_n.prototype,"threshold",void 0);p([h.field(ma,{array:!0})],_n.prototype,"keys",void 0);p([h.field(xl,{array:!0})],_n.prototype,"accounts",void 0);p([h.field(va,{array:!0})],_n.prototype,"waits",void 0);_n=lg=p([h.type("authority")],_n);class Ut{static from(t){return ve(t,this)?t:pe.isBytes(t)?new this(pe.from(t).array):this.fromBlockChecksum(t.checksum,t.blockNum)}static fromABI(t){return new this(t.readArray(32))}static fromBlockChecksum(t,i){const s=new Ut(_e.from(t).array),r=new Uint8Array(4);return r[0]=Number(i)>>24&255,r[1]=Number(i)>>16&255,r[2]=Number(i)>>8&255,r[3]=Number(i)&255,s.array.set(r,0),s}constructor(t){if(t.byteLength!==32)throw new Error(`BlockId size mismatch, expected 32 bytes got ${t.byteLength}`);this.array=t}equals(t){const i=this.constructor;try{return Al(this.array,i.from(t).array)}catch{return!1}}toABI(t){t.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}get hexString(){return zm(this.array)}get blockNum(){const t=this.array.slice(0,4);let i=0;for(let s=0;s<4;s++)i=(i<<8)+t[s];return ge.from(i)}}Ut.abiName="block_id_type";var Pe;(function(e){e.encode=Xs,e.decode=xn;function t(r){return df(r).abi}e.synthesize=t;function i(r){return JSON.stringify(r)}e.stringify=i;function s(r){const n=o=>{switch(typeof o){case"boolean":case"number":case"string":return o;case"object":{if(o===null)return o;if(typeof o.toJSON=="function")return n(o.toJSON());if(Array.isArray(o))return o.map(n);const a={};for(const l of Object.keys(o))a[l]=n(o[l]);return a}}};return n(r)}e.objectify=s})(Pe||(Pe={}));class au{constructor(t,i={}){if(this.headers={},t=t.trim(),t.endsWith("/")&&(t=t.slice(0,-1)),this.url=t,i.headers&&(this.headers=i.headers),i.fetch)this.fetch=i.fetch;else if(typeof window<"u"&&window.fetch)this.fetch=window.fetch.bind(window);else if(typeof global<"u"&&global.fetch)this.fetch=global.fetch.bind(global);else throw new Error("Missing fetch")}async call(t){const i=this.url+t.path,s=t.params!==void 0?JSON.stringify(t.params):void 0,r={...this.headers,...t.headers},n=await this.fetch(i,{method:t.method||"POST",body:s,headers:r}),o=await n.text();let a;try{a=JSON.parse(o)}catch{}const l={};for(const[c,d]of n.headers.entries())l[c]=d;return{headers:l,status:n.status,json:a,text:o}}}let _l=class extends h{};p([h.field("name")],_l.prototype,"account",void 0);p([h.field("name",{optional:!0})],_l.prototype,"action",void 0);_l=p([h.type("account_linked_action")],_l);let vo=class extends h{};p([h.field("name")],vo.prototype,"perm_name",void 0);p([h.field("name")],vo.prototype,"parent",void 0);p([h.field(_n)],vo.prototype,"required_auth",void 0);p([h.field(_l,{optional:!0,array:!0})],vo.prototype,"linked_actions",void 0);vo=p([h.type("account_permission")],vo);let fr=class extends h{};p([h.field("int64")],fr.prototype,"used",void 0);p([h.field("int64")],fr.prototype,"available",void 0);p([h.field("int64")],fr.prototype,"max",void 0);p([h.field("time_point",{optional:!0})],fr.prototype,"last_usage_update_time",void 0);p([h.field("int64",{optional:!0})],fr.prototype,"current_used",void 0);fr=p([h.type("account_resource_limit")],fr);let bo=class extends h{};p([h.field("name")],bo.prototype,"owner",void 0);p([h.field("asset")],bo.prototype,"net_weight",void 0);p([h.field("asset")],bo.prototype,"cpu_weight",void 0);p([h.field("uint64")],bo.prototype,"ram_bytes",void 0);bo=p([h.type("account_total_resources")],bo);let Co=class extends h{};p([h.field("name")],Co.prototype,"from",void 0);p([h.field("name")],Co.prototype,"to",void 0);p([h.field("asset")],Co.prototype,"net_weight",void 0);p([h.field("asset")],Co.prototype,"cpu_weight",void 0);Co=p([h.type("account_self_delegated_bandwidth")],Co);let yo=class extends h{};p([h.field("name")],yo.prototype,"owner",void 0);p([h.field("time_point")],yo.prototype,"request_time",void 0);p([h.field("asset")],yo.prototype,"net_amount",void 0);p([h.field("asset")],yo.prototype,"cpu_amount",void 0);yo=p([h.type("account_refund_request")],yo);let gs=class extends h{};p([h.field("name")],gs.prototype,"owner",void 0);p([h.field("name")],gs.prototype,"proxy",void 0);p([h.field("name",{array:!0})],gs.prototype,"producers",void 0);p([h.field("int64",{optional:!0})],gs.prototype,"staked",void 0);p([h.field("float64")],gs.prototype,"last_vote_weight",void 0);p([h.field("float64")],gs.prototype,"proxied_vote_weight",void 0);p([h.field("bool")],gs.prototype,"is_proxy",void 0);p([h.field("uint32",{optional:!0})],gs.prototype,"flags1",void 0);p([h.field("uint32")],gs.prototype,"reserved2",void 0);p([h.field("string")],gs.prototype,"reserved3",void 0);gs=p([h.type("account_voter_info")],gs);let wo=class extends h{};p([h.field("time_point",{optional:!0})],wo.prototype,"key",void 0);p([h.field("int64",{optional:!0})],wo.prototype,"value",void 0);p([h.field("time_point",{optional:!0})],wo.prototype,"first",void 0);p([h.field("int64",{optional:!0})],wo.prototype,"second",void 0);wo=p([h.type("account_rex_info_maturities")],wo);let Jr=class extends h{};p([h.field("uint32")],Jr.prototype,"version",void 0);p([h.field("name")],Jr.prototype,"owner",void 0);p([h.field("asset")],Jr.prototype,"vote_stake",void 0);p([h.field("asset")],Jr.prototype,"rex_balance",void 0);p([h.field("int64")],Jr.prototype,"matured_rex",void 0);p([h.field(wo,{array:!0})],Jr.prototype,"rex_maturities",void 0);Jr=p([h.type("account_rex_info")],Jr);let So=class extends h{};p([h.field("name")],So.prototype,"account_name",void 0);p([h.field("checksum256")],So.prototype,"code_hash",void 0);p([h.field("checksum256")],So.prototype,"abi_hash",void 0);p([h.field(nu)],So.prototype,"abi",void 0);So=p([h.type("get_raw_abi_response")],So);let Jt=class extends h{getPermission(t){const i=B.from(t),s=this.permissions.find(r=>r.perm_name.equals(i));if(!s)throw new Error(`Unknown permission ${i} on account ${this.account_name}.`);return s}};p([h.field("name")],Jt.prototype,"account_name",void 0);p([h.field("uint32")],Jt.prototype,"head_block_num",void 0);p([h.field("time_point")],Jt.prototype,"head_block_time",void 0);p([h.field("bool")],Jt.prototype,"privileged",void 0);p([h.field("time_point")],Jt.prototype,"last_code_update",void 0);p([h.field("time_point")],Jt.prototype,"created",void 0);p([h.field("asset?")],Jt.prototype,"core_liquid_balance",void 0);p([h.field("int64")],Jt.prototype,"ram_quota",void 0);p([h.field("int64")],Jt.prototype,"net_weight",void 0);p([h.field("int64")],Jt.prototype,"cpu_weight",void 0);p([h.field(fr)],Jt.prototype,"net_limit",void 0);p([h.field(fr)],Jt.prototype,"cpu_limit",void 0);p([h.field(fr,{optional:!0})],Jt.prototype,"subjective_cpu_bill_limit",void 0);p([h.field("uint64")],Jt.prototype,"ram_usage",void 0);p([h.field(vo,{array:!0})],Jt.prototype,"permissions",void 0);p([h.field(bo,{optional:!0})],Jt.prototype,"total_resources",void 0);p([h.field(Co,{optional:!0})],Jt.prototype,"self_delegated_bandwidth",void 0);p([h.field(yo,{optional:!0})],Jt.prototype,"refund_request",void 0);p([h.field(gs,{optional:!0})],Jt.prototype,"voter_info",void 0);p([h.field(Jr,{optional:!0})],Jt.prototype,"rex_info",void 0);Jt=p([h.type("account_object")],Jt);let Ur=class extends h{};p([h.field(B)],Ur.prototype,"account_name",void 0);p([h.field(B)],Ur.prototype,"permission_name",void 0);p([h.field(ei,{optional:!0})],Ur.prototype,"authorizing_key",void 0);p([h.field(dt,{optional:!0})],Ur.prototype,"authorizing_account",void 0);p([h.field(Fl)],Ur.prototype,"weight",void 0);p([h.field(ge)],Ur.prototype,"threshold",void 0);Ur=p([h.type("account_by_authorizers_row")],Ur);let pd=class extends h{};p([h.field(Ur,{array:!0})],pd.prototype,"accounts",void 0);pd=p([h.type("account_by_authorizers")],pd);let El=class extends h{};p([h.field("name")],El.prototype,"producer_name",void 0);p([h.field("public_key")],El.prototype,"block_signing_key",void 0);El=p([h.type("new_producers_entry")],El);let Ml=class extends h{};p([h.field("uint32")],Ml.prototype,"version",void 0);p([h.field(El,{array:!0})],Ml.prototype,"producers",void 0);Ml=p([h.type("new_producers")],Ml);let gd=class extends h{};p([h.field("uint16")],gd.prototype,"type",void 0);p([h.field("bytes")],gd.prototype,"data",void 0);gd=p([h.type("block_extension")],gd);let md=class extends h{};p([h.field("uint16")],md.prototype,"type",void 0);p([h.field("bytes")],md.prototype,"data",void 0);md=p([h.type("header_extension")],md);let Um=class{static from(t){let i,s;return typeof t=="string"?(i=_e.from(t),s={}):(i=_e.from(t.id),s=t),new this(i,s)}constructor(t,i){this.id=t,this.extra=i}get transaction(){if(this.extra.packed_trx)switch(this.extra.compression){case"zlib":{const t=ho.inflate(pe.from(this.extra.packed_trx,"hex").array);return Pe.decode({data:t,type:Ht})}case"none":return Pe.decode({data:this.extra.packed_trx,type:Ht});default:throw new Error(`Unsupported compression type ${this.extra.compression}`)}}get signatures(){if(this.extra.signatures)return this.extra.signatures.map(Gi.from)}equals(t){return this.id.equals(t.id)}toJSON(){return this.id}};Um.abiName="trx_variant";let vd=class extends ga{get id(){return this.trx.id}};p([h.field(Um)],vd.prototype,"trx",void 0);vd=p([h.type("get_block_response_receipt")],vd);let fi=class extends h{};p([h.field("time_point")],fi.prototype,"timestamp",void 0);p([h.field("name")],fi.prototype,"producer",void 0);p([h.field("uint16")],fi.prototype,"confirmed",void 0);p([h.field(Ut)],fi.prototype,"previous",void 0);p([h.field("checksum256")],fi.prototype,"transaction_mroot",void 0);p([h.field("checksum256")],fi.prototype,"action_mroot",void 0);p([h.field("uint32")],fi.prototype,"schedule_version",void 0);p([h.field(Ml,{optional:!0})],fi.prototype,"new_producers",void 0);p([h.field("any",{optional:!0})],fi.prototype,"header_extensions",void 0);p([h.field("any",{optional:!0})],fi.prototype,"new_protocol_features",void 0);p([h.field("signature")],fi.prototype,"producer_signature",void 0);p([h.field(vd,{array:!0})],fi.prototype,"transactions",void 0);p([h.field("block_extension",{optional:!0})],fi.prototype,"block_extensions",void 0);p([h.field(Ut)],fi.prototype,"id",void 0);p([h.field("uint32")],fi.prototype,"block_num",void 0);p([h.field("uint32")],fi.prototype,"ref_block_prefix",void 0);fi=p([h.type("get_block_response")],fi);let ji=class extends h{};p([h.field("uint32")],ji.prototype,"block_num",void 0);p([h.field("uint32")],ji.prototype,"ref_block_num",void 0);p([h.field(Ut)],ji.prototype,"id",void 0);p([h.field("time_point")],ji.prototype,"timestamp",void 0);p([h.field("name")],ji.prototype,"producer",void 0);p([h.field("uint16")],ji.prototype,"confirmed",void 0);p([h.field(Ut)],ji.prototype,"previous",void 0);p([h.field("checksum256")],ji.prototype,"transaction_mroot",void 0);p([h.field("checksum256")],ji.prototype,"action_mroot",void 0);p([h.field("uint32")],ji.prototype,"schedule_version",void 0);p([h.field("signature")],ji.prototype,"producer_signature",void 0);p([h.field("uint32")],ji.prototype,"ref_block_prefix",void 0);ji=p([h.type("get_block_response")],ji);let kl=class extends h{};p([h.field("name")],kl.prototype,"producer_name",void 0);p([h.field("any")],kl.prototype,"authority",void 0);kl=p([h.type("active_schedule_producer_authority")],kl);let Dl=class extends h{};p([h.field("name")],Dl.prototype,"producer_name",void 0);p([h.field(kl)],Dl.prototype,"authority",void 0);Dl=p([h.type("active_schedule_producer")],Dl);let bd=class extends h{};p([h.field("uint32")],bd.prototype,"version",void 0);p([h.field(Dl,{array:!0})],bd.prototype,"producers",void 0);bd=p([h.type("active_schedule")],bd);let _s=class extends h{};p([h.field("time_point")],_s.prototype,"timestamp",void 0);p([h.field("name")],_s.prototype,"producer",void 0);p([h.field("uint16")],_s.prototype,"confirmed",void 0);p([h.field(Ut)],_s.prototype,"previous",void 0);p([h.field("checksum256")],_s.prototype,"transaction_mroot",void 0);p([h.field("checksum256")],_s.prototype,"action_mroot",void 0);p([h.field("uint32")],_s.prototype,"schedule_version",void 0);p([h.field("any",{array:!0,optional:!0})],_s.prototype,"header_extensions",void 0);p([h.field("signature")],_s.prototype,"producer_signature",void 0);_s=p([h.type("block_state_header")],_s);let xi=class extends h{};p([h.field("uint32")],xi.prototype,"block_num",void 0);p([h.field("uint32")],xi.prototype,"dpos_proposed_irreversible_blocknum",void 0);p([h.field("uint32")],xi.prototype,"dpos_irreversible_blocknum",void 0);p([h.field(Ut)],xi.prototype,"id",void 0);p([h.field(_s)],xi.prototype,"header",void 0);p([h.field("any")],xi.prototype,"active_schedule",void 0);p([h.field("any")],xi.prototype,"blockroot_merkle",void 0);p([h.field("any")],xi.prototype,"producer_to_last_produced",void 0);p([h.field("any")],xi.prototype,"producer_to_last_implied_irb",void 0);p([h.field("any")],xi.prototype,"valid_block_signing_authority",void 0);p([h.field("any")],xi.prototype,"confirm_count",void 0);p([h.field("any")],xi.prototype,"pending_schedule",void 0);p([h.field("any",{optional:!0})],xi.prototype,"activated_protocol_features",void 0);p([h.field("any")],xi.prototype,"additional_signatures",void 0);xi=p([h.type("get_block_header_state_response")],xi);let vi=class extends h{getTransactionHeader(t=120){const i=ci.fromMilliseconds(this.head_block_time.toMilliseconds()+t*1e3),r=this.last_irreversible_block_id.array.subarray(8,12),n=new Uint32Array(r.buffer,r.byteOffset,1)[0];return Xr.from({expiration:i,ref_block_num:Number(this.last_irreversible_block_num)&65535,ref_block_prefix:n})}};p([h.field("string")],vi.prototype,"server_version",void 0);p([h.field("checksum256")],vi.prototype,"chain_id",void 0);p([h.field("uint32")],vi.prototype,"head_block_num",void 0);p([h.field("uint32")],vi.prototype,"last_irreversible_block_num",void 0);p([h.field(Ut)],vi.prototype,"last_irreversible_block_id",void 0);p([h.field(Ut)],vi.prototype,"head_block_id",void 0);p([h.field("time_point")],vi.prototype,"head_block_time",void 0);p([h.field("name")],vi.prototype,"head_block_producer",void 0);p([h.field("uint64")],vi.prototype,"virtual_block_cpu_limit",void 0);p([h.field("uint64")],vi.prototype,"virtual_block_net_limit",void 0);p([h.field("uint64")],vi.prototype,"block_cpu_limit",void 0);p([h.field("uint64")],vi.prototype,"block_net_limit",void 0);p([h.field("string?")],vi.prototype,"server_version_string",void 0);p([h.field("uint32?")],vi.prototype,"fork_db_head_block_num",void 0);p([h.field("block_id_type?")],vi.prototype,"fork_db_head_block_id",void 0);vi=p([h.type("get_info_response")],vi);let En=class extends h{};p([h.field("name")],En.prototype,"code",void 0);p([h.field("name")],En.prototype,"scope",void 0);p([h.field("name")],En.prototype,"table",void 0);p([h.field("name")],En.prototype,"payer",void 0);p([h.field("uint32")],En.prototype,"count",void 0);En=p([h.type("get_table_by_scope_response_row")],En);let Gl=class extends h{};p([h.field(En,{array:!0})],Gl.prototype,"rows",void 0);p([h.field("string")],Gl.prototype,"more",void 0);Gl=p([h.type("get_table_by_scope_response")],Gl);let qr=class extends h{};p([h.field(Le)],qr.prototype,"global_action_seq",void 0);p([h.field(me)],qr.prototype,"account_action_seq",void 0);p([h.field(ge)],qr.prototype,"block_num",void 0);p([h.field(ro)],qr.prototype,"block_time",void 0);p([h.field("any")],qr.prototype,"action_trace",void 0);p([h.field("boolean?")],qr.prototype,"irrevirsible",void 0);qr=p([h.type("ordered_action_result")],qr);let Ro=class extends h{};p([h.field(qr,{array:!0})],Ro.prototype,"actions",void 0);p([h.field(Fn)],Ro.prototype,"last_irreversible_block",void 0);p([h.field(Fn)],Ro.prototype,"head_block_num",void 0);p([h.field("boolean?")],Ro.prototype,"time_limit_exceeded_error",void 0);Ro=p([h.type("get_actions_response")],Ro);let cg=class extends h{};cg=p([h.type("transaction_trace")],cg);let Es=class extends h{};p([h.field("any")],Es.prototype,"actions",void 0);p([h.field("any")],Es.prototype,"context_free_actions",void 0);p([h.field("any")],Es.prototype,"context_free_data",void 0);p([h.field("number")],Es.prototype,"delay_sec",void 0);p([h.field("string")],Es.prototype,"expiration",void 0);p([h.field("number")],Es.prototype,"max_cpu_usage_ms",void 0);p([h.field("number")],Es.prototype,"max_net_usage_words",void 0);p([h.field("number")],Es.prototype,"ref_block_num",void 0);p([h.field("number")],Es.prototype,"ref_block_prefix",void 0);p([h.field("string",{array:!0})],Es.prototype,"signatures",void 0);Es=p([h.type("trx")],Es);let Cd=class extends h{};p([h.field(ga)],Cd.prototype,"receipt",void 0);p([h.field("trx")],Cd.prototype,"trx",void 0);Cd=p([h.type("transaction_info")],Cd);let Kr=class extends h{};p([h.field(_e)],Kr.prototype,"id",void 0);p([h.field(ge)],Kr.prototype,"block_num",void 0);p([h.field(ro)],Kr.prototype,"block_time",void 0);p([h.field(ge)],Kr.prototype,"last_irreversible_block",void 0);p([h.field("any?")],Kr.prototype,"traces",void 0);p([h.field("any")],Kr.prototype,"trx",void 0);Kr=p([h.type("get_transaction_response")],Kr);let yd=class extends h{};p([h.field("name",{array:!0})],yd.prototype,"account_names",void 0);yd=p([h.type("get_key_accounts_response")],yd);let Mn=class extends h{};p([h.field(ze)],Mn.prototype,"abi",void 0);p([h.field("name")],Mn.prototype,"account_name",void 0);p([h.field("checksum256")],Mn.prototype,"code_hash",void 0);p([h.field("string")],Mn.prototype,"wast",void 0);p([h.field("string")],Mn.prototype,"wasm",void 0);Mn=p([h.type("get_code_response")],Mn);let wd=class extends h{};p([h.field("name",{array:!0})],wd.prototype,"controlled_accounts",void 0);wd=p([h.type("get_controlled_accounts_response")],wd);let ba=class extends h{};p([h.field("asset")],ba.prototype,"supply",void 0);p([h.field("asset")],ba.prototype,"max_supply",void 0);p([h.field("name")],ba.prototype,"issuer",void 0);ba=p([h.type("get_currency_stats_item_response")],ba);let Ms=class extends h{};p([h.field("string")],Ms.prototype,"state",void 0);p([h.field("uint32")],Ms.prototype,"head_number",void 0);p([h.field(Ut)],Ms.prototype,"head_id",void 0);p([h.field("time_point")],Ms.prototype,"head_timestamp",void 0);p([h.field("uint32")],Ms.prototype,"irreversible_number",void 0);p([h.field(Ut)],Ms.prototype,"irreversible_id",void 0);p([h.field("time_point")],Ms.prototype,"irreversible_timestamp",void 0);p([h.field(Ut)],Ms.prototype,"earliest_tracked_block_id",void 0);p([h.field("uint32")],Ms.prototype,"earliest_tracked_block_number",void 0);Ms=p([h.type("get_transaction_status_response")],Ms);let Pl=class extends h{};p([h.field(ge)],Pl.prototype,"threshold",void 0);p([h.field(ma,{array:!0})],Pl.prototype,"keys",void 0);Pl=p([h.type("producer_authority")],Pl);let Ol=class extends h{static from(t){return super.from({...t,authority:[t.authority[0],Pl.from(t.authority[1])]})}};p([h.field("name")],Ol.prototype,"producer_name",void 0);p([h.field("any",{array:!0})],Ol.prototype,"authority",void 0);Ol=p([h.type("producer")],Ol);let Ao=class extends h{};p([h.field("uint32")],Ao.prototype,"version",void 0);p([h.field(Ol,{array:!0})],Ao.prototype,"producers",void 0);Ao=p([h.type("producer_schedule")],Ao);let Ca=class extends h{};p([h.field(Ao,{optional:!0})],Ca.prototype,"active",void 0);p([h.field(Ao,{optional:!0})],Ca.prototype,"pending",void 0);p([h.field(Ao,{optional:!0})],Ca.prototype,"proposed",void 0);Ca=p([h.type("get_producer_schedule_response")],Ca);let pr=class extends h{};p([h.field("checksum256")],pr.prototype,"feature_digest",void 0);p([h.field("uint32")],pr.prototype,"activation_ordinal",void 0);p([h.field("uint32")],pr.prototype,"activation_block_num",void 0);p([h.field("checksum256")],pr.prototype,"description_digest",void 0);p([h.field("string",{array:!0})],pr.prototype,"dependencies",void 0);p([h.field("string")],pr.prototype,"protocol_feature_type",void 0);p([h.field("any",{array:!0})],pr.prototype,"specification",void 0);pr=p([h.type("protocol_feature")],pr);let Bl=class extends h{};p([h.field(pr,{array:!0})],Bl.prototype,"activated_protocol_features",void 0);p([h.field("uint32",{optional:!0})],Bl.prototype,"more",void 0);Bl=p([h.type("get_protocol_features_response")],Bl);var m9=Object.freeze({__proto__:null,get AccountByAuthorizersRow(){return Ur},get AccountLinkedAction(){return _l},get AccountObject(){return Jt},get AccountPermission(){return vo},get AccountRefundRequest(){return yo},get AccountResourceLimit(){return fr},get AccountRexInfo(){return Jr},get AccountRexInfoMaturities(){return wo},get AccountSelfDelegatedBandwidth(){return Co},get AccountTotalResources(){return bo},get AccountVoterInfo(){return gs},get AccountsByAuthorizers(){return pd},get ActiveSchedule(){return bd},get ActiveScheduleProducer(){return Dl},get ActiveScheduleProducerAuthority(){return kl},get BlockExtension(){return gd},get BlockStateHeader(){return _s},get GetActionsResponse(){return Ro},get GetBlockHeaderStateResponse(){return xi},get GetBlockInfoResponse(){return ji},get GetBlockResponse(){return fi},get GetBlockResponseTransactionReceipt(){return vd},get GetCodeResponse(){return Mn},get GetControlledAccountsResponse(){return wd},get GetCurrencyStatsItemResponse(){return ba},get GetInfoResponse(){return vi},get GetKeyAccountsResponse(){return yd},get GetProducerScheduleResponse(){return Ca},get GetProtocolFeaturesResponse(){return Bl},get GetRawAbiResponse(){return So},get GetTableByScopeResponse(){return Gl},get GetTableByScopeResponseRow(){return En},get GetTransactionResponse(){return Kr},get GetTransactionStatusResponse(){return Ms},get HeaderExtension(){return md},get NewProducers(){return Ml},get NewProducersEntry(){return El},get OrderedActionsResult(){return qr},get Producer(){return Ol},get ProducerAuthority(){return Pl},get ProducerSchedule(){return Ao},get ProtocolFeature(){return pr},get TransactionInfo(){return Cd},get TransactionTrace(){return cg},get Trx(){return Es},TrxVariant:Um});class v9{constructor(t){this.client=t}async get_abi(t){return this.client.call({path:"/v1/chain/get_abi",params:{account_name:B.from(t)}})}async get_code(t){return this.client.call({path:"/v1/chain/get_code",params:{account_name:B.from(t)},responseType:Mn})}async get_raw_abi(t){return this.client.call({path:"/v1/chain/get_raw_abi",params:{account_name:B.from(t)},responseType:So})}async get_account(t,i=Jt){return this.client.call({path:"/v1/chain/get_account",params:{account_name:B.from(t)},responseType:i})}async get_accounts_by_authorizers(t){return this.client.call({path:"/v1/chain/get_accounts_by_authorizers",params:t,responseType:pd})}async get_activated_protocol_features(t){return this.client.call({path:"/v1/chain/get_activated_protocol_features",params:t,responseType:Bl})}async get_block(t){return this.client.call({path:"/v1/chain/get_block",params:{block_num_or_id:t},responseType:fi})}async get_block_header_state(t){return this.client.call({path:"/v1/chain/get_block_header_state",params:{block_num_or_id:t},responseType:xi})}async get_block_info(t){return this.client.call({path:"/v1/chain/get_block_info",params:{block_num:t},responseType:ji})}async get_currency_balance(t,i,s){const r={account:B.from(i),code:B.from(t)};return s&&(r.symbol=s),this.client.call({path:"/v1/chain/get_currency_balance",params:r,responseType:"asset[]"})}async get_currency_stats(t,i){const s={code:B.from(t),symbol:i},r=await this.client.call({path:"/v1/chain/get_currency_stats",params:s}),n={};return Object.keys(r).forEach(o=>n[o]=ba.from(r[o])),n}async get_info(){return this.client.call({path:"/v1/chain/get_info",responseType:vi,method:"GET"})}async get_producer_schedule(){return this.client.call({path:"/v1/chain/get_producer_schedule",responseType:Ca})}async compute_transaction(t){return ve(t,Si)||(t=Si.fromSigned(or.from(t))),this.client.call({path:"/v1/chain/compute_transaction",params:{transaction:t}})}async send_read_only_transaction(t){return ve(t,Si)||(t=Si.fromSigned(or.from(t))),this.client.call({path:"/v1/chain/send_read_only_transaction",params:{transaction:t}})}async push_transaction(t){return ve(t,Si)||(t=Si.fromSigned(or.from(t))),this.client.call({path:"/v1/chain/push_transaction",params:t})}async send_transaction(t){return ve(t,Si)||(t=Si.fromSigned(or.from(t))),this.client.call({path:"/v1/chain/send_transaction",params:t})}async send_transaction2(t,i){return ve(t,Si)||(t=Si.fromSigned(or.from(t))),this.client.call({path:"/v1/chain/send_transaction2",params:{return_failure_trace:!0,retry_trx:!1,retry_trx_num_blocks:0,transaction:t,...i}})}async get_table_rows(t){const i=t.type;let s=t.key_type;const r=t.lower_bound||t.upper_bound;!s&&r&&(ve(r,Le)?s="i64":ve(r,Hi)?s="i128":ve(r,_e)?s="sha256":ve(r,mo)&&(s="ripemd160")),s||(s="name");let n=t.json;n===void 0&&(n=i===void 0);let o=t.upper_bound;o&&typeof o!="string"&&(o=String(o));let a=t.lower_bound;a&&typeof a!="string"&&(a=String(a));let l=t.scope;typeof l>"u"?l=String(B.from(t.code)):typeof l!="string"&&(l=String(l));let{rows:c,more:d,next_key:u}=await this.client.call({path:"/v1/chain/get_table_rows",params:{...t,code:B.from(t.code),table:B.from(t.table),limit:t.limit!==void 0?ge.from(t.limit):void 0,scope:l,key_type:s,json:n,upper_bound:o,lower_bound:a}}),f;if(t.show_payer&&(f=[],c=c.map(({data:g,payer:m})=>(f.push(B.from(m)),g))),i&&(n?c=c.map(g=>typeof g=="string"&&pe.isBytes(g)?Pe.decode({data:pe.from(g),type:i}):Pe.decode({object:g,type:i})):c=c.map(g=>pe.from(g)).map(g=>Pe.decode({data:g,type:i}))),u&&u.length>0){let g;switch(s){case"i64":g=Le;break;case"i128":g=Hi;break;case"name":g=B;break;case"float64":g=yi;break;case"float128":g=uf;break;case"sha256":g=_e;break;case"ripemd160":g=mo;break;default:throw new Error(`Unsupported key type: ${s}`)}g===B?u=B.from(Pe.decode({object:u,type:Le})):u=Pe.decode({object:u,type:g})}else u=void 0;return{rows:c,more:d,next_key:u,ram_payers:f}}async get_table_by_scope(t){return this.client.call({path:"/v1/chain/get_table_by_scope",params:t,responseType:Gl})}async get_transaction_status(t){return this.client.call({path:"/v1/chain/get_transaction_status",params:{id:_e.from(t)},responseType:Ms})}}class b9{constructor(t){this.client=t}async get_actions(t,i,s){return this.client.call({path:"/v1/history/get_actions",params:{account_name:B.from(t),pos:Fn.from(i),offset:Fn.from(s)},responseType:Ro})}async get_transaction(t,i={}){return this.client.call({path:"/v1/history/get_transaction",params:{id:_e.from(t),block_num_hint:i.blockNumHint&&ge.from(i.blockNumHint),traces:i.excludeTraces===!0?!1:void 0},responseType:Kr})}async get_key_accounts(t){return this.client.call({path:"/v1/history/get_key_accounts",params:{public_key:ei.from(t)},responseType:yd})}async get_controlled_accounts(t){return this.client.call({path:"/v1/history/get_controlled_accounts",params:{controlling_account:B.from(t)},responseType:wd})}}class hf extends Error{static formatError(t){return t.what==="unspecified"&&t.details[0].file&&t.details[0].file==="http_plugin.cpp"&&t.details[0].message.slice(0,11)==="unknown key"?"Account not found":t.what==="unspecified"&&t.details&&t.details.length>0?t.details[0].message:t.what&&t.what.length>0?t.what:"Unknown API error"}constructor(t,i){let s;i.json&&i.json.error?s=`${hf.formatError(i.json.error)} at ${t}`:s=`HTTP ${i.status} at ${t}`,super(s),this.path=t,this.response=i}get error(){const{json:t}=this.response;return t?t.error:void 0}get name(){const{error:t}=this;return t?t.name:"unspecified"}get code(){const{error:t}=this;return t?t.code:0}get details(){const{error:t}=this;return t?t.details:[]}}hf.__className="APIError";class Po{constructor(t){if(this.v1={chain:new v9(this),history:new b9(this)},t.provider)this.provider=t.provider;else if(t.url)this.provider=new au(t.url,t);else throw new Error("Missing url or provider")}async call(t){const i=await this.provider.call(t),{json:s}=i;if(Math.floor(i.status/100)!==2||s&&typeof s.error=="object")throw new hf(t.path,i);return t.responseType?xn({type:t.responseType,object:i.json}):i.json||i.text}}Po.__className="APIClient";var ff=Object.freeze({__proto__:null,v1:m9}),dg;let _i=class extends h{};p([h.field("uint16")],_i.prototype,"networkVersion",void 0);p([h.field("checksum256")],_i.prototype,"chainId",void 0);p([h.field("checksum256")],_i.prototype,"nodeId",void 0);p([h.field("public_key")],_i.prototype,"key",void 0);p([h.field("int64")],_i.prototype,"time",void 0);p([h.field("checksum256")],_i.prototype,"token",void 0);p([h.field("signature")],_i.prototype,"sig",void 0);p([h.field("string")],_i.prototype,"p2pAddress",void 0);p([h.field("uint32")],_i.prototype,"lastIrreversibleBlockNumber",void 0);p([h.field(Ut)],_i.prototype,"lastIrreversibleBlockId",void 0);p([h.field("uint32")],_i.prototype,"headNum",void 0);p([h.field(Ut)],_i.prototype,"headId",void 0);p([h.field("string")],_i.prototype,"os",void 0);p([h.field("string")],_i.prototype,"agent",void 0);p([h.field("int16")],_i.prototype,"generation",void 0);_i=p([h.type("handshake_message")],_i);let ya=class extends h{};p([h.field("uint32")],ya.prototype,"lastIrreversibleBlockNumber",void 0);p([h.field(Ut)],ya.prototype,"lastIrreversibleBlockId",void 0);p([h.field("uint32")],ya.prototype,"headNum",void 0);p([h.field(Ut)],ya.prototype,"headId",void 0);ya=p([h.type("chain_size_message")],ya);let Sd=class extends h{};p([h.field("uint8")],Sd.prototype,"reason",void 0);p([h.field("checksum256")],Sd.prototype,"nodeId",void 0);Sd=p([h.type("go_away_message")],Sd);let wa=class extends h{};p([h.field("int64")],wa.prototype,"org",void 0);p([h.field("int64")],wa.prototype,"rec",void 0);p([h.field("int64")],wa.prototype,"xmt",void 0);p([h.field("int64")],wa.prototype,"dst",void 0);wa=p([h.type("time_message")],wa);let Rd=class extends h{};p([h.field("checksum256",{array:!0})],Rd.prototype,"knownTrx",void 0);p([h.field(Ut,{array:!0})],Rd.prototype,"knownBlocks",void 0);Rd=p([h.type("notice_message")],Rd);let Ad=class extends h{};p([h.field("checksum256",{array:!0})],Ad.prototype,"reqTrx",void 0);p([h.field(Ut,{array:!0})],Ad.prototype,"reqBlocks",void 0);Ad=p([h.type("request_message")],Ad);let Id=class extends h{};p([h.field("uint32")],Id.prototype,"startBlock",void 0);p([h.field("uint32")],Id.prototype,"endBlock",void 0);Id=p([h.type("sync_request_message")],Id);let Fd=class extends h{};p([h.field("name")],Fd.prototype,"producer_name",void 0);p([h.field("public_key")],Fd.prototype,"block_signing_key",void 0);Fd=p([h.type("new_producers_entry")],Fd);let xd=class extends h{};p([h.field("uint32")],xd.prototype,"version",void 0);p([h.field(Fd,{array:!0})],xd.prototype,"producers",void 0);xd=p([h.type("new_producers")],xd);let _d=class extends h{};p([h.field("uint16")],_d.prototype,"type",void 0);p([h.field("bytes")],_d.prototype,"data",void 0);_d=p([h.type("block_extension")],_d);let ah=class extends h{};p([h.field("uint16")],ah.prototype,"type",void 0);p([h.field("bytes")],ah.prototype,"data",void 0);ah=p([h.type("header_extension")],ah);let ug=class extends zi{};ug=p([zi.type("trx_variant",[_e,Si])],ug);let Sa=class extends h{};p([h.field(Dt)],Sa.prototype,"status",void 0);p([h.field(ge)],Sa.prototype,"cpu_usage_us",void 0);p([h.field(lc)],Sa.prototype,"net_usage_words",void 0);p([h.field(ug)],Sa.prototype,"trx",void 0);Sa=p([h.type("full_transaction_receipt")],Sa);let Js=dg=class extends h{get blockNum(){return this.previous.blockNum.adding(1)}get id(){const t=_e.hash(Pe.encode({object:this,type:dg}));return Ut.fromBlockChecksum(t,this.blockNum)}};p([h.field("uint32")],Js.prototype,"timeSlot",void 0);p([h.field("name")],Js.prototype,"producer",void 0);p([h.field("uint16")],Js.prototype,"confirmed",void 0);p([h.field(Ut)],Js.prototype,"previous",void 0);p([h.field(Ut)],Js.prototype,"transaction_mroot",void 0);p([h.field(Ut)],Js.prototype,"action_mroot",void 0);p([h.field("uint32")],Js.prototype,"schedule_version",void 0);p([h.field(xd,{optional:!0})],Js.prototype,"new_producers",void 0);p([h.field("any",{array:!0})],Js.prototype,"header_extensions",void 0);Js=dg=p([h.type("block_header")],Js);let Wl=class extends Js{};p([h.field("signature")],Wl.prototype,"producer_signature",void 0);p([h.field(Sa,{array:!0})],Wl.prototype,"transactions",void 0);p([h.field(_d,{array:!0})],Wl.prototype,"block_extensions",void 0);Wl=p([h.type("signed_block")],Wl);let wb=class extends zi{};wb=p([zi.type("net_message",[_i,ya,Sd,wa,Rd,Ad,Id,Wl,Si])],wb);/**
 * EOSIO Signing Request v3.2.0
 * https://github.com/greymass/eosio-signing-request
 *
 * @license
 * Copyright  2021 Greymass Inc.
 * 
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the Software), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR
 * INTENDED FOR USE IN THE DESIGN, CONSTRUCTION, OPERATION OR
 * MAINTENANCE OF ANY MILITARY FACILITY.
 */const Vw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",mn=new Uint8Array(256);for(let e=0;e<62;e++)mn[Vw.charCodeAt(e)]=e;mn[43]=mn[45]=62;mn[47]=mn[95]=63;function Hw(e,t=!0){const i=e.byteLength,s=i%3,r=i-s,n=Vw+(t?"-_":"+/"),o=[];let a,l,c,d,u;for(let f=0;f<r;f+=3)u=e[f]<<16|e[f+1]<<8|e[f+2],a=(u&16515072)>>18,l=(u&258048)>>12,c=(u&4032)>>6,d=u&63,o.push(n[a]+n[l]+n[c]+n[d]);return s===1?(u=e[r],a=(u&252)>>2,l=(u&3)<<4,o.push(n[a]+n[l])):s===2&&(u=e[r]<<8|e[r+1],a=(u&64512)>>10,l=(u&1008)>>4,c=(u&15)<<2,o.push(n[a]+n[l]+n[c])),o.join("")}function Zw(e){const t=e.length*.75,i=new Uint8Array(t);let s,r,n,o,a=0;for(let l=0;l<e.length;l+=4)s=mn[e.charCodeAt(l)],r=mn[e.charCodeAt(l+1)],n=mn[e.charCodeAt(l+2)],o=mn[e.charCodeAt(l+3)],i[a++]=s<<2|r>>4,i[a++]=(r&15)<<4|n>>2,i[a++]=(n&3)<<6|o&63;return i}var Ci;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.EOS=1]="EOS",e[e.TELOS=2]="TELOS",e[e.JUNGLE=3]="JUNGLE",e[e.KYLIN=4]="KYLIN",e[e.WORBLI=5]="WORBLI",e[e.BOS=6]="BOS",e[e.MEETONE=7]="MEETONE",e[e.INSIGHTS=8]="INSIGHTS",e[e.BEOS=9]="BEOS",e[e.WAX=10]="WAX",e[e.PROTON=11]="PROTON",e[e.FIO=12]="FIO"})(Ci||(Ci={}));let Vi=class extends _e{static from(t){if(ve(t,this))return t;if(typeof t=="number"&&(t=Sb.get(t),!t))throw new Error("Unknown chain id alias");return super.from(t)}get chainVariant(){const t=this.chainName;return t!==Ci.UNKNOWN?Gr.from(["chain_alias",t]):Gr.from(this)}get chainName(){const t=this.hexString;for(const[i,s]of Sb)if(s===t)return i;return Ci.UNKNOWN}};Vi=p([cc("chain_id")],Vi);let hg=class extends Dt{};hg=p([cc("chain_alias")],hg);let Gr=class extends zi{get chainId(){return ve(this.value,Vi)?this.value:Vi.from(Number(this.value.value))}};Gr=p([zi.type("variant_id",[hg,Vi])],Gr);const Sb=new Map([[Ci.EOS,"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"],[Ci.TELOS,"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"],[Ci.JUNGLE,"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"],[Ci.KYLIN,"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"],[Ci.WORBLI,"73647cde120091e0a4b85bced2f3cfdb3041e266cbbe95cee59b73235a1b3b6f"],[Ci.BOS,"d5a3d18fbb3c084e3b1f3fa98c21014b5f3db536cc15d08f9f6479517c6a3d86"],[Ci.MEETONE,"cfe6486a83bad4962f232d48003b1824ab5665c36778141034d75e57b956e422"],[Ci.INSIGHTS,"b042025541e25a472bffde2d62edd457b7e70cee943412b1ea0f044f88591664"],[Ci.BEOS,"b912d19a6abd2b1b05611ae5be473355d64d95aeff0c09bedc8c166cd6468fe4"],[Ci.WAX,"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"],[Ci.PROTON,"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0"],[Ci.FIO,"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c"]]);var Ka;let Rb=class extends B{};Rb=p([cc("account_name")],Rb);let Ab=class extends B{};Ab=p([cc("permission_name")],Ab);let Ed=class extends h{};p([h.field(dt,{optional:!0})],Ed.prototype,"permission",void 0);Ed=p([h.type("identity")],Ed);let Io=class extends h{};p([h.field("name")],Io.prototype,"scope",void 0);p([h.field(dt,{optional:!0})],Io.prototype,"permission",void 0);Io=p([h.type("identity")],Io);let fg=class extends zi{};fg=p([zi.type("variant_req",[di,{type:di,array:!0},Ht,Ed])],fg);let pg=class extends zi{};pg=p([zi.type("variant_req",[di,{type:di,array:!0},Ht,Io])],pg);let Fo=Ka=class extends Dt{get broadcast(){return(Number(this)&Ka.broadcast)!==0}set broadcast(t){this.setFlag(Ka.broadcast,t)}get background(){return(Number(this)&Ka.background)!==0}set background(t){this.setFlag(Ka.background,t)}setFlag(t,i){i?this.value=Dt.from(Number(this)|t).value:this.value=Dt.from(Number(this)&~t).value}};Fo.broadcast=1;Fo.background=2;Fo=Ka=p([cc("request_flags")],Fo);let Ra=class extends h{};p([h.field("string")],Ra.prototype,"key",void 0);p([h.field("bytes")],Ra.prototype,"value",void 0);Ra=p([h.type("info_pair")],Ra);let kn=class extends h{};p([h.field(Gr)],kn.prototype,"chain_id",void 0);p([h.field(fg)],kn.prototype,"req",void 0);p([h.field(Fo)],kn.prototype,"flags",void 0);p([h.field("string")],kn.prototype,"callback",void 0);p([h.field(Ra,{array:!0})],kn.prototype,"info",void 0);kn=p([h.type("signing_request")],kn);let Dn=class extends h{};p([h.field(Gr)],Dn.prototype,"chain_id",void 0);p([h.field(pg)],Dn.prototype,"req",void 0);p([h.field(Fo)],Dn.prototype,"flags",void 0);p([h.field("string")],Dn.prototype,"callback",void 0);p([h.field(Ra,{array:!0})],Dn.prototype,"info",void 0);Dn=p([h.type("signing_request")],Dn);let vn=class extends h{};p([h.field("name")],vn.prototype,"signer",void 0);p([h.field("signature")],vn.prototype,"signature",void 0);vn=p([h.type("request_signature")],vn);var Pc;let Gn=Pc=class extends h{static from(t){return ve(t,Pc)?t:typeof t=="string"?Pc.fromString(t):super.from(t)}static fromString(t){const i=t.split(" ");if(i.length!==2||i[0]!=="EOSIO")throw new Error("Invalid IdentityProof string");const s=Zw(i[1]);return Pe.decode({data:s,type:Pc})}static fromPayload(t,i={}){const s=Pi.from(t.req,i);if(!(s.version>=3&&s.isIdentity()))throw new Error("Not an identity request");return this.from({chainId:t.cid||s.getChainId(),scope:s.getIdentityScope(),expiration:t.ex,signer:{actor:t.sa,permission:t.sp},signature:t.sig})}get transaction(){const t=di.from({account:"",name:"identity",authorization:[this.signer],data:Io.from({scope:this.scope,permission:this.signer})});return Ht.from({ref_block_num:0,ref_block_prefix:0,expiration:this.expiration,actions:[t]})}recover(){return this.signature.recoverDigest(this.transaction.signingDigest(this.chainId))}verify(t,i){return ci.from(i||new Date).toMilliseconds()<this.expiration.toMilliseconds()&&_n.from(t).hasPermission(this.recover())}toString(){const t=Pe.encode({object:this});return`EOSIO ${Hw(t.array,!1)}`}};p([h.field(Vi)],Gn.prototype,"chainId",void 0);p([h.field(B)],Gn.prototype,"scope",void 0);p([h.field(ci)],Gn.prototype,"expiration",void 0);p([h.field(dt)],Gn.prototype,"signer",void 0);p([h.field(Gi)],Gn.prototype,"signature",void 0);Gn=Pc=p([h.type("identity_proof")],Gn);const Ho=B.from("............1"),Qa=B.from("............2"),gg=dt.from({actor:Ho,permission:Qa});class Pi{constructor(t,i,s,r,n){if(i.flags.broadcast&&i.req.variantName==="identity")throw new Error("Invalid request (identity request cannot be broadcast)");this.version=t,this.data=i,this.zlib=s,this.abiProvider=r,this.signature=n}static identityAbi(t){const i=Pe.synthesize(this.identityType(t));return i.actions=[{name:"identity",type:"identity",ricardian_contract:""}],i}static identityType(t){return t===2?Ed:Io}static storageType(t){return t===2?kn:Dn}static async create(t,i={}){let s;t.action?s=[t.action]:t.actions?s=t.actions:t.transaction?s=t.transaction.actions||[]:s=[];const r=s.filter(o=>!pe.isBytes(o.data)&&o.data.constructor.abiName===void 0).map(o=>B.from(o.account)),n={};if(r.length>0){const o=i.abiProvider;if(!o)throw new Error("Missing abi provider");const a=await Promise.all(r.map(l=>o.getAbi(l)));for(const[l,c]of a.entries())n[r[l].toString()]=c}return this.createSync(t,i,n)}static createSync(t,i={},s={}){let r=2;const n={},o=d=>C9(d,s);if(t.chainId===null&&(r=3),t.identity!==void 0)t.identity.scope&&(r=3),n.req=["identity",this.identityType(r).from(t.identity)];else if(t.action&&!t.actions&&!t.transaction)n.req=["action",o(t.action)];else if(t.actions&&!t.action&&!t.transaction)t.actions.length===1?n.req=["action",o(t.actions[0])]:n.req=["action[]",t.actions.map(o)];else if(t.transaction&&!t.action&&!t.actions){const d=t.transaction;d.expiration===void 0&&(d.expiration="1970-01-01T00:00:00.000"),d.ref_block_num===void 0&&(d.ref_block_num=0),d.ref_block_prefix===void 0&&(d.ref_block_prefix=0),d.context_free_actions===void 0&&(d.context_free_actions=[]),d.transaction_extensions===void 0&&(d.transaction_extensions=[]),d.delay_sec===void 0&&(d.delay_sec=0),d.max_cpu_usage_ms===void 0&&(d.max_cpu_usage_ms=0),d.max_net_usage_words===void 0&&(d.max_net_usage_words=0),d.actions===void 0&&(d.actions=[]),d.context_free_actions===void 0&&(d.context_free_actions=[]),d.actions=d.actions.map(o),n.req=["transaction",d]}else throw new TypeError("Invalid arguments: Must have exactly one of action, actions or transaction");t.chainId===null?n.chain_id=Gr.from(["chain_alias",0]):n.chain_id=Vi.from(t.chainId||Ci.EOS).chainVariant;const a=Fo.from(0);let l="";if(a.broadcast=t.broadcast!==void 0?t.broadcast:n.req[0]!=="identity",typeof t.callback=="string"?l=t.callback:typeof t.callback=="object"&&(l=t.callback.url,a.background=t.callback.background||!1),n.flags=a,n.callback=l,n.info=[],typeof t.info=="object"){for(const d in t.info)if(Object.prototype.hasOwnProperty.call(t.info,d)){let f=t.info[d];typeof f=="string"?f=pe.from(f,"utf8"):f instanceof pe||(f=Pe.encode({object:f})),n.info.push({key:d,value:f})}}if(t.chainIds&&t.chainId===null){const d=t.chainIds.map(u=>Vi.from(u).chainVariant);n.info.push({key:"chain_ids",value:Pe.encode({object:d,type:{type:Gr,array:!0}})})}const c=new Pi(r,this.storageType(r).from(n),i.zlib,i.abiProvider);return i.signatureProvider&&c.sign(i.signatureProvider),c}static identity(t,i={}){let s={actor:t.account||Ho,permission:t.permission||Qa};return s.actor===Ho&&s.permission===Qa&&(s=void 0),this.createSync({...t,identity:{permission:s,scope:t.scope},broadcast:!1},i)}static fromTransaction(t,i,s={}){const r=Vi.from(t);i=pe.from(i);const n=new Xm;return n.writeByte(2),n.writeArray(Pe.encode({object:r.chainVariant}).array),n.writeByte(2),n.writeArray(pe.from(i).array),n.writeByte(Fo.broadcast),n.writeByte(0),n.writeByte(0),Pi.fromData(n.getData(),s)}static from(t,i={}){if(typeof t!="string")throw new Error("Invalid request uri");const[,s]=t.split(":"),r=Zw(s.startsWith("//")?s.slice(2):s);return Pi.fromData(r,i)}static fromData(t,i={}){t=pe.from(t);const s=t.array[0],r=s&-129;if(r!==2&&r!==3)throw new Error("Unsupported protocol version");let n=t.droppingFirst(1);if(s&128){if(!i.zlib)throw new Error("Compressed URI needs zlib");n=pe.from(i.zlib.inflateRaw(n.array))}const o=new Il(n.array),a=Pe.decode({data:o,type:this.storageType(r)});let l;return o.canRead()&&(l=Pe.decode({data:o,type:vn})),new Pi(r,a,i.zlib,i.abiProvider,l)}sign(t){const i=this.getSignatureDigest();this.signature=vn.from(t.sign(i))}getSignatureDigest(){const t=[this.version,114,101,113,117,101,115,116];return _e.hash(pe.from(t).appending(this.getData()))}setSignature(t,i){this.signature=vn.from({signer:t,signature:i})}setCallback(t,i){this.data.callback=t,this.data.flags.background=i}setBroadcast(t){this.data.flags.broadcast=t}encode(t,i,s="esr:"){const r=t!==void 0?t:this.zlib!==void 0;if(r&&this.zlib===void 0)throw new Error("Need zlib to compress");let n=this.version;const o=this.getData(),a=this.getSignatureData();let l=new Uint8Array(o.byteLength+a.byteLength);if(l.set(o,0),l.set(a,o.byteLength),r){const d=this.zlib.deflateRaw(l);l.byteLength>d.byteLength&&(n|=128,l=d)}const c=new Uint8Array(1+l.byteLength);return c[0]=n,c.set(l,1),i!==!1&&(s+="//"),s+Hw(c)}getData(){return Pe.encode({object:this.data}).array}getSignatureData(){return this.signature?Pe.encode({object:this.signature}).array:new Uint8Array(0)}getRequiredAbis(){return this.getRawActions().filter(t=>!up(t)).map(t=>t.account).filter((t,i,s)=>s.indexOf(t)===i)}requiresTapos(){const t=this.getRawTransaction();return!this.isIdentity()&&!Ib(t)}async fetchAbis(t){const i=this.getRequiredAbis();if(i.length>0){const s=t||this.abiProvider;if(!s)throw new Error("Missing ABI provider");const r=new Map;return await Promise.all(i.map(async n=>{r.set(n.toString(),ze.from(await s.getAbi(n)))})),r}else return new Map}resolveActions(t,i){return this.getRawActions().map(s=>{let r;if(up(s))r=this.constructor.identityAbi(this.version);else{const l=t.get(s.account.toString());if(!l)throw new Error(`Missing ABI definition for ${s.account}`);r=ze.from(l)}if(!r.getActionType(s.name))throw new Error(`Missing type for action ${s.account}:${s.name} in ABI`);let o=s.decodeData(r),a=s.authorization;if(i){const l=dt.from(i),c=d=>{if(d instanceof B)return d.equals(Ho)?l.actor:d.equals(Qa)?l.permission:d;if(Array.isArray(d))return d.map(c);if(typeof d=="object"&&d!==null){for(const u of Object.keys(d))d[u]=c(d[u]);return d}else return d};o=c(o),a=a.map(d=>{let{actor:u,permission:f}=d;return u.equals(Ho)&&(u=l.actor),f.equals(Qa)&&(f=l.permission),f.equals(Ho)&&(f=l.permission),dt.from({actor:u,permission:f})})}return{...s,authorization:a,data:o}})}resolveTransaction(t,i,s={}){const r=this.getRawTransaction();if(!this.isIdentity()&&!Ib(r))if(s.expiration!==void 0&&s.ref_block_num!==void 0&&s.ref_block_prefix!==void 0)r.expiration=ci.from(s.expiration),r.ref_block_num=li.from(s.ref_block_num,"truncate"),r.ref_block_prefix=ge.from(s.ref_block_prefix);else if(s.block_num!==void 0&&s.ref_block_prefix!==void 0&&s.timestamp!==void 0)r.expiration=Fb(s.timestamp,s.expire_seconds),r.ref_block_num=li.from(s.block_num,"truncate"),r.ref_block_prefix=ge.from(s.ref_block_prefix);else throw new Error("Invalid transaction context, need either a reference block or explicit TaPoS values");else this.isIdentity()&&this.version>2&&(r.expiration=s.expiration?ci.from(s.expiration):Fb(s.timestamp,s.expire_seconds));const n=this.resolveActions(t,i),o=r.context_free_actions;return{...r,context_free_actions:o,actions:n}}resolve(t,i,s={}){const r=this.resolveTransaction(t,i,s),n=r.actions.map(l=>{let c;if(up(l)?c=this.constructor.identityAbi(this.version):c=t.get(l.account.toString()),!c)throw new Error(`Missing ABI definition for ${l.account}`);const d=c.getActionType(l.name),u=Pe.encode({object:l.data,type:d,abi:c});return di.from({...l,data:u})}),o=Ht.from({...r,actions:n});let a;if(this.isMultiChain()){if(!s.chainId)throw new Error("Missing chosen chain ID for multi-chain request");a=Vi.from(s.chainId);const l=this.getChainIds();if(l&&!l.some(c=>a.equals(c)))throw new Error("Trying to resolve for chain ID not defined in request")}else a=this.getChainId();return new Md(this,dt.from(i),o,r,a)}getChainId(){return this.data.chain_id.chainId}getChainIds(){if(!this.isMultiChain())return null;const t=this.getInfoKey("chain_ids",{type:Gr,array:!0});return t?t.map(i=>i.chainId):null}setChainIds(t){const i=t.map(s=>Vi.from(s).chainVariant);this.setInfoKey("chain_ids",i,{type:Gr,array:!0})}isMultiChain(){return this.data.chain_id.variantIdx===0&&this.data.chain_id.value.equals(Ci.UNKNOWN)}getRawActions(){const t=this.data.req;switch(t.variantName){case"action":return[t.value];case"action[]":return t.value;case"identity":if(this.version===2){const i=t.value;let s="0101000000000000000200000000000000",r=[gg];i.permission&&(s=Pe.encode({object:i}),r=[i.permission]);const n=di.from({account:"",name:"identity",authorization:r,data:s});return delete n.abi,[n]}else{let{scope:i,permission:s}=t.value;s||(s=gg);const r=Pe.encode({object:{scope:i,permission:s},type:Io}),n=di.from({account:"",name:"identity",authorization:[s],data:r});return delete n.abi,[n]}case"transaction":return t.value.actions;default:throw new Error("Invalid signing request data")}}getRawTransaction(){const t=this.data.req;switch(t.variantName){case"transaction":return Ht.from({...t.value});case"action":case"action[]":case"identity":return Ht.from({actions:this.getRawActions(),context_free_actions:[],transaction_extensions:[],expiration:"1970-01-01T00:00:00.000",ref_block_num:0,ref_block_prefix:0,max_cpu_usage_ms:0,max_net_usage_words:0,delay_sec:0});default:throw new Error("Invalid signing request data")}}isIdentity(){return this.data.req.variantName==="identity"}shouldBroadcast(){return this.isIdentity()?!1:this.data.flags.broadcast}getIdentity(){if(!this.isIdentity())return null;const t=this.data.req.value;return t.permission&&!t.permission.actor.equals(Ho)?t.permission.actor:null}getIdentityPermission(){if(!this.isIdentity())return null;const t=this.data.req.value;return t.permission&&!t.permission.permission.equals(Qa)?t.permission.permission:null}getIdentityScope(){return!this.isIdentity()||this.version<=2?null:this.data.req.value.scope}getRawInfo(){const t={};for(const{key:i,value:s}of this.data.info)t[i]=s;return t}getRawInfoKey(t){const i=this.data.info.find(s=>s.key===t);if(i)return i.value}setRawInfoKey(t,i){let s=this.data.info.find(r=>r.key===t);s?s.value=pe.from(i):(s=Ra.from({key:t,value:i}),this.data.info.push(s))}setInfoKey(t,i,s){let r;typeof i=="string"&&!s?r=pe.from(i,"utf8"):r=Pe.encode({object:i,type:s}),this.setRawInfoKey(t,r)}getInfoKey(t,i){const s=this.getRawInfoKey(t);if(s)return i?Pe.decode({data:s,type:i}):s.utf8String}clone(){let t;this.signature&&(t=vn.from(JSON.parse(JSON.stringify(this.signature))));const s=this.constructor.storageType(this.version).from(JSON.parse(JSON.stringify(this.data)));return new Pi(this.version,s,this.zlib,this.abiProvider,t)}toString(){return this.encode()}toJSON(){return this.encode()}}class Md{constructor(t,i,s,r,n){this.request=t,this.signer=i,this.transaction=s,this.resolvedTransaction=r,this.chainId=n}static async fromPayload(t,i={}){const s=Pi.from(t.req,i),r=await s.fetchAbis();return s.resolve(r,{actor:t.sa,permission:t.sp},{ref_block_num:t.rbn,ref_block_prefix:t.rid,expiration:t.ex,chainId:t.cid||s.getChainId()})}get serializedTransaction(){return Pe.encode({object:this.transaction}).array}get signingDigest(){return this.transaction.signingDigest(this.chainId)}get signingData(){return this.transaction.signingData(this.chainId)}getCallback(t,i){const{callback:s,flags:r}=this.request.data;if(!s||s.length===0)return null;if(!t||t.length===0)throw new Error("Must have at least one signature to resolve callback");const n=t.map(l=>Gi.from(l)),o={sig:String(n[0]),tx:String(this.transaction.id),rbn:String(this.transaction.ref_block_num),rid:String(this.transaction.ref_block_prefix),ex:String(this.transaction.expiration),req:this.request.encode(),sa:String(this.signer.actor),sp:String(this.signer.permission),cid:String(this.chainId)};for(const[l,c]of n.slice(1).entries())o[`sig${l}`]=String(c);i&&(o.bn=String(ge.from(i)));const a=s.replace(/({{([a-z0-9]+)}})/g,(l,c,d)=>o[d]||"");return{background:r.background,payload:o,url:a}}getIdentityProof(t){if(!this.request.isIdentity())throw new Error("Not a identity request");return Gn.from({chainId:this.chainId,scope:this.request.getIdentityScope(),expiration:this.transaction.expiration,signer:this.signer,signature:t})}}function C9(e,t){if(pe.isBytes(e.data)||e.data.constructor.abiName!==void 0)return di.from(e);const i=t[String(B.from(e.account))];if(!i)throw new Error(`Missing ABI for ${e.account}`);const s=di.from(e,i);return delete s.abi,s}function up(e){const t=B.from(e.account),i=B.from(e.name);return t.rawValue.equals(0)&&i.equals("identity")}function Ib(e){return!(e.expiration.equals(0)&&e.ref_block_num.equals(0)&&e.ref_block_prefix.equals(0))}function Fb(e,t=60){const i=ci.from(e||new Date),s=ge.from(t);return ci.fromInteger(i.value.adding(s))}class Yw{constructor(t){this.client=t,this.cache=new Map,this.pending=new Map}async getAbi(t){const i=String(t);let s=this.cache.get(i);if(!s){let r=this.pending.get(i);r||(r=this.client.v1.chain.get_raw_abi(t),this.pending.set(i,r));const n=await r;if(this.pending.delete(i),n.abi)s=ze.from(n.abi),this.cache.set(i,s);else throw new Error(`ABI for ${i} could not be loaded.`)}return s}setAbi(t,i,s=!1){const r=String(t),n=ze.from(i),o=this.cache.get(r);s&&o?this.cache.set(r,ze.from({action_results:Vo(o.action_results,n.action_results),types:Vo(o.types,n.types,"new_type_name"),structs:Vo(o.structs,n.structs),actions:Vo(o.actions,n.actions),tables:Vo(o.tables,n.tables),ricardian_clauses:Vo(o.ricardian_clauses,n.ricardian_clauses,"id"),variants:Vo(o.variants,n.variants),version:n.version})):this.cache.set(r,n)}}function Vo(e,t,i="name"){return t.reduce((s,r)=>(s.some(n=>String(n[i])===String(r[i]))||s.push(r),s),e.slice())}function y9(e){return["primary","secondary","tertiary","fourth","fifth","sixth","seventh","eighth","ninth","tenth"][e]}function qn(e){if(e)return ve(e,Hi)||ve(e,Le)||ve(e,yi)||ve(e,_e)||ve(e,mo)?e:typeof e=="number"?Le.from(e):B.from(e)}const w9={json:!1,limit:1e3};class zw{constructor(t){this.endReached=!1,this.rowsCount=0,this.maxRows=Number.MAX_SAFE_INTEGER,this.abi=ze.from(t.abi),this.client=t.client,this.params={...w9,...t.params},t.maxRows&&(this.maxRows=t.maxRows);const i=this.abi.tables.find(s=>B.from(s.name).equals(this.params.table));if(!i)throw new Error("Table not found");this.type=i.type}async*[Symbol.asyncIterator](){for(;;){const t=await this.next();for(const i of t)yield i;if(t.length===0||!this.next_key)return}}async reset(){this.next_key=void 0,this.endReached=!1,this.rowsCount=0}async all(){const t=[];for await(const i of this)t.push(i);return t}}class S9 extends zw{async next(t=Number.MAX_SAFE_INTEGER){if(this.endReached)return[];let i=this.params.lower_bound;this.next_key&&(i=this.next_key);const s=this.maxRows-this.rowsCount,r=Math.min(s,t,this.params.limit),n={...this.params,limit:r,lower_bound:qn(i),upper_bound:qn(this.params.upper_bound)},o=await this.client.v1.chain.get_table_rows(n),l=this.params.json===!1&&!n.type?o.rows.map(c=>Pe.decode({data:c,abi:this.abi,type:this.type})):o.rows;return this.next_key=o.next_key,this.rowsCount+=l.length,(!o.next_key||l.length===0||this.rowsCount===this.maxRows)&&(this.endReached=!0),l}}class R9 extends zw{async next(t=Number.MAX_SAFE_INTEGER){if(this.endReached)return[];let i=this.params.lower_bound;this.next_key&&(i=this.next_key);const s=this.maxRows-this.rowsCount,r=Math.min(s,t,this.params.limit),n={code:this.params.code,table:this.params.table,limit:r,lower_bound:i?String(i):void 0,upper_bound:this.params.upper_bound?String(this.params.upper_bound):void 0},o=await this.client.v1.chain.get_table_by_scope(n),a=o.rows;return this.next_key=o.more,this.rowsCount+=a.length,(!o.more||a.length===0||this.rowsCount===this.maxRows)&&(this.endReached=!0),a}}class qm{constructor(t){this.defaultRowLimit=1e3,this.abi=ze.from(t.abi),this.account=B.from(t.account),this.name=B.from(t.name),this.client=t.client,this.rowType=t.rowType,this.fieldToIndex=t.fieldToIndex;const i=this.abi.tables.find(s=>this.name.equals(s.name));if(!i)throw new Error(`Table ${this.name} not found in ABI`);this.tableABI=i,this.defaultScope=t.defaultScope}static from(t){return new qm(t)}query(t={}){const i={table:this.name,code:this.account,scope:t.scope!==void 0?String(t.scope):this.defaultScope||this.account,type:this.rowType,index_position:t.index_position,key_type:t.key_type,lower_bound:qn(t.from),upper_bound:qn(t.to),limit:t.rowsPerAPIRequest||this.defaultRowLimit,reverse:t.reverse};if(t.index){const s=this.getFieldToIndex();if(!s[t.index])throw new Error(`Field ${t.index} is not listed in the ABI under key_names/key_types. Try using 'index_position' instead.`);i.index_position=s[t.index].index_position}return new S9({abi:this.abi,client:this.client,maxRows:t.maxRows,params:i})}async get(t,i={}){const s={table:this.name,code:this.account,scope:i.scope!==void 0?String(i.scope):this.defaultScope||this.account,type:this.rowType,limit:1,lower_bound:qn(t),upper_bound:qn(t),index_position:i.index_position,key_type:i.key_type,json:!1,reverse:i.reverse};if(i.index){const o=this.getFieldToIndex();if(!o[i.index])throw new Error(`Field ${i.index} is not listed in the ABI under key_names/key_types. Try using 'index_position' instead.`);s.index_position=o[i.index].index_position}const{rows:r}=await this.client.v1.chain.get_table_rows(s);if(r.length===0)return;let[n]=r;return this.rowType||(n=Pe.decode({data:n,abi:this.abi,type:this.tableABI.type})),i.json&&(n=Pe.objectify(n)),n}first(t,i={}){return this.query({...i,maxRows:t})}async all(t={}){return this.query(t).all()}getFieldToIndex(){if(this.fieldToIndex)return this.fieldToIndex;const t={};for(let i=0;i<this.tableABI.key_names.length;i++)t[this.tableABI.key_names[i]]={type:this.tableABI.key_types[i],index_position:y9(i)};return t}scopes(t={}){const i={code:this.account,table:this.name,lower_bound:qn(t.from),upper_bound:qn(t.to),limit:t.rowsPerAPIRequest||this.defaultRowLimit,reverse:t.reverse};return new R9({abi:this.abi,client:this.client,maxRows:t.maxRows,params:i})}}let Km=class{constructor(t){if(!t.abi)throw new Error("Contract requires an ABI");if(this.abi=ze.from(t.abi),!t.account)throw new Error("Contract requires an account name");if(this.account=B.from(t.account),!t.client)throw new Error("Contract requires an APIClient");this.client=t.client}get tableNames(){return this.abi.tables.map(t=>String(t.name))}hasTable(t){return this.tableNames.includes(String(t))}table(t,i,s){if(!this.hasTable(t))throw new Error(`Contract (${this.account}) does not have a table named (${t})`);return qm.from({abi:this.abi,account:this.account,client:this.client,defaultScope:i,name:t,rowType:s})}get actionNames(){return this.abi.actions.map(t=>String(t.name))}hasAction(t){return this.actionNames.includes(String(t))}action(t,i,s){if(!this.hasAction(t))throw new Error(`Contract (${this.account}) does not have an action named (${t})`);let r=[gg];return s&&s.authorization&&(r=s.authorization.map(n=>dt.from(n))),di.from({account:this.account,name:t,authorization:r,data:i},this.abi)}async readonly(t,i){i||(i={});const s=this.action(t,i);s.authorization=[];const r=Ht.from({ref_block_num:0,ref_block_prefix:0,expiration:0,actions:[s]}),o=(await this.client.v1.chain.send_read_only_transaction(r)).processed.action_traces[0].return_value_hex_data,a=this.abi.action_results.find(l=>B.from(l.name).equals(t));if(!a)throw new Error(`Return type for ${t} not defined in the ABI.`);return Pe.decode({data:o,type:a.result_type,abi:this.abi})}actions(t,i){return t.map(s=>this.action(s.name,s.data,{authorization:s.authorization||(i==null?void 0:i.authorization)}))}ricardian(t){if(!this.hasAction(t))throw new Error(`Contract (${this.account}) does not have an action named (${t})`);const i=this.abi.actions.find(s=>B.from(s.name).equals(t));if(!i||!i.ricardian_contract)throw new Error(`Contract (${this.account}) action named (${t}) does not have a defined ricardian contract`);return i.ricardian_contract}};const A9={};class Qm{constructor(t,i=A9){if(t.client)this.client=t.client;else throw new Error("A `client` must be passed when initializing the ContractKit.");i.abiCache?this.abiCache=i.abiCache:this.abiCache=new Yw(this.client),i.abis&&i.abis.forEach(({name:s,abi:r})=>this.abiCache.setAbi(B.from(s),ze.from(r)))}async load(t){const i=B.from(t),s=await this.abiCache.getAbi(i);return new Km({abi:ze.from(s),account:i,client:this.client})}}class lu extends Error{constructor(t,i=!1){super(t),this.silent=!1,this.silent=i,Object.setPrototypeOf(this,lu.prototype)}}function cl(e,t){let i=null;const s=new Promise((r,n)=>{i=(o="",a=!1)=>{try{t&&t(new lu(o,a))}catch(l){n(l)}return s},e.then(r,n)});return i&&(s.cancel=i),s}function It(e,t,i,s){var r=arguments.length,n=r<3?t:s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(n=(r<3?o(n):r>3?o(t,i,n):o(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n}let kd=class extends h{url(t){return`${this.prefix}${t}${this.suffix}`}};It([h.field("string")],kd.prototype,"prefix",void 0);It([h.field("string")],kd.prototype,"suffix",void 0);kd=It([h.type("explorer_definition")],kd);var mg;let Bs=mg=class extends h{static from(t){return typeof t=="string"?new mg({light:t,dark:t}):super.from(t)}getVariant(t){return this[t]}toString(){return this.light}};It([h.field("string")],Bs.prototype,"dark",void 0);It([h.field("string")],Bs.prototype,"light",void 0);Bs=mg=It([h.type("logo")],Bs);let Aa=class extends h{};It([h.field(_e)],Aa.prototype,"chain",void 0);It([h.field(B)],Aa.prototype,"contract",void 0);It([h.field(ie.Symbol)],Aa.prototype,"symbol",void 0);Aa=It([h.type("token_identifier")],Aa);let Dd=class extends h{};It([h.field(Aa)],Dd.prototype,"id",void 0);It([h.field("string",{optional:!0})],Dd.prototype,"logo",void 0);Dd=It([h.type("token_meta")],Dd);let Gd=class extends h{};It([h.field(ie)],Gd.prototype,"asset",void 0);It([h.field(B)],Gd.prototype,"contract",void 0);It([h.field(Dd)],Gd.prototype,"metadata",void 0);Gd=It([h.type("token_balance")],Gd);class qt{constructor(t){this.id=_e.from(t.id),this.url=t.url,this.logo=t.logo,this.explorer=t.explorer,this.accountDataType=t.accountDataType,this.coinType=t.coinType,t.systemTokenContract&&t.systemTokenSymbol&&(this.systemToken=Aa.from({chain:this.id,contract:t.systemTokenContract,symbol:t.systemTokenSymbol})),t.systemToken&&(this.systemToken=t.systemToken)}static from(t){return new qt({...t,explorer:t.explorer?kd.from(t.explorer):void 0,logo:t.logo?Bs.from(t.logo):void 0})}get name(){const t=F9.get(String(this.id));return t?I9[t]:"Unknown blockchain"}getLogo(){const t=String(this.id);if(this.logo)return Bs.from(this.logo);if(xb.has(t)){const i=xb.get(t);if(i)return Bs.from(i)}}equals(t){const i=qt.from(t);return this.id.equals(i.id)&&this.url===i.url}}const I9={EOS:"EOS",FIO:"FIO",FIOTestnet:"FIO (Testnet)",Jungle4:"Jungle 4 (Testnet)",KylinTestnet:"Kylin (Testnet)",Libre:"Libre",LibreTestnet:"Libre (Testnet)",Proton:"XPR Network",ProtonTestnet:"XPR Network (Testnet)",Telos:"Telos",TelosTestnet:"Telos (Testnet)",UX:"UX Network",WAX:"WAX",WAXTestnet:"WAX (Testnet)",XPR:"XPR Network",XPRTestnet:"XPR Network (Testnet)"};let lh=class extends ff.v1.AccountVoterInfo{};It([h.field(me)],lh.prototype,"last_stake",void 0);lh=It([h.type("telos_account_voter_info")],lh);let Pd=class extends ff.v1.AccountObject{};It([h.field(lh,{optional:!0})],Pd.prototype,"voter_info",void 0);Pd=It([h.type("telos_account_object")],Pd);let Ia=class extends ff.v1.AccountVoterInfo{};It([h.field(yi)],Ia.prototype,"unpaid_voteshare",void 0);It([h.field(Ss)],Ia.prototype,"unpaid_voteshare_last_updated",void 0);It([h.field(yi)],Ia.prototype,"unpaid_voteshare_change_rate",void 0);It([h.field(Ss)],Ia.prototype,"last_claim_time",void 0);Ia=It([h.type("wax_account_voter_info")],Ia);let Od=class extends ff.v1.AccountObject{};It([h.field(Ia,{optional:!0})],Od.prototype,"voter_info",void 0);Od=It([h.type("wax_account_object")],Od);var bi;(function(e){e.EOS=qt.from({id:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",url:"https://eos.greymass.com",coinType:194,systemTokenSymbol:"4,EOS",systemTokenContract:"eosio.token"}),e.FIO=qt.from({id:"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c",url:"https://fio.greymass.com",coinType:235,systemTokenSymbol:"9,FIO",systemTokenContract:"eosio.token"}),e.FIOTestnet=qt.from({id:"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e",url:"https://fiotestnet.greymass.com",systemTokenSymbol:"9,FIO",systemTokenContract:"fio.token"}),e.Jungle4=qt.from({id:"73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d",url:"https://jungle4.greymass.com",coinType:194,systemTokenSymbol:"4,EOS",systemTokenContract:"eosio.token"}),e.KylinTestnet=qt.from({id:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191",url:"https://kylintestnet.greymass.com",coinType:194,systemTokenSymbol:"4,EOS",systemTokenContract:"eosio.token"}),e.Libre=qt.from({id:"38b1d7815474d0c60683ecbea321d723e83f5da6ae5f1c1f9fecc69d9ba96465",url:"https://libre.greymass.com",systemTokenSymbol:"4,LIBRE",systemTokenContract:"eosio.token"}),e.LibreTestnet=qt.from({id:"b64646740308df2ee06c6b72f34c0f7fa066d940e831f752db2006fcc2b78dee",url:"https://libretestnet.greymass.com",systemTokenSymbol:"4,LIBRE",systemTokenContract:"eosio.token"}),e.Proton=qt.from({id:"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0",url:"https://proton.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"}),e.ProtonTestnet=qt.from({id:"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd",url:"https://proton-testnet.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"}),e.Telos=qt.from({id:"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11",url:"https://telos.greymass.com",accountDataType:Pd,coinType:977,systemTokenSymbol:"4,TLOS",systemTokenContract:"eosio.token"}),e.TelosTestnet=qt.from({id:"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f",url:"https://telostestnet.greymass.com",accountDataType:Pd,coinType:977,systemTokenSymbol:"4,TLOS",systemTokenContract:"eosio.token"}),e.UX=qt.from({id:"8fc6dce7942189f842170de953932b1f66693ad3788f766e777b6f9d22335c02",url:"https://api.uxnetwork.io",systemTokenSymbol:"4,UTX",systemTokenContract:"eosio.token"}),e.WAX=qt.from({id:"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4",url:"https://wax.greymass.com",accountDataType:Od,coinType:14001,systemTokenSymbol:"8,WAX",systemTokenContract:"eosio.token"}),e.WAXTestnet=qt.from({id:"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12",url:"https://waxtestnet.greymass.com",accountDataType:Od,coinType:14001,systemTokenSymbol:"8,WAX",systemTokenContract:"eosio.token"}),e.XPR=qt.from({id:"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0",url:"https://proton.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"}),e.XPRTestnet=qt.from({id:"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd",url:"https://proton-testnet.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"})})(bi||(bi={}));const F9=new Map([["aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","EOS"],["21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c","FIO"],["b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e","FIOTestnet"],["73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d","Jungle4"],["5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191","KylinTestnet"],["38b1d7815474d0c60683ecbea321d723e83f5da6ae5f1c1f9fecc69d9ba96465","Libre"],["b64646740308df2ee06c6b72f34c0f7fa066d940e831f752db2006fcc2b78dee","LibreTestnet"],["384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0","XPR"],["71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd","XPRTestnet"],["4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11","Telos"],["1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f","TelosTestnet"],["8fc6dce7942189f842170de953932b1f66693ad3788f766e777b6f9d22335c02","UX"],["1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4","WAX"],["f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12","WAXTestnet"]]),xb=new Map([["aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","https://assets.wharfkit.com/chain/eos.png"],["21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c","https://assets.wharfkit.com/chain/fio.png"],["b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e","https://assets.wharfkit.com/chain/fio.png"],["2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840","https://assets.wharfkit.com/chain/jungle.png"],["73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d","https://assets.wharfkit.com/chain/jungle.png"],["38b1d7815474d0c60683ecbea321d723e83f5da6ae5f1c1f9fecc69d9ba96465","https://assets.wharfkit.com/chain/libre.png"],["b64646740308df2ee06c6b72f34c0f7fa066d940e831f752db2006fcc2b78dee","https://assets.wharfkit.com/chain/libre.png"],["384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0","https://assets.wharfkit.com/chain/xprnetwork.png"],["71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd","https://assets.wharfkit.com/chain/xprnetwork.png"],["4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11","https://assets.wharfkit.com/chain/telos.png"],["1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f","https://assets.wharfkit.com/chain/telos.png"],["8fc6dce7942189f842170de953932b1f66693ad3788f766e777b6f9d22335c02","https://assets.wharfkit.com/chain/ux.png"],["1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4","https://assets.wharfkit.com/chain/wax.png"],["f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12","https://assets.wharfkit.com/chain/wax.png"]]);function ch(e,t){var i;t===void 0&&(t="0");var s=0,r=-1;e[0]=="-"&&(e=e.substring(1),vg(e)||(s++,r=1,e.length)),t[0]=="-"&&(t=t.substring(1),vg(t)||(s++,r=2,t.length)),e=Li(e),t=Li(t),i=$m(Li(e),Li(t)),e=i[0],t=i[1],s==1&&(r===1?e=hp(e):r===2&&(t=hp(t)));var n=jw(e,t);return s?s==2?"-"+Li(n):e.length<n.length?Li(n.substring(1)):"-"+Li(hp(n)):Li(n)}function hp(e){if(vg(e))return e;for(var t="",i=e.length,s=e.split(".")[1],r=s?s.length:0,n=0;n<i;n++)e[n]>="0"&&e[n]<="9"?t+=9-parseInt(e[n]):t+=e[n];var o=r>0?"0."+new Array(r).join("0")+"1":"1";return jw(t,o)}function Li(e){var t=e.split(".");for(t[0]||(t[0]="0");t[0][0]=="0"&&t[0].length>1;)t[0]=t[0].substring(1);return t[0]+(t[1]?"."+t[1]:"")}function $m(e,t){var i=e.split("."),s=t.split("."),r=i[0].length,n=s[0].length;return r>n?s[0]=new Array(Math.abs(r-n)+1).join("0")+(s[0]?s[0]:""):i[0]=new Array(Math.abs(r-n)+1).join("0")+(i[0]?i[0]:""),r=i[1]?i[1].length:0,n=s[1]?s[1].length:0,(r||n)&&(r>n?s[1]=(s[1]?s[1]:"")+new Array(Math.abs(r-n)+1).join("0"):i[1]=(i[1]?i[1]:"")+new Array(Math.abs(r-n)+1).join("0")),e=i[0]+(i[1]?"."+i[1]:""),t=s[0]+(s[1]?"."+s[1]:""),[e,t]}function jw(e,t){var i;i=$m(e,t),e=i[0],t=i[1];for(var s="",r=0,n=e.length-1;n>=0;n--){if(e[n]==="."){s="."+s;continue}var o=parseInt(e[n])+parseInt(t[n])+r;s=o%10+s,r=Math.floor(o/10)}return r?r.toString()+s:s}function vg(e){return/^0[0]*[.]{0,1}[0]*$/.test(e)}function _b(e){return(typeof e=="number"||typeof e=="bigint")&&(e=e.toString()),e[0]=="-"?e.substring(1):e}var si;(function(e){e[e.CEILING=0]="CEILING",e[e.DOWN=1]="DOWN",e[e.FLOOR=2]="FLOOR",e[e.HALF_DOWN=3]="HALF_DOWN",e[e.HALF_EVEN=4]="HALF_EVEN",e[e.HALF_UP=5]="HALF_UP",e[e.UNNECESSARY=6]="UNNECESSARY",e[e.UP=7]="UP"})(si||(si={}));function Bd(e,t,i){if(t===void 0&&(t=0),i===void 0&&(i=si.HALF_EVEN),i===si.UNNECESSARY)throw new Error("UNNECESSARY Rounding Mode has not yet been implemented");(typeof e=="number"||typeof e=="bigint")&&(e=e.toString());var s=!1;e[0]==="-"&&(s=!0,e=e.substring(1));var r=e.split("."),n=r[0],o=r[1];if(t<0){if(t=-t,n.length<=t)return"0";var a=n.substr(0,n.length-t);return e=a+"."+n.substr(n.length-t)+o,a=Bd(e,0,i),(s?"-":"")+a+new Array(t+1).join("0")}if(t==0)return n.length,Eb(r[1],n,s,i)&&(n=fp(n)),(s&&parseInt(n)?"-":"")+n;if(r[1]){if(r[1].length<t)return(s?"-":"")+n+"."+r[1]+new Array(t-r[1].length+1).join("0")}else return(s?"-":"")+n+"."+new Array(t+1).join("0");o=r[1].substring(0,t);var l=r[1].substring(t);return l&&Eb(l,o,s,i)&&(o=fp(o),o.length>t)?(s?"-":"")+fp(n,parseInt(o[0]))+"."+o.substring(1):(s&&(parseInt(n)||parseInt(o))?"-":"")+n+"."+o}function Eb(e,t,i,s){if(!e||e===new Array(e.length+1).join("0")||s===si.DOWN||!i&&s===si.FLOOR||i&&s===si.CEILING)return!1;if(s===si.UP||i&&s===si.FLOOR||!i&&s===si.CEILING)return!0;var r="5"+new Array(e.length).join("0");if(e>r)return!0;if(e<r)return!1;switch(s){case si.HALF_DOWN:return!1;case si.HALF_UP:return!0;case si.HALF_EVEN:default:return parseInt(t[t.length-1])%2==1}}function fp(e,t){t===void 0&&(t=0),t||(t=1),typeof e=="number"&&e.toString();for(var i=e.length-1,s="",r=i;r>=0;r--){var n=parseInt(e[r])+t;n==10?(t=1,n=0):t=0,s+=n}return t&&(s+=t),s.split("").reverse().join("")}function eo(e){var t=e[0]==="-";for(t&&(e=e.substr(1));e[0]=="0";)e=e.substr(1);if(e.indexOf(".")!=-1)for(;e[e.length-1]=="0";)e=e.substr(0,e.length-1);return e==""||e=="."?e="0":e[e.length-1]=="."&&(e=e.substr(0,e.length-1)),e[0]=="."&&(e="0"+e),t&&e!="0"&&(e="-"+e),e}function bg(e,t){e=e.toString(),t=t.toString();var i=0;e[0]=="-"&&(i++,e=e.substr(1)),t[0]=="-"&&(i++,t=t.substr(1)),e=eo(e),t=eo(t);var s=0,r=0;e.indexOf(".")!=-1&&(s=e.length-e.indexOf(".")-1),t.indexOf(".")!=-1&&(r=t.length-t.indexOf(".")-1);var n=s+r;if(e=eo(e.replace(".","")),t=eo(t.replace(".","")),e.length<t.length){var o=e;e=t,t=o}if(t=="0")return"0";for(var a=t.length,l=0,c=[],d=a-1,u="",f=0;f<a;f++)c[f]=e.length-1;for(var f=0;f<2*e.length;f++){for(var g=0,m=t.length-1;m>=d&&m>=0;m--)c[m]>-1&&c[m]<e.length&&(g+=parseInt(e[c[m]--])*parseInt(t[m]));g+=l,l=Math.floor(g/10),u=g%10+u,d--}return u=eo(x9(u,n)),i==1&&(u="-"+u),u}function x9(e,t){return t==0?e:(e=t>=e.length?new Array(t-e.length+1).join("0")+e:e,e.substr(0,e.length-t)+"."+e.substr(e.length-t,t))}function Cg(e,t,i,s){if(i===void 0&&(i=8),s===void 0&&(s=si.HALF_EVEN),t==0)throw new Error("Cannot divide by 0");if(e=e.toString(),t=t.toString(),e=e.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),t=t.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),e==0)return"0";var r=0;t[0]=="-"&&(t=t.substring(1),r++),e[0]=="-"&&(e=e.substring(1),r++);var n=t.indexOf(".")>0?t.length-t.indexOf(".")-1:-1;if(t=Li(t.replace(".","")),n>=0){var o=e.indexOf(".")>0?e.length-e.indexOf(".")-1:-1;if(o==-1)e=Li(e+new Array(n+1).join("0"));else if(n>o)e=e.replace(".",""),e=Li(e+new Array(n-o+1).join("0"));else if(n<o){e=e.replace(".","");var a=e.length-o+n;e=Li(e.substring(0,a)+"."+e.substring(a))}else n==o&&(e=Li(e.replace(".","")))}var l=0,c=t.length,d="",u=e.indexOf(".")>-1&&e.indexOf(".")<c?e.substring(0,c+1):e.substring(0,c);if(e=e.indexOf(".")>-1&&e.indexOf(".")<c?e.substring(c+1):e.substring(c),u.indexOf(".")>-1){var f=u.length-u.indexOf(".")-1;u=u.replace(".",""),c>u.length&&(f+=c-u.length,u=u+new Array(c-u.length+1).join("0")),l=f,d="0."+new Array(f).join("0")}for(i=i+2;l<=i;){for(var g=0;parseInt(u)>=parseInt(t);)u=ch(u,"-"+t),g++;d+=g,e?(e[0]=="."&&(d+=".",l++,e=e.substring(1)),u=u+e.substring(0,1),e=e.substring(1)):(l||(d+="."),l++,u=u+"0")}return(r==1?"-":"")+Li(Bd(d,i-2,s))}function yg(e,t){return e=e.toString(),t=t.toString(),t=wg(t),ch(e,t)}function wg(e){return e[0]=="-"?e=e.substr(1):e="-"+e,e}function Mb(e,t){if(t==0)throw new Error("Cannot divide by 0");e=e.toString(),t=t.toString(),kb(e),kb(t);var i="";e[0]=="-"&&(i="-",e=e.substr(1)),t[0]=="-"&&(t=t.substr(1));var s=yg(e,bg(t,Bd(Cg(e,t),0,si.FLOOR)));return i+s}function kb(e){if(e.indexOf(".")!=-1)throw new Error("Modulus of non-integers not supported")}function Db(e,t){var i,s,r=!1;if(i=[e,t].map(function(o){return eo(o)}),e=i[0],t=i[1],e[0]=="-"&&t[0]!="-")return-1;if(e[0]!="-"&&t[0]=="-")return 1;if(e[0]=="-"&&t[0]=="-"&&(e=e.substr(1),t=t.substr(1),r=!0),s=$m(e,t),e=s[0],t=s[1],e.localeCompare(t)==0)return 0;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return e[n]>t[n]?r?-1:1:r?1:-1;return 0}var Gb=function(){function e(t){t===void 0&&(t="0"),this.value=e.validate(t)}return e.validate=function(t){if(t){if(t=t.toString(),isNaN(t))throw Error("Parameter is not a number: "+t);t[0]=="+"&&(t=t.substring(1))}else t="0";if(t.startsWith(".")?t="0"+t:t.startsWith("-.")&&(t="-0"+t.substr(1)),/e/i.test(t)){var i=t.split(/[eE]/),s=i[0],r=i[1];s=Li(s);var n="";s[0]=="-"&&(n="-",s=s.substring(1)),s.indexOf(".")>=0?(r=parseInt(r)+s.indexOf("."),s=s.replace(".","")):r=parseInt(r)+s.length,s.length<r?t=n+s+new Array(r-s.length+1).join("0"):s.length>=r&&r>0?t=n+Li(s.substring(0,r))+(s.length>r?"."+s.substring(r):""):t=n+"0."+new Array(-r+1).join("0")+s}return t},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t){this.value=e.validate(t)},e.getPrettyValue=function(t,i,s){i===void 0&&(i=3),s===void 0&&(s=","),t=e.validate(t);var r=t.charAt(0)=="-";r&&(t=t.substring(1));var n=t.indexOf(".");n=n>0?n:t.length;for(var o="",a=n;a>0;)a<i?(i=a,a=0):a-=i,o=t.substring(a,a+i)+(a<n-i&&a>=0?s:"")+o;return(r?"-":"")+o+t.substring(n)},e.prototype.getPrettyValue=function(t,i){return t===void 0&&(t=3),i===void 0&&(i=","),e.getPrettyValue(this.value,t,i)},e.round=function(t,i,s){if(i===void 0&&(i=0),s===void 0&&(s=si.HALF_EVEN),t=e.validate(t),isNaN(i))throw Error("Precision is not a number: "+i);return Bd(t,i,s)},e.prototype.round=function(t,i){if(t===void 0&&(t=0),i===void 0&&(i=si.HALF_EVEN),isNaN(t))throw Error("Precision is not a number: "+t);return new e(Bd(this.value,t,i))},e.abs=function(t){return t=e.validate(t),_b(t)},e.prototype.abs=function(){return new e(_b(this.value))},e.floor=function(t){return t=e.validate(t),t.indexOf(".")===-1?t:e.round(t,0,si.FLOOR)},e.prototype.floor=function(){return this.value.indexOf(".")===-1?new e(this.value):new e(this.value).round(0,si.FLOOR)},e.ceil=function(t){return t=e.validate(t),t.indexOf(".")===-1?t:e.round(t,0,si.CEILING)},e.prototype.ceil=function(){return this.value.indexOf(".")===-1?new e(this.value):new e(this.value).round(0,si.CEILING)},e.add=function(t,i){return t=e.validate(t),i=e.validate(i),ch(t,i)},e.prototype.add=function(t){return new e(ch(this.value,t.getValue()))},e.subtract=function(t,i){return t=e.validate(t),i=e.validate(i),yg(t,i)},e.prototype.subtract=function(t){return new e(yg(this.value,t.getValue()))},e.multiply=function(t,i){return t=e.validate(t),i=e.validate(i),bg(t,i)},e.prototype.multiply=function(t){return new e(bg(this.value,t.getValue()))},e.divide=function(t,i,s,r){return t=e.validate(t),i=e.validate(i),Cg(t,i,s,r)},e.prototype.divide=function(t,i,s){return new e(Cg(this.value,t.getValue(),i,s))},e.modulus=function(t,i){return t=e.validate(t),i=e.validate(i),Mb(t,i)},e.prototype.modulus=function(t){return new e(Mb(this.value,t.getValue()))},e.compareTo=function(t,i){return t=e.validate(t),i=e.validate(i),Db(t,i)},e.prototype.compareTo=function(t){return Db(this.value,t.getValue())},e.negate=function(t){return t=e.validate(t),wg(t)},e.prototype.negate=function(){return new e(wg(this.value))},e.stripTrailingZero=function(t){return t=e.validate(t),eo(t)},e.prototype.stripTrailingZero=function(){return new e(eo(this.value))},e.RoundingModes=si,e}();/**
 * @wharfkit/resources v1.3.1
 * https://github.com/wharfkit/resources
 *
 * @license
 * Copyright (c) 2021 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */class Wi extends h{constructor(){super(...arguments),this.default_block_cpu_limit=Le.from(2e5),this.default_block_net_limit=Le.from(1048576e3)}get allocated(){return 1-Number(this.weight_ratio)/Number(this.target_weight_ratio)/100}get reserved(){return new Xt(String(this.utilization))/new Xt(String(this.weight))}get symbol(){return this.min_price.symbol}cast(){return{adjusted_utilization:Number(this.adjusted_utilization),decay_secs:Number(this.decay_secs.value),exponent:Number(this.exponent),utilization:Number(this.utilization),utilization_timestamp:Number(this.utilization_timestamp.value),weight:new Xt(String(this.weight)),weight_ratio:Number(this.weight_ratio)}}utilization_increase(t,i){const{weight:s}=this,r=Hi.from(i),n=new Xt(s.value.mul(new Xt(r.value)))/Math.pow(10,15);return Math.ceil(n)}price_function(t){const{exponent:i,weight:s}=this.cast(),r=this.max_price.value,n=this.min_price.value;let o=n;const a=i-1;if(a<=0)return r;{const l=new Xt(t)/s;o+=(r-n)*Math.pow(l,a)}return o}price_integral_delta(t,i){const{exponent:s,weight:r}=this.cast(),n=this.max_price.value,o=this.min_price.value,a=(n-o)/s,l=new Xt(t)/r,c=new Xt(i)/r;return o*c-o*l+a*Math.pow(c,s)-a*Math.pow(l,s)}fee(t,i){const{utilization:s,weight:r}=this.cast();let n=s;const o=n+t;let a=0;if(n<i){const l=Math.min(t,i-n);a+=Number(new Gb(this.price_function(i)*l).divide(new Gb(r.toString())).getValue()),n=i}return n<o&&(a+=this.price_integral_delta(n,o)),a}determine_adjusted_utilization(t){const{decay_secs:i,utilization:s,utilization_timestamp:r}=this.cast();let{adjusted_utilization:n}=this.cast();if(s<n){const o=t&&t.timestamp?t.timestamp:new Date,a=ci.from(o).toMilliseconds()/1e3,l=n-s;let c=l*Math.exp(-(a-r)/i);c=Math.min(Math.max(c,0),l),n=s+c}return n}}p([h.field("uint8")],Wi.prototype,"version",void 0);p([h.field("int64")],Wi.prototype,"weight",void 0);p([h.field("int64")],Wi.prototype,"weight_ratio",void 0);p([h.field("int64")],Wi.prototype,"assumed_stake_weight",void 0);p([h.field("int64")],Wi.prototype,"initial_weight_ratio",void 0);p([h.field("int64")],Wi.prototype,"target_weight_ratio",void 0);p([h.field("time_point_sec")],Wi.prototype,"initial_timestamp",void 0);p([h.field("time_point_sec")],Wi.prototype,"target_timestamp",void 0);p([h.field("float64")],Wi.prototype,"exponent",void 0);p([h.field("uint32")],Wi.prototype,"decay_secs",void 0);p([h.field("asset")],Wi.prototype,"min_price",void 0);p([h.field("asset")],Wi.prototype,"max_price",void 0);p([h.field("int64")],Wi.prototype,"utilization",void 0);p([h.field("int64")],Wi.prototype,"adjusted_utilization",void 0);p([h.field("time_point_sec")],Wi.prototype,"utilization_timestamp",void 0);let Sg=class extends Wi{constructor(){super(...arguments),this.per_day=t=>this.us_per_day(t),this.frac=(t,i)=>this.frac_by_us(t,i),this.frac_by_ms=(t,i)=>this.frac_by_us(t,i*1e3),this.price_per=(t,i=1e3,s)=>this.price_per_us(t,i,s),this.price_per_ms=(t,i=1,s)=>this.price_per_us(t,i*1e3,s)}ms_per_day(t){return this.us_per_day(t)/1e3}us_per_day(t){const i=t&&t.virtual_block_cpu_limit?t.virtual_block_cpu_limit:this.default_block_cpu_limit;return Number(i)*2*60*60*24}weight_to_us(t,i){return Math.ceil(i*Number(t)/Fa)}us_to_weight(t,i){return Math.floor(i/Number(t)*Fa)}frac_by_us(t,i){const{weight:s}=this.cast(),r=new Xt(this.us_to_weight(t.cpu,i))/s;return Math.floor(r*Math.pow(10,15))}price_per_us(t,i=1e3,s){const r=Hi.from(this.frac(t,i)),n=this.utilization_increase(t.cpu,r),o=this.determine_adjusted_utilization(s),a=this.fee(n,o),l=Math.pow(10,this.max_price.symbol.precision);return Math.ceil(a*l)/l}};Sg=p([h.type("powerupstateresourcecpu")],Sg);let Rg=class extends Wi{constructor(){super(...arguments),this.per_day=t=>this.bytes_per_day(t),this.frac=(t,i)=>this.frac_by_bytes(t,i),this.frac_by_kb=(t,i)=>this.frac_by_bytes(t,i*1e3),this.price_per=(t,i=1e3,s)=>this.price_per_byte(t,i,s),this.price_per_kb=(t,i=1,s)=>this.price_per_byte(t,i*1e3,s)}kb_per_day(t){return this.bytes_per_day(t)/1e3}bytes_per_day(t){const i=t&&t.virtual_block_net_limit?t.virtual_block_net_limit:this.default_block_net_limit;return Number(i)*2*60*60*24}weight_to_bytes(t,i){return Math.ceil(i*Number(t)/Fa)}bytes_to_weight(t,i){return Math.floor(i/Number(t)*Fa)}frac_by_bytes(t,i){const{weight:s}=this.cast(),r=new Xt(this.bytes_to_weight(t.net,i))/s;return Math.floor(r*Math.pow(10,15))}price_per_byte(t,i=1e3,s){const r=Hi.from(this.frac(t,i)),n=this.utilization_increase(t.net,r),o=this.determine_adjusted_utilization(s),a=this.fee(n,o),l=Math.pow(10,this.max_price.symbol.precision);return Math.ceil(a*l)/l}};Rg=p([h.type("powerupstateresourcenet")],Rg);let xo=class extends h{};p([h.field("uint8")],xo.prototype,"version",void 0);p([h.field(Rg)],xo.prototype,"net",void 0);p([h.field(Sg)],xo.prototype,"cpu",void 0);p([h.field("uint32")],xo.prototype,"powerup_days",void 0);p([h.field("asset")],xo.prototype,"min_powerup_fee",void 0);xo=p([h.type("powerupstate")],xo);class _9{constructor(t){this.parent=t}async get_state(){return(await this.parent.api.v1.chain.get_table_rows({code:"eosio",scope:"",table:"powup.state",type:xo})).rows[0]}}let Tl=class extends h{};p([h.field("asset")],Tl.prototype,"balance",void 0);p([h.field("float64")],Tl.prototype,"weight",void 0);Tl=p([h.type("connector")],Tl);let Ll=class extends h{};p([h.field("asset")],Ll.prototype,"supply",void 0);p([h.field(Tl)],Ll.prototype,"base",void 0);p([h.field(Tl)],Ll.prototype,"quote",void 0);Ll=p([h.type("exchange_state")],Ll);let Ag=class extends Ll{price_per(t){const i=this.base.balance.units,s=this.quote.balance.units;return ie.fromUnits(this.get_input(i,s,me.from(t)),this.quote.balance.symbol)}price_per_kb(t){return this.price_per(t*1e3)}get_input(t,i,s){return i.multiplying(s).dividing(t.subtracting(s),"ceil")}};Ag=p([h.type("ramstate")],Ag);class E9{constructor(t){this.parent=t}async get_state(){return(await this.parent.api.v1.chain.get_table_rows({code:"eosio",scope:"eosio",table:"rammarket",type:Ag})).rows[0]}}let gr=class extends h{get reserved(){return Number(this.total_lent.units)/Number(this.total_lendable.units)}get symbol(){return this.total_lent.symbol}get precision(){return this.total_lent.symbol.precision}get value(){return(Number(this.total_lent.units)+Number(this.total_unlent.units))/Number(this.total_rex.units)}exchange(t){return ie.from(t.value*this.total_lendable.value/this.total_rex.value,this.symbol)}cpu_price_per_ms(t,i=1){return this.cpu_price_per_us(t,i*1e3)}cpu_price_per_us(t,i=1e3){return this.price_per(t,i,t.cpu)}net_price_per_kb(t,i=1){return this.net_price_per_byte(t,i*1e3)}net_price_per_byte(t,i=1e3){return this.price_per(t,i,t.net)}price_per(t,i=1e3,s=t.cpu){const r=ie.fromUnits(1e4,this.symbol),o=Number(r.units)/(this.total_rent.value/this.total_unlent.value)*(Number(s)/Fa);return Number(r.units)/o*i/Math.pow(10,this.precision)}};p([h.field("uint8")],gr.prototype,"version",void 0);p([h.field("asset")],gr.prototype,"total_lent",void 0);p([h.field("asset")],gr.prototype,"total_unlent",void 0);p([h.field("asset")],gr.prototype,"total_rent",void 0);p([h.field("asset")],gr.prototype,"total_lendable",void 0);p([h.field("asset")],gr.prototype,"total_rex",void 0);p([h.field("asset")],gr.prototype,"namebid_proceeds",void 0);p([h.field("uint64")],gr.prototype,"loan_num",void 0);gr=p([h.type("rexstate")],gr);class M9{constructor(t){this.parent=t}async get_state(){return(await this.parent.api.v1.chain.get_table_rows({code:"eosio",scope:"eosio",table:"rexpool",type:gr})).rows[0]}}const Fa=new Xt(100*1e3*1e3);class Xw{constructor(t){if(this.sampleAccount="greymassfuel",this.symbol="4,EOS",this.v1={powerup:new _9(this),ram:new E9(this),rex:new M9(this)},t.sampleAccount&&(this.sampleAccount=t.sampleAccount),t.symbol&&(this.symbol=t.symbol),t.api)this.api=t.api;else if(t.url)this.api=new Po({provider:new au(t.url,t)});else throw new Error("Missing url or api client")}async getSampledUsage(){const t=await this.api.v1.chain.get_account(this.sampleAccount),i=Hi.from(t.cpu_limit.max.value.mul(Fa)),s=Hi.from(t.net_limit.max.value.mul(Fa)),r=Hi.from(t.cpu_weight.value),n=Hi.from(t.net_weight.value);return{account:t,cpu:Pb(i.value,r.value),net:Pb(s.value,n.value)}}}Xw.__className="Resources";function Pb(e,t){let i=e.div(t);const s=new Xt(0),r=new Xt(1);return e.mod(t).gt(s)&&i.gt(r)&&(i=i.sub(r)),Hi.from(i)}/**
 * @wharfkit/token v1.1.2
 * https://github.com/wharfkit/token
 *
 * @license
 * Copyright (c) 2021 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */const k9=nu.from("DmVvc2lvOjphYmkvMS4xAAgHYWNjb3VudAABB2JhbGFuY2UFYXNzZXQFY2xvc2UAAgVvd25lcgRuYW1lBnN5bWJvbAZzeW1ib2wGY3JlYXRlAAIGaXNzdWVyBG5hbWUObWF4aW11bV9zdXBwbHkFYXNzZXQOY3VycmVuY3lfc3RhdHMAAwZzdXBwbHkFYXNzZXQKbWF4X3N1cHBseQVhc3NldAZpc3N1ZXIEbmFtZQVpc3N1ZQADAnRvBG5hbWUIcXVhbnRpdHkFYXNzZXQEbWVtbwZzdHJpbmcEb3BlbgADBW93bmVyBG5hbWUGc3ltYm9sBnN5bWJvbAlyYW1fcGF5ZXIEbmFtZQZyZXRpcmUAAghxdWFudGl0eQVhc3NldARtZW1vBnN0cmluZwh0cmFuc2ZlcgAEBGZyb20EbmFtZQJ0bwRuYW1lCHF1YW50aXR5BWFzc2V0BG1lbW8Gc3RyaW5nBgAAAAAAhWlEBWNsb3Nl7QMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDbG9zZSBUb2tlbiBCYWxhbmNlCnN1bW1hcnk6ICdDbG9zZSB7e25vd3JhcCBvd25lcn194oCZcyB6ZXJvIHF1YW50aXR5IGJhbGFuY2UnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jcnlwdG9reWxpbi9lb3Npby5jb250cmFjdHMvdjEuNy4wL2NvbnRyYWN0cy9pY29ucy90b2tlbi5wbmcjMjA3ZmY2OGIwNDA2ZWFhNTY2MThiMDhiZGE4MWQ2YTA5NTQ1NDNmMzZhZGMzMjhhYjMwNjVmMzFhNWM1ZDY1NAotLS0KCnt7b3duZXJ9fSBhZ3JlZXMgdG8gY2xvc2UgdGhlaXIgemVybyBxdWFudGl0eSBiYWxhbmNlIGZvciB0aGUge3tzeW1ib2xfdG9fc3ltYm9sX2NvZGUgc3ltYm9sfX0gdG9rZW4uCgpSQU0gd2lsbCBiZSByZWZ1bmRlZCB0byB0aGUgUkFNIHBheWVyIG9mIHRoZSB7e3N5bWJvbF90b19zeW1ib2xfY29kZSBzeW1ib2x9fSB0b2tlbiBiYWxhbmNlIGZvciB7e293bmVyfX0uAAAAAKhs1EUGY3JlYXRljgUtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDcmVhdGUgTmV3IFRva2VuCnN1bW1hcnk6ICdDcmVhdGUgYSBuZXcgdG9rZW4nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jcnlwdG9reWxpbi9lb3Npby5jb250cmFjdHMvdjEuNy4wL2NvbnRyYWN0cy9pY29ucy90b2tlbi5wbmcjMjA3ZmY2OGIwNDA2ZWFhNTY2MThiMDhiZGE4MWQ2YTA5NTQ1NDNmMzZhZGMzMjhhYjMwNjVmMzFhNWM1ZDY1NAotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gYWdyZWVzIHRvIGNyZWF0ZSBhIG5ldyB0b2tlbiB3aXRoIHN5bWJvbCB7e2Fzc2V0X3RvX3N5bWJvbF9jb2RlIG1heGltdW1fc3VwcGx5fX0gdG8gYmUgbWFuYWdlZCBieSB7e2lzc3Vlcn19LgoKVGhpcyBhY3Rpb24gd2lsbCBub3QgcmVzdWx0IGFueSBhbnkgdG9rZW5zIGJlaW5nIGlzc3VlZCBpbnRvIGNpcmN1bGF0aW9uLgoKe3tpc3N1ZXJ9fSB3aWxsIGJlIGFsbG93ZWQgdG8gaXNzdWUgdG9rZW5zIGludG8gY2lyY3VsYXRpb24sIHVwIHRvIGEgbWF4aW11bSBzdXBwbHkgb2Yge3ttYXhpbXVtX3N1cHBseX19LgoKUkFNIHdpbGwgZGVkdWN0ZWQgZnJvbSB7eyRhY3Rpb24uYWNjb3VudH194oCZcyByZXNvdXJjZXMgdG8gY3JlYXRlIHRoZSBuZWNlc3NhcnkgcmVjb3Jkcy4AAAAAAKUxdgVpc3N1ZeIHLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogSXNzdWUgVG9rZW5zIGludG8gQ2lyY3VsYXRpb24Kc3VtbWFyeTogJ0lzc3VlIHt7bm93cmFwIHF1YW50aXR5fX0gaW50byBjaXJjdWxhdGlvbiBhbmQgdHJhbnNmZXIgaW50byB7e25vd3JhcCB0b3194oCZcyBhY2NvdW50JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vY3J5cHRva3lsaW4vZW9zaW8uY29udHJhY3RzL3YxLjcuMC9jb250cmFjdHMvaWNvbnMvdG9rZW4ucG5nIzIwN2ZmNjhiMDQwNmVhYTU2NjE4YjA4YmRhODFkNmEwOTU0NTQzZjM2YWRjMzI4YWIzMDY1ZjMxYTVjNWQ2NTQKLS0tCgpUaGUgdG9rZW4gbWFuYWdlciBhZ3JlZXMgdG8gaXNzdWUge3txdWFudGl0eX19IGludG8gY2lyY3VsYXRpb24sIGFuZCB0cmFuc2ZlciBpdCBpbnRvIHt7dG99feKAmXMgYWNjb3VudC4KCnt7I2lmIG1lbW99fVRoZXJlIGlzIGEgbWVtbyBhdHRhY2hlZCB0byB0aGUgdHJhbnNmZXIgc3RhdGluZzoKe3ttZW1vfX0Ke3svaWZ9fQoKSWYge3t0b319IGRvZXMgbm90IGhhdmUgYSBiYWxhbmNlIGZvciB7e2Fzc2V0X3RvX3N5bWJvbF9jb2RlIHF1YW50aXR5fX0sIG9yIHRoZSB0b2tlbiBtYW5hZ2VyIGRvZXMgbm90IGhhdmUgYSBiYWxhbmNlIGZvciB7e2Fzc2V0X3RvX3N5bWJvbF9jb2RlIHF1YW50aXR5fX0sIHRoZSB0b2tlbiBtYW5hZ2VyIHdpbGwgYmUgZGVzaWduYXRlZCBhcyB0aGUgUkFNIHBheWVyIG9mIHRoZSB7e2Fzc2V0X3RvX3N5bWJvbF9jb2RlIHF1YW50aXR5fX0gdG9rZW4gYmFsYW5jZSBmb3Ige3t0b319LiBBcyBhIHJlc3VsdCwgUkFNIHdpbGwgYmUgZGVkdWN0ZWQgZnJvbSB0aGUgdG9rZW4gbWFuYWdlcuKAmXMgcmVzb3VyY2VzIHRvIGNyZWF0ZSB0aGUgbmVjZXNzYXJ5IHJlY29yZHMuCgpUaGlzIGFjdGlvbiBkb2VzIG5vdCBhbGxvdyB0aGUgdG90YWwgcXVhbnRpdHkgdG8gZXhjZWVkIHRoZSBtYXggYWxsb3dlZCBzdXBwbHkgb2YgdGhlIHRva2VuLgAAAAAAMFWlBG9wZW66BS0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IE9wZW4gVG9rZW4gQmFsYW5jZQpzdW1tYXJ5OiAnT3BlbiBhIHplcm8gcXVhbnRpdHkgYmFsYW5jZSBmb3Ige3tub3dyYXAgb3duZXJ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NyeXB0b2t5bGluL2Vvc2lvLmNvbnRyYWN0cy92MS43LjAvY29udHJhY3RzL2ljb25zL3Rva2VuLnBuZyMyMDdmZjY4YjA0MDZlYWE1NjYxOGIwOGJkYTgxZDZhMDk1NDU0M2YzNmFkYzMyOGFiMzA2NWYzMWE1YzVkNjU0Ci0tLQoKe3tyYW1fcGF5ZXJ9fSBhZ3JlZXMgdG8gZXN0YWJsaXNoIGEgemVybyBxdWFudGl0eSBiYWxhbmNlIGZvciB7e293bmVyfX0gZm9yIHRoZSB7e3N5bWJvbF90b19zeW1ib2xfY29kZSBzeW1ib2x9fSB0b2tlbi4KCklmIHt7b3duZXJ9fSBkb2VzIG5vdCBoYXZlIGEgYmFsYW5jZSBmb3Ige3tzeW1ib2xfdG9fc3ltYm9sX2NvZGUgc3ltYm9sfX0sIHt7cmFtX3BheWVyfX0gd2lsbCBiZSBkZXNpZ25hdGVkIGFzIHRoZSBSQU0gcGF5ZXIgb2YgdGhlIHt7c3ltYm9sX3RvX3N5bWJvbF9jb2RlIHN5bWJvbH19IHRva2VuIGJhbGFuY2UgZm9yIHt7b3duZXJ9fS4gQXMgYSByZXN1bHQsIFJBTSB3aWxsIGJlIGRlZHVjdGVkIGZyb20ge3tyYW1fcGF5ZXJ9feKAmXMgcmVzb3VyY2VzIHRvIGNyZWF0ZSB0aGUgbmVjZXNzYXJ5IHJlY29yZHMuAAAAAKjrsroGcmV0aXJl0AMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBSZW1vdmUgVG9rZW5zIGZyb20gQ2lyY3VsYXRpb24Kc3VtbWFyeTogJ1JlbW92ZSB7e25vd3JhcCBxdWFudGl0eX19IGZyb20gY2lyY3VsYXRpb24nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jcnlwdG9reWxpbi9lb3Npby5jb250cmFjdHMvdjEuNy4wL2NvbnRyYWN0cy9pY29ucy90b2tlbi5wbmcjMjA3ZmY2OGIwNDA2ZWFhNTY2MThiMDhiZGE4MWQ2YTA5NTQ1NDNmMzZhZGMzMjhhYjMwNjVmMzFhNWM1ZDY1NAotLS0KClRoZSB0b2tlbiBtYW5hZ2VyIGFncmVlcyB0byByZW1vdmUge3txdWFudGl0eX19IGZyb20gY2lyY3VsYXRpb24sIHRha2VuIGZyb20gdGhlaXIgb3duIGFjY291bnQuCgp7eyNpZiBtZW1vfX0gVGhlcmUgaXMgYSBtZW1vIGF0dGFjaGVkIHRvIHRoZSBhY3Rpb24gc3RhdGluZzoKe3ttZW1vfX0Ke3svaWZ9fQAAAFctPM3NCHRyYW5zZmVyqgctLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBUcmFuc2ZlciBUb2tlbnMKc3VtbWFyeTogJ1NlbmQge3tub3dyYXAgcXVhbnRpdHl9fSBmcm9tIHt7bm93cmFwIGZyb219fSB0byB7e25vd3JhcCB0b319JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vY3J5cHRva3lsaW4vZW9zaW8uY29udHJhY3RzL3YxLjcuMC9jb250cmFjdHMvaWNvbnMvdHJhbnNmZXIucG5nIzVkZmFkMGRmNzI3NzJlZTFjY2MxNTVlNjcwYzFkMTI0ZjVjNTEyMmYxZDUwMjc1NjVkZjM4YjQxODA0MmQxZGQKLS0tCgp7e2Zyb219fSBhZ3JlZXMgdG8gc2VuZCB7e3F1YW50aXR5fX0gdG8ge3t0b319LgoKe3sjaWYgbWVtb319VGhlcmUgaXMgYSBtZW1vIGF0dGFjaGVkIHRvIHRoZSB0cmFuc2ZlciBzdGF0aW5nOgp7e21lbW99fQp7ey9pZn19CgpJZiB7e2Zyb219fSBpcyBub3QgYWxyZWFkeSB0aGUgUkFNIHBheWVyIG9mIHRoZWlyIHt7YXNzZXRfdG9fc3ltYm9sX2NvZGUgcXVhbnRpdHl9fSB0b2tlbiBiYWxhbmNlLCB7e2Zyb219fSB3aWxsIGJlIGRlc2lnbmF0ZWQgYXMgc3VjaC4gQXMgYSByZXN1bHQsIFJBTSB3aWxsIGJlIGRlZHVjdGVkIGZyb20ge3tmcm9tfX3igJlzIHJlc291cmNlcyB0byByZWZ1bmQgdGhlIG9yaWdpbmFsIFJBTSBwYXllci4KCklmIHt7dG99fSBkb2VzIG5vdCBoYXZlIGEgYmFsYW5jZSBmb3Ige3thc3NldF90b19zeW1ib2xfY29kZSBxdWFudGl0eX19LCB7e2Zyb219fSB3aWxsIGJlIGRlc2lnbmF0ZWQgYXMgdGhlIFJBTSBwYXllciBvZiB0aGUge3thc3NldF90b19zeW1ib2xfY29kZSBxdWFudGl0eX19IHRva2VuIGJhbGFuY2UgZm9yIHt7dG99fS4gQXMgYSByZXN1bHQsIFJBTSB3aWxsIGJlIGRlZHVjdGVkIGZyb20ge3tmcm9tfX3igJlzIHJlc291cmNlcyB0byBjcmVhdGUgdGhlIG5lY2Vzc2FyeSByZWNvcmRzLgIAAAA4T00RMgNpNjQAAAdhY2NvdW50AAAAAACQTcYDaTY0AAAOY3VycmVuY3lfc3RhdHMAAAAAAA=="),D9=ze.from(k9);var dh;(function(e){let t=class extends h{};p([h.field(ie)],t.prototype,"balance",void 0),t=p([h.type("account")],t),e.account=t;let i=class extends h{};p([h.field(B)],i.prototype,"owner",void 0),p([h.field(ie.Symbol)],i.prototype,"symbol",void 0),i=p([h.type("close")],i),e.close=i;let s=class extends h{};p([h.field(B)],s.prototype,"issuer",void 0),p([h.field(ie)],s.prototype,"maximum_supply",void 0),s=p([h.type("create")],s),e.create=s;let r=class extends h{};p([h.field(ie)],r.prototype,"supply",void 0),p([h.field(ie)],r.prototype,"max_supply",void 0),p([h.field(B)],r.prototype,"issuer",void 0),r=p([h.type("currency_stats")],r),e.currency_stats=r;let n=class extends h{};p([h.field(B)],n.prototype,"to",void 0),p([h.field(ie)],n.prototype,"quantity",void 0),p([h.field("string")],n.prototype,"memo",void 0),n=p([h.type("issue")],n),e.issue=n;let o=class extends h{};p([h.field(B)],o.prototype,"owner",void 0),p([h.field(ie.Symbol)],o.prototype,"symbol",void 0),p([h.field(B)],o.prototype,"ram_payer",void 0),o=p([h.type("open")],o),e.open=o;let a=class extends h{};p([h.field(ie)],a.prototype,"quantity",void 0),p([h.field("string")],a.prototype,"memo",void 0),a=p([h.type("retire")],a),e.retire=a;let l=class extends h{};p([h.field(B)],l.prototype,"from",void 0),p([h.field(B)],l.prototype,"to",void 0),p([h.field(ie)],l.prototype,"quantity",void 0),p([h.field("string")],l.prototype,"memo",void 0),l=p([h.type("transfer")],l),e.transfer=l})(dh||(dh={}));const G9={accounts:dh.account,stat:dh.currency_stats};let P9=class extends Km{constructor(t){super({client:t.client,abi:D9,account:t.account||B.from("eosio.token")})}action(t,i,s){return super.action(t,i,s)}table(t,i){return super.table(t,i,G9[t])}};class O9{constructor({client:t,contract:i}){this.client=t,this.contract=i||new P9({client:t}),this.contractKit=new Qm({client:t})}async getContract(t){return t?this.contractKit.load(t):this.contract}async transfer(t,i,s,r=""){const n=ie.from(s);return(await this.getContract()).action("transfer",{from:B.from(t),to:B.from(i),quantity:n,memo:r})}async balance(t,i,s){const n=(await this.getContract(s)).table("accounts",t);let o;return i?o=n.get(String(i),{index_position:"primary"}):o=n.get(),o.then(a=>{if(!a)throw new Error(`Account ${t} does not exist.`);if(i&&!a.balance.symbol.code.equals(i))throw new Error(`Symbol '${i}' does not exist.`);return a==null?void 0:a.balance}).catch(a=>{throw new Error(`Failed to fetch balance for ${t}: ${a}`)})}}var Ig;let Wd=class extends h{};p([h.field("name")],Wd.prototype,"account",void 0);p([h.field("name",{optional:!0})],Wd.prototype,"action",void 0);Wd=p([h.type("linked_actions")],Wd);let _o=Ig=class extends h{static from(t){return ve(t,Ig)?t:super.from(t)}get name(){return this.perm_name}addKey(t,i=1){if(this.required_auth.keys.find(r=>ei.from(t).equals(r.key)))throw new Error(`The provided key (${String(t)}) already exists on the "${this.perm_name}" permission.`);this.required_auth.keys.push(ma.from({key:t,weight:i})),this.required_auth.sort()}removeKey(t){const i=this.required_auth.keys.findIndex(s=>ei.from(t).equals(s.key));if(i===-1)throw new Error(`The provided key (${String(t)}) does not exist on the "${this.perm_name}" permission.`);this.required_auth.keys.splice(i,1)}addAccount(t,i=1){if(this.required_auth.accounts.find(r=>dt.from(t).equals(r.permission)))throw new Error(`The provided account (${String(dt.from(t))}) already exists on the "${this.perm_name}" permission.`);this.required_auth.accounts.push(xl.from({permission:dt.from(t),weight:i})),this.required_auth.sort()}removeAccount(t){const i=this.required_auth.accounts.findIndex(s=>dt.from(t).equals(s.permission));if(i===-1)throw new Error(`The provided permission (${String(t)}) does not exist on the "${this.perm_name}" permission.`);this.required_auth.accounts.splice(i,1)}addWait(t){this.required_auth.waits.push(va.from(t)),this.required_auth.sort()}removeWait(t){this.required_auth.waits=this.required_auth.waits.filter(i=>!va.from(t).equals(i))}};p([h.field("name")],_o.prototype,"perm_name",void 0);p([h.field("name")],_o.prototype,"parent",void 0);p([h.field(_n)],_o.prototype,"required_auth",void 0);p([h.field(Wd,{array:!0,optional:!0})],_o.prototype,"linked_actions",void 0);_o=Ig=p([h.type("permission")],_o);const B9=nu.from("DmVvc2lvOjphYmkvMS4yAhdibG9ja19zaWduaW5nX2F1dGhvcml0eSJ2YXJpYW50X2Jsb2NrX3NpZ25pbmdfYXV0aG9yaXR5X3YwF2Jsb2NrY2hhaW5fcGFyYW1ldGVyc190GGJsb2NrY2hhaW5fcGFyYW1ldGVyc192MWcIYWJpX2hhc2gAAgVvd25lcgRuYW1lBGhhc2gLY2hlY2tzdW0yNTYIYWN0aXZhdGUAAQ5mZWF0dXJlX2RpZ2VzdAtjaGVja3N1bTI1NglhdXRob3JpdHkABAl0aHJlc2hvbGQGdWludDMyBGtleXMMa2V5X3dlaWdodFtdCGFjY291bnRzGXBlcm1pc3Npb25fbGV2ZWxfd2VpZ2h0W10Fd2FpdHMNd2FpdF93ZWlnaHRbXQpiaWRfcmVmdW5kAAIGYmlkZGVyBG5hbWUGYW1vdW50BWFzc2V0B2JpZG5hbWUAAwZiaWRkZXIEbmFtZQduZXduYW1lBG5hbWUDYmlkBWFzc2V0CWJpZHJlZnVuZAACBmJpZGRlcgRuYW1lB25ld25hbWUEbmFtZQxibG9ja19oZWFkZXIACAl0aW1lc3RhbXAGdWludDMyCHByb2R1Y2VyBG5hbWUJY29uZmlybWVkBnVpbnQxNghwcmV2aW91cwtjaGVja3N1bTI1NhF0cmFuc2FjdGlvbl9tcm9vdAtjaGVja3N1bTI1NgxhY3Rpb25fbXJvb3QLY2hlY2tzdW0yNTYQc2NoZWR1bGVfdmVyc2lvbgZ1aW50MzINbmV3X3Byb2R1Y2VycxJwcm9kdWNlcl9zY2hlZHVsZT8RYmxvY2tfaW5mb19yZWNvcmQAAwd2ZXJzaW9uBXVpbnQ4DGJsb2NrX2hlaWdodAZ1aW50MzIPYmxvY2tfdGltZXN0YW1wCnRpbWVfcG9pbnQaYmxvY2tfc2lnbmluZ19hdXRob3JpdHlfdjAAAgl0aHJlc2hvbGQGdWludDMyBGtleXMMa2V5X3dlaWdodFtdFWJsb2NrY2hhaW5fcGFyYW1ldGVycwARE21heF9ibG9ja19uZXRfdXNhZ2UGdWludDY0GnRhcmdldF9ibG9ja19uZXRfdXNhZ2VfcGN0BnVpbnQzMhltYXhfdHJhbnNhY3Rpb25fbmV0X3VzYWdlBnVpbnQzMh5iYXNlX3Blcl90cmFuc2FjdGlvbl9uZXRfdXNhZ2UGdWludDMyEG5ldF91c2FnZV9sZWV3YXkGdWludDMyI2NvbnRleHRfZnJlZV9kaXNjb3VudF9uZXRfdXNhZ2VfbnVtBnVpbnQzMiNjb250ZXh0X2ZyZWVfZGlzY291bnRfbmV0X3VzYWdlX2RlbgZ1aW50MzITbWF4X2Jsb2NrX2NwdV91c2FnZQZ1aW50MzIadGFyZ2V0X2Jsb2NrX2NwdV91c2FnZV9wY3QGdWludDMyGW1heF90cmFuc2FjdGlvbl9jcHVfdXNhZ2UGdWludDMyGW1pbl90cmFuc2FjdGlvbl9jcHVfdXNhZ2UGdWludDMyGG1heF90cmFuc2FjdGlvbl9saWZldGltZQZ1aW50MzIeZGVmZXJyZWRfdHJ4X2V4cGlyYXRpb25fd2luZG93BnVpbnQzMhVtYXhfdHJhbnNhY3Rpb25fZGVsYXkGdWludDMyFm1heF9pbmxpbmVfYWN0aW9uX3NpemUGdWludDMyF21heF9pbmxpbmVfYWN0aW9uX2RlcHRoBnVpbnQxNhNtYXhfYXV0aG9yaXR5X2RlcHRoBnVpbnQxNhhibG9ja2NoYWluX3BhcmFtZXRlcnNfdjEVYmxvY2tjaGFpbl9wYXJhbWV0ZXJzARxtYXhfYWN0aW9uX3JldHVybl92YWx1ZV9zaXplB3VpbnQzMiQGYnV5cmFtAAMFcGF5ZXIEbmFtZQhyZWNlaXZlcgRuYW1lBXF1YW50BWFzc2V0C2J1eXJhbWJ5dGVzAAMFcGF5ZXIEbmFtZQhyZWNlaXZlcgRuYW1lBWJ5dGVzBnVpbnQzMgZidXlyZXgAAgRmcm9tBG5hbWUGYW1vdW50BWFzc2V0C2NhbmNlbGRlbGF5AAIOY2FuY2VsaW5nX2F1dGgQcGVybWlzc2lvbl9sZXZlbAZ0cnhfaWQLY2hlY2tzdW0yNTYKY2ZncG93ZXJ1cAABBGFyZ3MOcG93ZXJ1cF9jb25maWcMY2xhaW1yZXdhcmRzAAEFb3duZXIEbmFtZQhjbG9zZXJleAABBW93bmVyBG5hbWUMY25jbHJleG9yZGVyAAEFb3duZXIEbmFtZQljb25uZWN0b3IAAgdiYWxhbmNlBWFzc2V0BndlaWdodAdmbG9hdDY0C2NvbnNvbGlkYXRlAAEFb3duZXIEbmFtZQpkZWZjcHVsb2FuAAMEZnJvbQRuYW1lCGxvYW5fbnVtBnVpbnQ2NAZhbW91bnQFYXNzZXQKZGVmbmV0bG9hbgADBGZyb20EbmFtZQhsb2FuX251bQZ1aW50NjQGYW1vdW50BWFzc2V0CmRlbGVnYXRlYncABQRmcm9tBG5hbWUIcmVjZWl2ZXIEbmFtZRJzdGFrZV9uZXRfcXVhbnRpdHkFYXNzZXQSc3Rha2VfY3B1X3F1YW50aXR5BWFzc2V0CHRyYW5zZmVyBGJvb2wTZGVsZWdhdGVkX2JhbmR3aWR0aAAEBGZyb20EbmFtZQJ0bwRuYW1lCm5ldF93ZWlnaHQFYXNzZXQKY3B1X3dlaWdodAVhc3NldApkZWxldGVhdXRoAAMHYWNjb3VudARuYW1lCnBlcm1pc3Npb24EbmFtZQ1hdXRob3JpemVkX2J5BW5hbWUkB2RlcG9zaXQAAgVvd25lcgRuYW1lBmFtb3VudAVhc3NldBJlb3Npb19nbG9iYWxfc3RhdGUVYmxvY2tjaGFpbl9wYXJhbWV0ZXJzDQxtYXhfcmFtX3NpemUGdWludDY0GHRvdGFsX3JhbV9ieXRlc19yZXNlcnZlZAZ1aW50NjQPdG90YWxfcmFtX3N0YWtlBWludDY0HWxhc3RfcHJvZHVjZXJfc2NoZWR1bGVfdXBkYXRlFGJsb2NrX3RpbWVzdGFtcF90eXBlGGxhc3RfcGVydm90ZV9idWNrZXRfZmlsbAp0aW1lX3BvaW50DnBlcnZvdGVfYnVja2V0BWludDY0D3BlcmJsb2NrX2J1Y2tldAVpbnQ2NBN0b3RhbF91bnBhaWRfYmxvY2tzBnVpbnQzMhV0b3RhbF9hY3RpdmF0ZWRfc3Rha2UFaW50NjQbdGhyZXNoX2FjdGl2YXRlZF9zdGFrZV90aW1lCnRpbWVfcG9pbnQbbGFzdF9wcm9kdWNlcl9zY2hlZHVsZV9zaXplBnVpbnQxNhp0b3RhbF9wcm9kdWNlcl92b3RlX3dlaWdodAdmbG9hdDY0D2xhc3RfbmFtZV9jbG9zZRRibG9ja190aW1lc3RhbXBfdHlwZRNlb3Npb19nbG9iYWxfc3RhdGUyAAURbmV3X3JhbV9wZXJfYmxvY2sGdWludDE2EWxhc3RfcmFtX2luY3JlYXNlFGJsb2NrX3RpbWVzdGFtcF90eXBlDmxhc3RfYmxvY2tfbnVtFGJsb2NrX3RpbWVzdGFtcF90eXBlHHRvdGFsX3Byb2R1Y2VyX3ZvdGVwYXlfc2hhcmUHZmxvYXQ2NAhyZXZpc2lvbgV1aW50OBNlb3Npb19nbG9iYWxfc3RhdGUzAAIWbGFzdF92cGF5X3N0YXRlX3VwZGF0ZQp0aW1lX3BvaW50HHRvdGFsX3ZwYXlfc2hhcmVfY2hhbmdlX3JhdGUHZmxvYXQ2NBNlb3Npb19nbG9iYWxfc3RhdGU0AAMPY29udGludW91c19yYXRlB2Zsb2F0NjQUaW5mbGF0aW9uX3BheV9mYWN0b3IFaW50NjQOdm90ZXBheV9mYWN0b3IFaW50NjQOZXhjaGFuZ2Vfc3RhdGUAAwZzdXBwbHkFYXNzZXQEYmFzZQljb25uZWN0b3IFcXVvdGUJY29ubmVjdG9yC2Z1bmRjcHVsb2FuAAMEZnJvbQRuYW1lCGxvYW5fbnVtBnVpbnQ2NAdwYXltZW50BWFzc2V0C2Z1bmRuZXRsb2FuAAMEZnJvbQRuYW1lCGxvYW5fbnVtBnVpbnQ2NAdwYXltZW50BWFzc2V0BGluaXQAAgd2ZXJzaW9uCXZhcnVpbnQzMgRjb3JlBnN5bWJvbAprZXlfd2VpZ2h0AAIDa2V5CnB1YmxpY19rZXkGd2VpZ2h0BnVpbnQxNgxsaW1pdGF1dGhjaGcAAwdhY2NvdW50BG5hbWULYWxsb3dfcGVybXMGbmFtZVtdDmRpc2FsbG93X3Blcm1zBm5hbWVbXQhsaW5rYXV0aAAFB2FjY291bnQEbmFtZQRjb2RlBG5hbWUEdHlwZQRuYW1lC3JlcXVpcmVtZW50BG5hbWUNYXV0aG9yaXplZF9ieQVuYW1lJAttdmZyc2F2aW5ncwACBW93bmVyBG5hbWUDcmV4BWFzc2V0C212dG9zYXZpbmdzAAIFb3duZXIEbmFtZQNyZXgFYXNzZXQIbmFtZV9iaWQABAduZXduYW1lBG5hbWULaGlnaF9iaWRkZXIEbmFtZQhoaWdoX2JpZAVpbnQ2NA1sYXN0X2JpZF90aW1lCnRpbWVfcG9pbnQKbmV3YWNjb3VudAAEB2NyZWF0b3IEbmFtZQRuYW1lBG5hbWUFb3duZXIJYXV0aG9yaXR5BmFjdGl2ZQlhdXRob3JpdHkHb25ibG9jawABBmhlYWRlcgxibG9ja19oZWFkZXIHb25lcnJvcgACCXNlbmRlcl9pZAd1aW50MTI4CHNlbnRfdHJ4BWJ5dGVzGXBhaXJfdGltZV9wb2ludF9zZWNfaW50NjQAAgVmaXJzdA50aW1lX3BvaW50X3NlYwZzZWNvbmQFaW50NjQQcGVybWlzc2lvbl9sZXZlbAACBWFjdG9yBG5hbWUKcGVybWlzc2lvbgRuYW1lF3Blcm1pc3Npb25fbGV2ZWxfd2VpZ2h0AAIKcGVybWlzc2lvbhBwZXJtaXNzaW9uX2xldmVsBndlaWdodAZ1aW50MTYHcG93ZXJ1cAAGBXBheWVyBG5hbWUIcmVjZWl2ZXIEbmFtZQRkYXlzBnVpbnQzMghuZXRfZnJhYwVpbnQ2NAhjcHVfZnJhYwVpbnQ2NAttYXhfcGF5bWVudAVhc3NldA5wb3dlcnVwX2NvbmZpZwAEA25ldBdwb3dlcnVwX2NvbmZpZ19yZXNvdXJjZQNjcHUXcG93ZXJ1cF9jb25maWdfcmVzb3VyY2UMcG93ZXJ1cF9kYXlzB3VpbnQzMj8PbWluX3Bvd2VydXBfZmVlBmFzc2V0Pxdwb3dlcnVwX2NvbmZpZ19yZXNvdXJjZQAIFGN1cnJlbnRfd2VpZ2h0X3JhdGlvBmludDY0PxN0YXJnZXRfd2VpZ2h0X3JhdGlvBmludDY0PxRhc3N1bWVkX3N0YWtlX3dlaWdodAZpbnQ2ND8QdGFyZ2V0X3RpbWVzdGFtcA90aW1lX3BvaW50X3NlYz8IZXhwb25lbnQIZmxvYXQ2ND8KZGVjYXlfc2Vjcwd1aW50MzI/CW1pbl9wcmljZQZhc3NldD8JbWF4X3ByaWNlBmFzc2V0Pw1wb3dlcnVwX29yZGVyAAYHdmVyc2lvbgV1aW50OAJpZAZ1aW50NjQFb3duZXIEbmFtZQpuZXRfd2VpZ2h0BWludDY0CmNwdV93ZWlnaHQFaW50NjQHZXhwaXJlcw50aW1lX3BvaW50X3NlYw1wb3dlcnVwX3N0YXRlAAUHdmVyc2lvbgV1aW50OANuZXQWcG93ZXJ1cF9zdGF0ZV9yZXNvdXJjZQNjcHUWcG93ZXJ1cF9zdGF0ZV9yZXNvdXJjZQxwb3dlcnVwX2RheXMGdWludDMyD21pbl9wb3dlcnVwX2ZlZQVhc3NldBZwb3dlcnVwX3N0YXRlX3Jlc291cmNlAA8HdmVyc2lvbgV1aW50OAZ3ZWlnaHQFaW50NjQMd2VpZ2h0X3JhdGlvBWludDY0FGFzc3VtZWRfc3Rha2Vfd2VpZ2h0BWludDY0FGluaXRpYWxfd2VpZ2h0X3JhdGlvBWludDY0E3RhcmdldF93ZWlnaHRfcmF0aW8FaW50NjQRaW5pdGlhbF90aW1lc3RhbXAOdGltZV9wb2ludF9zZWMQdGFyZ2V0X3RpbWVzdGFtcA50aW1lX3BvaW50X3NlYwhleHBvbmVudAdmbG9hdDY0CmRlY2F5X3NlY3MGdWludDMyCW1pbl9wcmljZQVhc3NldAltYXhfcHJpY2UFYXNzZXQLdXRpbGl6YXRpb24FaW50NjQUYWRqdXN0ZWRfdXRpbGl6YXRpb24FaW50NjQVdXRpbGl6YXRpb25fdGltZXN0YW1wDnRpbWVfcG9pbnRfc2VjC3Bvd2VydXBleGVjAAIEdXNlcgRuYW1lA21heAZ1aW50MTYNcHJvZHVjZXJfaW5mbwAJBW93bmVyBG5hbWULdG90YWxfdm90ZXMHZmxvYXQ2NAxwcm9kdWNlcl9rZXkKcHVibGljX2tleQlpc19hY3RpdmUEYm9vbAN1cmwGc3RyaW5nDXVucGFpZF9ibG9ja3MGdWludDMyD2xhc3RfY2xhaW1fdGltZQp0aW1lX3BvaW50CGxvY2F0aW9uBnVpbnQxNhJwcm9kdWNlcl9hdXRob3JpdHkYYmxvY2tfc2lnbmluZ19hdXRob3JpdHkkDnByb2R1Y2VyX2luZm8yAAMFb3duZXIEbmFtZQ12b3RlcGF5X3NoYXJlB2Zsb2F0NjQZbGFzdF92b3RlcGF5X3NoYXJlX3VwZGF0ZQp0aW1lX3BvaW50DHByb2R1Y2VyX2tleQACDXByb2R1Y2VyX25hbWUEbmFtZRFibG9ja19zaWduaW5nX2tleQpwdWJsaWNfa2V5EXByb2R1Y2VyX3NjaGVkdWxlAAIHdmVyc2lvbgZ1aW50MzIJcHJvZHVjZXJzDnByb2R1Y2VyX2tleVtdBnJlZnVuZAABBW93bmVyBG5hbWUOcmVmdW5kX3JlcXVlc3QABAVvd25lcgRuYW1lDHJlcXVlc3RfdGltZQ50aW1lX3BvaW50X3NlYwpuZXRfYW1vdW50BWFzc2V0CmNwdV9hbW91bnQFYXNzZXQLcmVncHJvZHVjZXIABAhwcm9kdWNlcgRuYW1lDHByb2R1Y2VyX2tleQpwdWJsaWNfa2V5A3VybAZzdHJpbmcIbG9jYXRpb24GdWludDE2DHJlZ3Byb2R1Y2VyMgAECHByb2R1Y2VyBG5hbWUScHJvZHVjZXJfYXV0aG9yaXR5F2Jsb2NrX3NpZ25pbmdfYXV0aG9yaXR5A3VybAZzdHJpbmcIbG9jYXRpb24GdWludDE2CHJlZ3Byb3h5AAIFcHJveHkEbmFtZQdpc3Byb3h5BGJvb2wHcmVudGNwdQAEBGZyb20EbmFtZQhyZWNlaXZlcgRuYW1lDGxvYW5fcGF5bWVudAVhc3NldAlsb2FuX2Z1bmQFYXNzZXQHcmVudG5ldAAEBGZyb20EbmFtZQhyZWNlaXZlcgRuYW1lDGxvYW5fcGF5bWVudAVhc3NldAlsb2FuX2Z1bmQFYXNzZXQLcmV4X2JhbGFuY2UABgd2ZXJzaW9uBXVpbnQ4BW93bmVyBG5hbWUKdm90ZV9zdGFrZQVhc3NldAtyZXhfYmFsYW5jZQVhc3NldAttYXR1cmVkX3JleAVpbnQ2NA5yZXhfbWF0dXJpdGllcxtwYWlyX3RpbWVfcG9pbnRfc2VjX2ludDY0W10IcmV4X2Z1bmQAAwd2ZXJzaW9uBXVpbnQ4BW93bmVyBG5hbWUHYmFsYW5jZQVhc3NldAhyZXhfbG9hbgAIB3ZlcnNpb24FdWludDgEZnJvbQRuYW1lCHJlY2VpdmVyBG5hbWUHcGF5bWVudAVhc3NldAdiYWxhbmNlBWFzc2V0DHRvdGFsX3N0YWtlZAVhc3NldAhsb2FuX251bQZ1aW50NjQKZXhwaXJhdGlvbgp0aW1lX3BvaW50CXJleF9vcmRlcgAHB3ZlcnNpb24FdWludDgFb3duZXIEbmFtZQ1yZXhfcmVxdWVzdGVkBWFzc2V0CHByb2NlZWRzBWFzc2V0DHN0YWtlX2NoYW5nZQVhc3NldApvcmRlcl90aW1lCnRpbWVfcG9pbnQHaXNfb3BlbgRib29sCHJleF9wb29sAAgHdmVyc2lvbgV1aW50OAp0b3RhbF9sZW50BWFzc2V0DHRvdGFsX3VubGVudAVhc3NldAp0b3RhbF9yZW50BWFzc2V0DnRvdGFsX2xlbmRhYmxlBWFzc2V0CXRvdGFsX3JleAVhc3NldBBuYW1lYmlkX3Byb2NlZWRzBWFzc2V0CGxvYW5fbnVtBnVpbnQ2NBJyZXhfcmV0dXJuX2J1Y2tldHMAAgd2ZXJzaW9uBXVpbnQ4DnJldHVybl9idWNrZXRzG3BhaXJfdGltZV9wb2ludF9zZWNfaW50NjRbXQ9yZXhfcmV0dXJuX3Bvb2wABwd2ZXJzaW9uBXVpbnQ4Dmxhc3RfZGlzdF90aW1lDnRpbWVfcG9pbnRfc2VjE3BlbmRpbmdfYnVja2V0X3RpbWUOdGltZV9wb2ludF9zZWMSb2xkZXN0X2J1Y2tldF90aW1lDnRpbWVfcG9pbnRfc2VjF3BlbmRpbmdfYnVja2V0X3Byb2NlZWRzBWludDY0GGN1cnJlbnRfcmF0ZV9vZl9pbmNyZWFzZQVpbnQ2NAhwcm9jZWVkcwVpbnQ2NAdyZXhleGVjAAIEdXNlcgRuYW1lA21heAZ1aW50MTYLcm12cHJvZHVjZXIAAQhwcm9kdWNlcgRuYW1lB3NlbGxyYW0AAgdhY2NvdW50BG5hbWUFYnl0ZXMFaW50NjQHc2VsbHJleAACBGZyb20EbmFtZQNyZXgFYXNzZXQGc2V0YWJpAAMHYWNjb3VudARuYW1lA2FiaQVieXRlcwRtZW1vB3N0cmluZyQKc2V0YWNjdGNwdQACB2FjY291bnQEbmFtZQpjcHVfd2VpZ2h0BmludDY0PwpzZXRhY2N0bmV0AAIHYWNjb3VudARuYW1lCm5ldF93ZWlnaHQGaW50NjQ/CnNldGFjY3RyYW0AAgdhY2NvdW50BG5hbWUJcmFtX2J5dGVzBmludDY0PwpzZXRhbGltaXRzAAQHYWNjb3VudARuYW1lCXJhbV9ieXRlcwVpbnQ2NApuZXRfd2VpZ2h0BWludDY0CmNwdV93ZWlnaHQFaW50NjQHc2V0Y29kZQAFB2FjY291bnQEbmFtZQZ2bXR5cGUFdWludDgJdm12ZXJzaW9uBXVpbnQ4BGNvZGUFYnl0ZXMEbWVtbwdzdHJpbmckDHNldGluZmxhdGlvbgADC2FubnVhbF9yYXRlBWludDY0FGluZmxhdGlvbl9wYXlfZmFjdG9yBWludDY0DnZvdGVwYXlfZmFjdG9yBWludDY0CXNldHBhcmFtcwABBnBhcmFtcxdibG9ja2NoYWluX3BhcmFtZXRlcnNfdAdzZXRwcml2AAIHYWNjb3VudARuYW1lB2lzX3ByaXYFdWludDgGc2V0cmFtAAEMbWF4X3JhbV9zaXplBnVpbnQ2NApzZXRyYW1yYXRlAAEPYnl0ZXNfcGVyX2Jsb2NrBnVpbnQxNgZzZXRyZXgAAQdiYWxhbmNlBWFzc2V0DHVuZGVsZWdhdGVidwAEBGZyb20EbmFtZQhyZWNlaXZlcgRuYW1lFHVuc3Rha2VfbmV0X3F1YW50aXR5BWFzc2V0FHVuc3Rha2VfY3B1X3F1YW50aXR5BWFzc2V0CnVubGlua2F1dGgABAdhY2NvdW50BG5hbWUEY29kZQRuYW1lBHR5cGUEbmFtZQ1hdXRob3JpemVkX2J5BW5hbWUkCXVucmVncHJvZAABCHByb2R1Y2VyBG5hbWUMdW5zdGFrZXRvcmV4AAQFb3duZXIEbmFtZQhyZWNlaXZlcgRuYW1lCGZyb21fbmV0BWFzc2V0CGZyb21fY3B1BWFzc2V0CnVwZGF0ZWF1dGgABQdhY2NvdW50BG5hbWUKcGVybWlzc2lvbgRuYW1lBnBhcmVudARuYW1lBGF1dGgJYXV0aG9yaXR5DWF1dGhvcml6ZWRfYnkFbmFtZSQJdXBkYXRlcmV4AAEFb3duZXIEbmFtZQx1cGR0cmV2aXNpb24AAQhyZXZpc2lvbgV1aW50OA51c2VyX3Jlc291cmNlcwAEBW93bmVyBG5hbWUKbmV0X3dlaWdodAVhc3NldApjcHVfd2VpZ2h0BWFzc2V0CXJhbV9ieXRlcwVpbnQ2NAx2b3RlcHJvZHVjZXIAAwV2b3RlcgRuYW1lBXByb3h5BG5hbWUJcHJvZHVjZXJzBm5hbWVbXQp2b3Rlcl9pbmZvAAoFb3duZXIEbmFtZQVwcm94eQRuYW1lCXByb2R1Y2VycwZuYW1lW10Gc3Rha2VkBWludDY0EGxhc3Rfdm90ZV93ZWlnaHQHZmxvYXQ2NBNwcm94aWVkX3ZvdGVfd2VpZ2h0B2Zsb2F0NjQIaXNfcHJveHkEYm9vbAZmbGFnczEGdWludDMyCXJlc2VydmVkMgZ1aW50MzIJcmVzZXJ2ZWQzBWFzc2V0CnZvdGV1cGRhdGUAAQp2b3Rlcl9uYW1lBG5hbWULd2FpdF93ZWlnaHQAAgh3YWl0X3NlYwZ1aW50MzIGd2VpZ2h0BnVpbnQxNgd3YXNtY2ZnAAEIc2V0dGluZ3MEbmFtZQh3aXRoZHJhdwACBW93bmVyBG5hbWUGYW1vdW50BWFzc2V0EWxpbWl0X2F1dGhfY2hhbmdlAAQHdmVyc2lvbgV1aW50OAdhY2NvdW50BG5hbWULYWxsb3dfcGVybXMGbmFtZVtdDmRpc2FsbG93X3Blcm1zBm5hbWVbXT4AAAAqm+0yMghhY3RpdmF0ZYgDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQWN0aXZhdGUgUHJvdG9jb2wgRmVhdHVyZQpzdW1tYXJ5OiAnQWN0aXZhdGUgcHJvdG9jb2wgZmVhdHVyZSB7e25vd3JhcCBmZWF0dXJlX2RpZ2VzdH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWRtaW4ucG5nIzliZjFjZWM2NjQ4NjNiZDZhYWFjMGY4MTRiMjM1Zjg3OTlmYjAyYzg1MGU5YWE1ZGEzNGU4YTAwNGJkNjUxOGUKLS0tCgp7eyRhY3Rpb24uYWNjb3VudH19IGFjdGl2YXRlcyB0aGUgcHJvdG9jb2wgZmVhdHVyZSB3aXRoIGEgZGlnZXN0IG9mIHt7ZmVhdHVyZV9kaWdlc3R9fS4AAABASTOTOwdiaWRuYW1lqQ4tLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBCaWQgT24gYSBQcmVtaXVtIEFjY291bnQgTmFtZQpzdW1tYXJ5OiAne3tub3dyYXAgYmlkZGVyfX0gYmlkcyBvbiB0aGUgcHJlbWl1bSBhY2NvdW50IG5hbWUge3tub3dyYXAgbmV3bmFtZX19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCnt7YmlkZGVyfX0gYmlkcyB7e2JpZH19IG9uIGFuIGF1Y3Rpb24gdG8gb3duIHRoZSBwcmVtaXVtIGFjY291bnQgbmFtZSB7e25ld25hbWV9fS4KCnt7YmlkZGVyfX0gdHJhbnNmZXJzIHt7YmlkfX0gdG8gdGhlIHN5c3RlbSB0byBjb3ZlciB0aGUgY29zdCBvZiB0aGUgYmlkLCB3aGljaCB3aWxsIGJlIHJldHVybmVkIHRvIHt7YmlkZGVyfX0gb25seSBpZiB7e2JpZGRlcn19IGlzIGxhdGVyIG91dGJpZCBpbiB0aGUgYXVjdGlvbiBmb3Ige3tuZXduYW1lfX0gYnkgYW5vdGhlciBhY2NvdW50LgoKSWYgdGhlIGF1Y3Rpb24gZm9yIHt7bmV3bmFtZX19IGNsb3NlcyB3aXRoIHt7YmlkZGVyfX0gcmVtYWluaW5nIGFzIHRoZSBoaWdoZXN0IGJpZGRlciwge3tiaWRkZXJ9fSB3aWxsIGJlIGF1dGhvcml6ZWQgdG8gY3JlYXRlIHRoZSBhY2NvdW50IHdpdGggbmFtZSB7e25ld25hbWV9fS4KCiMjIEJpZCByZWZ1bmQgYmVoYXZpb3IKCklmIHt7YmlkZGVyfX3igJlzIGJpZCBvbiB7e25ld25hbWV9fSBpcyBsYXRlciBvdXRiaWQgYnkgYW5vdGhlciBhY2NvdW50LCB7e2JpZGRlcn19IHdpbGwgYmUgYWJsZSB0byBjbGFpbSBiYWNrIHRoZSB0cmFuc2ZlcnJlZCBhbW91bnQgb2Yge3tiaWR9fS4gVGhlIHN5c3RlbSB3aWxsIGF0dGVtcHQgdG8gYXV0b21hdGljYWxseSBkbyB0aGlzIG9uIGJlaGFsZiBvZiB7e2JpZGRlcn19LCBidXQgdGhlIGF1dG9tYXRpYyByZWZ1bmQgbWF5IG9jY2FzaW9uYWxseSBmYWlsIHdoaWNoIHdpbGwgdGhlbiByZXF1aXJlIHt7YmlkZGVyfX0gdG8gbWFudWFsbHkgY2xhaW0gdGhlIHJlZnVuZCB3aXRoIHRoZSBiaWRyZWZ1bmQgYWN0aW9uLgoKIyMgQXVjdGlvbiBjbG9zZSBjcml0ZXJpYQoKVGhlIHN5c3RlbSBzaG91bGQgYXV0b21hdGljYWxseSBjbG9zZSB0aGUgYXVjdGlvbiBmb3Ige3tuZXduYW1lfX0gaWYgaXQgc2F0aXNmaWVzIHRoZSBjb25kaXRpb24gdGhhdCBvdmVyIGEgcGVyaW9kIG9mIHR3byBtaW51dGVzIHRoZSBmb2xsb3dpbmcgdHdvIHByb3BlcnRpZXMgY29udGludW91c2x5IGhvbGQ6CgotIG5vIG9uZSBoYXMgYmlkIG9uIHt7bmV3bmFtZX19IHdpdGhpbiB0aGUgbGFzdCAyNCBob3VyczsKLSBhbmQsIHRoZSB2YWx1ZSBvZiB0aGUgbGF0ZXN0IGJpZCBvbiB7e25ld25hbWV9fSBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIHRoZSBiaWRzIG9uIGVhY2ggb2YgdGhlIG90aGVyIG9wZW4gYXVjdGlvbnMuCgpCZSBhd2FyZSB0aGF0IHRoZSBjb25kaXRpb24gdG8gY2xvc2UgdGhlIGF1Y3Rpb24gZGVzY3JpYmVkIGFib3ZlIGFyZSBzdWZmaWNpZW50IGJ1dCBub3QgbmVjZXNzYXJ5LiBUaGUgYXVjdGlvbiBmb3Ige3tuZXduYW1lfX0gY2Fubm90IGNsb3NlIHVubGVzcyBib3RoIG9mIHRoZSBwcm9wZXJ0aWVzIGFyZSBzaW11bHRhbmVvdXNseSBzYXRpc2ZpZWQsIGJ1dCBpdCBtYXkgYmUgY2xvc2VkIHdpdGhvdXQgcmVxdWlyaW5nIHRoZSBwcm9wZXJ0aWVzIHRvIGhvbGQgZm9yIGEgcGVyaW9kIG9mIDIgbWludXRlcy4AAEhTL3WTOwliaWRyZWZ1bmT0Ai0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IENsYWltIFJlZnVuZCBvbiBOYW1lIEJpZApzdW1tYXJ5OiAnQ2xhaW0gcmVmdW5kIG9uIHt7bm93cmFwIG5ld25hbWV9fSBiaWQnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hY2NvdW50LnBuZyMzZDU1YTJmYzNhNWMyMGI0NTZmNTY1N2ZhZjY2NmJjMjVmZmQwNmY0ODM2YzVlODI1NmY3NDExNDliMGIyOTRmCi0tLQoKe3tiaWRkZXJ9fSBjbGFpbXMgcmVmdW5kIG9uIHt7bmV3bmFtZX19IGJpZCBhZnRlciBiZWluZyBvdXRiaWQgYnkgc29tZW9uZSBlbHNlLgAAAABIc70+BmJ1eXJhbfoDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQnV5IFJBTQpzdW1tYXJ5OiAne3tub3dyYXAgcGF5ZXJ9fSBidXlzIFJBTSBvbiBiZWhhbGYgb2Yge3tub3dyYXAgcmVjZWl2ZXJ9fSBieSBwYXlpbmcge3tub3dyYXAgcXVhbnR9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3Jlc291cmNlLnBuZyMzODMwZjFjZThjYjA3Zjc3NTdkYmNmMzgzYjFlYzFiMTE5MTRhYzM0YTFmOWQ4YjA2NWYwNzYwMGZhOWRhYzE5Ci0tLQoKe3twYXllcn19IGJ1eXMgUkFNIG9uIGJlaGFsZiBvZiB7e3JlY2VpdmVyfX0gYnkgcGF5aW5nIHt7cXVhbnR9fS4gVGhpcyB0cmFuc2FjdGlvbiB3aWxsIGluY3VyIGEgMC41JSBmZWUgb3V0IG9mIHt7cXVhbnR9fSBhbmQgdGhlIGFtb3VudCBvZiBSQU0gZGVsaXZlcmVkIHdpbGwgZGVwZW5kIG9uIG1hcmtldCByYXRlcy4AsMr+SHO9PgtidXlyYW1ieXRlc4EELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQnV5IFJBTQpzdW1tYXJ5OiAne3tub3dyYXAgcGF5ZXJ9fSBidXlzIHt7bm93cmFwIGJ5dGVzfX0gYnl0ZXMgb2YgUkFNIG9uIGJlaGFsZiBvZiB7e25vd3JhcCByZWNlaXZlcn19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmVzb3VyY2UucG5nIzM4MzBmMWNlOGNiMDdmNzc1N2RiY2YzODNiMWVjMWIxMTkxNGFjMzRhMWY5ZDhiMDY1ZjA3NjAwZmE5ZGFjMTkKLS0tCgp7e3BheWVyfX0gYnV5cyBhcHByb3hpbWF0ZWx5IHt7Ynl0ZXN9fSBieXRlcyBvZiBSQU0gb24gYmVoYWxmIG9mIHt7cmVjZWl2ZXJ9fSBieSBwYXlpbmcgbWFya2V0IHJhdGVzIGZvciBSQU0uIFRoaXMgdHJhbnNhY3Rpb24gd2lsbCBpbmN1ciBhIDAuNSUgZmVlIGFuZCB0aGUgY29zdCB3aWxsIGRlcGVuZCBvbiBtYXJrZXQgcmF0ZXMuAAAAAHR1vT4GYnV5cmV41wYtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBCdXkgUkVYIFRva2VucwpzdW1tYXJ5OiAne3tub3dyYXAgZnJvbX19IGJ1eXMgUkVYIHRva2VucyBpbiBleGNoYW5nZSBmb3Ige3tub3dyYXAgYW1vdW50fX0gYW5kIHRoZWlyIHZvdGUgc3Rha2UgaW5jcmVhc2VzIGJ5IHt7bm93cmFwIGFtb3VudH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKe3thbW91bnR9fSBpcyB0YWtlbiBvdXQgb2Yge3tmcm9tfX3igJlzIFJFWCBmdW5kIGFuZCB1c2VkIHRvIHB1cmNoYXNlIFJFWCB0b2tlbnMgYXQgdGhlIGN1cnJlbnQgbWFya2V0IGV4Y2hhbmdlIHJhdGUuIEluIG9yZGVyIGZvciB0aGUgYWN0aW9uIHRvIHN1Y2NlZWQsIHt7ZnJvbX19IG11c3QgaGF2ZSB2b3RlZCBmb3IgYSBwcm94eSBvciBhdCBsZWFzdCAyMSBibG9jayBwcm9kdWNlcnMuIHt7YW1vdW50fX0gaXMgYWRkZWQgdG8ge3tmcm9tfX3igJlzIHZvdGUgc3Rha2UuCgpBIHNlbGwgb3JkZXIgb2YgdGhlIHB1cmNoYXNlZCBhbW91bnQgY2FuIG9ubHkgYmUgaW5pdGlhdGVkIGFmdGVyIHdhaXRpbmcgZm9yIHRoZSBtYXR1cml0eSBwZXJpb2Qgb2YgNCB0byA1IGRheXMgdG8gcGFzcy4gRXZlbiB0aGVuLCBkZXBlbmRpbmcgb24gdGhlIG1hcmtldCBjb25kaXRpb25zLCB0aGUgaW5pdGlhdGVkIHNlbGwgb3JkZXIgbWF5IG5vdCBiZSBleGVjdXRlZCBpbW1lZGlhdGVseS4AvIkqRYWmQQtjYW5jZWxkZWxheYoDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQ2FuY2VsIERlbGF5ZWQgVHJhbnNhY3Rpb24Kc3VtbWFyeTogJ3t7bm93cmFwIGNhbmNlbGluZ19hdXRoLmFjdG9yfX0gY2FuY2VscyBhIGRlbGF5ZWQgdHJhbnNhY3Rpb24nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hY2NvdW50LnBuZyMzZDU1YTJmYzNhNWMyMGI0NTZmNTY1N2ZhZjY2NmJjMjVmZmQwNmY0ODM2YzVlODI1NmY3NDExNDliMGIyOTRmCi0tLQoKe3tjYW5jZWxpbmdfYXV0aC5hY3Rvcn19IGNhbmNlbHMgdGhlIGRlbGF5ZWQgdHJhbnNhY3Rpb24gd2l0aCBpZCB7e3RyeF9pZH19LgBA1VdxWtlCCmNmZ3Bvd2VydXAAgNM1XF3pTEQMY2xhaW1yZXdhcmRz5wItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDbGFpbSBCbG9jayBQcm9kdWNlciBSZXdhcmRzCnN1bW1hcnk6ICd7e25vd3JhcCBvd25lcn19IGNsYWltcyBibG9jayBhbmQgdm90ZSByZXdhcmRzJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWRtaW4ucG5nIzliZjFjZWM2NjQ4NjNiZDZhYWFjMGY4MTRiMjM1Zjg3OTlmYjAyYzg1MGU5YWE1ZGEzNGU4YTAwNGJkNjUxOGUKLS0tCgp7e293bmVyfX0gY2xhaW1zIGJsb2NrIGFuZCB2b3RlIHJld2FyZHMgZnJvbSB0aGUgc3lzdGVtLgAAAF1dhWlECGNsb3NlcmV4lAQtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDbGVhbnVwIFVudXNlZCBSRVggRGF0YQpzdW1tYXJ5OiAnRGVsZXRlIFJFWCByZWxhdGVkIERCIGVudHJpZXMgYW5kIGZyZWUgYXNzb2NpYXRlZCBSQU0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgpEZWxldGUgUkVYIHJlbGF0ZWQgREIgZW50cmllcyBhbmQgZnJlZSBhc3NvY2lhdGVkIFJBTSBmb3Ige3tvd25lcn19LgoKVG8gZnVsbHkgZGVsZXRlIGFsbCBSRVggcmVsYXRlZCBEQiBlbnRyaWVzLCB7e293bmVyfX0gbXVzdCBlbnN1cmUgdGhhdCB0aGVpciBSRVggYmFsYW5jZSBhbmQgUkVYIGZ1bmQgYW1vdW50cyBhcmUgYm90aCB6ZXJvIGFuZCB0aGV5IGhhdmUgbm8gb3V0c3RhbmRpbmcgbG9hbnMucFW6tKsb0UQMY25jbHJleG9yZGVy6wItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDYW5jZWwgU2NoZWR1bGVkIFJFWCBTZWxsIE9yZGVyCnN1bW1hcnk6ICd7e25vd3JhcCBvd25lcn19IGNhbmNlbHMgYSBzY2hlZHVsZWQgc2VsbCBvcmRlciBpZiBub3QgeWV0IGZpbGxlZCcKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7b3duZXJ9fSBjYW5jZWxzIHRoZWlyIG9wZW4gc2VsbCBvcmRlci4AVDbJRYonRQtjb25zb2xpZGF0ZaYDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQ29uc29saWRhdGUgUkVYIE1hdHVyaXR5IEJ1Y2tldHMgSW50byBPbmUKc3VtbWFyeTogJ0NvbnNvbGlkYXRlIFJFWCBtYXR1cml0eSBidWNrZXRzIGludG8gb25lJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKQ29uc29saWRhdGUgUkVYIG1hdHVyaXR5IGJ1Y2tldHMgaW50byBvbmUgYnVja2V0IHRoYXQge3tvd25lcn19IHdpbGwgbm90IGJlIGFibGUgdG8gc2VsbCB1bnRpbCA0IHRvIDUgZGF5cyBsYXRlci4AwDQ06oqWSgpkZWZjcHVsb2Fu3gMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBXaXRoZHJhdyBmcm9tIHRoZSBGdW5kIG9mIGEgU3BlY2lmaWMgQ1BVIExvYW4Kc3VtbWFyeTogJ3t7bm93cmFwIGZyb219fSB0cmFuc2ZlcnMge3tub3dyYXAgYW1vdW50fX0gZnJvbSB0aGUgZnVuZCBvZiBDUFUgbG9hbiBudW1iZXIge3tub3dyYXAgbG9hbl9udW19fSBiYWNrIHRvIFJFWCBmdW5kJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKe3tmcm9tfX0gdHJhbnNmZXJzIHt7YW1vdW50fX0gZnJvbSB0aGUgZnVuZCBvZiBDUFUgbG9hbiBudW1iZXIge3tsb2FuX251bX19IGJhY2sgdG8gUkVYIGZ1bmQuAMA0NGY1l0oKZGVmbmV0bG9hbt4DLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogV2l0aGRyYXcgZnJvbSB0aGUgRnVuZCBvZiBhIFNwZWNpZmljIE5FVCBMb2FuCnN1bW1hcnk6ICd7e25vd3JhcCBmcm9tfX0gdHJhbnNmZXJzIHt7bm93cmFwIGFtb3VudH19IGZyb20gdGhlIGZ1bmQgb2YgTkVUIGxvYW4gbnVtYmVyIHt7bm93cmFwIGxvYW5fbnVtfX0gYmFjayB0byBSRVggZnVuZCcKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7ZnJvbX19IHRyYW5zZmVycyB7e2Ftb3VudH19IGZyb20gdGhlIGZ1bmQgb2YgTkVUIGxvYW4gbnVtYmVyIHt7bG9hbl9udW19fSBiYWNrIHRvIFJFWCBmdW5kLgAAPyobpqJKCmRlbGVnYXRlYnfzBi0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFN0YWtlIFRva2VucyBmb3IgTkVUIGFuZC9vciBDUFUKc3VtbWFyeTogJ1N0YWtlIHRva2VucyBmb3IgTkVUIGFuZC9vciBDUFUgYW5kIG9wdGlvbmFsbHkgdHJhbnNmZXIgb3duZXJzaGlwJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmVzb3VyY2UucG5nIzM4MzBmMWNlOGNiMDdmNzc1N2RiY2YzODNiMWVjMWIxMTkxNGFjMzRhMWY5ZDhiMDY1ZjA3NjAwZmE5ZGFjMTkKLS0tCgp7eyNpZiB0cmFuc2Zlcn19IHt7ZnJvbX19IHN0YWtlcyBvbiBiZWhhbGYgb2Yge3tyZWNlaXZlcn19IHt7c3Rha2VfbmV0X3F1YW50aXR5fX0gZm9yIE5FVCBiYW5kd2lkdGggYW5kIHt7c3Rha2VfY3B1X3F1YW50aXR5fX0gZm9yIENQVSBiYW5kd2lkdGguCgpTdGFrZWQgdG9rZW5zIHdpbGwgYWxzbyBiZSB0cmFuc2ZlcnJlZCB0byB7e3JlY2VpdmVyfX0uIFRoZSBzdW0gb2YgdGhlc2UgdHdvIHF1YW50aXRpZXMgd2lsbCBiZSBkZWR1Y3RlZCBmcm9tIHt7ZnJvbX194oCZcyBsaXF1aWQgYmFsYW5jZSBhbmQgYWRkIHRvIHRoZSB2b3RlIHdlaWdodCBvZiB7e3JlY2VpdmVyfX0uCnt7ZWxzZX19Cnt7ZnJvbX19IHN0YWtlcyB0byBzZWxmIGFuZCBkZWxlZ2F0ZXMgdG8ge3tyZWNlaXZlcn19IHt7c3Rha2VfbmV0X3F1YW50aXR5fX0gZm9yIE5FVCBiYW5kd2lkdGggYW5kIHt7c3Rha2VfY3B1X3F1YW50aXR5fX0gZm9yIENQVSBiYW5kd2lkdGguCgpUaGUgc3VtIG9mIHRoZXNlIHR3byBxdWFudGl0aWVzIGFkZCB0byB0aGUgdm90ZSB3ZWlnaHQgb2Yge3tmcm9tfX0uCnt7L2lmfX0AQMvaqKyiSgpkZWxldGVhdXRo9QItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBEZWxldGUgQWNjb3VudCBQZXJtaXNzaW9uCnN1bW1hcnk6ICdEZWxldGUgdGhlIHt7bm93cmFwIHBlcm1pc3Npb259fSBwZXJtaXNzaW9uIG9mIHt7bm93cmFwIGFjY291bnR9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FjY291bnQucG5nIzNkNTVhMmZjM2E1YzIwYjQ1NmY1NjU3ZmFmNjY2YmMyNWZmZDA2ZjQ4MzZjNWU4MjU2Zjc0MTE0OWIwYjI5NGYKLS0tCgpEZWxldGUgdGhlIHt7cGVybWlzc2lvbn19IHBlcm1pc3Npb24gb2Yge3thY2NvdW50fX0uAAAAIDtMq0oHZGVwb3NpdIgELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogRGVwb3NpdCBJbnRvIFJFWCBGdW5kCnN1bW1hcnk6ICdBZGQgdG8ge3tub3dyYXAgb3duZXJ9feKAmXMgUkVYIGZ1bmQgYnkgdHJhbnNmZXJyaW5nIHt7bm93cmFwIGFtb3VudH19IGZyb20ge3tub3dyYXAgb3duZXJ9feKAmXMgbGlxdWlkIGJhbGFuY2UnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgpUcmFuc2ZlciB7e2Ftb3VudH19IGZyb20ge3tvd25lcn194oCZcyBsaXF1aWQgYmFsYW5jZSB0byB7e293bmVyfX3igJlzIFJFWCBmdW5kLiBBbGwgcHJvY2VlZHMgYW5kIGV4cGVuc2VzIHJlbGF0ZWQgdG8gUkVYIGFyZSBhZGRlZCB0byBvciB0YWtlbiBvdXQgb2YgdGhpcyBmdW5kLgCmoVFXlKZeC2Z1bmRjcHVsb2Fu/AMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBEZXBvc2l0IGludG8gdGhlIEZ1bmQgb2YgYSBTcGVjaWZpYyBDUFUgTG9hbgpzdW1tYXJ5OiAne3tub3dyYXAgZnJvbX19IGZ1bmRzIGEgQ1BVIGxvYW4nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgp7e2Zyb219fSB0cmFuc2ZlcnMge3twYXltZW50fX0gZnJvbSBSRVggZnVuZCB0byB0aGUgZnVuZCBvZiBDUFUgbG9hbiBudW1iZXIge3tsb2FuX251bX19IGluIG9yZGVyIHRvIGJlIHVzZWQgaW4gbG9hbiByZW5ld2FsIGF0IGV4cGlyeS4ge3tmcm9tfX0gY2FuIHdpdGhkcmF3IHRoZSB0b3RhbCBiYWxhbmNlIG9mIHRoZSBsb2FuIGZ1bmQgYXQgYW55IHRpbWUuAKahMauZpl4LZnVuZG5ldGxvYW78Ay0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IERlcG9zaXQgaW50byB0aGUgRnVuZCBvZiBhIFNwZWNpZmljIE5FVCBMb2FuCnN1bW1hcnk6ICd7e25vd3JhcCBmcm9tfX0gZnVuZHMgYSBORVQgbG9hbicKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7ZnJvbX19IHRyYW5zZmVycyB7e3BheW1lbnR9fSBmcm9tIFJFWCBmdW5kIHRvIHRoZSBmdW5kIG9mIE5FVCBsb2FuIG51bWJlciB7e2xvYW5fbnVtfX0gaW4gb3JkZXIgdG8gYmUgdXNlZCBpbiBsb2FuIHJlbmV3YWwgYXQgZXhwaXJ5LiB7e2Zyb219fSBjYW4gd2l0aGRyYXcgdGhlIHRvdGFsIGJhbGFuY2Ugb2YgdGhlIGxvYW4gZnVuZCBhdCBhbnkgdGltZS4AAAAAAJDddARpbml04wItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBJbml0aWFsaXplIFN5c3RlbSBDb250cmFjdApzdW1tYXJ5OiAnSW5pdGlhbGl6ZSBzeXN0ZW0gY29udHJhY3QnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCkluaXRpYWxpemUgc3lzdGVtIGNvbnRyYWN0LiBUaGUgY29yZSB0b2tlbiBzeW1ib2wgd2lsbCBiZSBzZXQgdG8ge3tjb3JlfX0uwBpqWZvspIsMbGltaXRhdXRoY2hnAAAAAC1rA6eLCGxpbmthdXRonQUtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBMaW5rIEFjdGlvbiB0byBQZXJtaXNzaW9uCnN1bW1hcnk6ICd7e25vd3JhcCBhY2NvdW50fX0gc2V0cyB0aGUgbWluaW11bSByZXF1aXJlZCBwZXJtaXNzaW9uIGZvciB0aGUge3sjaWYgdHlwZX19e3tub3dyYXAgdHlwZX19IGFjdGlvbiBvZiB0aGV7ey9pZn19IHt7bm93cmFwIGNvZGV9fSBjb250cmFjdCB0byB7e25vd3JhcCByZXF1aXJlbWVudH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCnt7YWNjb3VudH19IHNldHMgdGhlIG1pbmltdW0gcmVxdWlyZWQgcGVybWlzc2lvbiBmb3IgdGhlIHt7I2lmIHR5cGV9fXt7dHlwZX19IGFjdGlvbiBvZiB0aGV7ey9pZn19IHt7Y29kZX19IGNvbnRyYWN0IHRvIHt7cmVxdWlyZW1lbnR9fS4KCnt7I2lmIHR5cGV9fXt7ZWxzZX19QW55IGxpbmtzIGV4cGxpY2l0bHkgYXNzb2NpYXRlZCB0byBzcGVjaWZpYyBhY3Rpb25zIG9mIHt7Y29kZX19IHdpbGwgdGFrZSBwcmVjZWRlbmNlLnt7L2lmfX0AMJtuG3zXlgttdmZyc2F2aW5nc5wDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogVW5sb2NrIFJFWCBUb2tlbnMKc3VtbWFyeTogJ3t7bm93cmFwIG93bmVyfX0gdW5sb2NrcyBSRVggVG9rZW5zJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKe3tvd25lcn19IHVubG9ja3Mge3tyZXh9fSBieSBtb3ZpbmcgaXQgb3V0IG9mIHRoZSBSRVggc2F2aW5ncyBidWNrZXQuIFRoZSB1bmxvY2tlZCBSRVggdG9rZW5zIGNhbm5vdCBiZSBzb2xkIHVudGlsIDQgdG8gNSBkYXlzIGxhdGVyLgAwm24bTPOWC212dG9zYXZpbmdzugMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBMb2NrIFJFWCBUb2tlbnMKc3VtbWFyeTogJ3t7bm93cmFwIG93bmVyfX0gbG9ja3MgUkVYIFRva2VucycKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7b3duZXJ9fSBsb2NrcyB7e3JleH19IGJ5IG1vdmluZyBpdCBpbnRvIHRoZSBSRVggc2F2aW5ncyBidWNrZXQuIFRoZSBsb2NrZWQgUkVYIHRva2VucyBjYW5ub3QgYmUgc29sZCBkaXJlY3RseSBhbmQgd2lsbCBoYXZlIHRvIGJlIHVubG9ja2VkIGV4cGxpY2l0bHkgYmVmb3JlIHNlbGxpbmcuAECemiJkuJoKbmV3YWNjb3VudIAELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQ3JlYXRlIE5ldyBBY2NvdW50CnN1bW1hcnk6ICd7e25vd3JhcCBjcmVhdG9yfX0gY3JlYXRlcyBhIG5ldyBhY2NvdW50IHdpdGggdGhlIG5hbWUge3tub3dyYXAgbmFtZX19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCnt7Y3JlYXRvcn19IGNyZWF0ZXMgYSBuZXcgYWNjb3VudCB3aXRoIHRoZSBuYW1lIHt7bmFtZX19IGFuZCB0aGUgZm9sbG93aW5nIHBlcm1pc3Npb25zOgoKb3duZXIgcGVybWlzc2lvbiB3aXRoIGF1dGhvcml0eToKe3t0b19qc29uIG93bmVyfX0KCmFjdGl2ZSBwZXJtaXNzaW9uIHdpdGggYXV0aG9yaXR5Ogp7e3RvX2pzb24gYWN0aXZlfX0AAAAAIhrPpAdvbmJsb2NrAAAAAODSe9WkB29uZXJyb3IAAAAAoOqrOK0HcG93ZXJ1cNQCLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogUG93ZXJ1cCByZXNvdXJjZXMKc3VtbWFyeTogJ1VzZXIgbWF5IHBvd2VydXAgdG8gcmVzZXJ2ZSByZXNvdXJjZXMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXNvdXJjZS5wbmcjMzgzMGYxY2U4Y2IwN2Y3NzU3ZGJjZjM4M2IxZWMxYjExOTE0YWMzNGExZjlkOGIwNjVmMDc2MDBmYTlkYWMxOQotLS0KClVzZXJzIG1heSB1c2UgdGhlIHBvd2VydXAgYWN0aW9uIHRvIHJlc2VydmUgcmVzb3VyY2VzLgCQ6qrqqzitC3Bvd2VydXBleGVjAAAAAACkqZe6BnJlZnVuZIcDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQ2xhaW0gVW5zdGFrZWQgVG9rZW5zCnN1bW1hcnk6ICdSZXR1cm4gcHJldmlvdXNseSB1bnN0YWtlZCB0b2tlbnMgdG8ge3tub3dyYXAgb3duZXJ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FjY291bnQucG5nIzNkNTVhMmZjM2E1YzIwYjQ1NmY1NjU3ZmFmNjY2YmMyNWZmZDA2ZjQ4MzZjNWU4MjU2Zjc0MTE0OWIwYjI5NGYKLS0tCgpSZXR1cm4gcHJldmlvdXNseSB1bnN0YWtlZCB0b2tlbnMgdG8ge3tvd25lcn19IGFmdGVyIHRoZSB1bnN0YWtpbmcgcGVyaW9kIGhhcyBlbGFwc2VkLgCuQjrRW5m6C3JlZ3Byb2R1Y2VymQQtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBSZWdpc3RlciBhcyBhIEJsb2NrIFByb2R1Y2VyIENhbmRpZGF0ZQpzdW1tYXJ5OiAnUmVnaXN0ZXIge3tub3dyYXAgcHJvZHVjZXJ9fSBhY2NvdW50IGFzIGEgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvdm90aW5nLnBuZyNkYjI4Y2QzZGI2ZTYyZDQ1MDlhZjM2NDRjZTdkMzc3MzI5NDgyYTE0YmI0YmZhY2EyYWE1ZjE0MDBkOGU4YTg0Ci0tLQoKUmVnaXN0ZXIge3twcm9kdWNlcn19IGFjY291bnQgYXMgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhdGUuCgpVUkw6IHt7dXJsfX0KTG9jYXRpb24gY29kZToge3tsb2NhdGlvbn19CkJsb2NrIHNpZ25pbmcga2V5OiB7e3Byb2R1Y2VyX2tleX19CgojIyBCbG9jayBQcm9kdWNlciBBZ3JlZW1lbnQKe3skY2xhdXNlcy5CbG9ja1Byb2R1Y2VyQWdyZWVtZW50fX0grkI60VuZugxyZWdwcm9kdWNlcjKtBC0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFJlZ2lzdGVyIGFzIGEgQmxvY2sgUHJvZHVjZXIgQ2FuZGlkYXRlCnN1bW1hcnk6ICdSZWdpc3RlciB7e25vd3JhcCBwcm9kdWNlcn19IGFjY291bnQgYXMgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhdGUnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy92b3RpbmcucG5nI2RiMjhjZDNkYjZlNjJkNDUwOWFmMzY0NGNlN2QzNzczMjk0ODJhMTRiYjRiZmFjYTJhYTVmMTQwMGQ4ZThhODQKLS0tCgpSZWdpc3RlciB7e3Byb2R1Y2VyfX0gYWNjb3VudCBhcyBhIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZS4KClVSTDoge3t1cmx9fQpMb2NhdGlvbiBjb2RlOiB7e2xvY2F0aW9ufX0KQmxvY2sgc2lnbmluZyBhdXRob3JpdHk6Cnt7dG9fanNvbiBwcm9kdWNlcl9hdXRob3JpdHl9fQoKIyMgQmxvY2sgUHJvZHVjZXIgQWdyZWVtZW50Cnt7JGNsYXVzZXMuQmxvY2tQcm9kdWNlckFncmVlbWVudH19AAAAvtNbmboIcmVncHJveHmjBC0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFJlZ2lzdGVyL3VucmVnaXN0ZXIgYXMgYSBQcm94eQpzdW1tYXJ5OiAnUmVnaXN0ZXIvdW5yZWdpc3RlciB7e25vd3JhcCBwcm94eX19IGFzIGEgcHJveHkgYWNjb3VudCcKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3ZvdGluZy5wbmcjZGIyOGNkM2RiNmU2MmQ0NTA5YWYzNjQ0Y2U3ZDM3NzMyOTQ4MmExNGJiNGJmYWNhMmFhNWYxNDAwZDhlOGE4NAotLS0KCnt7I2lmIGlzcHJveHl9fQp7e3Byb3h5fX0gcmVnaXN0ZXJzIGFzIGEgcHJveHkgdGhhdCBjYW4gdm90ZSBvbiBiZWhhbGYgb2YgYWNjb3VudHMgdGhhdCBhcHBvaW50IGl0IGFzIHRoZWlyIHByb3h5Lgp7e2Vsc2V9fQp7e3Byb3h5fX0gdW5yZWdpc3RlcnMgYXMgYSBwcm94eSB0aGF0IGNhbiB2b3RlIG9uIGJlaGFsZiBvZiBhY2NvdW50cyB0aGF0IGFwcG9pbnQgaXQgYXMgdGhlaXIgcHJveHkuCnt7L2lmfX0AAABAV5SnugdyZW50Y3B13AktLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBSZW50IENQVSBCYW5kd2lkdGggZm9yIDMwIERheXMKc3VtbWFyeTogJ3t7bm93cmFwIGZyb219fSBwYXlzIHt7bm93cmFwIGxvYW5fcGF5bWVudH19IHRvIHJlbnQgQ1BVIGJhbmR3aWR0aCBmb3Ige3tub3dyYXAgcmVjZWl2ZXJ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7ZnJvbX19IHBheXMge3tsb2FuX3BheW1lbnR9fSB0byByZW50IENQVSBiYW5kd2lkdGggb24gYmVoYWxmIG9mIHt7cmVjZWl2ZXJ9fSBmb3IgYSBwZXJpb2Qgb2YgMzAgZGF5cy4KCnt7bG9hbl9wYXltZW50fX0gaXMgdGFrZW4gb3V0IG9mIHt7ZnJvbX194oCZcyBSRVggZnVuZC4gVGhlIG1hcmtldCBwcmljZSBkZXRlcm1pbmVzIHRoZSBudW1iZXIgb2YgdG9rZW5zIHRvIGJlIHN0YWtlZCB0byB7e3JlY2VpdmVyfX3igJlzIENQVSByZXNvdXJjZXMuIEluIGFkZGl0aW9uLCB7e2Zyb219fSBwcm92aWRlcyB7e2xvYW5fZnVuZH19LCB3aGljaCBpcyBhbHNvIHRha2VuIG91dCBvZiB7e2Zyb219feKAmXMgUkVYIGZ1bmQsIHRvIGJlIHVzZWQgZm9yIGF1dG9tYXRpYyByZW5ld2FsIG9mIHRoZSBsb2FuLgoKQXQgZXhwaXJhdGlvbiwgaWYgdGhlIGxvYW4gaGFzIGxlc3MgZnVuZHMgdGhhbiB7e2xvYW5fcGF5bWVudH19LCBpdCBpcyBjbG9zZWQgYW5kIGxlbnQgdG9rZW5zIHRoYXQgaGF2ZSBiZWVuIHN0YWtlZCBhcmUgdGFrZW4gb3V0IG9mIHt7cmVjZWl2ZXJ9feKAmXMgQ1BVIGJhbmR3aWR0aC4gT3RoZXJ3aXNlLCBpdCBpcyByZW5ld2VkIGF0IHRoZSBtYXJrZXQgcHJpY2UgYXQgdGhlIHRpbWUgb2YgcmVuZXdhbCwgdGhhdCBpcywgdGhlIG51bWJlciBvZiBzdGFrZWQgdG9rZW5zIGlzIHJlY2FsY3VsYXRlZCBhbmQge3tyZWNlaXZlcn194oCZcyBDUFUgYmFuZHdpZHRoIGlzIHVwZGF0ZWQgYWNjb3JkaW5nbHkuIHt7ZnJvbX19IGNhbiBmdW5kIG9yIGRlZnVuZCBhIGxvYW4gYXQgYW55IHRpbWUgYmVmb3JlIGV4cGlyYXRpb24uIFdoZW4gdGhlIGxvYW4gaXMgY2xvc2VkLCB7e2Zyb219fSBpcyByZWZ1bmRlZCBhbnkgdG9rZW5zIHJlbWFpbmluZyBpbiB0aGUgbG9hbiBmdW5kLgAAACCrmae6B3JlbnRuZXToCS0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFJlbnQgTkVUIEJhbmR3aWR0aCBmb3IgMzAgRGF5cwpzdW1tYXJ5OiAne3tub3dyYXAgZnJvbX19IHBheXMge3tub3dyYXAgbG9hbl9wYXltZW50fX0gdG8gcmVudCBORVQgYmFuZHdpZHRoIGZvciB7e25vd3JhcCByZWNlaXZlcn19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKe3tmcm9tfX0gcGF5cyB7e2xvYW5fcGF5bWVudH19IHRvIHJlbnQgTkVUIGJhbmR3aWR0aCBvbiBiZWhhbGYgb2Yge3tyZWNlaXZlcn19IGZvciBhIHBlcmlvZCBvZiAzMCBkYXlzLgoKe3tsb2FuX3BheW1lbnR9fSBpcyB0YWtlbiBvdXQgb2Yge3tmcm9tfX3igJlzIFJFWCBmdW5kLiBUaGUgbWFya2V0IHByaWNlIGRldGVybWluZXMgdGhlIG51bWJlciBvZiB0b2tlbnMgdG8gYmUgc3Rha2VkIHRvIHt7cmVjZWl2ZXJ9feKAmXMgTkVUIHJlc291cmNlcyBmb3IgMzAgZGF5cy4gSW4gYWRkaXRpb24sIHt7ZnJvbX19IHByb3ZpZGVzIHt7bG9hbl9mdW5kfX0sIHdoaWNoIGlzIGFsc28gdGFrZW4gb3V0IG9mIHt7ZnJvbX194oCZcyBSRVggZnVuZCwgdG8gYmUgdXNlZCBmb3IgYXV0b21hdGljIHJlbmV3YWwgb2YgdGhlIGxvYW4uCgpBdCBleHBpcmF0aW9uLCBpZiB0aGUgbG9hbiBoYXMgbGVzcyBmdW5kcyB0aGFuIHt7bG9hbl9wYXltZW50fX0sIGl0IGlzIGNsb3NlZCBhbmQgbGVudCB0b2tlbnMgdGhhdCBoYXZlIGJlZW4gc3Rha2VkIGFyZSB0YWtlbiBvdXQgb2Yge3tyZWNlaXZlcn194oCZcyBORVQgYmFuZHdpZHRoLiBPdGhlcndpc2UsIGl0IGlzIHJlbmV3ZWQgYXQgdGhlIG1hcmtldCBwcmljZSBhdCB0aGUgdGltZSBvZiByZW5ld2FsLCB0aGF0IGlzLCB0aGUgbnVtYmVyIG9mIHN0YWtlZCB0b2tlbnMgaXMgcmVjYWxjdWxhdGVkIGFuZCB7e3JlY2VpdmVyfX3igJlzIE5FVCBiYW5kd2lkdGggaXMgdXBkYXRlZCBhY2NvcmRpbmdseS4ge3tmcm9tfX0gY2FuIGZ1bmQgb3IgZGVmdW5kIGEgbG9hbiBhdCBhbnkgdGltZSBiZWZvcmUgZXhwaXJhdGlvbi4gV2hlbiB0aGUgbG9hbiBpcyBjbG9zZWQsIHt7ZnJvbX19IGlzIHJlZnVuZGVkIGFueSB0b2tlbnMgcmVtYWluaW5nIGluIHRoZSBsb2FuIGZ1bmQuAAAAAKmuuroHcmV4ZXhlY6IDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogUGVyZm9ybSBSRVggTWFpbnRlbmFuY2UKc3VtbWFyeTogJ1Byb2Nlc3Mgc2VsbCBvcmRlcnMgYW5kIGV4cGlyZWQgbG9hbnMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgpQZXJmb3JtcyBSRVggbWFpbnRlbmFuY2UgYnkgcHJvY2Vzc2luZyBhIG1heGltdW0gb2Yge3ttYXh9fSBSRVggc2VsbCBvcmRlcnMgYW5kIGV4cGlyZWQgbG9hbnMuIEFueSBhY2NvdW50IGNhbiBleGVjdXRlIHRoaXMgYWN0aW9uLgCuQjrRW7e8C3JtdnByb2R1Y2VyggUtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBGb3JjaWJseSBVbnJlZ2lzdGVyIGEgQmxvY2sgUHJvZHVjZXIgQ2FuZGlkYXRlCnN1bW1hcnk6ICd7e25vd3JhcCBwcm9kdWNlcn19IGlzIHVucmVnaXN0ZXJlZCBhcyBhIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FkbWluLnBuZyM5YmYxY2VjNjY0ODYzYmQ2YWFhYzBmODE0YjIzNWY4Nzk5ZmIwMmM4NTBlOWFhNWRhMzRlOGEwMDRiZDY1MThlCi0tLQoKe3skYWN0aW9uLmFjY291bnR9fSB1bnJlZ2lzdGVycyB7e3Byb2R1Y2VyfX0gYXMgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhdGUuIHt7cHJvZHVjZXJ9fSBhY2NvdW50IHdpbGwgcmV0YWluIGl0cyB2b3RlcyBhbmQgdGhvc2Ugdm90ZXMgY2FuIGNoYW5nZSBiYXNlZCBvbiB2b3RlciBzdGFrZSBjaGFuZ2VzIG9yIHZvdGVzIHJlbW92ZWQgZnJvbSB7e3Byb2R1Y2VyfX0uIEhvd2V2ZXIgbmV3IHZvdGVycyB3aWxsIG5vdCBiZSBhYmxlIHRvIHZvdGUgZm9yIHt7cHJvZHVjZXJ9fSB3aGlsZSBpdCByZW1haW5zIHVucmVnaXN0ZXJlZC4AAABAmhujwgdzZWxscmFtxQMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBTZWxsIFJBTSBGcm9tIEFjY291bnQKc3VtbWFyeTogJ1NlbGwgdW51c2VkIFJBTSBmcm9tIHt7bm93cmFwIGFjY291bnR9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3Jlc291cmNlLnBuZyMzODMwZjFjZThjYjA3Zjc3NTdkYmNmMzgzYjFlYzFiMTE5MTRhYzM0YTFmOWQ4YjA2NWYwNzYwMGZhOWRhYzE5Ci0tLQoKU2VsbCB7e2J5dGVzfX0gYnl0ZXMgb2YgdW51c2VkIFJBTSBmcm9tIGFjY291bnQge3thY2NvdW50fX0gYXQgbWFya2V0IHByaWNlLiBUaGlzIHRyYW5zYWN0aW9uIHdpbGwgaW5jdXIgYSAwLjUlIGZlZSBvbiB0aGUgcHJvY2VlZHMgd2hpY2ggZGVwZW5kIG9uIG1hcmtldCByYXRlcy4AAACgqxujwgdzZWxscmV4qQotLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBTZWxsIFJFWCBUb2tlbnMgaW4gRXhjaGFuZ2UgZm9yIEVPUwpzdW1tYXJ5OiAne3tub3dyYXAgZnJvbX19IHNlbGxzIHt7bm93cmFwIHJleH19IHRva2VucycKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7ZnJvbX19IGluaXRpYXRlcyBhIHNlbGwgb3JkZXIgdG8gc2VsbCB7e3JleH19IHRva2VucyBhdCB0aGUgbWFya2V0IGV4Y2hhbmdlIHJhdGUgZHVyaW5nIHRoZSB0aW1lIGF0IHdoaWNoIHRoZSBvcmRlciBpcyB1bHRpbWF0ZWx5IGV4ZWN1dGVkLiBJZiB7e2Zyb219fSBhbHJlYWR5IGhhcyBhbiBvcGVuIHNlbGwgb3JkZXIgaW4gdGhlIHNlbGwgcXVldWUsIHt7cmV4fX0gd2lsbCBiZSBhZGRlZCB0byB0aGUgYW1vdW50IG9mIHRoZSBzZWxsIG9yZGVyIHdpdGhvdXQgY2hhbmdlIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2VsbCBvcmRlciB3aXRoaW4gdGhlIHF1ZXVlLiBPbmNlIHRoZSBzZWxsIG9yZGVyIGlzIGV4ZWN1dGVkLCBwcm9jZWVkcyBhcmUgYWRkZWQgdG8ge3tmcm9tfX3igJlzIFJFWCBmdW5kLCB0aGUgdmFsdWUgb2Ygc29sZCBSRVggdG9rZW5zIGlzIGRlZHVjdGVkIGZyb20ge3tmcm9tfX3igJlzIHZvdGUgc3Rha2UsIGFuZCB2b3RlcyBhcmUgdXBkYXRlZCBhY2NvcmRpbmdseS4KCkRlcGVuZGluZyBvbiB0aGUgbWFya2V0IGNvbmRpdGlvbnMsIGl0IG1heSBub3QgYmUgcG9zc2libGUgdG8gZmlsbCB0aGUgZW50aXJlIHNlbGwgb3JkZXIgaW1tZWRpYXRlbHkuIEluIHN1Y2ggYSBjYXNlLCB0aGUgc2VsbCBvcmRlciBpcyBhZGRlZCB0byB0aGUgYmFjayBvZiBhIHNlbGwgcXVldWUuIEEgc2VsbCBvcmRlciBhdCB0aGUgZnJvbnQgb2YgdGhlIHNlbGwgcXVldWUgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGV4ZWN1dGVkIHdoZW4gdGhlIG1hcmtldCBjb25kaXRpb25zIGFsbG93IGZvciB0aGUgZW50aXJlIG9yZGVyIHRvIGJlIGZpbGxlZC4gUmVnYXJkbGVzcyBvZiB0aGUgbWFya2V0IGNvbmRpdGlvbnMsIHRoZSBzeXN0ZW0gaXMgZGVzaWduZWQgdG8gZXhlY3V0ZSB0aGlzIHNlbGwgb3JkZXIgd2l0aGluIDMwIGRheXMuIHt7ZnJvbX19IGNhbiBjYW5jZWwgdGhlIG9yZGVyIGF0IGFueSB0aW1lIGJlZm9yZSBpdCBpcyBmaWxsZWQgdXNpbmcgdGhlIGNuY2xyZXhvcmRlciBhY3Rpb24uAAAAALhjssIGc2V0YWJp8wItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBEZXBsb3kgQ29udHJhY3QgQUJJCnN1bW1hcnk6ICdEZXBsb3kgY29udHJhY3QgQUJJIG9uIGFjY291bnQge3tub3dyYXAgYWNjb3VudH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCkRlcGxveSB0aGUgQUJJIGZpbGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb250cmFjdCBvbiBhY2NvdW50IHt7YWNjb3VudH19LgCArigjZLLCCnNldGFjY3RjcHWeBi0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IEV4cGxpY2l0bHkgTWFuYWdlIHRoZSBDUFUgUXVvdGEgb2YgQWNjb3VudApzdW1tYXJ5OiAnRXhwbGljaXRseSBtYW5hZ2UgdGhlIENQVSBiYW5kd2lkdGggcXVvdGEgb2YgYWNjb3VudCB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7I2lmX2hhc192YWx1ZSBjcHVfd2VpZ2h0fX0KRXhwbGljaXRseSBtYW5hZ2UgdGhlIENQVSBiYW5kd2lkdGggcXVvdGEgb2YgYWNjb3VudCB7e2FjY291bnR9fSBieSBwaW5uaW5nIGl0IHRvIGEgd2VpZ2h0IG9mIHt7Y3B1X3dlaWdodH19LgoKe3thY2NvdW50fX0gY2FuIHN0YWtlIGFuZCB1bnN0YWtlLCBob3dldmVyLCBpdCB3aWxsIG5vdCBjaGFuZ2UgdGhlaXIgQ1BVIGJhbmR3aWR0aCBxdW90YSBhcyBsb25nIGFzIGl0IHJlbWFpbnMgcGlubmVkLgp7e2Vsc2V9fQpVbnBpbiB0aGUgQ1BVIGJhbmR3aWR0aCBxdW90YSBvZiBhY2NvdW50IHt7YWNjb3VudH19LiBUaGUgQ1BVIGJhbmR3aWR0aCBxdW90YSBvZiB7e2FjY291bnR9fSB3aWxsIGJlIGRyaXZlbiBieSB0aGUgY3VycmVudCB0b2tlbnMgc3Rha2VkIGZvciBDUFUgYmFuZHdpZHRoIGJ5IHt7YWNjb3VudH19Lgp7ey9pZl9oYXNfdmFsdWV9fQBAVjMjZLLCCnNldGFjY3RuZXSiBi0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IEV4cGxpY2l0bHkgTWFuYWdlIHRoZSBORVQgUXVvdGEgb2YgQWNjb3VudApzdW1tYXJ5OiAnRXhwbGljaXRseSBtYW5hZ2UgdGhlIE5FVCBiYW5kd2lkdGggcXVvdGEgb2YgYWNjb3VudCB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7I2lmX2hhc192YWx1ZSBuZXRfd2VpZ2h0fX0KRXhwbGljaXRseSBtYW5hZ2UgdGhlIG5ldHdvcmsgYmFuZHdpZHRoIHF1b3RhIG9mIGFjY291bnQge3thY2NvdW50fX0gYnkgcGlubmluZyBpdCB0byBhIHdlaWdodCBvZiB7e25ldF93ZWlnaHR9fS4KCnt7YWNjb3VudH19IGNhbiBzdGFrZSBhbmQgdW5zdGFrZSwgaG93ZXZlciwgaXQgd2lsbCBub3QgY2hhbmdlIHRoZWlyIE5FVCBiYW5kd2lkdGggcXVvdGEgYXMgbG9uZyBhcyBpdCByZW1haW5zIHBpbm5lZC4Ke3tlbHNlfX0KVW5waW4gdGhlIE5FVCBiYW5kd2lkdGggcXVvdGEgb2YgYWNjb3VudCB7e2FjY291bnR9fS4gVGhlIE5FVCBiYW5kd2lkdGggcXVvdGEgb2Yge3thY2NvdW50fX0gd2lsbCBiZSBkcml2ZW4gYnkgdGhlIGN1cnJlbnQgdG9rZW5zIHN0YWtlZCBmb3IgTkVUIGJhbmR3aWR0aCBieSB7e2FjY291bnR9fS4Ke3svaWZfaGFzX3ZhbHVlfX0AgDQ3I2SywgpzZXRhY2N0cmFt0AUtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBFeHBsaWNpdGx5IE1hbmFnZSB0aGUgUkFNIFF1b3RhIG9mIEFjY291bnQKc3VtbWFyeTogJ0V4cGxpY2l0bHkgbWFuYWdlIHRoZSBSQU0gcXVvdGEgb2YgYWNjb3VudCB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7I2lmX2hhc192YWx1ZSByYW1fYnl0ZXN9fQpFeHBsaWNpdGx5IG1hbmFnZSB0aGUgUkFNIHF1b3RhIG9mIGFjY291bnQge3thY2NvdW50fX0gYnkgcGlubmluZyBpdCB0byB7e3JhbV9ieXRlc319IGJ5dGVzLgoKe3thY2NvdW50fX0gY2FuIGJ1eSBhbmQgc2VsbCBSQU0sIGhvd2V2ZXIsIGl0IHdpbGwgbm90IGNoYW5nZSB0aGVpciBSQU0gcXVvdGEgYXMgbG9uZyBhcyBpdCByZW1haW5zIHBpbm5lZC4Ke3tlbHNlfX0KVW5waW4gdGhlIFJBTSBxdW90YSBvZiBhY2NvdW50IHt7YWNjb3VudH19LiBUaGUgUkFNIHF1b3RhIG9mIHt7YWNjb3VudH19IHdpbGwgYmUgZHJpdmVuIGJ5IHRoZSBjdXJyZW50IFJBTSBob2xkaW5ncyBvZiB7e2FjY291bnR9fS4Ke3svaWZfaGFzX3ZhbHVlfX0AAM5OumiywgpzZXRhbGltaXRz9gMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBBZGp1c3QgUmVzb3VyY2UgTGltaXRzIG9mIEFjY291bnQKc3VtbWFyeTogJ0FkanVzdCByZXNvdXJjZSBsaW1pdHMgb2YgYWNjb3VudCB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gdXBkYXRlcyB7e2FjY291bnR9feKAmXMgcmVzb3VyY2UgbGltaXRzIHRvIGhhdmUgYSBSQU0gcXVvdGEgb2Yge3tyYW1fYnl0ZXN9fSBieXRlcywgYSBORVQgYmFuZHdpZHRoIHF1b3RhIG9mIHt7bmV0X3dlaWdodH19IGFuZCBhIENQVSBiYW5kd2lkdGggcXVvdGEgb2Yge3tjcHVfd2VpZ2h0fX0uAAAAQCWKssIHc2V0Y29kZeYCLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogRGVwbG95IENvbnRyYWN0IENvZGUKc3VtbWFyeTogJ0RlcGxveSBjb250cmFjdCBjb2RlIG9uIGFjY291bnQge3tub3dyYXAgYWNjb3VudH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCkRlcGxveSBjb21waWxlZCBjb250cmFjdCBjb2RlIHRvIHRoZSBhY2NvdW50IHt7YWNjb3VudH19LjCpyyau6bLCDHNldGluZmxhdGlvbusELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogU2V0IEluZmxhdGlvbiBQYXJhbWV0ZXJzCnN1bW1hcnk6ICdTZXQgaW5mbGF0aW9uIHBhcmFtZXRlcnMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gc2V0cyB0aGUgaW5mbGF0aW9uIHBhcmFtZXRlcnMgYXMgZm9sbG93czoKCiogQW5udWFsIGluZmxhdGlvbiByYXRlIChpbiB1bml0cyBvZiBhIGh1bmRyZWR0aCBvZiBhIHBlcmNlbnQpOiB7e2FubnVhbF9yYXRlfX0KKiBGcmFjdGlvbiBvZiBpbmZsYXRpb24gdXNlZCB0byByZXdhcmQgYmxvY2sgcHJvZHVjZXJzOiAxMDAwMC97e2luZmxhdGlvbl9wYXlfZmFjdG9yfX0KKiBGcmFjdGlvbiBvZiBibG9jayBwcm9kdWNlciByZXdhcmRzIHRvIGJlIGRpc3RyaWJ1dGVkIHByb3BvcnRpb25hbCB0byBibG9ja3MgcHJvZHVjZWQ6IDEwMDAwL3t7dm90ZXBheV9mYWN0b3J9fQAAwNJcU7PCCXNldHBhcmFtc9ACLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogU2V0IFN5c3RlbSBQYXJhbWV0ZXJzCnN1bW1hcnk6ICdTZXQgU3lzdGVtIFBhcmFtZXRlcnMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gc2V0cyBzeXN0ZW0gcGFyYW1ldGVycyB0bzoKe3t0b19qc29uIHBhcmFtc319AAAAYLtbs8IHc2V0cHJpdo0ELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogTWFrZSBhbiBBY2NvdW50IFByaXZpbGVnZWQgb3IgVW5wcml2aWxlZ2VkCnN1bW1hcnk6ICd7eyNpZiBpc19wcml2fX1NYWtlIHt7bm93cmFwIGFjY291bnR9fSBwcml2aWxlZ2Vke3tlbHNlfX1SZW1vdmUgcHJpdmlsZWdlZCBzdGF0dXMgb2Yge3tub3dyYXAgYWNjb3VudH19e3svaWZ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FkbWluLnBuZyM5YmYxY2VjNjY0ODYzYmQ2YWFhYzBmODE0YjIzNWY4Nzk5ZmIwMmM4NTBlOWFhNWRhMzRlOGEwMDRiZDY1MThlCi0tLQoKe3sjaWYgaXNfcHJpdn19Cnt7JGFjdGlvbi5hY2NvdW50fX0gbWFrZXMge3thY2NvdW50fX0gcHJpdmlsZWdlZC4Ke3tlbHNlfX0Ke3skYWN0aW9uLmFjY291bnR9fSByZW1vdmVzIHByaXZpbGVnZWQgc3RhdHVzIG9mIHt7YWNjb3VudH19Lgp7ey9pZn19AAAAAEhzs8IGc2V0cmFt5gItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDb25maWd1cmUgdGhlIEF2YWlsYWJsZSBSQU0Kc3VtbWFyeTogJ0NvbmZpZ3VyZSB0aGUgYXZhaWxhYmxlIFJBTScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FkbWluLnBuZyM5YmYxY2VjNjY0ODYzYmQ2YWFhYzBmODE0YjIzNWY4Nzk5ZmIwMmM4NTBlOWFhNWRhMzRlOGEwMDRiZDY1MThlCi0tLQoKe3skYWN0aW9uLmFjY291bnR9fSBjb25maWd1cmVzIHRoZSBhdmFpbGFibGUgUkFNIHRvIHt7bWF4X3JhbV9zaXplfX0gYnl0ZXMuAIDK5kpzs8IKc2V0cmFtcmF0ZYUDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogU2V0IHRoZSBSYXRlIG9mIEluY3JlYXNlIG9mIFJBTQpzdW1tYXJ5OiAnU2V0IHRoZSByYXRlIG9mIGluY3JlYXNlIG9mIFJBTSBwZXIgYmxvY2snCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gc2V0cyB0aGUgcmF0ZSBvZiBpbmNyZWFzZSBvZiBSQU0gdG8ge3tieXRlc19wZXJfYmxvY2t9fSBieXRlcy9ibG9jay4AAAAAdHWzwgZzZXRyZXi3Ay0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IEFkanVzdCBSRVggUG9vbCBWaXJ0dWFsIEJhbGFuY2UKc3VtbWFyeTogJ0FkanVzdCBSRVggUG9vbCBWaXJ0dWFsIEJhbGFuY2UnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gYWRqdXN0cyBSRVggbG9hbiByYXRlIGJ5IHNldHRpbmcgUkVYIHBvb2wgdmlydHVhbCBiYWxhbmNlIHRvIHt7YmFsYW5jZX19LiBObyB0b2tlbiB0cmFuc2ZlciBvciBpc3N1ZSBpcyBleGVjdXRlZCBpbiB0aGlzIGFjdGlvbi7Aj8qGqajS1Ax1bmRlbGVnYXRlYnehBy0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFVuc3Rha2UgVG9rZW5zIGZvciBORVQgYW5kL29yIENQVQpzdW1tYXJ5OiAnVW5zdGFrZSB0b2tlbnMgZm9yIE5FVCBhbmQvb3IgQ1BVIGZyb20ge3tub3dyYXAgcmVjZWl2ZXJ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3Jlc291cmNlLnBuZyMzODMwZjFjZThjYjA3Zjc3NTdkYmNmMzgzYjFlYzFiMTE5MTRhYzM0YTFmOWQ4YjA2NWYwNzYwMGZhOWRhYzE5Ci0tLQoKe3tmcm9tfX0gdW5zdGFrZXMgZnJvbSB7e3JlY2VpdmVyfX0ge3t1bnN0YWtlX25ldF9xdWFudGl0eX19IGZvciBORVQgYmFuZHdpZHRoIGFuZCB7e3Vuc3Rha2VfY3B1X3F1YW50aXR5fX0gZm9yIENQVSBiYW5kd2lkdGguCgpUaGUgc3VtIG9mIHRoZXNlIHR3byBxdWFudGl0aWVzIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSB2b3RlIHdlaWdodCBvZiB7e3JlY2VpdmVyfX0gYW5kIHdpbGwgYmUgbWFkZSBhdmFpbGFibGUgdG8ge3tmcm9tfX0gYWZ0ZXIgYW4gdW5pbnRlcnJ1cHRlZCAzIGRheSBwZXJpb2Qgd2l0aG91dCBmdXJ0aGVyIHVuc3Rha2luZyBieSB7e2Zyb219fS4gQWZ0ZXIgdGhlIHVuaW50ZXJydXB0ZWQgMyBkYXkgcGVyaW9kIHBhc3NlcywgdGhlIHN5c3RlbSB3aWxsIGF0dGVtcHQgdG8gYXV0b21hdGljYWxseSByZXR1cm4gdGhlIGZ1bmRzIHRvIHt7ZnJvbX194oCZcyByZWd1bGFyIHRva2VuIGJhbGFuY2UuIEhvd2V2ZXIsIHRoaXMgYXV0b21hdGljIHJlZnVuZCBtYXkgb2NjYXNpb25hbGx5IGZhaWwgd2hpY2ggd2lsbCB0aGVuIHJlcXVpcmUge3tmcm9tfX0gdG8gbWFudWFsbHkgY2xhaW0gdGhlIGZ1bmRzIHdpdGggdGhlIHJlZnVuZCBhY3Rpb24uAEDL2sDp4tQKdW5saW5rYXV0aJEFLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogVW5saW5rIEFjdGlvbiBmcm9tIFBlcm1pc3Npb24Kc3VtbWFyeTogJ3t7bm93cmFwIGFjY291bnR9fSB1bnNldHMgdGhlIG1pbmltdW0gcmVxdWlyZWQgcGVybWlzc2lvbiBmb3IgdGhlIHt7I2lmIHR5cGV9fXt7bm93cmFwIHR5cGV9fSBhY3Rpb24gb2YgdGhle3svaWZ9fSB7e25vd3JhcCBjb2RlfX0gY29udHJhY3QnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hY2NvdW50LnBuZyMzZDU1YTJmYzNhNWMyMGI0NTZmNTY1N2ZhZjY2NmJjMjVmZmQwNmY0ODM2YzVlODI1NmY3NDExNDliMGIyOTRmCi0tLQoKe3thY2NvdW50fX0gcmVtb3ZlcyB0aGUgYXNzb2NpYXRpb24gYmV0d2VlbiB0aGUge3sjaWYgdHlwZX19e3t0eXBlfX0gYWN0aW9uIG9mIHRoZXt7L2lmfX0ge3tjb2RlfX0gY29udHJhY3QgYW5kIGl0cyBtaW5pbXVtIHJlcXVpcmVkIHBlcm1pc3Npb24uCgp7eyNpZiB0eXBlfX17e2Vsc2V9fVRoaXMgd2lsbCBub3QgcmVtb3ZlIGFueSBsaW5rcyBleHBsaWNpdGx5IGFzc29jaWF0ZWQgdG8gc3BlY2lmaWMgYWN0aW9ucyBvZiB7e2NvZGV9fS57ey9pZn19AABI9Fam7tQJdW5yZWdwcm9k5QQtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBVbnJlZ2lzdGVyIGFzIGEgQmxvY2sgUHJvZHVjZXIgQ2FuZGlkYXRlCnN1bW1hcnk6ICd7e25vd3JhcCBwcm9kdWNlcn19IHVucmVnaXN0ZXJzIGFzIGEgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvdm90aW5nLnBuZyNkYjI4Y2QzZGI2ZTYyZDQ1MDlhZjM2NDRjZTdkMzc3MzI5NDgyYTE0YmI0YmZhY2EyYWE1ZjE0MDBkOGU4YTg0Ci0tLQoKe3twcm9kdWNlcn19IHVucmVnaXN0ZXJzIGFzIGEgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlLiB7e3Byb2R1Y2VyfX0gYWNjb3VudCB3aWxsIHJldGFpbiBpdHMgdm90ZXMgYW5kIHRob3NlIHZvdGVzIGNhbiBjaGFuZ2UgYmFzZWQgb24gdm90ZXIgc3Rha2UgY2hhbmdlcyBvciB2b3RlcyByZW1vdmVkIGZyb20ge3twcm9kdWNlcn19LiBIb3dldmVyIG5ldyB2b3RlcnMgd2lsbCBub3QgYmUgYWJsZSB0byB2b3RlIGZvciB7e3Byb2R1Y2VyfX0gd2hpbGUgaXQgcmVtYWlucyB1bnJlZ2lzdGVyZWQu0NWlWUGT8dQMdW5zdGFrZXRvcmV44wYtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBCdXkgUkVYIFRva2VucyBVc2luZyBTdGFrZWQgVG9rZW5zCnN1bW1hcnk6ICd7e25vd3JhcCBvd25lcn19IGJ1eXMgUkVYIHRva2VucyBpbiBleGNoYW5nZSBmb3IgdG9rZW5zIGN1cnJlbnRseSBzdGFrZWQgdG8gTkVUIGFuZC9vciBDUFUnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgp7e2Zyb21fbmV0fX0gYW5kIHt7ZnJvbV9jcHV9fSBhcmUgd2l0aGRyYXduIGZyb20ge3tyZWNlaXZlcn194oCZcyBORVQgYW5kIENQVSBiYW5kd2lkdGhzIHJlc3BlY3RpdmVseS4gVGhlc2UgZnVuZHMgYXJlIHVzZWQgdG8gcHVyY2hhc2UgUkVYIHRva2VucyBhdCB0aGUgY3VycmVudCBtYXJrZXQgZXhjaGFuZ2UgcmF0ZS4gSW4gb3JkZXIgZm9yIHRoZSBhY3Rpb24gdG8gc3VjY2VlZCwge3tvd25lcn19IG11c3QgaGF2ZSB2b3RlZCBmb3IgYSBwcm94eSBvciBhdCBsZWFzdCAyMSBibG9jayBwcm9kdWNlcnMuCgpBIHNlbGwgb3JkZXIgb2YgdGhlIHB1cmNoYXNlZCBhbW91bnQgY2FuIG9ubHkgYmUgaW5pdGlhdGVkIGFmdGVyIHdhaXRpbmcgZm9yIHRoZSBtYXR1cml0eSBwZXJpb2Qgb2YgNCB0byA1IGRheXMgdG8gcGFzcy4gRXZlbiB0aGVuLCBkZXBlbmRpbmcgb24gdGhlIG1hcmtldCBjb25kaXRpb25zLCB0aGUgaW5pdGlhdGVkIHNlbGwgb3JkZXIgbWF5IG5vdCBiZSBleGVjdXRlZCBpbW1lZGlhdGVseS4AQMvaqGxS1Qp1cGRhdGVhdXRo7QMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBNb2RpZnkgQWNjb3VudCBQZXJtaXNzaW9uCnN1bW1hcnk6ICdBZGQgb3IgdXBkYXRlIHRoZSB7e25vd3JhcCBwZXJtaXNzaW9ufX0gcGVybWlzc2lvbiBvZiB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hY2NvdW50LnBuZyMzZDU1YTJmYzNhNWMyMGI0NTZmNTY1N2ZhZjY2NmJjMjVmZmQwNmY0ODM2YzVlODI1NmY3NDExNDliMGIyOTRmCi0tLQoKTW9kaWZ5LCBhbmQgY3JlYXRlIGlmIG5lY2Vzc2FyeSwgdGhlIHt7cGVybWlzc2lvbn19IHBlcm1pc3Npb24gb2Yge3thY2NvdW50fX0gdG8gaGF2ZSBhIHBhcmVudCBwZXJtaXNzaW9uIG9mIHt7cGFyZW50fX0gYW5kIHRoZSBmb2xsb3dpbmcgYXV0aG9yaXR5Ogp7e3RvX2pzb24gYXV0aH19AADo6qpsUtUJdXBkYXRlcmV4gQMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBVcGRhdGUgUkVYIE93bmVyIFZvdGUgV2VpZ2h0CnN1bW1hcnk6ICdVcGRhdGUgdm90ZSB3ZWlnaHQgdG8gY3VycmVudCB2YWx1ZSBvZiBoZWxkIFJFWCB0b2tlbnMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgpVcGRhdGUgdm90ZSB3ZWlnaHQgb2Yge3tvd25lcn19IGFjY291bnQgdG8gY3VycmVudCB2YWx1ZSBvZiBoZWxkIFJFWCB0b2tlbnMuMKnDbqubU9UMdXBkdHJldmlzaW9uggMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBVcGRhdGUgU3lzdGVtIENvbnRyYWN0IFJldmlzaW9uIE51bWJlcgpzdW1tYXJ5OiAnVXBkYXRlIHN5c3RlbSBjb250cmFjdCByZXZpc2lvbiBudW1iZXInCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gYWR2YW5jZXMgdGhlIHN5c3RlbSBjb250cmFjdCByZXZpc2lvbiBudW1iZXIgdG8ge3tyZXZpc2lvbn19LnAV0oneqjLdDHZvdGVwcm9kdWNlcq0GLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogVm90ZSBmb3IgQmxvY2sgUHJvZHVjZXJzCnN1bW1hcnk6ICd7e25vd3JhcCB2b3Rlcn19IHZvdGVzIGZvciB7eyNpZiBwcm94eX19dGhlIHByb3h5IHt7bm93cmFwIHByb3h5fX17e2Vsc2V9fXVwIHRvIDMwIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZXN7ey9pZn19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvdm90aW5nLnBuZyNkYjI4Y2QzZGI2ZTYyZDQ1MDlhZjM2NDRjZTdkMzc3MzI5NDgyYTE0YmI0YmZhY2EyYWE1ZjE0MDBkOGU4YTg0Ci0tLQoKe3sjaWYgcHJveHl9fQp7e3ZvdGVyfX0gdm90ZXMgZm9yIHRoZSBwcm94eSB7e3Byb3h5fX0uCkF0IHRoZSB0aW1lIG9mIHZvdGluZyB0aGUgZnVsbCB3ZWlnaHQgb2Ygdm90ZXLigJlzIHN0YWtlZCAoQ1BVICsgTkVUKSB0b2tlbnMgd2lsbCBiZSBjYXN0IHRvd2FyZHMgZWFjaCBvZiB0aGUgcHJvZHVjZXJzIHZvdGVkIGJ5IHt7cHJveHl9fS4Ke3tlbHNlfX0Ke3t2b3Rlcn19IHZvdGVzIGZvciB0aGUgZm9sbG93aW5nIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZXM6Cgp7eyNlYWNoIHByb2R1Y2Vyc319CiAgKyB7e3RoaXN9fQp7ey9lYWNofX0KCkF0IHRoZSB0aW1lIG9mIHZvdGluZyB0aGUgZnVsbCB3ZWlnaHQgb2Ygdm90ZXLigJlzIHN0YWtlZCAoQ1BVICsgTkVUKSB0b2tlbnMgd2lsbCBiZSBjYXN0IHRvd2FyZHMgZWFjaCBvZiB0aGUgYWJvdmUgcHJvZHVjZXJzLgp7ey9pZn19AIDKJlWtMt0Kdm90ZXVwZGF0ZQAAAACALSSx4Qd3YXNtY2ZnAAAAANzc1LLjCHdpdGhkcmF3yQMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBXaXRoZHJhdyBmcm9tIFJFWCBGdW5kCnN1bW1hcnk6ICdXaXRoZHJhdyB7e25vd3JhcCBhbW91bnR9fSBmcm9tIHt7bm93cmFwIG93bmVyfX3igJlzIFJFWCBmdW5kIGJ5IHRyYW5zZmVycmluZyB0byB7e293bmVyfX3igJlzIGxpcXVpZCBiYWxhbmNlJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKV2l0aGRyYXdzIHt7YW1vdW50fX0gZnJvbSB7e293bmVyfX3igJlzIFJFWCBmdW5kIGFuZCB0cmFuc2ZlciB0aGVtIHRvIHt7b3duZXJ9feKAmXMgbGlxdWlkIGJhbGFuY2UuGgAAAKBh09wxA2k2NAAACGFiaV9oYXNoAABOUy91kzsDaTY0AAAKYmlkX3JlZnVuZAAAoGs6iGg8A2k2NAAAEWJsb2NrX2luZm9fcmVjb3JkAAAAYBoadUUDaTY0AAAIcmV4X2xvYW4AAAAgTXOiSgNpNjQAABNkZWxlZ2F0ZWRfYmFuZHdpZHRoAAAAAERzaGQDaTY0AAASZW9zaW9fZ2xvYmFsX3N0YXRlAAAAQERzaGQDaTY0AAATZW9zaW9fZ2xvYmFsX3N0YXRlMgAAAGBEc2hkA2k2NAAAE2Vvc2lvX2dsb2JhbF9zdGF0ZTMAAACARHNoZANpNjQAABNlb3Npb19nbG9iYWxfc3RhdGU0AAAAOLmjpJkDaTY0AAAIbmFtZV9iaWQAAABgGhqzmgNpNjQAAAhyZXhfbG9hbgCuSpeCqjmtA2k2NAAADXBvd2VydXBfb3JkZXIAVDYZg6o5rQNpNjQAAA1wb3dlcnVwX3N0YXRlAADAVyGd6K0DaTY0AAANcHJvZHVjZXJfaW5mbwCAwFchneitA2k2NAAADnByb2R1Y2VyX2luZm8yAADICl4jpbkDaTY0AAAOZXhjaGFuZ2Vfc3RhdGUAAAAAp6mXugNpNjQAAA5yZWZ1bmRfcmVxdWVzdAAAzgoifbK6A2k2NAAAEnJleF9yZXR1cm5fYnVja2V0cwAAAABEc7q6A2k2NAAAC3JleF9iYWxhbmNlAAAAIE29uroDaTY0AAAIcmV4X2Z1bmQAAAAgUlq7ugNpNjQAAAhyZXhfcG9vbAAAAEorbbu6A2k2NAAACXJleF9vcmRlcgBApLRmdbu6A2k2NAAAD3JleF9yZXR1cm5fcG9vbAAAAACrexXWA2k2NAAADnVzZXJfcmVzb3VyY2VzAAAAAOCrMt0DaTY0AAAKdm90ZXJfaW5mb8Aaalmb7KSLA2k2NAAAEWxpbWl0X2F1dGhfY2hhbmdlAg1Vc2VyQWdyZWVtZW507H8jIEVPUyBVc2VyIEFncmVlbWVudAoKIyMgRGVmaW5pdGlvbnMKCiBBbGwgY2FwaXRhbGl6ZWQsIGl0YWxpY2l6ZWQsIG9yIGlubGluZSBjb2RlIHRlcm1zIGluICpUaGUgRU9TIFVzZXIgQWdyZWVtZW50KiB3aWxsIGJlIGdpdmVuIHRoZSBzYW1lIGVmZmVjdCBhbmQgbWVhbmluZyBhcyBpbiAqRGVmaW5pdGlvbnMqLgoKKiBFT1MgVXNlciBBZ3JlZW1lbnQ6IFRoaXMgZG9jdW1lbnQgKCpFVUEqKQoKKiBDaGFpbiBJRDogYGNoYWluX2lkYOKAii3igIphY2EzNzZmMjA2YjhmYzI1YTZlZDQ0ZGJkYzY2NTQ3YzM2YzZjMzNlM2ExMTlmZmJlYWVmOTQzNjQyZjBlOTA2CgoqIFVzZXI6IEFueSBwZXJzb24gb3Igb3JnYW5pemF0aW9uIG9mIHBlcnNvbnMgd2hvIG1haW50YWluKHMpIGRpcmVjdCBvciBpbmRpcmVjdCBvd25lcnNoaXAgb2YgYW4gRU9TIGFjY291bnQsIG9yIEVPUy1iYXNlZCBwcm9wZXJ0eSBjb25uZWN0ZWQgdG8gYW4gRU9TIGFjY291bnQuCgoqIE93bmVyc2hpcDogRGlyZWN0IG9yIGluZGlyZWN0IGFjY2VzcyB0byBhbiBFT1MgYWNjb3VudCB0aHJvdWdoIG9uZSBvciBtb3JlIHZhbGlkIHBlcm1pc3Npb25zIGNoZWNrcy4gT3duZXJzaGlwIG1heSBiZSBwYXJ0aWFsbHkgc2hhcmVkIGJldHdlZW4gVXNlcnMgdGhyb3VnaCB0aGUgdXNlIG9mIG11bHRpLXNpZ25hdHVyZSBwZXJtaXNzaW9ucy4KCiogQmxvY2sgUHJvZHVjZXI6IFVzZXJzIHdobyBoYXZlIGNhbGxlZCBgcmVncHJvZHVjZXJgIGFuZCByZWNlaXZlIHJld2FyZHMgZnJvbSBlb3Npby52cGF5LgoKKiBgZW9zaW8ucHJvZHNgOiBBbiBFT1MgYWNjb3VudCB3aXRoIGEgZHluYW1pYyBwZXJtaXNzaW9ucyBzdHJ1Y3R1cmUgdGhhdCBjYW4gYXNzdW1lIHRoZSBwcml2aWxlZ2VzIG9mIHRoZSBgZW9zaW9gIGFjY291bnQgd2hlbiAxNS8yMSBCbG9jayBQcm9kdWNlcnMgYWdyZWUgdG8gZG8gc28uCgoqIE5ldHdvcmsgRnVuZHM6IFRva2VucyBjb250YWluZWQgd2l0aGluIHRoZSBmb2xsb3dpbmcgYWNjb3VudHM6IGBlb3Npby5uYW1lc2AsIGBlb3Npby5yYW1mZWVgLCBgZW9zaW8uc2F2aW5nYC4KCiogR292ZXJuaW5nIERvY3VtZW50czogKnJlZ3Byb2R1Y2VyKiBpcyBjb25zaWRlcmVkIGEgZ292ZXJuaW5nIGRvY3VtZW50LgoKKiBPbi1DaGFpbjogQW55IHRyYW5zYWN0aW9uLCBzbWFydCBjb250cmFjdCwgb3IgUmljYXJkaWFuIGNvbnRyYWN0IHdoaWNoIGlzIGxvY2F0ZWQgd2l0aGluIGEgYmxvY2sgdGhhdCBpcyBpcnJldmVyc2libGUgYW5kIGFwcGVuZGVkIHRvIHRoZSBFT1MgYmxvY2tjaGFpbiBgY2hhaW5faWRgLgoKKiBFT1MtYmFzZWQgUHJvcGVydHk6IEFueXRoaW5nIHRoYXQgcmVxdWlyZXMgYSB2YWxpZCBwZXJtaXNzaW9uIGluIG9yZGVyIHRvIGRpcmVjdGx5IG1hbmlwdWxhdGUsIGFsdGVyLCB0cmFuc2ZlciwgaW5mbHVlbmNlLCBvciBvdGhlcndpc2UgZWZmZWN0IG9uIHRoZSBFT1MgQmxvY2tjaGFpbgoKKiBDYWxsOiBUbyBzdWJtaXQgYW4gYWN0aW9uIHRvIHRoZSBFT1MgQmxvY2tjaGFpbiBgY2hhaW5faWRgLgoKKiBBdXRob3JpemF0aW9ucyAmIFBlcm1pc3Npb25zOiBQZXJtaXNzaW9ucyBhcmUgYXJiaXRyYXJ5IG5hbWVzIHVzZWQgdG8gZGVmaW5lIHRoZSByZXF1aXJlbWVudHMgZm9yIGEgdHJhbnNhY3Rpb24gc2VudCBvbiBiZWhhbGYgb2YgdGhhdCBwZXJtaXNzaW9uLiBQZXJtaXNzaW9ucyBjYW4gYmUgYXNzaWduZWQgZm9yIGF1dGhvcml0eSBvdmVyIHNwZWNpZmljIGNvbnRyYWN0IGFjdGlvbnMuCgoqIFJpY2FyZGlhbiBDb250cmFjdDogQSBjb250cmFjdCB0aGF0IHBsYWNlcyB0aGUgZGVmaW5pbmcgZWxlbWVudHMgb2YgYSBsZWdhbCBhZ3JlZW1lbnQgaW4gYSBmb3JtYXQgdGhhdCBjYW4gYmUgZXhwcmVzc2VkIGFuZCBleGVjdXRlZCBpbiBzb2Z0d2FyZS4KCiMjIEFydGljbGUgSSAt4oCKIFVzZXIgQWNrbm93bGVkZ2VtZW50IG9mIFJpc2tzCklmIFVzZXIgbG9zZXMgYWNjZXNzIHRvIHRoZWlyIEVPUyBhY2NvdW50IG9uIGBjaGFpbl9pZGAgYW5kIGhhcyBub3QgdGFrZW4gYXBwcm9wcmlhdGUgbWVhc3VyZXMgdG8gc2VjdXJlIGFjY2VzcyB0byB0aGVpciBFT1MgYWNjb3VudCBieSBvdGhlciBtZWFucywgdGhlIFVzZXIgYWNrbm93bGVkZ2VzIGFuZCBhZ3JlZXMgdGhhdCB0aGF0IEVPUyBhY2NvdW50IHdpbGwgYmVjb21lIGluYWNjZXNzaWJsZS4gVXNlcnMgYWNrbm93bGVkZ2UgdGhhdCB0aGUgVXNlciBoYXMgYW4gYWRlcXVhdGUgdW5kZXJzdGFuZGluZyBvZiB0aGUgcmlza3MsIHVzYWdlIGFuZCBpbnRyaWNhY2llcyBvZiBjcnlwdG9ncmFwaGljIHRva2VucyBhbmQgYmxvY2tjaGFpbi1iYXNlZCBzb2Z0d2FyZS4gVGhlIFVzZXIgYWNrbm93bGVkZ2VzIGFuZCBhZ3JlZXMgdGhhdCB0aGUgVXNlciBpcyB1c2luZyB0aGUgRU9TIGJsb2NrY2hhaW4gYXQgdGhlaXIgc29sZSByaXNrLgoKIyMgQXJ0aWNsZSBJSeKAii3igIpTcGVjaWFsIFVzZXIgVHlwZXMKVXNlcnMgd2hvIGNhbGwgYHJlZ3Byb2R1Y2VyYCBhZ3JlZSB0bywgYW5kIGFyZSBib3VuZCBieSwgdGhlICpyZWdwcm9kdWNlciogUmljYXJkaWFuIENvbnRyYWN0LgoKIyMgQXJ0aWNsZSBJSUnigIot4oCKQ29uc2VudCBvZiB0aGUgRVVBClRoZSBuYXR1cmUgb2YgdGhlICpFT1MgVXNlciBBZ3JlZW1lbnQqIGlzIHN1Y2ggdGhhdCBpdCBzZXJ2ZXMgYXMgYSBkZXNjcmlwdGlvbiBvZiB0aGUgY3VycmVudCBFT1MgTWFpbm5ldCBnb3Zlcm5hbmNlIGZ1bmN0aW9ucyB0aGF0IGFyZSBpbiBwbGFjZS4gVGhlc2UgZnVuY3Rpb25zLCBlbmZvcmNlZCBieSBjb2RlLCBkbyBub3QgcmVxdWlyZSB0aGUgY29uc2VudCBvZiBVc2VycyBhcyB0aGVzZSBmdW5jdGlvbnMgYXJlIGluaGVyZW50IGFuZCBzeXN0ZW1pYyB0byB0aGUgRU9TIE1haW5uZXQgaXRzZWxmLgoKIyMgQXJ0aWNsZSBJVuKAii3igIpHb3Zlcm5pbmcgRG9jdW1lbnRzCkFueSBtb2RpZmljYXRpb25zIHRvIHRoZSAqRVVBKiBhbmQgKmdvdmVybmluZyBkb2N1bWVudHMqIG1heSBiZSBtYWRlIGJ5IGBlb3Npby5wcm9kc2AuIEl0IGlzIGFkbW9uaXNoZWQgdGhhdCBhIHN0YXRlbWVudCBiZSBjcmFmdGVkIGFuZCBpc3N1ZWQgdGhyb3VnaCBgZW9zaW8ucHJvZHNgIHZpYSBlb3Npby5mb3J1bSByZWZlcmVuZHVtIGNvbnRyYWN0IGRlc2NyaWJpbmcgc3VjaCBhIG1vZGlmaWNhdGlvbiBpbiBhZHZhbmNlLgoKIyMgQXJ0aWNsZSBW4oCKLeKAik5hdGl2ZSBVbml0IG9mIFZhbHVlClRoZSBuYXRpdmUgdW5pdCBvZiB2YWx1ZSBvbiBFT1MgY2hhaW5faWQgc2hhbGwgYmUgdGhlIEVPUyB0b2tlbiBhcyBkZWZpbmVkIGFuZCBjcmVhdGVkIGJ5IHRoZSBgZW9zaW8udG9rZW5gIHNtYXJ0IGNvbnRyYWN0LgoKIyMgQXJ0aWNsZSBWSeKAii3igIpNYWludGFpbmluZyB0aGUgRU9TIGJsb2NrY2hhaW4KYGVvc2lvLnByb2RzYCB3aWxsIG1haW50YWluIHRoZSBhY3RpdmUgYmxvY2tjaGFpbiBjb2RlYmFzZSB3aGljaCBpbmNsdWRlcywgYnV0IGlzIG5vdCBsaW1pdGVkIHRvLCB0aGUgaW1wbGVtZW50YXRpb24gb2YgYWxsIG1vZGlmaWNhdGlvbnMgb2YgYWxsIGZlYXR1cmVzLCBvcHRpbWl6YXRpb25zLCBhbmQgdXBncmFkZXM6IHByZXNlbnQgYW5kIGZ1dHVyZS4KCiMjIEFydGljbGUgVklJ4oCKLeKAik5ldHdvcmsgRnVuZHMKSXQgaXMgYWRtb25pc2hlZCB0aGF0IGFueSBhbHRlcmluZyBvZiB0aGUgc3RhdGUgb2YgYW55IHRva2VucyBjb250YWluZWQgd2l0aGluIG5ldHdvcmsgZnVuZCBhY2NvdW50cywgb3IgYWx0ZXJpbmcgYW55IHByZS1leGlzdGluZyBjb2RlIHRoYXQgZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBnb3Zlcm5zIHRoZSBhbGxvY2F0aW9uLCBmdWxmaWxsbWVudCwgb3IgZGlzdHJpYnV0aW9uIG9mIGFueSAqbmV0d29yayBmdW5kcyogYmUgcHJlY2VkZWQgYnkgYSBzdGF0ZW1lbnQgY3JhZnRlZCBhbmQgaXNzdWVkIGJ5IGBlb3Npby5wcm9kc2AgdG8gdGhlICplb3Npby5mb3J1bSogcmVmZXJlbmR1bSBzeXN0ZW0gY29udHJhY3QgZGVzY3JpYmluZyB0aGUgZWZmZWN0IGluIGFkdmFuY2UuCgojIyBBcnRpY2xlIFZJSUnigIot4oCKRnJlZWRvbSBvZiBBY2NvdW50IENyZWF0aW9uCkFueSBjdXJyZW50IG9yIGZ1dHVyZSBVc2VyIGlzIGFibGUgdG8gY3JlYXRlIGFuIEVPUyBBY2NvdW50IHdpdGhvdXQgdGhlIHBlcm1pc3Npb24gYnkgYW55IG90aGVyIFVzZXIuIGBlb3Npby5wcm9kc2AgbWF5IG5ldmVyIGFmZmVjdCBhbiBFT1MgVXNlciBBY2NvdW50KHMpIHdpdGhvdXQgdmFsaWQgcGVybWlzc2lvbihzKSB3aGljaCBoYXZlIGJlZW4gc2hhcmVkIHdpdGggYGVvc2lvLnByb2RzYCBieSBhbiBFT1MgYWNjb3VudC4gYGVvc2lvLnByb2RzYCBtYXkgY2hhcmdlIGEgZmVlIGZvciBhbnkgYWN0aW9ucyB0aGF0IGFyZSByZXF1ZXN0ZWQgYnkgb3RoZXIgVXNlcnMgcGVydGFpbmluZyB0byBhbiBFT1MgYWNjb3VudCB3aGVyZSBwZXJtaXNzaW9ucyBhcmUgc2hhcmVkLgoKIyMgQXJ0aWNsZSBJWOKAii3igIpObyBGaWR1Y2lhcnkKTm8gVXNlciBzaGFsbCBoYXZlIGEgZmlkdWNpYXJ5IHB1cnBvc2UgdG8gc3VwcG9ydCB0aGUgdmFsdWUgb2YgdGhlIEVPUyB0b2tlbi4gTm8gVXNlciBjYW4gYXV0aG9yaXplIGFueW9uZSB0byBob2xkIGFzc2V0cywgYm9ycm93LCBzcGVhaywgY29udHJhY3Qgb24gYmVoYWxmIG9mIG90aGVyIEVPUyBVc2VycyBvciB0aGUgRU9TIGJsb2NrY2hhaW4gYGNoYWluX2lkYCBjb2xsZWN0aXZlbHkuIFRoaXMgRU9TIGJsb2NrY2hhaW4gc2hhbGwgaGF2ZSBubyBvd25lcnMsIG1hbmFnZXJzLCBvciBmaWR1Y2lhcmllcy4KCiMjIEFydGljbGUgWOKAii3igIpVc2VyIFNlY3VyaXR5CkFsbCBpdGVtcyBwZXJ0YWluaW5nIHRvIHBlcnNvbmFsIGFjY291bnQgc2VjdXJpdHksIGluY2x1ZGluZyBidXQgbm90IGxpbWl0ZWQgdG8gdGhlIHNhZmVrZWVwaW5nIG9mIHByaXZhdGUga2V5cywgaXMgc29sZWx5IHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgVXNlciB0byBzZWN1cmUuCgojIyBBcnRpY2xlIFhJIC0gYGVvc2lvLnByb2RzYCBMaW1pdGVkIExpYWJpbGl0eQpUaGUgVXNlciBhY2tub3dsZWRnZXMgYW5kIGFncmVlcyB0aGF0LCB0byB0aGUgZnVsbGVzdCBleHRlbnQgcGVybWl0dGVkIGJ5IGFueSBhcHBsaWNhYmxlIGxhdywgdGhpcyBkaXNjbGFpbWVyIG9mIGxpYWJpbGl0eSBhcHBsaWVzIHRvIGFueSBhbmQgYWxsIGRhbWFnZXMgb3IgaW5qdXJ5IHdoYXRzb2V2ZXIgY2F1c2VkIGJ5IG9yIHJlbGF0ZWQgdG8gcmlza3Mgb2YsIHVzZSBvZiwgb3IgaW5hYmlsaXR5IHRvIHVzZSwgdGhlIEVPUyB0b2tlbiBvciB0aGUgRU9TIGJsb2NrY2hhaW4gYGNoYWluX2lkYCB1bmRlciBhbnkgY2F1c2Ugb2YgYWN0aW9uIHdoYXRzb2V2ZXIgb2YgYW55IGtpbmQgaW4gYW55IGp1cmlzZGljdGlvbiwgaW5jbHVkaW5nLCB3aXRob3V0IGxpbWl0YXRpb24sIGFjdGlvbnMgZm9yIGJyZWFjaCBvZiB3YXJyYW50eSwgYnJlYWNoIG9mIGNvbnRyYWN0IG9yIHRvcnQgKGluY2x1ZGluZyBuZWdsaWdlbmNlKSBhbmQgdGhhdCBgZW9zaW8ucHJvZHNgLCBub3IgdGhlIGluZGl2aWR1YWwgcGVybWlzc2lvbnMgdGhhdCBvcGVyYXRlIGl0LCBzaGFsbCBub3QgYmUgbGlhYmxlIGZvciBhbnkgaW5kaXJlY3QsIGluY2lkZW50YWwsIHNwZWNpYWwsIGV4ZW1wbGFyeSBvciBjb25zZXF1ZW50aWFsIGRhbWFnZXMsIGluY2x1ZGluZyBmb3IgbG9zcyBvZiBwcm9maXRzLCBnb29kd2lsbCBvciBkYXRhLgoKIyBFT1Mg7IKs7Jqp7J6QIOuPmeydmOyEnAoKIyMg7KCV7J2YCgpFT1Mg7IKs7Jqp7J6QIOuPmeydmOyEnOydmCDrqqjrk6Ag64yA66y47J6QLCDquLDsmrjsnoQg6ry0LCDrmJDripQg7J2465287J24IOy9lOuTnCDsmqnslrTripQg7KCV7J2Y7JeQ7ISc7JmAIOuPmeydvO2VnCDtmqjqs7zsmYAg7J2Y66+46rCAIOu2gOyXrOuQqeuLiOuLpC4KCi0gICBFT1Mg7IKs7Jqp7J6QIOuPmeydmOyEnDog67O4IOusuOyEnCAoRVVBKQotICAg7LK07J24IElEOiBjaGFpbl9pZOKAii0tLeKAimFjYTM3NmYyMDZiOGZjMjVhNmVkNDRkYmRjNjY1NDdjMzZjNmMzM2UzYTExOWZmYmVhZWY5NDM2NDJmMGU5MDYKLSAgIOyCrOyaqeyekDogRU9TIOqzhOygleydhCDsp4HsoJEg65iQ64qUIOqwhOygkeyggeycvOuhnCDshozsnKDtlZjqsbDrgpggRU9TIOqzhOygleyXkCDsl7DqsrDrkJwgRU9TIOq4sOuwmCDsho3shLHsnYQg7Jyg7KeA7ZWY6rGw64KYIOq0gOumrO2VmOuKlCDsgqzrnowsIOyhsOyngSwg65iQ64qUIOyhsOyngeydmCDrqqjrk6Ag7IKs656MLgotICAg7IaM7Jyg6raMOiDtlZjrgpgg7J207IOB7J2YIOycoO2aqO2VnCDsgqzsmqnqtoztlZwg7ZmV7J247J2EIO2Gte2VtCBFT1Mg6rOE7KCV7JeQIOyngeygkSDrmJDripQg6rCE7KCR7KCB7Jy866GcIOygkeq3vO2VqeuLiOuLpC4g7IaM7Jyg6raM7J2AIOuLpOykkSDshJzrqoXqtoztlZzsnYQg7IKs7Jqp7ZWY7JesIOyCrOyaqeyekOqwhOyXkCDrtoDrtoTsoIHsnLzroZwg6rO17JygIOuQoCDsiJgg7J6I7Iq164uI64ukLgotICAg67iU66GdIO2UhOuhnOuTgOyEnDogcmVncHJvZHVjZXLrpbwg7Iuk7ZaJ7ZWY6rOgIGVvc2lvLnZwYXnroZzrtoDthLAg67O07IOB7J2EIOuwm+uKlCDsgqzsmqnsnpAuCi0gICBlb3Npby5wcm9kczogMTUvMjEg67iU66GdIO2UhOuhnOuTgOyEnOuTpOydtCDrj5nsnZgg7ZWgIOuVjCBlb3NpbyDqs4TsoJXsnZgg6raM7ZWc7J2EIOqwgOyniCDsiJgg7J6I64qUIOuPmeyggSDqtoztlZwg6rWs7KGw66W8IOqwgOynhCBFT1Mg6rOE7KCVLgotICAg64Sk7Yq47JuM7YGsIOyekOq4iDog64uk7J2MIOqzhOygleyXkCDtj6ztlagg65CcIO2GoO2BsDogZW9zaW8ubmFtZXMsIGVvc2lvLnJhbWZlZSwgZW9zaW8uc2F2aW5nLgotICAg6rSA66asIOusuOyEnDogcmVncHJvZHVjZXLripQg6rSA66asIOusuOyEnOuhnCDqsITso7zrkKnri4jri6QuCi0gICDsmKjssrTsnbg6IEVPUyDruJTroZ3ssrTsnbggY2hhaW5faWTsl5Ag67mE6rCA7Jet7KCB7J2066mwIOy2lOqwgCDtlaAg7IiYIOyeiOuKlCDruJTroZ0g64K07JeQIOychOy5mO2VnCDrqqjrk6Ag6rGw656YLCDsiqTrp4jtirgg6rOE7JW9IOuYkOuKlCDrpqzsubTrpbTrlJTslYgg6rOE7JW9LgotICAgRU9TIOq4sOuwmCDsho3shLE6IEVPUyDruJTroZ3ssrTsnbjsnYQg7KeB7KCRIOyhsOyekSwg67OA6rK9LCDsoITshqEsIOyYge2WpSDrmJDripQg64us66asIOyggeyaqe2VmOq4sCDsnITtlbQg7Jyg7Zqo7ZWcIOyCrOyaqSDqtoztlZzsnbQg7ZWE7JqU7ZWcIOuqqOuToCDqsoMKLSAgIOy9nDogRU9TIOu4lOuhneyytOyduCBjaGFpbl9pZOyXkCDsnpHsl4XsnYQg7Iug7LKt7ZWY64qUIOqygy4KLSAgIO2XiOqwgCDrsI8g6raM7ZWcOiAn7ZeI6rCAJ+uKlCDtlbTri7kg6raM7ZWc7J2EIOuMgOyLoO2VmOyXrCDsoITshqHrkJjripQg7Yq4656c7J6t7IWY7J2YIOyalOq1rOyCrO2VreydhCDsoJXsnZjtlZjripQg642wIOyCrOyaqeuQqeuLiOuLpC4gJ+q2jO2VnCfsnYAg7Yq57KCVIOqzhOyVvSDsobDsuZjsl5Ag64yA7ZWcIOq2jO2VnOydhCDrtoDsl6ztlanri4jri6QuCi0gICDrpqzsubTrpbTrlJTslYgg6rOE7JW9OiDtlanrspXsoIEg6rOE7JW97J2YIOygleydmCDsmpTshozrpbwg7IaM7ZSE7Yq47Juo7Ja066GcIO2RnO2YhO2VmOqzoCDsi6TtlontlaAg7IiYIOyeiOuKlCDtmJXsi53snLzroZwg67Cw7LmY7ZWY64qUIOqzhOyVvS4KCiMjIOygnCAx7KGw4oCKLS0t4oCK7JyE7ZeY7JeQIOuMgO2VnCDsgqzsmqnsnpDrk6TsnZgg7J247KeACgrsgqzsmqnsnpDqsIAgY2hhaW5faWTsl5DshJwgRU9TIOqzhOygleyXkCDrjIDtlZwg7KCR6re8IOq2jO2VnOydhCDsnoPqs6AsIOuLpOuluCDrsKnrspXsnLzroZwgRU9TIOqzhOygleyXkCDrjIDtlZwg7KCR6re87J2EIOuztO2YuO2VmOq4sCDsnITtlbQg7KCB7KCI7ZWcIOyhsOy5mOulvCDst6jtlZjsp4Ag7JWK64qUIOqyveyasOyXkOuKlCBFT1Mg6rOE7KCV7JeQIOygkeq3vO2VoCDsiJgg7JeG6rKMIOuQnOuLpOuKlCDqsoPsnYQg7J247KCV7ZWY6rOgIOuPmeydmO2VqeuLiOuLpC4g7IKs7Jqp7J6Q64qUIOyVlO2YuO2ZlCDthqDtgbDqs7wg67iU66Gd7LK07J24IOq4sOuwmCDshoztlITtirjsm6jslrTsnZgg7JyE7ZeYLCDsgqzsmqnrspUsIOq3uOumrOqzoCDrs7XsnqHshLHsl5Ag64yA7ZW0IOy2qeu2hO2eiCDsnbTtlbTtlZjqs6Ag7J6I7J2M7J2EIOyduOygle2VqeuLiOuLpC4g7IKs7Jqp7J6Q64qUIEVPUyDruJTroZ3ssrTsnbjsnZgg7IKs7Jqp7JeQIOuMgO2VnCDsoITsoIHsnbgg7LGF7J6E7J2EIOynhOuLpOuKlCDqsoPsl5Ag7J247KCV7ZWY6rOgIOuPmeydmO2VqeuLiOuLpC4KCiMjIOygnCAy7KGw4oCKLS0t4oCK7Yq567OE7ZWcIOyCrOyaqeyekCDsnKDtmJUKCnJlZ3Byb2R1Y2Vy66W8IOyLpO2Wie2VmOuKlCDsgqzsmqnsnpDripQgcmVncHJvZHVjZXIg66as7Lm066W065SU7JWIIOqzhOyVveyXkCDrj5nsnZjtlZjqs6AsIOydtOyXkCDqtazsho3rkKnri4jri6QuCgojIyDsoJwgM+yhsOKAii0tLeKAikVVQeydmCDrj5nsnZgKCkVPUyDsgqzsmqnsnpAg64+Z7J2Y7ISc64qUIO2YhOyerCDsi5ztlonspJHsnbggRU9TIOuplOyduOuEtyDqsbDrsoTrhIzsiqTsl5Ag64yA7ZWcIOyEpOuqheycvOuhnCDsgqzsmqnrkKnri4jri6QuIOy9lOuTnOyXkCDsnZjtlbQg7Iuc7ZaJ65CY64qUIOydtOufrO2VnCDquLDriqXsnYAgRU9TIOuplOyduOuEtyDsnpDssrTsnZgg7LK06rOE7KCB7J206rOgIOqzoOycoO2VnCDquLDriqXsnbTrr4DroZwg7IKs7Jqp7J6Q7J2YIOuPmeydmOulvCDtlYTsmpTroZwg7ZWY7KeAIOyViuyKteuLiOuLpC4KCiMjIOygnCA07KGw4oCKLS0t4oCK6rSA66asIOusuOyEnAoKRVVB7JmAIOq0gOumrCDrrLjshJzripQgZW9zaW8ucHJvZHPrpbwg7Ya17ZW0IOyImOygleydtCDqsIDriqXtlanri4jri6QuIO2KueyglSDrs4Dqsr3sgqztla3snYQg7IKs7KCE7JeQIOyEpOuqhe2VmOuKlCBlb3Npby5mb3J1bSDtiKztkZwg6rOE7JW97J2EIO2Gte2VtCBlb3Npby5wcm9kc+qwgCDshLHrqoXshJzrpbwg7J6R7ISx7ZWY6rOgIOuwnOq4ie2VoCDqsoPsnYQg6raM6rOg7ZWp64uI64ukLgoKIyMg7KCcIDXsobDigIotLS3igIrqsIDsuZjsnZgg6riw67O4IOuLqOychAoKRU9TIGNoYWluX2lk7J2YIOq4sOuzuCDri6jsnITripQgZW9zaW8udG9rZW4g7Iqk66eI7Yq4IOqzhOyVveyXkCDsnZjtlbQg7KCV7J2Y65CY6rOgIOyekeyEseuQnCBFT1Mg7Yag7YGw7J6F64uI64ukLgoKIyMg7KCcIDbsobDigIotLS3igIpFT1Mg67iU66Gd7LK07J24IOycoOyngAoKZW9zaW8ucHJvZHPripQg66qo65OgIOq4sOuKpSwg7LWc7KCB7ZmULCDqt7jrpqzqs6Ag7JeF6re466CI7J2065Oc7J2YIO2YhOyerOyZgCDrr7jrnpjsnZgg66qo65OgIOyImOygleyCrO2VreydhCDqtaztmITtlZjripQg6rKD7J2EIO2PrO2VqO2VmOuQmCwg7J207JeQIOq1re2VnOuQmOyngCDslYrripQg7Zmc7ISx7ZmU65CcIOu4lOuhneyytOyduCDsvZTrk5zrsqDsnbTsiqTrpbwg7Jyg7KeA7ZWp64uI64ukCgojIyDsoJwgN+yhsOKAii0tLeKAiuuEpO2KuOybjO2BrCDsnpDquIgKCuuEpO2KuOybjO2BrCDsnpDquIgg6rOE7KCV7JeQIO2PrO2VqOuQnCDthqDtgbDsnZgg7IOB7YOc66W8IOuzgOqyve2VmOqxsOuCmCwg64Sk7Yq47JuM7YGsIOyekOq4iOydmCDrsLDrtoQsIOydtO2WiSwg65iQ64qUIOuwsO2PrOulvCDsp4Ev6rCE7KCR7KCB7Jy866GcIOq0gOumrO2VmOuKlCDquLDsobQg7L2U65Oc66W8IOuzgOqyve2VmOuKlCDqsr3smrDsl5DripQgZW9zaW8ucHJvZHPrpbwgZW9zaW8uZm9ydW0g7LSdIO2IrO2RnCDsi5zsiqTthZwg6rOE7JW97JeQIOy2lOqwgO2VmOyXrCDsgqzsoITsl5Ag7Lap67aE7ZWcIOyEpOuqheydtCDsnbTro6jslrTsoLjslbwg7ZWp64uI64ukLgoKIyMg7KCcIDjsobDigIotLS3igIrqs4TsoJUg7IOd7ISx7J2YIOyekOycoAoK7ZiE7J6sLCDrmJDripQg66+4656Y7J2YIOyCrOyaqeyekOuKlCDri6Trpbgg7IKs7Jqp7J6Q7J2YIO2XiOqwgCDsl4bsnbQgRU9TIOqzhOygleydhCDrp4zrk6Qg7IiYIOyeiOyKteuLiOuLpC4gZW9zaW8ucHJvZHPripQgRU9TIOqzhOygleyXkCDsnZjtlbQg6rO17Jyg65CcIOycoO2aqO2VnCDtl4jqsIAg7JeG7J2064qUIEVPUyDsgqzsmqnsnpAg6rOE7KCV7JeQIOyYge2WpeydhCDspIQg7IiYIOyXhuyKteuLiOuLpC4gZW9zaW8ucHJvZHPripQg6raM7ZWc7J20IOqzteycoOuQmOuKlCBFT1Mg6rOE7KCV6rO8IOq0gOugqO2VmOyXrCDri6Trpbgg7IKs7Jqp7J6Q6rCAIOyalOyyre2VnCDrqqjrk6Ag7J6R7JeF7JeQIOuMgO2VtCDsmpTquIjsnYQg67aA6rO87ZWgIOyImCDsnojsirXri4jri6QuCgojIyDsoJwgOeyhsOKAii0tLeKAiuyLoO2DgSDrtojqsIAKCuyCrOyaqeyekOuKlCBFT1Mg7Yag7YGw7J2YIOqwgOy5mOulvCDrkrfrsJvsuajtlaAg7IiYIOyeiOuKlCDsi6Dtg4Eg66qp7KCB7J2EIOqwgOyguOyEnOuKlCDslYjrkKnri4jri6QuIOyCrOyaqeyekOuKlCBFT1Mg7IKs7Jqp7J6QIOuYkOuKlCBFT1Mg67iU66Gd7LK07J24IGNoYWluX2lk66W8IOuMgO2RnO2VmOyXrCDriITqtazsl5Dqsozrj4Qg7J6Q7IKw7J2EIOuztOycoO2VmOqxsOuCmCwg64yA7Jes7ZWY6rGw64KYLCDsnpDsgrDsl5Ag64yA7ZW0IOyWmOq4sO2VmOqxsOuCmCwg6rOE7JW97J2EIOunuuydhCDqtoztlZzsnYQg67aA7Jes7ZWgIOyImCDsl4bsirXri4jri6QuIEVPUyDruJTroZ3ssrTsnbjsl5DripQg7IaM7Jyg7J6QLCDqtIDrpqzsnpAsIOq3uOumrOqzoCDsiJjtg4HsnpDqsIAg7JeG7Ja07JW8IO2VqeuLiOuLpC4KCiMjIOygnCAxMOyhsOKAii0tLeKAiuyCrOyaqeyekCDrs7TslYgKCuu5hOqzteqwnCDtgqTsnZgg67O06rSA7J2EIO2PrO2VqO2VmOuQmCwg7J207JeQIOq1re2VnOuQmOyngCDslYrripQg6rCc7J24IOqzhOyijCDrs7TslYjqs7wg6rSA66Co65CcIOuqqOuToCDtla3rqqnrk6Qg65iQ7ZWcIOyghOyggeycvOuhnCDsgqzsmqnsnpDqsIAg7JWI7KCE7ZWY6rKMIOuztOq0gO2VtOyVvCDtlanri4jri6QuCgojIyDsoJwgMTHsobDigIotLS3igIplb3Npby5wcm9kcyDsnKDtlZzssYXsnoQKCuyCrOyaqeyekOuKlCDrspXrpaDsnbQg7ZeI7Jqp7ZWY64qUIO2VnOuPhCDrgrTsl5DshJwgRU9TIO2GoO2BsOydmCDsnITtl5gsIOyCrOyaqSwg65iQ64qUIOyCrOyaqSDrtojqsIDroZwg7J247ZW0IOuwnOyDne2VmOuKlCDrqqjrk6Ag7IaQ7ZW07JeQIOuMgO2VtCDssYXsnoTsnZgg66m07LGFIOyhsO2VreydtCDsoIHsmqnrkJzri6TripQg6rKD7J2EIOyduOygle2VmOqzoCwg64+Z7J2Y7ZWp64uI64ukLiDqs4Tslb0g7JyE67CYLCDrtojrspUg7ZaJ7JyELCDqt7jrpqzqs6Ag7JyE67CYIO2WieychCAo6rSA66asIO2DnOunjCDtj6ztlagp7JmAIGVvc2lvLnByb2RzIOuYkOuKlCDsnbTrpbwg7Jq07JiB7ZWY64qUIOqwnOuzhCDsgqzsmqkg6raM7ZWc7J2EIO2PrO2VqO2VmOuQmCwg7J207JeQIOq1re2VnO2VmOyngCDslYrqs6Ag66qo65OgIOq0gO2VoCDsp4Dsl63sl5DshJzsnZgg66qo65OgIOyiheulmOydmCDsgqzsnKDroZwg7J247ZWcIEVPUyDruJTroZ3ssrTsnbggY2hhaW5faWQg7J207J21LCDsmIHsl4XqtowsIOuYkOuKlCDrjbDsnbTthLDsnZgg7IaQ7Iuk7J2EIO2PrO2VqO2VmOyXrCDqsITsoJHsoIEsIOyasOuwnOyggSwg7Yq57IiY7ZWcLCDrjIDtkZzsoIEsIOq3uOumrOqzoCDtjIzsg53soIHsnbgg7IaQ7ZW07JeQIOuMgO2VnCDssYXsnoTsnYQg7KeA7KeAIOyViuyKteuLiOuLpC4KCiMgRU9T55So5oi35Y2P6K6uCgojIyAqKuWumuS5iSoqCgpFT1PnlKjmiLfljY/orq7kuK3nmoTmiYDmnInlpKflhpnvvIzmlpzkvZPmiJblhoXogZTku6PnoIHmnK/or63lsIblhbfmnInkuI7ku6XkuIvlrprkuYnnm7jlkIznmoTmlYjmnpzlkozlkKvkuYnjgIIKCi0gRU9T55So5oi35Y2P6K6u77ya5Y2z5pys5paH5qGj77yIRVVB77yJCgotIOmTvuS4iklEOiBjaGFpbl9pZCAtIGFjYTM3NmYyMDZiOGZjMjVhNmVkNDRkYmRjNjY1NDdjMzZjNmMzM2UzYTExOWZmYmVhZWY5NDM2NDJmMGU5MDYKCi0g55So5oi377ya5Lu75oSP5ruh6Laz5LiL5YiX6KaB5rGC55qE5Liq5Lq65oiW57uE57uH77ya55u05o6l5oiW6ICF6Ze05o6l5oul5pyJRU9T6LSm5oi35oiW5LiORU9T6LSm5oi35YWz6IGU55qE5Z+65LqORU9T5Y+R6KGM55qE6LSi5Lqn44CCCgotIOaJgOacieadg++8muebtOaOpeaIluiAhemXtOaOpemAmui/h+S4gOS4quaIluWkmuS4quacieaViOeahOadg+mZkOajgOafpeiuv+mXruS4gOS4qkVPU+i0puaIt+OAguaJgOacieadg+WPr+S7pemAmui/h+Wkmuetvuadg+mZkOiuuOWPr+WcqOeUqOaIt+mXtOWFseS6q+OAggoKLSDmiafooYzkuoZyZWdwcm9kdWNl77yM5bm25LiU5LuOZW9zaW8udnBheemihuWPluaUtuWFpeeahOeUqOaIt+OAggoKLSBlb3Npby5wcm9kczrlhbfmnInliqjmgIHmnYPpmZDnu5PmnoTnmoRFT1PluJDmiLfvvIzlvZMxNS8yMSBCbG9jayBQcm9kdWNlcnPlkIzmhI/ml7bvvIzor6XluJDmiLflj6/ku6Xmib/mi4Vlb3Npb+W4kOaIt+eahOadg+mZkOOAggoKLSDnvZHnu5zotYTkuqfvvJrljIXlkKvlnKjku6XkuIvotKbmiLfkuK3nmoTku6PluIHvvJplb3Npby5uYW1lc+OAgWVvc2lvLnJhbWZlZeOAgSAgZW9zaW8uc2F2aW5n44CCCgotIOayu+eQhuaWh+aho++8mnJlZ3Byb2R1Y2Vy5piv5rK755CG5paH5qGj44CCCgotIOS7u+S9leS6pOaYk+OAgeaZuuiDveWQiOe6puaIluiAheadjuWYieWbvuWQiOe6pu+8jOWug+S7rOW3sue7j+S9jeS6juS4gOS4quWMuuWdl+S4re+8jOW5tuS4lOi/meS4quWMuuWdl+aYr+S4jeWPr+mAhui9rOeahOOAgeW3sumZhOWKoOWIsOWQjeS4umNoYWluX2lk55qERU9T5Yy65Z2X6ZO+5Lit44CCCgotIOWfuuS6jkVPU+i1hOS6p++8muS7u+S9lemcgOimgeacieaViOiuuOWPr+adpeaTjeS9nOOAgeaUueWPmOOAgei9rOenu+OAgeW9seWTjeaIluiAhei/m+ihjOWFtuS7luaTjeS9nOeahOS4nOilv+OAggoKLSDmiafooYzvvJrlnKjlkI3kuLpjaGFpbl9pZOeahEVPU+WMuuWdl+mTvuS4reaPkOS6pOS4gOS4quihjOWKqOOAggoKLSDmjojmnYPlkozmnYPpmZDvvJrmnYPpmZDvvIhQZXJtaXNzaW9uc++8ieaYr+eUqOadpeWumuS5ieS7o+ihqOivpeadg+mZkOWPkemAgeeahOS6pOaYk+eahOimgeaxgueahOS7u+aEj+WQjeWtl+OAguWPr+S7pee7meeJueWumueahOWQiOe6puaTjeS9nOeahOaOiOadg++8iEF1dGhvcml6YXRpb25z77yJ5YiG6YWN5p2D6ZmQ77yIUGVybWlzc2lvbnPvvInjgIIKCi0g5p2O5ZiJ5Zu+5ZCI57qm77ya5bCG5rOV5b6L5Y2P6K6u5Lit55qE5a6a5LmJ6KaB57Sg5Lul6IO95Zyo6L2v5Lu25Lit6KGo6L6+5ZKM5omn6KGM55qE5qC85byP6KGo6L6+55qE5ZCI57qm44CCCgojIyAqKuadoeasvuS4gCoqKirnlKgqKioq5oi36aOO6Zmp56Gu6K6kKioKCuWmguaenOeUqOaIt+S4ouWksei0puaIt+iuv+mXruadg+mZkOaIluiAheayoeaciemHh+WPluWQiOmAgueahOaWueW8j+S/neaKpOi0puaIt+iuv+mXruadg+mZkO+8jOeUqOaIt+W6lOefpeaCieW5tuWQjOaEj++8jEVPU+i0puaIt+WwhuaXoOazleiuv+mXruOAgueUqOaIt+W6lOehruiupOeUqOaIt+WvueWKoOWvhuS7o+W4geWSjOWMuuWdl+mTvui9r+S7tueahOmjjumZqeOAgeeUqOazleWSjOWkjeadguaAp+acieWFheWIhuS6huino+OAgueUqOaIt+aJv+iupOW5tuWQjOaEj+eUqOaIt+iHquihjOaJv+aLheS9v+eUqEVPU+WMuuWdl+mTvueahOmjjumZqeOAggoKIyMgKirmnaHmrL7kuowqKioq54m55q6K55SoKioqKuaIt+exu+WeiyoqCgrmiafooYxyZWdwcm9kdWNl77yM5ZCM5oSP5bm25LiU5Y+XcmVncHJvZHVjZXLmnY7lmInlm77lkIjnuqbnuqbmnZ/nmoTnlKjmiLfjgIIKCiMjICoq5p2h5qy+5LiJKioqKuWQjOaEjyoqKipFT1MqKioq55SoKioqKuaIt+WNj+iurioqCgpFT1PnlKjmiLfljY/orq7nmoTlrp7otKjmmK/lr7nlvZPliY1FT1PkuLvnvZHmsrvnkIblip/og73nmoTmj4/ov7DjgILnlLHku6PnoIHlvLrliLbmiafooYznmoTlip/og73kuI3pnIDopoHnlKjmiLfnmoTlkIzmhI/vvIzlm6DkuLrov5nkupvlip/og73mmK9FT1PkuLvnvZHns7vnu5/oh6rluKbnmoTjgIIKCiMjICoq5p2h5qy+5ZubKiogLSAqKuayu+eQhuaWh+ahoyoqCgplb3Npby5wcm9kc+WPr+S7peWvuUVPU+eUqOaIt+WNj+iuruWSjOayu+eQhuaWh+aho+i/m+ihjOS7u+S9leS/ruaUueOAguS4peato+aPkOmGku+8jOaPkOWJjeeUqGVvc2lvLmZvcnVt5YWs5oqV5ZCI57qm77yM6YCa6L+HZW9zaW8ucHJvZHPnvJblhpnjgIHlj5HluIPkuIDkuKrlo7DmmI7mnaXmj4/ov7DpgqPkuKrkv67mlLnjgIIKCiMjICoq5p2h5qy+5LqUKioqKuWOn+eUn+S7tyoqKirlgLzljZXkvY0qKgoKRU9T5YWs6ZO+5LiK55qE5Y6f55Sf5Lu35YC85Y2V5L2N5bqU5Li6ZW9zaW8udG9rZW7mmbrog73lkIjnuqblrprkuYnlkozliJvlu7rnmoRFT1PpgJror4HjgIIKCiMjICoq5p2h5qy+5YWtKioqKue7tOaKpCoqKipFT1MqKioq5Yy6KioqKuWdl+mTvioqCgrml6DorrrnjrDlnKjmiJblsIbmnaXlsIbmnaXvvIxlb3Npby5wcm9kc+Wwhue7tOaKpOa0u+i3g+eahOWMuuWdl+mTvuS7o+eggeW6k++8jOWMheaLrOS9huS4jemZkOS6juaJgOacieWKn+iDveOAgeS8mOWMluOAgeWNh+e6p+eahOaJgOacieS/ruaUueOAgeWunueOsOOAggoKIyMg5p2h5qy+5LiDIC0gKioqKuWumioqKirkuYkqKioqRU9TKioqKue9kee7nOi1hOS6pwoK5pu05pS5572R57uc6LWE5Lqn6LSm5oi35Lit55qE5Lu75L2V5Luj5biB55qE54q25oCB77yM5pu05pS55Lu75L2V546w5a2Y55qE55u05o6l5oiW6Ze05o6l566h55CG5Lu75L2V572R57uc6LWE5Lqn55qE5YiG6YWN44CB5a6e546w5oiW5YiG5Y+R55qE5Luj56CB77yM6ZyA6KaB5LqL5YWI55SoZW9zaW8ucHJvZHPlnKhlb3Npby5mb3J1beWFrOaKleWQiOe6puS4iue8luWGmeWSjOWPkeW4g+aViOaenOaPj+i/sOeahOWjsOaYjuOAggoKIyMgKirmnaHmrL7lhast5Yib5bu66LSm5oi36Ieq55SxKioKCuS7u+S9leeOsOWcqOaIluWwhuadpeeahOeUqOaIt+mDveWPr+S7peWcqOacque7j+S7u+S9leWFtuS7lueUqOaIt+iuuOWPr+eahOaDheWGteS4i+WIm+W7ukVPU+W4kOaIt+OAgiAg5aaC5L2V5rKh5pyJ5pS25YiwRU9T5biQ5oi355qE5pyJ5pWI6K645Y+v77yIcGVybWlzc2lvbu+8ie+8jGVvc2lvLnByb2Rz5rC46L+c5LiN5Lya5b2x5ZONRU9T55So5oi35biQ5oi344CCICDlr7nkuo7lhbHkuqvmnYPpmZDnmoRFT1PluJDmiLfnmoTlhbbku5bnlKjmiLfor7fmsYLnmoTku7vkvZXmk43kvZzvvIxlb3Npby5wcm9kc+WPr+iDveS8muaUtuWPlui0ueeUqOOAggoKIyMgKirmnaHmrL7kuZ3msqHmnInlj5fmiZjkuroqKgoK5rKh5pyJ55So5oi35om/5ouF5L+h5omY6LSj5Lu75p2l57u05oyBRU9T5Luj5biB55qE5Lu35YC844CC5rKh5pyJ55So5oi35Y+v5Lul5Luj6KGoRU9T55So5oi35oiW6ICF5Luj6KGo5ZCN5Li6Y2hhaW5fSUTnmoRFT1PljLrlnZfpk77mjojmnYPku7vkvZXkurrlhbHlkIzmjIHmnInotYTkuqfjgIHlgJ/mrL7jgIHlj5HoqIDmiJblrprlkIjlkIzjgILmraTljLrlnZfpk77kuI3lrZjlnKjmi6XmnInogIXjgIHnrqHnkIbogIXmiJbogIXlj5fmiZjkurrjgIIKCiMjICoq5p2h5qy+5Y2B5Liq5Lq65a6J5YWoKioKCuaJgOacieacieWFs+S4quS6uui0puaIt+WuieWFqOeahOS6i+mhue+8jOWMheaLrOS9huS4jemZkOS6juengemSpeeahOWuieWFqOS/neWtmO+8jOmDveeUseeUqOaIt+iHquW3sei0n+i0o+OAggoKIyMgKirmnaHmrL7ljYHkuIAgZW9zaW8ucHJvZHPnmoTmnInpmZDotKPku7sqKgoK55So5oi35bqU55+l5oKJ5ZKM5ZCM5oSP77yM5Zyo5Lu75L2V6YCC55So5rOV5b6L5YWB6K6455qE5pyA5aSn6IyD5Zu05YaF77yM5pys5YWN6LSj5aOw5piO6YCC55So5LqO5LiORU9T5Luj5biB6aOO6Zmp77yM5L2/55So5oiW5peg5rOV5L2/55SoRU9T5Luj5biB5pyJ5YWz5oiW5a+86Ie055qE5Lu75L2V5oiW5omA5pyJ5o2f5a6z5oiW5Lyk5a6z77yM5Lmf6YCC55So5LqO5Lu75L2V5Y+45rOV566h6L6W5Yy65YaF55qE5Lu75L2V5Lu75L2V6KGM5Li65LiL55qERU9T5Yy65Z2X6ZO+Y2hhaW5faWTvvIzljIXmi6zkvYbkuI3pmZDkuo7ov53lj43mi4Xkv53jgIHov53lj43lkIjlkIzmiJbkvrXmnYPooYzkuLrvvIjljIXmi6znlo/lv73vvInjgIJlb3Npby5wcm9kc+S7peWPiuaTjeS9nOWug+eahOS4quS6uuadg+mZkOWvueS6juS7u+S9lemXtOaOpeeahO+8jOWBtueEtueahO+8jOeJueauiueahO+8jOekuuS+i+aAp+eahOaIluWQjuaenOaAp+eahOaNn+Wus++8jOWMheaLrOWIqea2puaNn+Wkse+8jOWVhuiqieaIluaVsOaNru+8jOS4jeaJv+aLheS7u+S9lei0o+S7u+OAghZCbG9ja1Byb2R1Y2VyQWdyZWVtZW50xmwjIyMgMS4gVGhlIGludGVudCBvZiByZWdwcm9kdWNlcgoKVGhlIGludGVudCBvZiB0aGUgYHJlZ3Byb2R1Y2VyYCBhY3Rpb24gaXMgdG8gcmVnaXN0ZXIgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhY3kuIFRoaXMgY29udHJhY3QgaXMgY29uc2lkZXJlZCBhIGdvdmVybmluZyBkb2N1bWVudCBhcyBkZWZpbmVkIGJ5IHRoZSBFT1MgVXNlciBBZ3JlZW1lbnQgKEVVQSkuCgpyZWdwcm9kdWNlcuydmCDrqqnsoIEKCmByZWdwcm9kdWNlcmAg7J6R7JeF7J2YIOuqqeyggeydgCDruJTroZ3sg53sgrDsnpAg7J6F7ZuE67O0IOuTseuhneydhCDtlZjripQg6rKD7J6F64uI64ukLiDsnbQg6rOE7JW97J2AIEVPUyDsgqzsmqnsnpAg6rOE7JW97IScIChFVUEp7JeQIOygleydmOuQnCDrsJTsmYAg6rCZ7J20IOq0gOumrCDrrLjshJzroZwg6rCE7KO865Cp64uI64ukLgoKcmVncHJvZHVjZXIg55qE55uu55qECgpgcmVncHJvZHVjZXJg5pON5L2c55qE55uu55qE5piv5rOo5YaM5oiQ5Li65Ye65Z2X6IqC54K55YCZ6YCJ6ICF44CC5qC55o2uIEVPUyDnlKjmiLfljY/orq4oRVVBKeeahOWumuS5ie+8jOacrOWQiOe6puWxnuS6juayu+eQhuaWh+acrChnb3Zlcm5pbmcgZG9jdW1lbnQpCgojIyMgMi4gTm9taW5hdGlvbgoKSSwge3sgcHJvZHVjZXIgfX0sIGhlcmVieSBub21pbmF0ZSBteXNlbGYgZm9yIGNvbnNpZGVyYXRpb24gYXMgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhdGUuIFRoaXMgbm9taW5hdGlvbiBpbmNsdWRlcyBhZ3JlZW1lbnQgdG8gdGhlIHRlcm1zIG9mIHRoaXMgY29udHJhY3QgYnkgbXkgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlIGVudGl0eSwgaW5jbHVkaW5nIGFsbCBvZiBpdHMgc2hhcmVob2xkZXJzLCBvd25lcnMsIGVtcGxveWVlcywgc3RhZmYsIG1lbWJlcnMsIGFuZCBhbnkgaW5kaXZpZHVhbCB3b3JraW5nIGluIG9mZmljaWFsLCBkaXJlY3QsIG9yIGFmZmlsaWF0ZWQgY2FwYWNpdHkgZm9yIG15IEJsb2NrIFByb2R1Y2VyIGVudGl0eS4KCuyngOuqhQoK64KYLCB7eyBwcm9kdWNlciB9feuKlCDruJTroZ3tlITroZzrk4DshJwg7ZuE67O066GcIOqzoOugpOuQmOuPhOuhnSDsnpDsi6DsnYQg7KeA66qF7ZWp64uI64ukLiDsnbQg7KeA66qF7JeQ64qUIOu4lOuhne2UhOuhnOuTgOyEnO2ajOyCrOydmCDrqqjrk6Ag7KO87KO8LCDshozsnKDsnpAsIOyngeybkCwg66mk67KELCDtmozsm5Ag67CPIOqzteyLneyduOybkCwg7KeB7KCRIOuYkOuKlCDqs4Tsl7Tsgqzsl5DshJwg7J287ZWY64qUIOuqqOuToCDqsJzsnbjsnYQg7Y+s7ZWo7ZWcIOu4lOuhne2UhOuhnOuTgOyEnCDtmozsgqzqsIAg6rOE7JW9IOyhsOqxtOyXkCDrjIDtlbQg64+Z7J2Y7ZWo7J2EIOyduOygle2VqeuLiOuLpC4KCuaPkOWQjQoK5pys5Lq677yMe3sgcHJvZHVjZXIgfX3vvIznibnmraTmj5DlkI3mnKzkurrkuLrlh7rlnZfoioLngrnlgJnpgInkurrjgILmnKzmj5DlkI3ljIXmi6zkuobmnKzlh7rlnZfoioLngrnlgJnpgInkurrlrp7kvZPlr7nmnKzlkIjnuqbkuK3miYDmnInmnaHmrL7nmoTmmI7noa7lkIzmhI/vvIzljIXlkKvlhbbmiYDmnInogIXjgIHpm4flkZjjgIHlkZjlt6XjgIHmiJDlkZjvvIzku6Xlj4rku7vkvZXku6XmraPlvI/mlrnlvI/jgIHnm7TmjqXmiJbpmYTlsZ7mlrnlvI/kuLrmnKzlh7rlnZfoioLngrnlrp7kvZPlt6XkvZznmoTkuKrkurrjgIIKCiMjIyAzLiBSZXNpZ25hdGlvbiBhbmQgUmVtb3ZhbCBmb3IgSW5hYmlsaXR5IHRvIFBlcmZvcm0gT2JsaWdhdGlvbnMuCgpJZiBJLCB7eyBwcm9kdWNlciB9fSwgYW0gdW5hYmxlIHRvIHBlcmZvcm0gYW55IG9mIHRoZSBvYmxpZ2F0aW9ucyBzdGlwdWxhdGVkIGluIHRoaXMgY29udHJhY3QsIEkgd2lsbCByZXNpZ24gbXkgcG9zaXRpb24gYnkgY2FsbGluZyB0aGUgYHVucmVncHJvZGAgYWN0aW9uLgoKSWYgSSwge3sgcHJvZHVjZXIgfX0sIGZhaWwgdG8gcmVzaWduIHdoZW4gdW5hYmxlIHRvIHBlcmZvcm0gc2FpZCBvYmxpZ2F0aW9ucywgSSB1bmRlcnN0YW5kIHRoYXQgcHJvY2VkdXJlcyBlbnVtZXJhdGVkIGluIHRoaXMgY29udHJhY3Qgc2hhbGwgYmUgZW5hY3RlZC4KCuydmOustOydmCDrtojsnbTtlonsl5Ag64yA7ZWcIOyCrOyehCDrsI8g7LKg7ZqMCgp7eyBwcm9kdWNlciB9feqwgCDrs7gg6rOE7JW97ISc7JeQIOuqheyLnOuQnCDsnZjrrLTrpbwg7IiY7ZaJIO2VoCDsiJgg7JeG64qUIOqyveyasCwg7IOd7IKw7J6QIO2CpOulvCBudWxsIOuhnCDtlajsnLzroZzsjagg67O47J247J2YIOyngOychOulvCDsgqzsnoTtlanri4jri6QuCgrrp4zslb0g64K06rCAIHt7cHJvZHVjZXJ9feydmCDsnZjrrLTrpbwg7J207ZaJIO2VoCDsiJgg7JeG7J2EIOuVjCDsgqzsnoTtlZjsp4Ag7JWK64qU64uk66m0LCDrgpjripQg67O4IOqzhOyVveyXkCDsl7TqsbDrkJwg7KCI7LCo6rCAIOynke2WieuQqOydhCDrj5nsnZjtlanri4jri6QuCgrlm6DkuI3og73lsaXooYzkuYnliqHogIzpgIDlh7rmiJbooqvlj5bmtojlh7rlnZfotYTmoLwKCuWmguaenOaIke+8jHt7IHByb2R1Y2VyIH1977yM5LiN6IO95bGl6KGM5pys5ZCI57qm5Lit5omA6KeE5a6a55qE5omA5pyJ5LmJ5Yqh77yM5oiR5bCG5L2/55SoIGB1bnJlZ3Byb2RgIOaTjeS9nOadpeiHquaIkemAgOWHuu+8iHJlc2lnbu+8ieOAggoK5aaC5p6c5oiRIHt7IHByb2R1Y2VyIH19LCDlnKjml6Dms5XlsaXooYzkuIrov7DkuYnliqHml7bmnKrog73pgIDlh7oocmVzaWduKe+8jOaIkeefpeaZk+acrOWQiOe6puWwhuS8muaMieeFp+aJgOacieWIl+S4vueahOeoi+W6j+WvueaIkeWunuihjOWItuijgeaIluWkhOe9mueoi+W6j+OAggoKIyMjIDQuIEVPUyBBY2NvdW50cwoKQmxvY2sgUHJvZHVjZXJzIG1heSBuZXZlciBhZmZlY3QgYW4gYWNjb3VudCBvbiB0aGUgRU9TIGJsb2NrY2hhaW4sIGV4Y2VwdCBmb3IgdGhlIHJlYXNvbnMgc3BlY2lmaWNhbGx5IGNpdGVkIGluIHRoaXMgY29udHJhY3QgdGhhdCBwZXJ0YWluIHRvIEJsb2NrIFByb2R1Y2VyIGFjY291bnRzLiBVc2VyIGFjY291bnRzIGNhbiBvbmx5IGJlIGFmZmVjdGVkIG9uIHRoZSBiYXNpcyBvZiBBcnRpY2xlIFZJSUkgaW4gdGhlIEVPUyBVc2VyIEFncmVlbWVudC4KCkVPUyDqs4TsoJUKCuu4lOuhne2UhOuhnOuTgOyEnOuKlCDrs7gg6rOE7JW97JeQ7IScIO2VtOuLue2VmOuKlCDruJTroZ3tlITroZzrk4DshJzsnZgg6rOE7KCVIOywqOuLqOyXkCDqtIDroKjtlZjsl6wg7Yq567OE7Z6IIOyWuOq4ie2VnCDsnbTsnKDrpbwg7KCc7Jm47ZWY6rOg64qUIEVPUyDruJTroZ3ssrTsnbjsnZgg6rOE7KCV7JeQIOqysOy9lCDsmIHtlqXsnYQg66+47LmY7KeAIOyViuyKteuLiOuLpC4g7IKs7Jqp7J6QIOqzhOygleydgCBFT1Mg7IKs7Jqp7J6QIOqzhOyVveyEnOydmCA47KGw7JeQIOq3vOqxsO2VoCDrlYzrp4wg7JiB7Zal7J2EIOuwm+ydhCDsiJgg7J6I7Iq164uI64ukLgoKRU9TIOi0puWPtwoK5Ye65Z2X6IqC54K55rC46L+c5LiN5Lya5a+5IEVPUyDljLrlnZfpk77kuIrnmoTluJDmiLfpgKDmiJDlvbHlk43vvIzpmaTpnZ7mmK/mnKzlkIjnuqbkuK3nibnliKvmj5DliLDkuI7lh7rlnZfoioLngrnluJDmiLfmnInlhbPnmoTljp/lm6DjgILlj6rmnInln7rkuo4gRU9T55So5oi35Y2P6K6u5Lit55qE56ys5YWr5p2h55qE5oOF5b2i5LiL77yM55So5oi355qE6LSm5Y+35omN5Lya5Y+X5Yiw5b2x5ZONLgoKIyMjIDUuIFByb2R1Y2VyIEtleQoKSSwge3sgcHJvZHVjZXIgfX0sIHdpbGwgc2lnbiBibG9ja3Mgd2l0aCB7eyBwcm9kdWNlcl9rZXkgfX0KCklmIEksIHt7IHByb2R1Y2VyIH19IHN1c3BlY3QgbXkga2V5IGhhcyBiZWVuIGNvbXByb21pc2VkIEkgd2lsbCBhbGVydCB0aGUgb3RoZXIgQmxvY2sgUHJvZHVjZXJzIGltbWVkaWF0ZWx5LgoKSSwge3sgcHJvZHVjZXIgfX0sIGFja25vd2xlZGdlIHRoYXQgYW55IGFuZCBhbGwgYWN0aW9ucyBleGVjdXRlZCB3aXRoIG15IHt7IHByb2R1Y2VyX2tleSB9fSBpcyBteSByZXNwb25zaWJpbGl0eSwgcmVnYXJkbGVzcyBvZiB0aGUgYWNjb3VudCBiZWluZyBjb21wcm9taXNlZC4KCu2UhOuhnOuTgOyEnCDtgqQKCuuCmCwge3sgcHJvZHVjZXIgfX3ripQge3sgcHJvZHVjZXIgXyBrZXkgfX0g66GcIOu4lOuhneyXkCDshJzrqoUg7ZWgIOqyg+yeheuLiOuLpC4K66eM7JW9IOuCtCwge3twcm9kdWNlcn19IOqwgCDrs7jsnbjsnZgg7YKk6rCAIOyGkOyDgeuQmOyXiOuLpOqzoCDsnZjsi6zrkJjrqbQg7KaJ7IucIOuLpOuluCDruJTroZ3tlITroZzrk4DshJzsl5Dqsowg7JWM66Ck7KSEIOqyg+yeheuLiOuLpC4K64KYLCB7e3Byb2R1Y2VyfX3ripQgRU9TIOu4lOuhneyytOyduOyXkOyEnCDrs7jsnbjsnZgg67iU66Gd7ZSE66Gc65OA7IScIOqzhOygleydtCDsi6TtlontlZjripQg66qo65OgIOyekeyXheyXkCDrjIDtlbQsIOqzhOyglSDsnbTsg4Eg7Jyg66y07JmAIOq0gOugqCDsl4bsnbQsIOyxheyehOydtCDsnojsnYzsnYQg7J247KCV7ZWp64uI64ukLgoK5Ye65Z2X6IqC54K55YWs6ZKlCgog5oiRLCB7eyBwcm9kdWNlciB9fSwg5bCG5L2/55SoIHt7IHByb2R1Y2VyX2tleSB9fSDlr7nljLrlnZfnrb7lkI3jgIIK5aaC5p6c5oiRLCB7eyBwcm9kdWNlciB9fSwg5oCA55aR5oiR55qE5a+G6ZKl5bey6KKr5rOE6Zyy77yM5oiR5bCG56uL5Y2z6YCa55+l5YW25LuW6IqC54K544CCCuaIke+8jHt7IHByb2R1Y2VyIH1977yM5om/6K6k5oiR55qE5Ye65Z2X6IqC54K55biQ5oi35ZyoRU9T5Yy65Z2X6ZO+5LiK5omA5omn6KGM55qE5Lu75L2V5pON5L2c6YO95piv5oiR55qE6LSj5Lu777yM5peg6K666K+l5biQ5oi35piv5ZCm6KKr55uX44CCCgojIyMgNi4gQVBJIEVuZHBvaW50cwoKSWYgSSwge3sgcHJvZHVjZXIgfX0sIHF1YWxpZnkgZm9yLCBhbmQgY2hvb3NlIHRvIGNsYWltIHJld2FyZHMgZHVlIHRvIHZvdGVzIHJlY2VpdmVkLCBhbmQvb3IgYmxvY2tzIHByb2R1Y2VkLCBJLCB7eyBwcm9kdWNlciB9fSwgd2lsbCBwcm92aWRlIGZ1bmN0aW9uaW5nIGFuZCBxdWVyeWFibGUgcHVibGljIFAyUCBhbmQgQVBJIGVuZHBvaW50cyB0byBtYWludGFpbiBzeW5jaHJvbml6YXRpb24gd2l0aCB0aGUgYmxvY2tjaGFpbiBhbmQgc3VibWl0IHRyYW5zYWN0aW9ucyB0byBiZSBpbmNsdWRlZC4gQVBJIGVuZHBvaW50cyBtdXN0IGJlIHVwZGF0ZWQgdG8gYSByZWNlbnQgZnVuY3Rpb25hbCB2ZXJzaW9uIHRoYXQgZG9lcyBub3QgaGF2ZSBrbm93biBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuCgpJLCB7eyBwcm9kdWNlciB9fSwgaGVyZWJ5IGFja25vd2xlZGdlIHRoYXQgaWYgSSBhbSB1bmFibGUgdG8gZG8gc28gd2l0aGluIDMwIG1pbnV0ZXMgb2YgYmVpbmcgYWxlcnRlZCBieSBhbm90aGVyIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZSwgSSBjYW4gYmUgcmVtb3ZlZCBieSB1c2Ugb2YgdGhlIGBybXZwcm9kdWNlcmAgYWN0aW9uLgoKQVBJIOyXlOuTnO2PrOyduO2KuAoK66eM7JW9IOuCtCwge3sgcHJvZHVjZXIgfX0g6rCAIO2IrO2RnOulvCDrsJvslYQg67iU66GdIOuztOyDgeydhCDssq3qtaztlaAg7IiYIOyeiOuKlCDsnpDqsqnsnYQg7Ja77Jy866m0LCDrgpgge3sgcHJvZHVjZXIgfX3ripQg7J6R64+ZIOuwjyDsv7zrpqwg6rCA64ql7ZWcIOqzteqwnCBQMlAg67CPIEFQSSDsl5Trk5ztj6zsnbjtirjrpbwg67iU66Gd7LK07J246rO87J2YIOuPmeq4sO2ZlCDrsI8g7Yq4656c7J6t7IWY7J2EIOygnOy2nO2VoCDsiJgg7J6I6rKMIOycoOyngOq0gOumrO2VqeuLiOuLpC4gQVBJIOyXlOuTnO2PrOyduO2KuOuKlCDslYzroKTsp4Qg67O07JWIIOy3qOyVveyEseydtCDsl4bripQg7LWc7Iug67KE7KCE7Jy866GcIOyXheuNsOydtO2KuO2VtOyVvCDtlanri4jri6QuCgrrgpgsIHt7IHByb2R1Y2VyIH19IOuKlCDri6TrpbggYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlIOqwgCDqsr3qs6Ag4oCL4oCL7ZWcIO2bhCwgMzDrtoQg7J2064K07JeQIOuwlOuhnOyeoeydhCDsiJgg7JeG64uk66m0IGBybXZwcm9kdWNlcmAg7KGw7LmY66W8IO2Gte2VtCDsnpDqsqnsnbQg7KCc6rGwIOuQoCDsiJgg7J6I7J2M7J2EIOyduOygle2VqeuLiOuLpC4KCkFQSSDnq6/ngrkKCuWmguaenOaIke+8jHt7IHByb2R1Y2VyIH19IOeUseS6juW+l+WIsOaKleelqOWSjC/miJblh7rlnZfnmoTljp/lm6DvvIznrKblkIjpooblj5blpZblirHnmoTmnaHku7blubbpgInmi6nmjqXlj5flpZblirHvvIzpgqPkuYjmiJHvvIwge3sgcHJvZHVjZXIgfX3vvIzlsIbmj5Dkvpvlip/og73mraPluLjnmoTlhazlhbEgUDJQIOWSjCBBUEkg56uv54K55p2l57u05oqk5LiO5Yy65Z2X6ZO+55qE5ZCM5q2l77yM5bm25o+Q5Lqk6KaB5omT5YyF5YWl5Z2X55qE5LqL5Yqh44CCQVBJIOerr+eCueW/hemhu+abtOaWsOWIsOacgOaWsOeahOWPr+eUqOeJiOacrO+8jOW5tuS4lOivpeeJiOacrOayoeacieW3suefpeeahOWuieWFqOa8j+a0ngoK5oiR77yMe3twcm9kdWNlcn1977yM5Zyo5q2k56Gu6K6k77yM5aaC5p6c5oiR5Zyo5pS25Yiw5Y+m5LiA5LiqIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZeeahOitpuWRiuWQjjMw5YiG6ZKf5YaF5LuN5LiN6IO956ym5ZCI5LiK6L+w6KaB5rGC77yM5Y+v5Lul5L2/55SoYHJtdnByb2R1Y2VyYOaTjeS9nOenu+mZpOaIkeeahOi0puaIt+OAggoKIyMjIDcuIEV4ZWN1dGlvbiB0aW1lCgpJLCB7eyBwcm9kdWNlciB9fSwgd2lsbCBkZXBsb3kgYW5kIHJ1biBuZXR3b3JrIGluZnJhc3RydWN0dXJlIGNhcGFibGUgb2YgbWFpbnRhaW5pbmcgMm1zIG9yIGxlc3MgQ1BVIGV4ZWN1dGlvbiB0aW1lcy4KCkksIHt7IHByb2R1Y2VyIH19LCBoZXJlYnkgYWNrbm93bGVkZ2UgdGhhdCBpZiBJIGFtIHVuYWJsZSB0byBkbyBzbyB3aXRoaW4gMzAgbWludXRlcyBvZiBiZWluZyBhbGVydGVkIGJ5IGFub3RoZXIgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlLCBJIGNhbiBiZSByZW1vdmVkIGJ5IHVzZSBvZiB0aGUgYHJtdnByb2R1Y2VyYCBhY3Rpb24uCgrsi6Ttlokg7Iuc6rCECgrrgpgsIHt7IHByb2R1Y2VyIH1964qUIDJtcyDrmJDripQg6re4IOydtO2VmOydmCBDUFUg7Iuk7ZaJIOyLnOqwhOydhCDsnKDsp4DtlaAg7IiYIOyeiOuKlCDrhKTtirjsm4ztgawg7J247ZSE652866W8IOuwsO2PrO2VmOqzoCDsi6Ttlontlanri4jri6QuCgog64KYLCB7eyBwcm9kdWNlciB9fSDripQg64uk66W4IGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZeqwgCDqsr3qs6Ag4oCL4oCL7ZWcIO2bhCwgMzDrtoQg7J2064K07JeQIOuwlOuhnOyeoeydhCDsiJgg7JeG64uk66m0IGBybXZwcm9kdWNlcmAg7KGw7LmY66W8IO2Gte2VtCDsnpDqsqnsnbQg7KCc6rGwIOuQoCDsiJgg7J6I7J2M7J2EIOyduOygle2VqeuLiOuLpC4KCuaJp+ihjOaXtumXtAoK5oiR77yMIHt7IHByb2R1Y2VyIH1977yM5bCG6YOo572y5ZKM6L+Q6KGM572R57uc5Z+656GA6K6+5pa977yM6IO95aSf5bCGIENQVSDmiafooYzml7bpl7Tnu7TmjIHlnKggMm1zIOaIluabtOWwkeeahOawtOW5s+OAggoK5oiR77yMe3sgcHJvZHVjZXIgfX3vvIzlnKjmraTnoa7orqTvvIzlpoLmnpzmiJHlnKjmlLbliLDlj6bkuIDkuKpibG9jayBwcm9kdWNlciBjYW5kaWRhdGXnmoTorablkYrlkI4zMOWIhumSn+WGheS4jeiDveespuWQiOS4iui/sOadoeS7tu+8jOWPr+S7peS9v+eUqCBgcm12cHJvZHVjZXJgIOaTjeS9nOWwhuaIkeenu+mZpOOAggoKIyMjIDguIE9yZGVyaW5nCgpJIHt7IHByb2R1Y2VyIH19IGFncmVlIHRvIHByb2Nlc3MgdHJhbnNhY3Rpb25zIG9uIGEgZmlyc3QtaW4tZmlyc3Qtb3V0IChGSUZPKSBiYXNpcywgYW5kIG5vdCB0byBtYW5pcHVsYXRlIHRoZSBjb250ZW50cyBvZiBibG9ja3MgaW4gb3JkZXIgdG8gZGVyaXZlIHByb2ZpdCBmcm9tIHRoZSBvcmRlciBpbiB3aGljaCB0cmFuc2FjdGlvbnMgYXJlIGluY2x1ZGVkOiB0aGUgaGFzaCBvZiB0aGUgYmxvY2sgdGhhdCBpcyBwcm9kdWNlZC4KCuyDneyCsArrgpgsIHt7IHByb2R1Y2VyIH1964qUIOyEoOyehSDshKDstpzrspUgKEZJRk8pIOuwqeyLneycvOuhnCDqsbDrnpjrpbwg7LKY66as7ZWY6rOgIOqxsOuemOqwgCDruJTroZ3snZgg7ZW07Iuc7JeQIO2PrO2VqOuQmOuKlCDsiJzshJzsl5DshJwg7J207J217J2EIOyWu+ycvOugpOuKlCDrqqnsoIHsnLzroZwg7IOd7IKw7ZWY64qUIOu4lOuhneydmCDrgrTsmqnsnYQg7KGw7J6R7ZWY7KeAIOyViuq4sOuhnCDrj5nsnZjtlanri4jri6QuCgrpobrluo8KCuaIke+8jCB7eyBwcm9kdWNlciB9fSDvvIzlkIzmhI/moLnmja7lhYjov5vlhYjlh7ooRklGTynnmoTmlrnlvI/lpITnkIbkuovliqHvvIzlubbkuJTnu53kuI3kvJrkuLrkuobniZ/liKnogIzliKnnlKjljLrlnZflhoXlrrnjgIHmk43nurXljLrlnZfkuK3kuqTmmJPlpITnkIbnmoTpobrluo/jgIIKCiMjIyA5LiBSYW5kb20gUm90YXRpb24gb2YgU3RhbmRieXMKCkksIHt7IHByb2R1Y2VyIH19LCBhZ3JlZSB0aGF0IGlmIEkgYW0gaW4gYSBwYWlkIHN0YW5kYnkgcG9zaXRpb24sIEkgY2FuIGJlIHJhbmRvbWx5IGNhbGxlZCBpbnRvIGEgcHJvZHVjaW5nIHBvc2l0aW9uLiBVcG9uIGZhaWx1cmUgdG8gcHJvZHVjZSBibG9ja3MsIGNvZGUgbWF5IHNlbGYtZXhlY3V0ZSBwZW5hbHRpZXMgcmVnYXJkaW5nIGZ1dHVyZSB2cGF5IHJld2FyZHMuCgrsnKDquIkg64yA6riwIOu4lOuhne2UhOuhnOuTgOyEnOydmCDrrLTsnpHsnIQg66Gc7YWM7J207IWYCgrrgpgsIHt7IHByb2R1Y2VyIH1964qUIOuzuOyduOydtCDsnKDquIkg64yA6riw7KeB7JeQIOyeiOydhCDrlYwsIOustOyekeychOuhnCDsg53sgrDsp4HsnLzroZwg67aA66aEIOuwm+ydhCDsiJgg7J6I64uk64qUIOqyg+yXkCDrj5nsnZjtlanri4jri6QuIOydtOuVjCDruJTroZ3snYQg7IOd7ISx7ZWY7KeAIOuqu+2VmOuptCDsvZTrk5zripQg7Zal7ZuEIHZwYXkg67O07IOB7JeQIOuMgO2VnCDsspjrsozsnYQg7KeR7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuCgrlpIfpgInoioLngrnpmo/mnLrova7mjaIKCuaIke+8jHt7IHByb2R1Y2VyIH1977yM5ZCM5oSP6Iul5pys6IqC54K55aSE5LqO5pyJ5YG/5aSH6YCJ54q25oCB77yM5Y+v6KKr6ZqP5py66LCD5YWl5Ye65Z2X54q25oCB44CC5aaC5p6c5oiR5peg5rOV5Ye65Z2X77yM5ZCI57qm5Luj56CB5Y+v6IO95Lya6Ieq5Yqo5omn6KGM5bCx5pyq5p2l55qEIHZwYXkg5oql6YWs6L+b6KGM5aSE572a44CCCgojIyMgMTAuIE1pc3NpbmcgVHdvIG9yIE1vcmUgUm91bmRzIG9mIEJsb2NrcwoKSSwge3sgcHJvZHVjZXIgfX0sIGFja25vd2xlZGdlIHRoYXQgaWYgYWZ0ZXIgbWlzc2luZyAyIG9yIG1vcmUgcm91bmRzIG9mIGJsb2NrcyBpbiBzdWNjZXNzaW9uIEkgYW0gdW5hYmxlIHRvIGJlIGNvbnRhY3RlZCB3aXRoaW4gMjAgbWludXRlcywgSSwge3sgcHJvZHVjZXIgfX0sIGFja25vd2xlZGdlIHRoYXQgSSBtYXkgYmUgcmVtb3ZlZCBmcm9tIGEgcHJvZHVjaW5nIHBvc2l0aW9uIGJ5IHVzZSBvZiB0aGUgYHJtdnByb2R1Y2VyYCBhY3Rpb24uCgpJLCB7eyBwcm9kdWNlciB9fSwgYWNrbm93bGVkZ2UgdGhhdCBhZnRlciBtaXNzaW5nIHR3byBvciBtb3JlIHJvdW5kcyBvZiBibG9ja3MgaW4gc3VjY2Vzc2lvbiwgc3RhbmRhcmQgcHJhY3RpY2Ugc3RpcHVsYXRlcyByZW1vdmluZyBteSBwcm9kdWNlciBieSB1c2luZyB0aGUgYHVucmVncHJvZGAgYWN0aW9uIHVudGlsIHRoZSBnaXZlbiBpc3N1ZSBpcyByZXNvbHZlZC4KCuuRkCDrnbzsmrTrk5wg7J207IOB7J2YIOu4lOuhnSDriITrnb0KCuuCmCwge3sgcHJvZHVjZXIgfX3ripQg65GQIOudvOyatOuTnCDsnbTsg4Eg7Jew7IaN7ZWY7JesIOu4lOuhneydhCDriITrnb0g7ZWcIO2bhCwgMjDrtoQg7J2064K07JeQIOyXsOudvSDtlaAg7IiYIOyXhuuLpOuptCB7eyBwcm9kdWNlciB9fSDqsIAgYHJtdnByb2R1Y2VyYCDslaHshZjsnZgg7IKs7Jqp65CY7Ja0IOyDneyCsCDsnITsuZjsl5DshJwg7KCc6rGwIOuQoCDsiJgg7J6I7J2M7J2EIOyduOygle2VqeuLiOuLpC4KCnt7IHByb2R1Y2VyIH1964qUIOuRkCDrnbzsmrTrk5wg7J207IOB7Jy866GcIOu4lOuhneydhCDsl7Dsho3soIHsnLzroZwg64iE65297ZWc64uk66m0LCDso7zslrTsp4Qg66y47KCc6rCAIO2VtOqysCDrkKAg65WM6rmM7KeAIGB1bnJlZ3Byb2RgIOyekeyXheydhCDsgqzsmqntlZjsl6wg67O47J247J20IOyDneyCsCDsnITsuZjsl5DshJwg7KCc6rGw65Co7J20IO2RnOykgCDqtIDtlonsnLzroZwg6rec7KCV65CY7Ja0IOyeiOydjOydhCDsnbjsoJXtlanri4jri6QuCgrkuKTova7miJbmm7TlpJrova7kuKLlnZfnmoTmg4XlvaIKCuaIke+8jHt7IHByb2R1Y2VyIH19LCDnoa7orqTlpoLmnpzov57nu63kuKTova7miJbmm7TlpJrova7kuKLlnZfkuJTml6Dms5XlnKgyMOWIhumSn+WGheiBlOezu+WIsOaIke+8jOaIke+8jHt7IHByb2R1Y2VyIH19LCDlkIzmhI/lj6/og73kvJrnlKggYHJtdnByb2R1Y2VyYCDmk43kvZzlsIbmiJHnp7vpmaTjgIIK5oiR77yMe3sgcHJvZHVjZXIgfX0sIOWmguaenOi/nue7reS4pOi9ruaIluabtOWkmui9ruS4ouWdl++8jOagueaNruagh+WHhuWunui3teS8muWPkei1tyBgdW5yZWdwcm9kYCDmk43kvZzlsIbmiJHnp7vpmaTlh7rlnZfotYTmoLzvvIznm7TliLDpl67popjop6PlhrPjgIIKCiMjIyAxMS4gVXJnZW50IFNlY3VyaXR5IFBhdGNoZXMKCkksIHt7IHByb2R1Y2VyIH19LCBhY2tub3dsZWRnZSB0aGF0IGlmIEkgYW0gbm90IGFibGUgdG8gYmUgY29udGFjdGVkIGluIGFueSBmb3JtIGFmdGVyIGFuIHVyZ2VudCBzZWN1cml0eSBwYXRjaCBpcyBhbm5vdW5jZWQsIEkgbWF5IGJlIHJlbW92ZWQgYnkgdXNlIG9mIHRoZSBgcm12cHJvZHVjZXJgIGFjdGlvbi4KCuq4tOq4iSDrs7TslYgg7Yyo7LmYCuq4tOq4iSDrs7TslYgg7Yyo7LmY6rCAIOuwnO2RnCDrkJwg7ZuELCDslrTrlqQg7ZiV7YOc66Gc65OgIOyXsOudvSDtlaAg7IiYIOyXhuuKlCDqsr3smrAgYHJtdnByb2R1Y2VyYCDsnpHsl4XsnYQg7IKs7Jqp7ZWY7JesIOygnOqxsCDrkKAg7IiYIOyeiOydjOydhCDrgpgsIHt7IHByb2R1Y2VyIH1964qUIOyduOygle2VqeuLiOuLpC4KCue0p+aApeWuieWFqOihpeS4gQoK5oiR77yMe3sgcHJvZHVjZXIgfX3vvIznoa7orqTlpoLmnpzlnKjntKfmgKXlronlhajooaXkuIHlj5HluIPlkI7nlKjku7vkvZXmlrnlvI/pg73ml6Dms5XogZTns7vliLDmiJHvvIzlj6/og73kvJrnlKggYHJtdnByb2R1Y2VyYCDmjIfku6TlsIbmiJHnp7vpmaTjgIIKCiMjIyAxMi4gRGlzY2xvc3VyZSBvZiBFbnRpdHkgYW5kIFNlcnZlciBJbmZvcm1hdGlvbgoKSSwge3sgcHJvZHVjZXIgfX0sIGF0dGVzdCB0aGF0IEkgaGF2ZSBkaXNjbG9zZWQgdGhlIGFwcHJveGltYXRlIGdlb2xvY2F0aW9uIGZvciBteSBtYWluIHByb2R1Y3Rpb24gbm9kZSBhcyBiZWluZyB7eyBsb2NhdGlvbiB9fS4KCuuyleyduCDrsI8g7ISc67KEIOygleuztOydmCDqs7XqsJwKCuuCmCwge3sgcHJvZHVjZXIgfX0g64qUIOyjvCDsg53sgrAg64W465Oc7JeQIOuMgO2VnCDsnITsuZgg7KCV67O066W8IOqzteqwnO2WiOydjOydhCDspp3rqoXtlanri4jri6QuCgrlrp7kvZPlkozmnI3liqHlmajnmoTkv6Hmga/miqvpnLIKCuaIke+8jHt7IHByb2R1Y2VyIH1977yM56Gu6K6k5oiR5bey57uP5oqr6Zyy5LqG5Li75Ye65Z2X6IqC54K55pyN5Yqh5Zmo5Zyw55CG5L2N572u55qE5YeG56Gu5L+h5oGv44CC5YW25Zyw5Z2A5Li6IHt7IGxvY2F0aW9uIH1944CCCgojIyMgMTMuIEVzdGFibGlzaGVzIHRoZSBwZW5hbHR5IGFuZCBwcm9jZWR1cmUgZm9yIHVud2lsbGluZ25lc3MgdG8gY29tcGx5IHdpdGggcGVuYWx0aWVzIG9yIHByb2NlZHVyZXMKCkksIHt7IHByb2R1Y2VyIH19LCBhY2tub3dsZWRnZSB0aGF0IGZhaWxpbmcgdG8gY29tcGx5IHdpdGggcGVuYWx0aWVzIG9yIHByb2NlZHVyZXMgZW5hY3RlZCBhZ2FpbnN0IG1lIHdpbGwgcmVzdWx0IGluIEJsb2NrIFByb2R1Y2VycyBleGVjdXRpbmcgdGhlIGBybXZwcm9kdWNlcmAgY29udHJhY3QgdG8gcmVtb3ZlIG1lLgoKSSwge3sgcHJvZHVjZXIgfX0sIHdpbGwgbm90IGV4ZWN1dGUgdGhlIGByZWdwcm9kdWNlcmAgY29udHJhY3QgdW50aWwgc2VydmluZyBvciBmdWxmaWxsaW5nIHRoZSByZXF1aXJlbWVudHMgZnJvbSBhIHBlbmFsdHkgb3IgcHJvY2VkdXJlIHRoYXQgcmVzdWx0cyBpbiBoYXZpbmcgdGhlIGBybXZwcm9kdWNlcmAgY29udHJhY3QgZXhlY3V0ZWQgdG8gcmVtb3ZlIG1lLgoKSSwge3sgcHJvZHVjZXIgfX0sIGFja25vd2xlZGdlIHRoYXQgaWYgSSBjb250aW51ZSB0byBjYWxsIHRoZSBgcmVncHJvZHVjZXJgIGFjdGlvbiB3aXRob3V0IHNlcnZpbmcgb3IgZnVsZmlsbGluZyB0aGUgcmVxdWlyZW1lbnRzIGZyb20gYnJlYWNoIG9mIGByZWdwcm9kdWNlcmAsIG15IGFjY291bnQga2V5cyBhc3NvY2lhdGVkIHdpdGggdGhlIHJlZ2lzdGVyZWQgQmxvY2sgUHJvZHVjZXIgaW4gcXVlc3Rpb24gbWF5IGJlIG51bGxlZCBieSBCbG9jayBQcm9kdWNlcnMgYnkgdXNpbmcgYGVvc2lvLndyYXBgLgoK7Y6Y64SQ7Yuw66W8IOykgOyImO2VmOyngCDslYrsnYQg6rK97JqwIOuyjOy5mQoK64KYLCB7eyBwcm9kdWNlciB9fSDripQg64KY7JeQ6rKMIOygnOyerOuQnCDsspjrsozsnYQg7KSA7IiY7ZWY7KeAIOyViuycvOuptCDruJTroZ3tlITroZzrk4DshJzrk6TsnbQgYHJtdnByb2R1Y2VyYCDqs4Tslb3snYQg7KeR7ZaJ7ZWY6rKMIOuQoCDqsoPsnbTrnbzqs6Ag7J247KCV7ZWp64uI64ukLiDrgpgsIHt7IHByb2R1Y2VyIH19IOuKlCBgcm12cHJvZHVjZXJgIOqzhOyVveydtCDsp5HtlonrkJzri6TrqbQg7JqU6rWsIOyCrO2VreydhCDstqnsobHrkKAg65WM6rmM7KeAIGByZWdwcm9kdWNlcmAg6rOE7JW97J2EIOydtO2Wie2VmOyngCDslYrsnYQg6rKD7J6F64uI64ukLgpgcmVncHJvZHVjZXJgIOqzhOyVvSDsnITrsJjsnLzroZwg7J247ZWcIOyalOq1rCDsgqztla3snYQg7Lap7KGx7Iuc7YKk7KeAIOyViuqzoCBgcmVncHJvZHVjZXJgIOqzhOyVveydhCDqs4Tsho0g7Zi47Lac7ZWY66m0IO2VtOuLuSDruJTroZ3tlITroZzrk4DshJzsmYAg6rSA66Co65CcIOqzhOyglSDtgqTqsIAgYGVvc2lvLndyYXBgIOydhCDsgqzsmqntlZjsl6wg67iU66Gd7ZSE66Gc65OA7ISc65Ok7JeQIOydmO2VtCDrrLTtmqjtmZQg65CgIOyImCDsnojsnYzsnYQg7J247KCV7ZWp64uI64ukLgoK5a+55LiN5oS/6YG15a6I5aSE572a55qE6KGM5Li65LqI5Lul5aSE572aCgrmiJHvvIx7eyBwcm9kdWNlciB9fe+8jOaJv+iupOiLpeS4jemBteWuiOWvueacrOS6uuWItuijgeeahOWkhOe9mu+8jEJQIOWPr+S7peWunuaWvSBgcm12cHJvZHVjZXJgIOWQiOe6pu+8jOaIkeaOpeWPl+aKleelqOeahOi1hOagvOWwhuiiq+WPlua2iOOAguiLpeaciemSiOWvueaIkeWunuaWvSBgcm12cHJvZHVjZXJgIOWQiOe6pueahOaDheWGteWPkeeUn++8jOaIkSwge3sgcHJvZHVjZXIgfX0g5Zyo6YG15a6IL+WxpeihjOaJgOaUtuWIsOeahOWkhOe9muS5i+WJje+8jOS4jeS8muWGjeasoeaJp+ihjCBgcmVncHJvZHVjZXJgIOWQiOe6puOAggoK5oiR77yMe3sgcHJvZHVjZXIgfX3vvIzlnKjlsaXooYzmg6nnvZrnqIvluo/nmoTopoHmsYLkuYvliY3vvIzkuI3kvJrmiafooYwgYHJlZ3Byb2R1Y2VyYCDlkIjlkIzjgILmiJHnn6XmmZPlpoLkuI3lsaXooYzmraTnqIvluo/vvIwgYHJtdnByb2R1Y2VyYCDlkIjlkIzlsIbkvJrlho3mrKHlsIbmiJHnp7vpmaTjgIIKCuaIkSx7eyBwcm9kdWNlciB9fSwg5om/6K6k5aaC5p6c5rKh5pyJ6YG15a6I5oiW5bGl6KGM5Zug6L+d5Y+NIGByZWdwcm9kdWNlcmAg6ICM5Y+X5Yiw55qE5oOp572a6KaB5rGC5Y2057un57ut6LCD55SoYHJlZ3Byb2R1Y2VyYOaTjeS9nO+8jEJQIOWPr+S7peiwg+eUqCBgZW9zaW8ud3JhcGAg5ZCI57qm5bCG5oiR55So5p2l5rOo5YaM5Ye65Z2X6IqC54K555qE6LSm5Y+35a+G6ZKl6K6+572u5Li65peg5pWI5YC844CCAAABInZhcmlhbnRfYmxvY2tfc2lnbmluZ19hdXRob3JpdHlfdjABGmJsb2NrX3NpZ25pbmdfYXV0aG9yaXR5X3Yw"),W9=ze.from(B9);class T9 extends Km{constructor(t){super({client:t.client,abi:W9,account:B.from("eosio")})}action(t,i,s){return super.action(t,i,s)}table(t,i){return super.table(t,i,L9[t])}}var Rt;(function(e){let t=class extends h{};p([h.field(B)],t.prototype,"owner",void 0),p([h.field(_e)],t.prototype,"hash",void 0),t=p([h.type("abi_hash")],t),e.AbiHash=t;let i=class extends h{};p([h.field(_e)],i.prototype,"feature_digest",void 0),i=p([h.type("activate")],i),e.Activate=i;let s=class extends h{};p([h.field(ei)],s.prototype,"key",void 0),p([h.field(li)],s.prototype,"weight",void 0),s=p([h.type("key_weight")],s),e.KeyWeight=s;let r=class extends h{};p([h.field(B)],r.prototype,"actor",void 0),p([h.field(B)],r.prototype,"permission",void 0),r=p([h.type("permission_level")],r),e.PermissionLevel=r;let n=class extends h{};p([h.field(r)],n.prototype,"permission",void 0),p([h.field(li)],n.prototype,"weight",void 0),n=p([h.type("permission_level_weight")],n),e.PermissionLevelWeight=n;let o=class extends h{};p([h.field(ge)],o.prototype,"wait_sec",void 0),p([h.field(li)],o.prototype,"weight",void 0),o=p([h.type("wait_weight")],o),e.WaitWeight=o;let a=class extends h{};p([h.field(ge)],a.prototype,"threshold",void 0),p([h.field(s,{array:!0})],a.prototype,"keys",void 0),p([h.field(n,{array:!0})],a.prototype,"accounts",void 0),p([h.field(o,{array:!0})],a.prototype,"waits",void 0),a=p([h.type("authority")],a),e.Authority=a;let l=class extends h{};p([h.field(B)],l.prototype,"bidder",void 0),p([h.field(ie)],l.prototype,"amount",void 0),l=p([h.type("bid_refund")],l),e.BidRefund=l;let c=class extends h{};p([h.field(B)],c.prototype,"bidder",void 0),p([h.field(B)],c.prototype,"newname",void 0),p([h.field(ie)],c.prototype,"bid",void 0),c=p([h.type("bidname")],c),e.Bidname=c;let d=class extends h{};p([h.field(B)],d.prototype,"bidder",void 0),p([h.field(B)],d.prototype,"newname",void 0),d=p([h.type("bidrefund")],d),e.Bidrefund=d;let u=class extends h{};p([h.field(B)],u.prototype,"producer_name",void 0),p([h.field(ei)],u.prototype,"block_signing_key",void 0),u=p([h.type("producer_key")],u),e.ProducerKey=u;let f=class extends h{};p([h.field(ge)],f.prototype,"version",void 0),p([h.field(u,{array:!0})],f.prototype,"producers",void 0),f=p([h.type("producer_schedule")],f),e.ProducerSchedule=f;let g=class extends h{};p([h.field(ge)],g.prototype,"timestamp",void 0),p([h.field(B)],g.prototype,"producer",void 0),p([h.field(li)],g.prototype,"confirmed",void 0),p([h.field(_e)],g.prototype,"previous",void 0),p([h.field(_e)],g.prototype,"transaction_mroot",void 0),p([h.field(_e)],g.prototype,"action_mroot",void 0),p([h.field(ge)],g.prototype,"schedule_version",void 0),p([h.field(f,{optional:!0})],g.prototype,"new_producers",void 0),g=p([h.type("block_header")],g),e.BlockHeader=g;let m=class extends h{};p([h.field(Dt)],m.prototype,"version",void 0),p([h.field(ge)],m.prototype,"block_height",void 0),p([h.field(Ss)],m.prototype,"block_timestamp",void 0),m=p([h.type("block_info_record")],m),e.BlockInfoRecord=m;let y=class extends h{};p([h.field(ge)],y.prototype,"threshold",void 0),p([h.field(s,{array:!0})],y.prototype,"keys",void 0),y=p([h.type("block_signing_authority_v0")],y),e.BlockSigningAuthorityV0=y;let b=class extends h{};p([h.field(Le)],b.prototype,"max_block_net_usage",void 0),p([h.field(ge)],b.prototype,"target_block_net_usage_pct",void 0),p([h.field(ge)],b.prototype,"max_transaction_net_usage",void 0),p([h.field(ge)],b.prototype,"base_per_transaction_net_usage",void 0),p([h.field(ge)],b.prototype,"net_usage_leeway",void 0),p([h.field(ge)],b.prototype,"context_free_discount_net_usage_num",void 0),p([h.field(ge)],b.prototype,"context_free_discount_net_usage_den",void 0),p([h.field(ge)],b.prototype,"max_block_cpu_usage",void 0),p([h.field(ge)],b.prototype,"target_block_cpu_usage_pct",void 0),p([h.field(ge)],b.prototype,"max_transaction_cpu_usage",void 0),p([h.field(ge)],b.prototype,"min_transaction_cpu_usage",void 0),p([h.field(ge)],b.prototype,"max_transaction_lifetime",void 0),p([h.field(ge)],b.prototype,"deferred_trx_expiration_window",void 0),p([h.field(ge)],b.prototype,"max_transaction_delay",void 0),p([h.field(ge)],b.prototype,"max_inline_action_size",void 0),p([h.field(li)],b.prototype,"max_inline_action_depth",void 0),p([h.field(li)],b.prototype,"max_authority_depth",void 0),b=p([h.type("blockchain_parameters")],b),e.BlockchainParameters=b;let S=class extends h{};p([h.field(ge,{optional:!0})],S.prototype,"max_action_return_value_size",void 0),S=p([h.type("blockchain_parameters_v1")],S),e.BlockchainParametersV1=S;let I=class extends h{};p([h.field(B)],I.prototype,"payer",void 0),p([h.field(B)],I.prototype,"receiver",void 0),p([h.field(ie)],I.prototype,"quant",void 0),I=p([h.type("buyram")],I),e.Buyram=I;let F=class extends h{};p([h.field(B)],F.prototype,"payer",void 0),p([h.field(B)],F.prototype,"receiver",void 0),p([h.field(ge)],F.prototype,"bytes",void 0),F=p([h.type("buyrambytes")],F),e.Buyrambytes=F;let D=class extends h{};p([h.field(B)],D.prototype,"from",void 0),p([h.field(ie)],D.prototype,"amount",void 0),D=p([h.type("buyrex")],D),e.Buyrex=D;let V=class extends h{};p([h.field(r)],V.prototype,"canceling_auth",void 0),p([h.field(_e)],V.prototype,"trx_id",void 0),V=p([h.type("canceldelay")],V),e.Canceldelay=V;let O=class extends h{};p([h.field(me,{optional:!0})],O.prototype,"current_weight_ratio",void 0),p([h.field(me,{optional:!0})],O.prototype,"target_weight_ratio",void 0),p([h.field(me,{optional:!0})],O.prototype,"assumed_stake_weight",void 0),p([h.field(ci,{optional:!0})],O.prototype,"target_timestamp",void 0),p([h.field(yi,{optional:!0})],O.prototype,"exponent",void 0),p([h.field(ge,{optional:!0})],O.prototype,"decay_secs",void 0),p([h.field(ie,{optional:!0})],O.prototype,"min_price",void 0),p([h.field(ie,{optional:!0})],O.prototype,"max_price",void 0),O=p([h.type("powerup_config_resource")],O),e.PowerupConfigResource=O;let L=class extends h{};p([h.field(O)],L.prototype,"net",void 0),p([h.field(O)],L.prototype,"cpu",void 0),p([h.field(ge,{optional:!0})],L.prototype,"powerup_days",void 0),p([h.field(ie,{optional:!0})],L.prototype,"min_powerup_fee",void 0),L=p([h.type("powerup_config")],L),e.PowerupConfig=L;let q=class extends h{};p([h.field(L)],q.prototype,"args",void 0),q=p([h.type("cfgpowerup")],q),e.Cfgpowerup=q;let T=class extends h{};p([h.field(B)],T.prototype,"owner",void 0),T=p([h.type("claimrewards")],T),e.Claimrewards=T;let X=class extends h{};p([h.field(B)],X.prototype,"owner",void 0),X=p([h.type("closerex")],X),e.Closerex=X;let _=class extends h{};p([h.field(B)],_.prototype,"owner",void 0),_=p([h.type("cnclrexorder")],_),e.Cnclrexorder=_;let v=class extends h{};p([h.field(ie)],v.prototype,"balance",void 0),p([h.field(yi)],v.prototype,"weight",void 0),v=p([h.type("connector")],v),e.Connector=v;let w=class extends h{};p([h.field(B)],w.prototype,"owner",void 0),w=p([h.type("consolidate")],w),e.Consolidate=w;let R=class extends h{};p([h.field(B)],R.prototype,"from",void 0),p([h.field(Le)],R.prototype,"loan_num",void 0),p([h.field(ie)],R.prototype,"amount",void 0),R=p([h.type("defcpuloan")],R),e.Defcpuloan=R;let A=class extends h{};p([h.field(B)],A.prototype,"from",void 0),p([h.field(Le)],A.prototype,"loan_num",void 0),p([h.field(ie)],A.prototype,"amount",void 0),A=p([h.type("defnetloan")],A),e.Defnetloan=A;let M=class extends h{};p([h.field(B)],M.prototype,"from",void 0),p([h.field(B)],M.prototype,"receiver",void 0),p([h.field(ie)],M.prototype,"stake_net_quantity",void 0),p([h.field(ie)],M.prototype,"stake_cpu_quantity",void 0),p([h.field("bool")],M.prototype,"transfer",void 0),M=p([h.type("delegatebw")],M),e.Delegatebw=M;let x=class extends h{};p([h.field(B)],x.prototype,"from",void 0),p([h.field(B)],x.prototype,"to",void 0),p([h.field(ie)],x.prototype,"net_weight",void 0),p([h.field(ie)],x.prototype,"cpu_weight",void 0),x=p([h.type("delegated_bandwidth")],x),e.DelegatedBandwidth=x;let G=class extends h{};p([h.field(B)],G.prototype,"account",void 0),p([h.field(B)],G.prototype,"permission",void 0),p([h.field(B,{optional:!0})],G.prototype,"authorized_by",void 0),G=p([h.type("deleteauth")],G),e.Deleteauth=G;let E=class extends h{};p([h.field(B)],E.prototype,"owner",void 0),p([h.field(ie)],E.prototype,"amount",void 0),E=p([h.type("deposit")],E),e.Deposit=E;let C=class extends h{};p([h.field(Le)],C.prototype,"max_ram_size",void 0),p([h.field(Le)],C.prototype,"total_ram_bytes_reserved",void 0),p([h.field(me)],C.prototype,"total_ram_stake",void 0),p([h.field(ro)],C.prototype,"last_producer_schedule_update",void 0),p([h.field(Ss)],C.prototype,"last_pervote_bucket_fill",void 0),p([h.field(me)],C.prototype,"pervote_bucket",void 0),p([h.field(me)],C.prototype,"perblock_bucket",void 0),p([h.field(ge)],C.prototype,"total_unpaid_blocks",void 0),p([h.field(me)],C.prototype,"total_activated_stake",void 0),p([h.field(Ss)],C.prototype,"thresh_activated_stake_time",void 0),p([h.field(li)],C.prototype,"last_producer_schedule_size",void 0),p([h.field(yi)],C.prototype,"total_producer_vote_weight",void 0),p([h.field(ro)],C.prototype,"last_name_close",void 0),C=p([h.type("eosio_global_state")],C),e.EosioGlobalState=C;let k=class extends h{};p([h.field(li)],k.prototype,"new_ram_per_block",void 0),p([h.field(ro)],k.prototype,"last_ram_increase",void 0),p([h.field(ro)],k.prototype,"last_block_num",void 0),p([h.field(yi)],k.prototype,"total_producer_votepay_share",void 0),p([h.field(Dt)],k.prototype,"revision",void 0),k=p([h.type("eosio_global_state2")],k),e.EosioGlobalState2=k;let ce=class extends h{};p([h.field(Ss)],ce.prototype,"last_vpay_state_update",void 0),p([h.field(yi)],ce.prototype,"total_vpay_share_change_rate",void 0),ce=p([h.type("eosio_global_state3")],ce),e.EosioGlobalState3=ce;let de=class extends h{};p([h.field(yi)],de.prototype,"continuous_rate",void 0),p([h.field(me)],de.prototype,"inflation_pay_factor",void 0),p([h.field(me)],de.prototype,"votepay_factor",void 0),de=p([h.type("eosio_global_state4")],de),e.EosioGlobalState4=de;let ue=class extends h{};p([h.field(ie)],ue.prototype,"supply",void 0),p([h.field(v)],ue.prototype,"base",void 0),p([h.field(v)],ue.prototype,"quote",void 0),ue=p([h.type("exchange_state")],ue),e.ExchangeState=ue;let we=class extends h{};p([h.field(B)],we.prototype,"from",void 0),p([h.field(Le)],we.prototype,"loan_num",void 0),p([h.field(ie)],we.prototype,"payment",void 0),we=p([h.type("fundcpuloan")],we),e.Fundcpuloan=we;let Me=class extends h{};p([h.field(B)],Me.prototype,"from",void 0),p([h.field(Le)],Me.prototype,"loan_num",void 0),p([h.field(ie)],Me.prototype,"payment",void 0),Me=p([h.type("fundnetloan")],Me),e.Fundnetloan=Me;let We=class extends h{};p([h.field(lc)],We.prototype,"version",void 0),p([h.field(ie.Symbol)],We.prototype,"core",void 0),We=p([h.type("init")],We),e.Init=We;let he=class extends h{};p([h.field(B)],he.prototype,"account",void 0),p([h.field(B,{array:!0})],he.prototype,"allow_perms",void 0),p([h.field(B,{array:!0})],he.prototype,"disallow_perms",void 0),he=p([h.type("limitauthchg")],he),e.Limitauthchg=he;let U=class extends h{};p([h.field(B)],U.prototype,"account",void 0),p([h.field(B)],U.prototype,"code",void 0),p([h.field(B)],U.prototype,"type",void 0),p([h.field(B)],U.prototype,"requirement",void 0),p([h.field(B,{optional:!0})],U.prototype,"authorized_by",void 0),U=p([h.type("linkauth")],U),e.Linkauth=U;let et=class extends h{};p([h.field(B)],et.prototype,"owner",void 0),p([h.field(ie)],et.prototype,"rex",void 0),et=p([h.type("mvfrsavings")],et),e.Mvfrsavings=et;let is=class extends h{};p([h.field(B)],is.prototype,"owner",void 0),p([h.field(ie)],is.prototype,"rex",void 0),is=p([h.type("mvtosavings")],is),e.Mvtosavings=is;let Ke=class extends h{};p([h.field(B)],Ke.prototype,"newname",void 0),p([h.field(B)],Ke.prototype,"high_bidder",void 0),p([h.field(me)],Ke.prototype,"high_bid",void 0),p([h.field(Ss)],Ke.prototype,"last_bid_time",void 0),Ke=p([h.type("name_bid")],Ke),e.NameBid=Ke;let ut=class extends h{};p([h.field(B)],ut.prototype,"creator",void 0),p([h.field(B)],ut.prototype,"name",void 0),p([h.field(a)],ut.prototype,"owner",void 0),p([h.field(a)],ut.prototype,"active",void 0),ut=p([h.type("newaccount")],ut),e.Newaccount=ut;let nn=class extends h{};p([h.field(g)],nn.prototype,"header",void 0),nn=p([h.type("onblock")],nn),e.Onblock=nn;let gt=class extends h{};p([h.field(Hi)],gt.prototype,"sender_id",void 0),p([h.field(pe)],gt.prototype,"sent_trx",void 0),gt=p([h.type("onerror")],gt),e.Onerror=gt;let lt=class extends h{};p([h.field(ci)],lt.prototype,"first",void 0),p([h.field(me)],lt.prototype,"second",void 0),lt=p([h.type("pair_time_point_sec_int64")],lt),e.PairTimePointSecInt64=lt;let ss=class extends h{};p([h.field(B)],ss.prototype,"payer",void 0),p([h.field(B)],ss.prototype,"receiver",void 0),p([h.field(ge)],ss.prototype,"days",void 0),p([h.field(me)],ss.prototype,"net_frac",void 0),p([h.field(me)],ss.prototype,"cpu_frac",void 0),p([h.field(ie)],ss.prototype,"max_payment",void 0),ss=p([h.type("powerup")],ss),e.Powerup=ss;let st=class extends h{};p([h.field(Dt)],st.prototype,"version",void 0),p([h.field(Le)],st.prototype,"id",void 0),p([h.field(B)],st.prototype,"owner",void 0),p([h.field(me)],st.prototype,"net_weight",void 0),p([h.field(me)],st.prototype,"cpu_weight",void 0),p([h.field(ci)],st.prototype,"expires",void 0),st=p([h.type("powerup_order")],st),e.PowerupOrder=st;let Ee=class extends h{};p([h.field(Dt)],Ee.prototype,"version",void 0),p([h.field(me)],Ee.prototype,"weight",void 0),p([h.field(me)],Ee.prototype,"weight_ratio",void 0),p([h.field(me)],Ee.prototype,"assumed_stake_weight",void 0),p([h.field(me)],Ee.prototype,"initial_weight_ratio",void 0),p([h.field(me)],Ee.prototype,"target_weight_ratio",void 0),p([h.field(ci)],Ee.prototype,"initial_timestamp",void 0),p([h.field(ci)],Ee.prototype,"target_timestamp",void 0),p([h.field(yi)],Ee.prototype,"exponent",void 0),p([h.field(ge)],Ee.prototype,"decay_secs",void 0),p([h.field(ie)],Ee.prototype,"min_price",void 0),p([h.field(ie)],Ee.prototype,"max_price",void 0),p([h.field(me)],Ee.prototype,"utilization",void 0),p([h.field(me)],Ee.prototype,"adjusted_utilization",void 0),p([h.field(ci)],Ee.prototype,"utilization_timestamp",void 0),Ee=p([h.type("powerup_state_resource")],Ee),e.PowerupStateResource=Ee;let bs=class extends h{};p([h.field(Dt)],bs.prototype,"version",void 0),p([h.field(Ee)],bs.prototype,"net",void 0),p([h.field(Ee)],bs.prototype,"cpu",void 0),p([h.field(ge)],bs.prototype,"powerup_days",void 0),p([h.field(ie)],bs.prototype,"min_powerup_fee",void 0),bs=p([h.type("powerup_state")],bs),e.PowerupState=bs;let mt=class extends h{};p([h.field(B)],mt.prototype,"user",void 0),p([h.field(li)],mt.prototype,"max",void 0),mt=p([h.type("powerupexec")],mt),e.Powerupexec=mt;let Ue=class extends h{};p([h.field(B)],Ue.prototype,"owner",void 0),p([h.field(yi)],Ue.prototype,"total_votes",void 0),p([h.field(ei)],Ue.prototype,"producer_key",void 0),p([h.field("bool")],Ue.prototype,"is_active",void 0),p([h.field("string")],Ue.prototype,"url",void 0),p([h.field(ge)],Ue.prototype,"unpaid_blocks",void 0),p([h.field(Ss)],Ue.prototype,"last_claim_time",void 0),p([h.field(li)],Ue.prototype,"location",void 0),p([h.field(y,{optional:!0})],Ue.prototype,"producer_authority",void 0),Ue=p([h.type("producer_info")],Ue),e.ProducerInfo=Ue;let Qs=class extends h{};p([h.field(B)],Qs.prototype,"owner",void 0),p([h.field(yi)],Qs.prototype,"votepay_share",void 0),p([h.field(Ss)],Qs.prototype,"last_votepay_share_update",void 0),Qs=p([h.type("producer_info2")],Qs),e.ProducerInfo2=Qs;let Ft=class extends h{};p([h.field(B)],Ft.prototype,"owner",void 0),Ft=p([h.type("refund")],Ft),e.Refund=Ft;let ct=class extends h{};p([h.field(B)],ct.prototype,"owner",void 0),p([h.field(ci)],ct.prototype,"request_time",void 0),p([h.field(ie)],ct.prototype,"net_amount",void 0),p([h.field(ie)],ct.prototype,"cpu_amount",void 0),ct=p([h.type("refund_request")],ct),e.RefundRequest=ct;let J=class extends h{};p([h.field(B)],J.prototype,"producer",void 0),p([h.field(ei)],J.prototype,"producer_key",void 0),p([h.field("string")],J.prototype,"url",void 0),p([h.field(li)],J.prototype,"location",void 0),J=p([h.type("regproducer")],J),e.Regproducer=J;let Z=class extends h{};p([h.field(B)],Z.prototype,"producer",void 0),p([h.field(y)],Z.prototype,"producer_authority",void 0),p([h.field("string")],Z.prototype,"url",void 0),p([h.field(li)],Z.prototype,"location",void 0),Z=p([h.type("regproducer2")],Z),e.Regproducer2=Z;let ae=class extends h{};p([h.field(B)],ae.prototype,"proxy",void 0),p([h.field("bool")],ae.prototype,"isproxy",void 0),ae=p([h.type("regproxy")],ae),e.Regproxy=ae;let fe=class extends h{};p([h.field(B)],fe.prototype,"from",void 0),p([h.field(B)],fe.prototype,"receiver",void 0),p([h.field(ie)],fe.prototype,"loan_payment",void 0),p([h.field(ie)],fe.prototype,"loan_fund",void 0),fe=p([h.type("rentcpu")],fe),e.Rentcpu=fe;let Re=class extends h{};p([h.field(B)],Re.prototype,"from",void 0),p([h.field(B)],Re.prototype,"receiver",void 0),p([h.field(ie)],Re.prototype,"loan_payment",void 0),p([h.field(ie)],Re.prototype,"loan_fund",void 0),Re=p([h.type("rentnet")],Re),e.Rentnet=Re;let Ie=class extends h{};p([h.field(Dt)],Ie.prototype,"version",void 0),p([h.field(B)],Ie.prototype,"owner",void 0),p([h.field(ie)],Ie.prototype,"vote_stake",void 0),p([h.field(ie)],Ie.prototype,"rex_balance",void 0),p([h.field(me)],Ie.prototype,"matured_rex",void 0),p([h.field(lt,{array:!0})],Ie.prototype,"rex_maturities",void 0),Ie=p([h.type("rex_balance")],Ie),e.RexBalance=Ie;let vt=class extends h{};p([h.field(Dt)],vt.prototype,"version",void 0),p([h.field(B)],vt.prototype,"owner",void 0),p([h.field(ie)],vt.prototype,"balance",void 0),vt=p([h.type("rex_fund")],vt),e.RexFund=vt;let Se=class extends h{};p([h.field(Dt)],Se.prototype,"version",void 0),p([h.field(B)],Se.prototype,"from",void 0),p([h.field(B)],Se.prototype,"receiver",void 0),p([h.field(ie)],Se.prototype,"payment",void 0),p([h.field(ie)],Se.prototype,"balance",void 0),p([h.field(ie)],Se.prototype,"total_staked",void 0),p([h.field(Le)],Se.prototype,"loan_num",void 0),p([h.field(Ss)],Se.prototype,"expiration",void 0),Se=p([h.type("rex_loan")],Se),e.RexLoan=Se;let ke=class extends h{};p([h.field(Dt)],ke.prototype,"version",void 0),p([h.field(B)],ke.prototype,"owner",void 0),p([h.field(ie)],ke.prototype,"rex_requested",void 0),p([h.field(ie)],ke.prototype,"proceeds",void 0),p([h.field(ie)],ke.prototype,"stake_change",void 0),p([h.field(Ss)],ke.prototype,"order_time",void 0),p([h.field("bool")],ke.prototype,"is_open",void 0),ke=p([h.type("rex_order")],ke),e.RexOrder=ke;let Zt=class extends h{};p([h.field(Dt)],Zt.prototype,"version",void 0),p([h.field(ie)],Zt.prototype,"total_lent",void 0),p([h.field(ie)],Zt.prototype,"total_unlent",void 0),p([h.field(ie)],Zt.prototype,"total_rent",void 0),p([h.field(ie)],Zt.prototype,"total_lendable",void 0),p([h.field(ie)],Zt.prototype,"total_rex",void 0),p([h.field(ie)],Zt.prototype,"namebid_proceeds",void 0),p([h.field(Le)],Zt.prototype,"loan_num",void 0),Zt=p([h.type("rex_pool")],Zt),e.RexPool=Zt;let Ze=class extends h{};p([h.field(Dt)],Ze.prototype,"version",void 0),p([h.field(lt,{array:!0})],Ze.prototype,"return_buckets",void 0),Ze=p([h.type("rex_return_buckets")],Ze),e.RexReturnBuckets=Ze;let Te=class extends h{};p([h.field(Dt)],Te.prototype,"version",void 0),p([h.field(ci)],Te.prototype,"last_dist_time",void 0),p([h.field(ci)],Te.prototype,"pending_bucket_time",void 0),p([h.field(ci)],Te.prototype,"oldest_bucket_time",void 0),p([h.field(me)],Te.prototype,"pending_bucket_proceeds",void 0),p([h.field(me)],Te.prototype,"current_rate_of_increase",void 0),p([h.field(me)],Te.prototype,"proceeds",void 0),Te=p([h.type("rex_return_pool")],Te),e.RexReturnPool=Te;let Xi=class extends h{};p([h.field(B)],Xi.prototype,"user",void 0),p([h.field(li)],Xi.prototype,"max",void 0),Xi=p([h.type("rexexec")],Xi),e.Rexexec=Xi;let nt=class extends h{};p([h.field(B)],nt.prototype,"producer",void 0),nt=p([h.type("rmvproducer")],nt),e.Rmvproducer=nt;let ht=class extends h{};p([h.field(B)],ht.prototype,"account",void 0),p([h.field(me)],ht.prototype,"bytes",void 0),ht=p([h.type("sellram")],ht),e.Sellram=ht;let ai=class extends h{};p([h.field(B)],ai.prototype,"from",void 0),p([h.field(ie)],ai.prototype,"rex",void 0),ai=p([h.type("sellrex")],ai),e.Sellrex=ai;let xt=class extends h{};p([h.field(B)],xt.prototype,"account",void 0),p([h.field(pe)],xt.prototype,"abi",void 0),p([h.field("string",{optional:!0})],xt.prototype,"memo",void 0),xt=p([h.type("setabi")],xt),e.Setabi=xt;let Mt=class extends h{};p([h.field(B)],Mt.prototype,"account",void 0),p([h.field(me,{optional:!0})],Mt.prototype,"cpu_weight",void 0),Mt=p([h.type("setacctcpu")],Mt),e.Setacctcpu=Mt;let Vn=class extends h{};p([h.field(B)],Vn.prototype,"account",void 0),p([h.field(me,{optional:!0})],Vn.prototype,"net_weight",void 0),Vn=p([h.type("setacctnet")],Vn),e.Setacctnet=Vn;let kt=class extends h{};p([h.field(B)],kt.prototype,"account",void 0),p([h.field(me,{optional:!0})],kt.prototype,"ram_bytes",void 0),kt=p([h.type("setacctram")],kt),e.Setacctram=kt;let bt=class extends h{};p([h.field(B)],bt.prototype,"account",void 0),p([h.field(me)],bt.prototype,"ram_bytes",void 0),p([h.field(me)],bt.prototype,"net_weight",void 0),p([h.field(me)],bt.prototype,"cpu_weight",void 0),bt=p([h.type("setalimits")],bt),e.Setalimits=bt;let $s=class extends h{};p([h.field(B)],$s.prototype,"account",void 0),p([h.field(Dt)],$s.prototype,"vmtype",void 0),p([h.field(Dt)],$s.prototype,"vmversion",void 0),p([h.field(pe)],$s.prototype,"code",void 0),p([h.field("string",{optional:!0})],$s.prototype,"memo",void 0),$s=p([h.type("setcode")],$s),e.Setcode=$s;let _t=class extends h{};p([h.field(me)],_t.prototype,"annual_rate",void 0),p([h.field(me)],_t.prototype,"inflation_pay_factor",void 0),p([h.field(me)],_t.prototype,"votepay_factor",void 0),_t=p([h.type("setinflation")],_t),e.Setinflation=_t;let Ot=class extends h{};p([h.field(S)],Ot.prototype,"params",void 0),Ot=p([h.type("setparams")],Ot),e.Setparams=Ot;let Hn=class extends h{};p([h.field(B)],Hn.prototype,"account",void 0),p([h.field(Dt)],Hn.prototype,"is_priv",void 0),Hn=p([h.type("setpriv")],Hn),e.Setpriv=Hn;let Bt=class extends h{};p([h.field(Le)],Bt.prototype,"max_ram_size",void 0),Bt=p([h.type("setram")],Bt),e.Setram=Bt;let Wt=class extends h{};p([h.field(li)],Wt.prototype,"bytes_per_block",void 0),Wt=p([h.type("setramrate")],Wt),e.Setramrate=Wt;let Wo=class extends h{};p([h.field(ie)],Wo.prototype,"balance",void 0),Wo=p([h.type("setrex")],Wo),e.Setrex=Wo;let Ct=class extends h{};p([h.field(B)],Ct.prototype,"from",void 0),p([h.field(B)],Ct.prototype,"receiver",void 0),p([h.field(ie)],Ct.prototype,"unstake_net_quantity",void 0),p([h.field(ie)],Ct.prototype,"unstake_cpu_quantity",void 0),Ct=p([h.type("undelegatebw")],Ct),e.Undelegatebw=Ct;let yt=class extends h{};p([h.field(B)],yt.prototype,"account",void 0),p([h.field(B)],yt.prototype,"code",void 0),p([h.field(B)],yt.prototype,"type",void 0),p([h.field(B,{optional:!0})],yt.prototype,"authorized_by",void 0),yt=p([h.type("unlinkauth")],yt),e.Unlinkauth=yt;let To=class extends h{};p([h.field(B)],To.prototype,"producer",void 0),To=p([h.type("unregprod")],To),e.Unregprod=To;let wt=class extends h{};p([h.field(B)],wt.prototype,"owner",void 0),p([h.field(B)],wt.prototype,"receiver",void 0),p([h.field(ie)],wt.prototype,"from_net",void 0),p([h.field(ie)],wt.prototype,"from_cpu",void 0),wt=p([h.type("unstaketorex")],wt),e.Unstaketorex=wt;let ft=class extends h{};p([h.field(B)],ft.prototype,"account",void 0),p([h.field(B)],ft.prototype,"permission",void 0),p([h.field(B)],ft.prototype,"parent",void 0),p([h.field(a)],ft.prototype,"auth",void 0),p([h.field(B,{optional:!0})],ft.prototype,"authorized_by",void 0),ft=p([h.type("updateauth")],ft),e.Updateauth=ft;let Lo=class extends h{};p([h.field(B)],Lo.prototype,"owner",void 0),Lo=p([h.type("updaterex")],Lo),e.Updaterex=Lo;let Tt=class extends h{};p([h.field(Dt)],Tt.prototype,"revision",void 0),Tt=p([h.type("updtrevision")],Tt),e.Updtrevision=Tt;let St=class extends h{};p([h.field(B)],St.prototype,"owner",void 0),p([h.field(ie)],St.prototype,"net_weight",void 0),p([h.field(ie)],St.prototype,"cpu_weight",void 0),p([h.field(me)],St.prototype,"ram_bytes",void 0),St=p([h.type("user_resources")],St),e.UserResources=St;let Sr=class extends h{};p([h.field(B)],Sr.prototype,"voter",void 0),p([h.field(B)],Sr.prototype,"proxy",void 0),p([h.field(B,{array:!0})],Sr.prototype,"producers",void 0),Sr=p([h.type("voteproducer")],Sr),e.Voteproducer=Sr;let Mi=class extends h{};p([h.field(B)],Mi.prototype,"owner",void 0),p([h.field(B)],Mi.prototype,"proxy",void 0),p([h.field(B,{array:!0})],Mi.prototype,"producers",void 0),p([h.field(me)],Mi.prototype,"staked",void 0),p([h.field(yi)],Mi.prototype,"last_vote_weight",void 0),p([h.field(yi)],Mi.prototype,"proxied_vote_weight",void 0),p([h.field("bool")],Mi.prototype,"is_proxy",void 0),p([h.field(ge)],Mi.prototype,"flags1",void 0),p([h.field(ge)],Mi.prototype,"reserved2",void 0),p([h.field(ie)],Mi.prototype,"reserved3",void 0),Mi=p([h.type("voter_info")],Mi),e.VoterInfo=Mi;let Zn=class extends h{};p([h.field(B)],Zn.prototype,"voter_name",void 0),Zn=p([h.type("voteupdate")],Zn),e.Voteupdate=Zn;let Yn=class extends h{};p([h.field(B)],Yn.prototype,"settings",void 0),Yn=p([h.type("wasmcfg")],Yn),e.Wasmcfg=Yn;let on=class extends h{};p([h.field(B)],on.prototype,"owner",void 0),p([h.field(ie)],on.prototype,"amount",void 0),on=p([h.type("withdraw")],on),e.Withdraw=on;let er=class extends h{};p([h.field(Dt)],er.prototype,"version",void 0),p([h.field(B)],er.prototype,"account",void 0),p([h.field(B,{array:!0})],er.prototype,"allow_perms",void 0),p([h.field(B,{array:!0})],er.prototype,"disallow_perms",void 0),er=p([h.type("limit_auth_change")],er),e.LimitAuthChange=er})(Rt||(Rt={}));const L9={abihash:Rt.AbiHash,bidrefunds:Rt.BidRefund,blockinfo:Rt.BlockInfoRecord,cpuloan:Rt.RexLoan,delband:Rt.DelegatedBandwidth,global:Rt.EosioGlobalState,global2:Rt.EosioGlobalState2,global3:Rt.EosioGlobalState3,global4:Rt.EosioGlobalState4,namebids:Rt.NameBid,netloan:Rt.RexLoan,"powup.order":Rt.PowerupOrder,"powup.state":Rt.PowerupState,producers:Rt.ProducerInfo,producers2:Rt.ProducerInfo2,rammarket:Rt.ExchangeState,refunds:Rt.RefundRequest,retbuckets:Rt.RexReturnBuckets,rexbal:Rt.RexBalance,rexfund:Rt.RexFund,rexpool:Rt.RexPool,rexqueue:Rt.RexOrder,rexretpool:Rt.RexReturnPool,userres:Rt.UserResources,voters:Rt.VoterInfo,limitauthchg:Rt.LimitAuthChange};class N9{constructor(t,i){switch(this.resource=t,this.data=i,t){case"cpu":{this.available=this.data.cpu_limit.available,this.current_used=this.data.cpu_limit.current_used,this.used=this.data.cpu_limit.used,this.max=this.data.cpu_limit.max,this.weight=this.data.cpu_weight;break}case"net":{this.available=this.data.net_limit.available,this.current_used=this.data.net_limit.current_used,this.used=this.data.net_limit.used,this.max=this.data.net_limit.max,this.weight=this.data.net_weight;break}case"ram":{this.available=this.data.ram_quota.subtracting(this.data.ram_usage),this.used=me.from(this.data.ram_usage),this.max=this.data.ram_quota;break}default:throw new Error(`Unknown resource type (${t}).`)}}toJSON(){return{resource:this.resource,available:this.available,current_used:this.current_used?this.current_used:this.current_used,used:this.used,max:this.max,weight:this.weight?this.weight:void 0}}}class V9{constructor(t){this.data=t.data,t.contract?this.systemContract=t.contract:this.systemContract=new T9({client:t.client}),this.client=t.client,this.token=new O9({client:t.client})}get accountName(){return B.from(this.data.account_name)}get systemToken(){return ie.Symbol.from(this.data.total_resources.cpu_weight.symbol)}balance(t,i){return this.token.balance(this.accountName,t,i)}permission(t){const i=this.data.permissions.find(s=>s.perm_name.equals(t));if(!i)throw new Error(`Permission ${t} does not exist on account ${this.accountName}.`);return _o.from(i)}get permissions(){return this.data.permissions.map(t=>_o.from(t))}resource(t){return new N9(t,this.data)}resources(t){return new Xw({api:this.client,sampleAccount:t?String(t):void 0,symbol:this.data.core_liquid_balance?String(this.data.core_liquid_balance.symbol):void 0})}setPermission(t){return this.systemContract.action("updateauth",{account:this.accountName,auth:t.required_auth,authorized_by:"",parent:t.parent,permission:t.perm_name})}removePermission(t){return this.systemContract.action("deleteauth",{account:this.accountName,authorized_by:"",permission:t})}linkauth(t,i,s){return this.systemContract.action("linkauth",{account:this.accountName,code:t,type:i,requirement:s,authorized_by:""})}unlinkauth(t,i){return this.systemContract.action("unlinkauth",{account:this.accountName,code:t,type:i,authorized_by:""})}buyRam(t,i){let s=this.accountName;return i&&i.receiver&&(s=B.from(i.receiver)),this.systemContract.action("buyram",{payer:this.accountName,quant:t,receiver:s})}buyRamBytes(t,i){let s=this.accountName;return i&&i.receiver&&(s=B.from(i.receiver)),this.systemContract.action("buyrambytes",{bytes:t,payer:this.accountName,receiver:s})}sellRam(t){return this.systemContract.action("sellram",{account:this.accountName,bytes:t})}delegate(t){return this.systemContract.action("delegatebw",{from:t.from||this.accountName,receiver:t.receiver||this.accountName,stake_cpu_quantity:t.cpu||ie.fromUnits(0,this.systemToken),stake_net_quantity:t.net||ie.fromUnits(0,this.systemToken),transfer:t.transfer!==void 0?t.transfer:!1})}undelegate(t){return this.systemContract.action("undelegatebw",{from:t.from||this.accountName,receiver:t.receiver||this.accountName,unstake_cpu_quantity:t.cpu||ie.fromUnits(0,this.systemToken),unstake_net_quantity:t.net||ie.fromUnits(0,this.systemToken)})}}class H9{constructor(t,i){this.chain=t,this.contract=i==null?void 0:i.contract,this.client=(i==null?void 0:i.client)||new Po({url:this.chain.url})}async load(t){const i=await this.client.v1.chain.get_account(t,this.chain.accountDataType);return new V9({client:this.client,contract:this.contract,data:i})}}var Ob;(function(e){e.beforeLogin="beforeLogin",e.afterLogin="afterLogin"})(Ob||(Ob={}));class Z9{constructor(t){var i;this.arbitrary={},this.chains=[],this.hooks={afterLogin:[],beforeLogin:[]},this.uiRequirements={requiresChainSelect:!0,requiresPermissionSelect:!0,requiresPermissionEntry:!1,requiresWalletSelect:!0},this.walletPlugins=[],this.appName=String(t.appName),t.arbitrary&&(this.arbitrary=t.arbitrary),t.chains&&(this.chains=t.chains),t.chain&&(this.chain=t.chain),this.fetch=t.fetch,this.permissionLevel=t.permissionLevel,this.walletPlugins=t.walletPlugins||[],this.ui=t.ui,(i=t.loginPlugins)==null||i.forEach(s=>{s.register(this)})}addHook(t,i){this.hooks[t].push(i)}getClient(t){return new Po({provider:new au(t.url,{fetch:this.fetch})})}get esrOptions(){return{zlib:ho}}}class Y9{}class z9 extends Y9{register(){}}var dl;(function(e){e.beforeSign="beforeSign",e.afterSign="afterSign",e.afterBroadcast="afterBroadcast"})(dl||(dl={}));class Bb{constructor(t){var i;this.hooks={afterBroadcast:[],afterSign:[],beforeSign:[]},this.abiCache=t.abiCache,this.appName=String(t.appName),this.chain=t.chain,this.client=t.client,this.createRequest=t.createRequest,this.fetch=t.fetch,this.permissionLevel=t.permissionLevel,t.storage&&(this.storage=t.storage),this.transactPluginsOptions=t.transactPluginsOptions||{},this.ui=t.ui,(i=t.transactPlugins)==null||i.forEach(s=>{s.register(this)})}get accountName(){return this.permissionLevel.actor}get permissionName(){return this.permissionLevel.permission}get esrOptions(){return{abiProvider:this.abiCache,zlib:ho}}addHook(t,i){switch(t){case dl.beforeSign:{this.hooks[t].push(i);break}case dl.afterSign:case dl.afterBroadcast:{this.hooks[t].push(i);break}}}async getInfo(){let t=this.info;return this.info?t=this.info:this.info=t=await this.client.v1.chain.get_info(),t}async resolve(t,i=120){let s={chainId:this.chain.id};if(t.requiresTapos()){const o=(await this.getInfo()).getTransactionHeader(i);s={...s,...o}}const r=await t.fetchAbis(this.abiCache);return t.resolve(r,this.permissionLevel,s)}}class j9{constructor(t){this.revisions=[],this.addRevision({request:t,signatures:[]},"original",!0)}addRevision(t,i,s){let r=!1;const n=this.revisions[this.revisions.length-1];n&&(r=n.response.request!==String(t.request)),this.revisions.push({allowModify:s,code:String(i),modified:r,response:{request:String(t.request),signatures:t.signatures?Pe.objectify(t.signatures):[]}})}}class Jw{}class Uw extends Jw{get id(){return"base-transact-plugin"}register(){}}function qw(e){if(e&&e.fetch)return e.fetch;if(typeof window<"u"&&window.fetch)return window.fetch.bind(window);if(typeof global<"u"&&global.fetch)return global.fetch.bind(global);throw new Error("Missing fetch")}class Ic{constructor(t,i={}){if(this.abis=[],this.allowModify=!0,this.broadcast=!0,this.expireSeconds=120,this.transactPluginsOptions={},this.serialize=()=>Pe.objectify({chain:this.chain.id,actor:this.permissionLevel.actor,permission:this.permissionLevel.permission,walletPlugin:this.walletPlugin.serialize()}),this.chain=qt.from(t.chain),t.permissionLevel)this.permissionLevel=dt.from(t.permissionLevel);else if(t.actor&&t.permission)this.permissionLevel=dt.from(`${t.actor}@${t.permission}`);else throw new Error("Either a permissionLevel or actor/permission must be provided when creating a new Session.");this.walletPlugin=t.walletPlugin,i.appName&&(this.appName=String(i.appName)),i.abis&&(this.abis=[...i.abis]),i.contracts&&this.abis.push(...i.contracts.map(s=>({account:s.account,abi:s.abi}))),i.allowModify!==void 0&&(this.allowModify=i.allowModify),i.broadcast!==void 0&&(this.broadcast=i.broadcast),i.expireSeconds&&(this.expireSeconds=i.expireSeconds),i.fetch?this.fetch=i.fetch:this.fetch=qw(i),i.storage&&(this.storage=i.storage),i.transactPlugins?this.transactPlugins=i.transactPlugins:this.transactPlugins=[new Uw],i.transactPluginsOptions&&(this.transactPluginsOptions=i.transactPluginsOptions),i.abiCache?this.abiCache=i.abiCache:this.abiCache=new Yw(this.client),i.ui&&(this.ui=i.ui)}get actor(){return this.permissionLevel.actor}get permission(){return this.permissionLevel.permission}get client(){return new Po({provider:new au(this.chain.url,{fetch:this.fetch})})}setEndpoint(t){this.chain.url=t}upgradeTransaction(t){const i=t;if(t.actions&&(i.expiration||i.ref_block_num||i.ref_block_prefix||i.max_net_usage_words||i.max_cpu_usage_ms||i.delay_sec))return t={transaction:{expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...i}};if(t.context_free_actions||t.context_free_data){const s=t.actions||[t.action];return delete t.action,{transaction:{expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],context_free_data:[],actions:s,...i}}}return t}storageType(t){return t===2?kn:Dn}cloneRequest(t,i){let s;t.signature&&(s=vn.from(JSON.parse(JSON.stringify(t.signature))));const n=this.storageType(t.version).from(JSON.parse(JSON.stringify(t.data)));return new Pi(t.version,n,ho,i,s)}async createRequest(t,i){let s;const r={abiProvider:i,zlib:ho};return t.request&&t.request instanceof Pi?s=this.cloneRequest(t.request,i):t.request?s=Pi.from(t.request,r):(t=this.upgradeTransaction(t),s=await Pi.create({...t,chainId:this.chain.id},r)),s.setBroadcast(!1),s}async updateRequest(t,i,s){const r=this.cloneRequest(i,s),n=r.getRawInfo();return t.data.info.forEach(o=>{n[o.key]&&console.warn(`During an updateRequest call, the previous request had already set the metadata key of "${o.key}" which will not be overwritten.`),r.setRawInfoKey(o.key,o.value)}),r}async transact(t,i){try{const s=i&&i.expireSeconds?i.expireSeconds:this.expireSeconds,r=i&&typeof i.broadcast<"u"?i.broadcast:this.broadcast,n=this.getMergedAbiCache(t,i),o=(i==null?void 0:i.transactPlugins)||this.transactPlugins,a=(i==null?void 0:i.transactPluginsOptions)||this.transactPluginsOptions;let l=i&&typeof i.allowModify<"u"?i.allowModify:this.allowModify;const c=new Bb({abiCache:n,appName:this.appName,chain:this.chain,client:this.client,createRequest:g=>this.createRequest(g,n),fetch:this.fetch,permissionLevel:this.permissionLevel,storage:this.storage,transactPlugins:o,transactPluginsOptions:a,ui:this.ui});if(c.ui){await c.ui.onTransact();for(const g of o.map(m=>this.getPluginTranslations(m)))c.ui.addTranslations(g)}let d=await this.createRequest(t,n);const u={chain:this.chain,request:d,resolved:void 0,returns:[],revisions:new j9(d),signatures:[],signer:this.permissionLevel,transaction:void 0};for(const g of c.hooks.beforeSign){const m=await g(d.clone(),c);m&&(u.revisions.addRevision(m,String(g),l),l&&(d=await this.updateRequest(d,m.request,n)),m.signatures&&(u.signatures=[...u.signatures,...m.signatures],l=!1))}u.request=d,u.resolved=await c.resolve(d,s),u.transaction=u.resolved.resolvedTransaction,c.ui&&(await c.ui.onSign(),c.ui.addTranslations(this.getPluginTranslations(this.walletPlugin)));const f=await this.walletPlugin.sign(u.resolved,c);if(u.signatures.push(...f.signatures),f.resolved){const{resolved:g}=f;if(!u.resolved.transaction.equals(g.transaction))if(l)u.request=g.request,u.resolved=g,u.transaction=g.resolvedTransaction;else throw new Error(`The ${this.walletPlugin.metadata.name} plugin modified the transaction when it was not allowed to.`)}for(const g of c.hooks.afterSign)await g(u,c);if(c.ui&&await c.ui.onSignComplete(),r){c.ui&&await c.ui.onBroadcast();const g=or.from({...u.resolved.transaction,signatures:u.signatures});u.response=await c.client.v1.chain.send_transaction(g),u.response.processed&&u.response.processed.action_traces&&(u.returns=await X9(u.response,n));for(const m of c.hooks.afterBroadcast)await m(u,c);c.ui&&await c.ui.onBroadcastComplete()}return c.ui&&await c.ui.onTransactComplete(),u}catch(s){if(s.response&&s.response.json){const{json:r}=s.response;if(r.error&&r.error.details){const n=new Error(r.error.details[0].message);throw this.ui&&await this.ui.onError(n),n}}else this.ui&&await this.ui.onError(s);throw new Error(s)}}async signTransaction(t){const i=new Bb({abiCache:this.abiCache,chain:this.chain,client:this.client,createRequest:o=>this.createRequest(o,this.abiCache),fetch:this.fetch,permissionLevel:this.permissionLevel}),s=await Pi.create({transaction:t,chainId:this.chain.id},i.esrOptions);s.setBroadcast(!1);const r=new Md(s,this.permissionLevel,Ht.from(t),Pe.objectify(Ht.from(t)),Vi.from(this.chain.id));return(await this.walletPlugin.sign(r,i)).signatures}getPluginTranslations(t){if(!t.translations)return{};const i={};return Object.keys(t.translations).forEach(r=>{t.translations&&(i[r]={[t.id]:t.translations[r]})}),i}getMergedAbiCache(t,i){const s=(i==null?void 0:i.abiCache)||this.abiCache;if(!s.setAbi)throw new Error("Custom `abiCache` does not support `setAbi` method.");return this.abis.forEach(r=>s.setAbi(r.account,r.abi)),i!=null&&i.abis&&i.abis.forEach(r=>s.setAbi(r.account,r.abi)),i!=null&&i.contracts&&i.contracts.forEach(r=>s.setAbi(r.account,r.abi)),t.action&&t.action.abi&&s.setAbi(t.action.account,t.action.abi,!0),t.actions&&t.actions.forEach(r=>{r.abi&&s.setAbi(r.account,r.abi,!0)}),t.transaction&&t.transaction.actions&&t.transaction.actions.forEach(r=>{r.abi&&s.setAbi(r.account,r.abi,!0)}),s}async account(){return new H9(this.chain,{client:this.client}).load(this.permissionLevel.actor)}}async function X9(e,t){const i=[];for(const s of e.processed.action_traces)if(s.return_value_hex_data){const r=B.from(s.act.account),n=B.from(s.act.name),o=await t.getAbi(r),a=o.action_results.find(l=>B.from(l.name).equals(n));if(a)try{const l=Pe.decode({data:s.return_value_hex_data,type:a.result_type,abi:o});i.push({contract:r,action:n,hex:s.return_value_hex_data,data:l,returnType:a})}catch(l){console.warn(`Error decoding return value for ${r}::${n}:`,l),i.push({contract:r,action:n,hex:s.return_value_hex_data,data:"",returnType:a})}else console.warn(`No return type found for ${r}::${n}`),i.push({contract:r,action:n,hex:s.return_value_hex_data,data:"",returnType:{name:n,result_type:""}})}return i}class Kw{constructor(t=""){this.keyPrefix=t}async write(t,i){localStorage.setItem(this.storageKey(t),i)}async read(t){return localStorage.getItem(this.storageKey(t))}async remove(t){localStorage.removeItem(this.storageKey(t))}storageKey(t){return`wharf-${this.keyPrefix}-${t}`}}var Fg;let ms=Fg=class extends h{static from(t){return new Fg({...t,logo:t.logo?Bs.from(t.logo):void 0})}};p([h.field("string",{optional:!0})],ms.prototype,"name",void 0);p([h.field("string",{optional:!0})],ms.prototype,"description",void 0);p([h.field(Bs,{optional:!0})],ms.prototype,"logo",void 0);p([h.field("string",{optional:!0})],ms.prototype,"homepage",void 0);p([h.field("string",{optional:!0})],ms.prototype,"download",void 0);p([h.field("string",{optional:!0})],ms.prototype,"publicKey",void 0);ms=Fg=p([h.type("wallet_plugin_metadata")],ms);class pf{constructor(){this._data={},this.config={requiresChainSelect:!0,requiresPermissionSelect:!1,requiresPermissionEntry:!1},this.metadata=new ms({})}get data(){return this._data}set data(t){this._data=t}serialize(){return{id:this.id,data:this.data}}}var xg;let Nl=xg=class extends h{static from(t){return new xg({...t,logo:t.logo?Bs.from(t.logo):void 0})}};p([h.field("string")],Nl.prototype,"name",void 0);p([h.field("string",{optional:!0})],Nl.prototype,"description",void 0);p([h.field(Bs,{optional:!0})],Nl.prototype,"logo",void 0);p([h.field("string",{optional:!0})],Nl.prototype,"homepage",void 0);Nl=xg=p([h.type("account_creation_plugin_metadata")],Nl);class J9{constructor(t){this.accountCreationPlugins=[],this.uiRequirements={requiresChainSelect:!0,requiresPluginSelect:!0},this.appName=String(t.appName),t.chains&&(this.chains=t.chains),t.chain&&(this.chain=t.chain),this.fetch=t.fetch,this.ui=t.ui,t.accountCreationPlugins&&(this.accountCreationPlugins=t.accountCreationPlugins),t.uiRequirements&&(this.uiRequirements=t.uiRequirements)}getClient(t){return new Po({provider:new au(t.url,{fetch:this.fetch})})}}class U9{constructor(t,i={}){this.abis=[],this.allowModify=!0,this.expireSeconds=120,this.transactPluginsOptions={},this.accountCreationPlugins=[],this.appName=String(t.appName),this.chains=t.chains.map(s=>qt.from(s)),this.ui=t.ui,this.walletPlugins=t.walletPlugins,i.fetch?this.fetch=i.fetch:this.fetch=qw(i),i.abis&&(this.abis=[...i.abis]),i.contracts&&this.abis.push(...i.contracts.map(s=>({account:s.account,abi:s.abi}))),i.loginPlugins?this.loginPlugins=i.loginPlugins:this.loginPlugins=[new z9],i.storage?this.storage=i.storage:this.storage=new Kw,i.transactPlugins?this.transactPlugins=i.transactPlugins:this.transactPlugins=[new Uw],typeof i.allowModify<"u"&&(this.allowModify=i.allowModify),i.expireSeconds&&(this.expireSeconds=i.expireSeconds),i.transactPluginsOptions&&(this.transactPluginsOptions=i.transactPluginsOptions),i.accountCreationPlugins&&(this.accountCreationPlugins=i.accountCreationPlugins)}setEndpoint(t,i){const s=[...this.chains],r=_e.from(t),n=this.chains.findIndex(o=>o.id.equals(r));if(n<0)throw new Error("Chain with specified ID not found.");s[n].url=i,this.chains=s}getChainDefinition(t,i){const s=i||this.chains,r=_e.from(t),n=s.find(o=>o.id.equals(r));if(!n)throw new Error(`No chain defined with an ID of: ${r}`);return n}async createAccount(t){var i;try{if(this.accountCreationPlugins.length===0)throw new Error("No account creation plugins available.");let s=t==null?void 0:t.chain,r=!s,n=!(t!=null&&t.pluginId),o;if(t!=null&&t.pluginId){if(n=!1,o=this.accountCreationPlugins.find(d=>d.id===t.pluginId),!o)throw new Error("Invalid account creation plugin selected.");(o==null?void 0:o.config.requiresChainSelect)!==void 0&&(r=o==null?void 0:o.config.requiresChainSelect),!o.config.requiresChainSelect&&o.config.supportedChains&&o.config.supportedChains.length===1&&(s=o.config.supportedChains[0])}let a=this.chains;o&&((i=o==null?void 0:o.config.supportedChains)!=null&&i.length)&&(a=a.filter(d=>{var u;return(u=o==null?void 0:o.config.supportedChains)==null?void 0:u.find(f=>f.id.equals(d.id))}));const l=new J9({accountCreationPlugins:this.accountCreationPlugins,appName:this.appName,chain:s,chains:a,fetch:this.fetch,ui:this.ui,uiRequirements:{requiresChainSelect:r,requiresPluginSelect:n}});if(n||r){const d=await l.ui.onAccountCreate(l),u=(t==null?void 0:t.pluginId)||d.pluginId;if(!u)throw new Error("No account creation plugin selected.");if(o=l.accountCreationPlugins.find(f=>f.id===u),!o)throw new Error("No account creation plugin selected.");if(!o.config.requiresChainSelect&&o.config.supportedChains&&o.config.supportedChains.length===1&&(l.chain=o.config.supportedChains[0]),d.chain&&(l.chain=this.getChainDefinition(d.chain,l.chains)),o.config.requiresChainSelect&&!l.chain)throw new Error(`Account creation plugin (${u}) requires chain selection, and no chain was selected.`)}if(!o)throw new Error("No account creation plugin selected");const c=await o.create(l);return await l.ui.onAccountCreateComplete(),c}catch(s){throw await this.ui.onError(s),new Error(s)}}async login(t){try{const i=new Z9({appName:this.appName,arbitrary:(t==null?void 0:t.arbitrary)||{},chain:void 0,chains:t&&(t!=null&&t.chains)?t.chains.map(a=>this.getChainDefinition(a)):this.chains,fetch:this.fetch,loginPlugins:this.loginPlugins,ui:this.ui,walletPlugins:this.walletPlugins.map(a=>{var l;return{config:a.config,metadata:ms.from(a.metadata),retrievePublicKey:(l=a.retrievePublicKey)==null?void 0:l.bind(a)}})});await i.ui.onLogin(),t&&t.chain?(t.chain instanceof qt?i.chain=t.chain:i.chain=this.getChainDefinition(t.chain,i.chains),i.uiRequirements.requiresChainSelect=!1):i.chains.length===1&&(i.chain=i.chains[0],i.uiRequirements.requiresChainSelect=!1);let s;if(this.walletPlugins.length===1)s=this.walletPlugins[0],i.uiRequirements.requiresWalletSelect=!1;else if(t!=null&&t.walletPlugin){const a=this.walletPlugins.findIndex(l=>l.id===t.walletPlugin);a>=0&&(s=this.walletPlugins[a],i.walletPluginIndex=a,i.uiRequirements.requiresWalletSelect=!1)}if(s&&s.config.requiresPermissionSelect===!1&&(i.uiRequirements.requiresPermissionSelect=!1),t!=null&&t.permissionLevel&&(i.permissionLevel=dt.from(t.permissionLevel),i.uiRequirements.requiresPermissionSelect=!1),i.uiRequirements.requiresChainSelect||i.uiRequirements.requiresPermissionSelect||i.uiRequirements.requiresPermissionEntry||i.uiRequirements.requiresWalletSelect){const a=await i.ui.login(i);if(a.walletPluginIndex!==void 0&&(s=this.walletPlugins[a.walletPluginIndex]),!s)throw new Error("UserInterface did not return a valid WalletPlugin index.");if(a.chainId){if(!i.chains.some(l=>l.id.equals(a.chainId)))throw new Error("UserInterface did not return a chain ID matching the subset of chains.");i.chain=this.getChainDefinition(a.chainId,i.chains)}a.permissionLevel&&(i.permissionLevel=dt.from(a.permissionLevel))}if(!s)throw new Error("No WalletPlugin available to perform the login.");const{supportedChains:r}=s.config;if(i.chain&&r&&r.length&&!r.includes(String(i.chain.id)))throw new Error(`The wallet plugin '${s.metadata.name}' does not support the chain '${i.chain.id}'`);for(const a of i.hooks.beforeLogin)await a(i);const n=await s.login(i),o=new Ic({chain:this.getChainDefinition(n.chain),permissionLevel:n.permissionLevel,walletPlugin:s},this.getSessionOptions(t));for(const a of i.hooks.afterLogin)await a(i);return this.persistSession(o,t==null?void 0:t.setAsDefault),await i.ui.onLoginComplete(),{context:i,response:n,session:o}}catch(i){throw await this.ui.onError(i),new Error(i)}}logoutParams(t,i){return t instanceof Ic?{session:t,appName:this.appName}:{session:new Ic({chain:this.getChainDefinition(t.chain),permissionLevel:dt.from({actor:t.actor,permission:t.permission}),walletPlugin:i}),appName:this.appName}}async logout(t){if(!this.storage)throw new Error("An instance of Storage must be provided to utilize the logout method.");if(await this.storage.remove("session"),t){const i=this.walletPlugins.find(r=>(t==null?void 0:t.walletPlugin.id)===r.id);i!=null&&i.logout&&await i.logout(this.logoutParams(t,i));const s=await this.getSessions();if(s){let r=t;t instanceof Ic&&(r=t.serialize());const n=s.filter(o=>!_e.from(o.chain).equals(_e.from(String(r.chain)))||!B.from(o.actor).equals(B.from(r.actor))||!B.from(o.permission).equals(B.from(r.permission)));await this.storage.write("sessions",JSON.stringify(n))}}else{const i=await this.getSessions();await this.storage.remove("sessions"),i&&Promise.all(i.map(s=>{const r=this.walletPlugins.find(n=>s.walletPlugin.id===n.id);return r!=null&&r.logout?r.logout(this.logoutParams(s,r)):Promise.resolve()}))}}async restore(t,i){if(!t){const l=await this.storage.read("session");if(l)t=JSON.parse(l);else return}if(!t)throw new Error("Either a RestoreArgs object or a Storage instance must be provided.");const s=_e.from(t.chain instanceof qt?t.chain.id:t.chain);let r;const n=await this.storage.read("sessions");if(n){const l=JSON.parse(n);t.actor&&t.permission?r=l.find(c=>t&&s.equals(c.chain)&&c.actor===t.actor&&c.permission===t.permission):r=l.find(c=>t&&s.equals(c.chain)&&c.default)}else if(t.actor&&t.permission&&t.walletPlugin)r={chain:String(s),actor:t.actor,permission:t.permission,walletPlugin:{id:t.walletPlugin.id,data:t.walletPlugin.data}};else throw new Error("No sessions found in storage. A wallet plugin must be provided.");if(!r)return;const o=this.walletPlugins.find(l=>t?l.id===r.walletPlugin.id:!1);if(!o)throw new Error(`No WalletPlugin found with the ID of: '${r.walletPlugin.id}'`);r.walletPlugin.data&&(o.data=r.walletPlugin.data),t.walletPlugin&&t.walletPlugin.data&&(o.data=t.walletPlugin.data);const a=new Ic({chain:this.getChainDefinition(r.chain),permissionLevel:dt.from({actor:r.actor,permission:r.permission}),walletPlugin:o},this.getSessionOptions(i));return this.persistSession(a,i==null?void 0:i.setAsDefault),a}async restoreAll(){const t=[],i=await this.getSessions();if(i)for(const s of i){const r=await this.restore(s);r&&t.push(r)}return t}async persistSession(t,i=!0){if(!this.storage)return;const s=t.serialize();s.default=i,i&&this.storage.write("session",JSON.stringify(s));const r=await this.storage.read("sessions");if(r){const a=[...JSON.parse(r).filter(l=>!_e.from(l.chain).equals(_e.from(s.chain))||!B.from(l.actor).equals(B.from(s.actor))||!B.from(l.permission).equals(B.from(s.permission))).map(l=>(t.chain.id.equals(l.chain)&&(l.default=!1),l)),s];a.sort((l,c)=>{const d=String(l.chain).localeCompare(String(c.chain)),u=String(l.actor).localeCompare(String(c.actor)),f=String(l.permission).localeCompare(String(c.permission));return d||u||f}),this.storage.write("sessions",JSON.stringify(a))}else this.storage.write("sessions",JSON.stringify([s]))}async getSessions(){if(!this.storage)throw new Error("No storage instance is available to retrieve sessions from.");const t=await this.storage.read("sessions");if(!t)return[];try{return JSON.parse(t).filter(r=>this.walletPlugins.some(n=>n.id===r.walletPlugin.id))}catch(i){throw new Error(`Failed to parse sessions from storage (${i})`)}}getSessionOptions(t){return{abis:this.abis,allowModify:this.allowModify,appName:this.appName,expireSeconds:this.expireSeconds,fetch:this.fetch,storage:this.storage,transactPlugins:(t==null?void 0:t.transactPlugins)||this.transactPlugins,transactPluginsOptions:(t==null?void 0:t.transactPluginsOptions)||this.transactPluginsOptions,ui:this.ui}}}class q9{translate(t,i,s){throw new Error("The `translate` method must be implemented in this UserInterface. Called with: "+JSON.stringify({key:t,options:i,namespace:s}))}getTranslate(t){return(i,s)=>this.translate(i,s,t)}addTranslations(t){throw new Error("The `addTranslations` method must be implemented in this UserInterface. Called with: "+JSON.stringify(t))}}/**
 * @wharfkit/transact-plugin-resource-provider v1.1.1
 * https://github.com/wharfkit/transact-plugin-resource-provider
 *
 * @license
 * Copyright (c) 2021 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */var K9="The offer from the resource provider has expired.",Q9={title:"Accept Transaction Fee?",body:"Additional resources ({{resource}}) are required for your account to perform this transaction. Would you like to automatically purchase these resources and proceed?",cost:"Cost of {{resource}}"},$9={"no-fees":"A resource provider offered to cover this transaction for a fee, but fee-based transactions are disabled by the configuration using `allowFees = false`.","original-modified":"The original transaction returned by the resource provider has been modified too much. Continuing without the resource provider","max-fee":"The fee requested by the resource provider is unusually high and has been rejected."},e6={timeout:K9,"will-continue":"The transaction will continue without the resource provider.",fee:Q9,rejected:$9},t6="   .",i6={title:"  ?",body:"     ({{resource}}) .      ?",cost:"{{resource}} "},s6={"no-fees":"          'allowFees = false'    .","original-modified":"       .    ","max-fee":"      ."},r6={timeout:t6,"will-continue":"    .",fee:i6,rejected:s6},n6="/",o6={title:"",body:" {{resource}} ",cost:"{{resource}} "},a6={"no-fees":"allowFee = false","original-modified":"","max-fee":""},l6={timeout:n6,"will-continue":"",fee:o6,rejected:a6},c6="/",d6={title:"",body:" {{resource}} ",cost:"{{resource}} "},u6={"no-fees":"allowFee = false","original-modified":"","max-fee":""},h6={timeout:c6,"will-continue":"",fee:d6,rejected:u6},f6={en:e6,ko:r6,"zh-Hans":l6,"zh-Hant":h6};function p6(e,t){return e.actions.every(i=>t.actions.some(s=>{const r=i.account.equals(s.account),n=i.name.equals(s.name),o=i.authorization.length===s.authorization.length&&i.authorization[0].actor.equals(s.authorization[0].actor),a=i.data.equals(s.data);return r&&n&&o&&a}))}function g6(e,t){return t.actions.filter(i=>e.actions.some(s=>{const r=s.account.equals(i.account),n=s.name.equals(i.name),o=s.authorization.length===i.authorization.length&&s.authorization[0].actor.equals(i.authorization[0].actor),a=s.data.equals(i.data);return!(r&&n&&o&&a)}))}let xa=class extends h{};p([h.field(B)],xa.prototype,"from",void 0);p([h.field(B)],xa.prototype,"to",void 0);p([h.field(ie)],xa.prototype,"quantity",void 0);p([h.field("string")],xa.prototype,"memo",void 0);xa=p([h.type("transfer")],xa);const m6={endpoints:{aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906:"https://eos.greymass.com","73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d":"https://jungle4.greymass.com","4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11":"https://telos.greymass.com","1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4":"https://wax.greymass.com"}};class v6 extends Jw{constructor(t){super(),this.id="transact-plugin-resource-provider",this.translations=f6,this.allowFees=!0,this.endpoints=m6.endpoints,t&&(t.endpoints&&(this.endpoints=t.endpoints),typeof t.allowFees<"u"&&(this.allowFees=t.allowFees),typeof t.maxFee<"u"&&(this.maxFee=ie.from(t.maxFee)))}register(t){t.addHook(dl.beforeSign,async(i,s)=>this.request(i,s))}getEndpoint(t){return this.endpoints[String(t.id)]}async request(t,i){let s=(S,I)=>I.default;i.ui&&(s=i.ui.getTranslate(this.id));const r=this.getEndpoint(i.chain);if(!r)return{request:t};let n;const o=await t.fetchAbis(i.abiCache);if(t.requiresTapos()){const I=(await i.client.v1.chain.get_info()).getTransactionHeader(120),F={transaction:t.resolveTransaction(o,i.permissionLevel,I)};if(F.chainId=t.getChainId(),t.isMultiChain()){const D=t.getChainIds();D&&(F.chainIds=D)}n=await Pi.create(F,i.esrOptions)}else n=await Pi.create({transaction:t.resolveTransaction(o,i.permissionLevel)},i.esrOptions);this.validateRequest(n,i);const a=`${r}/v1/resource_provider/request_transaction`,l=await i.fetch(a,{method:"POST",body:JSON.stringify({request:n,signer:i.permissionLevel})}),c=await l.json();if(l.status===400)return{request:t};if(l.status===402&&!this.allowFees)return i.ui&&i.ui.status(`${s("rejected.no-fees",{default:"A resource provider offered to cover this transaction for a fee, but fee-based transactions are disabled by the configuration using `allowFees = false`."})} ${s("will-continue",{default:"The transaction will continue without the resource provider."})}`),{request:t};const u=this.getModifiedTransaction(c);if(!p6(n.getRawTransaction(),u))return i.ui&&i.ui.status(`${s("rejected.original-modified",{default:"The original transaction returned by the resource provider has been modified too much. Continuing without the resource provider"})} ${s("will-continue",{default:"The transaction will continue without the resource provider."})}`),{request:t};const g=g6(n.getRawTransaction(),u);let m="4,TOKEN";const y=g.filter(S=>S.account.equals("eosio.token")&&S.name.equals("transfer")).map(S=>{const I=Pe.decode({data:S.data,type:xa});return m=`${I.quantity.symbol.precision},${I.quantity.symbol.code}`,I.quantity}).reduce((S,I)=>(S.units.add(I.units),S),ie.fromUnits(0,m));if(this.maxFee&&y.units>this.maxFee.units)return i.ui&&i.ui.status(`${s("rejected.max-fee",{default:"The fee requested by the resource provider is unusually high and has been rejected."})} ${s("will-continue",{default:"The transaction will continue without the resource provider."})}`),{request:t};await this.validateResponseData(c);const b=await this.createRequest(c,i);if(i.ui&&y.value>0){const S=[];if(c.data.costs){const{cpu:D,net:V,ram:O}=c.data.costs;ie.from(D).value>0&&S.push("CPU"),ie.from(V).value>0&&S.push("NET"),ie.from(O).value>0&&S.push("RAM")}else S.push("Unknown");const I=i.ui.prompt({title:s("fee.title",{default:"Accept Transaction Fee?"}),body:s("fee.body",{default:"Additional resources ({{resource}}) are required for your account to perform this transaction. Would you like to automatically purchase these resources and proceed?",resource:String(S.join("/"))}),elements:[{type:"asset",data:{label:s("fee.cost",{default:"Cost of {{resource}}",resource:String(S.join("/"))}),value:y}},{type:"accept"}]}),F=setTimeout(()=>{I.cancel(s("timeout",{default:"The offer from the resource provider has expired."}))},12e4);return I.then(async()=>new Promise(D=>D({request:b,signatures:c.data.signatures.map(V=>Gi.from(V))}))).catch(D=>{if(D instanceof lu)throw D;return new Promise(V=>V({request:t}))}).finally(()=>{clearTimeout(F)})}return new Promise(S=>S({request:b,signatures:c.data.signatures.map(I=>Gi.from(I))}))}getModifiedTransaction(t){switch(t.data.request[0]){case"action":throw new Error('A resource provider providing an "action" is not supported.');case"actions":throw new Error('A resource provider providing "actions" is not supported.');case"transaction":return Ht.from(t.data.request[1])}throw new Error("Invalid request type provided by resource provider.")}async createRequest(t,i){const s=await i.createRequest(t.data.request[1]);return t.code===402&&t.data.fee&&s.setInfoKey("txfee",ie.from(t.data.fee)),t.data.costs&&(s.setInfoKey("txfeecpu",t.data.costs.cpu),s.setInfoKey("txfeenet",t.data.costs.net),s.setInfoKey("txfeeram",t.data.costs.ram)),s}validateRequest(t,i){if(!t.getRawActions()[0].authorization[0].actor.equals(i.permissionLevel.actor))throw new Error("The first authorizer of the transaction does not match this session.")}async validateResponseData(t){if(!t)throw new Error("Resource provider did not respond to the request.");if(t.code===402&&!t.data.fee)throw new Error("Resource provider returned a response indicating required payment, but provided no fee amount.");if(!t.data.signatures||!t.data.signatures[0])throw new Error("Resource provider did not return a signature.")}}var Qw={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1));function r(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function n(l,c,d,u,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new r(d,u||l,f),m=i?i+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],g]:l._events[m].push(g):(l._events[m]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new s:delete l._events[c]}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(i?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=i?i+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,g=u.length,m=new Array(g);f<g;f++)m[f]=u[f].fn;return m},a.prototype.listenerCount=function(c){var d=i?i+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,f,g,m){var y=i?i+c:c;if(!this._events[y])return!1;var b=this._events[y],S=arguments.length,I,F;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,u),!0;case 4:return b.fn.call(b.context,d,u,f),!0;case 5:return b.fn.call(b.context,d,u,f,g),!0;case 6:return b.fn.call(b.context,d,u,f,g,m),!0}for(F=1,I=new Array(S-1);F<S;F++)I[F-1]=arguments[F];b.fn.apply(b.context,I)}else{var D=b.length,V;for(F=0;F<D;F++)switch(b[F].once&&this.removeListener(c,b[F].fn,void 0,!0),S){case 1:b[F].fn.call(b[F].context);break;case 2:b[F].fn.call(b[F].context,d);break;case 3:b[F].fn.call(b[F].context,d,u);break;case 4:b[F].fn.call(b[F].context,d,u,f);break;default:if(!I)for(V=1,I=new Array(S-1);V<S;V++)I[V-1]=arguments[V];b[F].fn.apply(b[F].context,I)}}return!0},a.prototype.on=function(c,d,u){return n(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return n(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,f){var g=i?i+c:c;if(!this._events[g])return this;if(!d)return o(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!f||m.once)&&(!u||m.context===u)&&o(this,g);else{for(var y=0,b=[],S=m.length;y<S;y++)(m[y].fn!==d||f&&!m[y].once||u&&m[y].context!==u)&&b.push(m[y]);b.length?this._events[g]=b.length===1?b[0]:b:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=i?i+c:c,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,e.exports=a})(Qw);var b6=Qw.exports;const C6=Yh(b6);/**
 * @greymass/buoy v1.0.4
 * https://github.com/greymass/buoy-client
 *
 * @license
 * Copyright (c) 2021 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */class $w extends Error{constructor(i){super("Socket error");Ji(this,"event");Ji(this,"code","E_NETWORK");this.event=i}}class Zu extends Error{constructor(i,s){super(i);Ji(this,"reason");Ji(this,"underlyingError");Ji(this,"code","E_MESSAGE");this.reason=i,this.underlyingError=s}}const Fc=globalThis||window;var rl;(function(e){e.binary="binary",e.text="text",e.json="json"})(rl||(rl={}));class y6 extends C6{constructor(i){super();Ji(this,"url");Ji(this,"active",!1);Ji(this,"socket");Ji(this,"timer");Ji(this,"reconnectTimer");Ji(this,"encoding");Ji(this,"WebSocket");if(!i.service)throw new Error("Options must include a service url");if(!i.channel)throw new Error("Options must include a channel name");const s=i.service.replace(/^http/,"ws").replace(/\/$/,"");this.url=`${s}/${i.channel}?v=2`,this.encoding=i.encoding||rl.text,this.WebSocket=i.WebSocket||Fc.WebSocket,i.autoConnect!==!1&&this.connect()}connect(){if(this.active)return;this.active=!0;let i=0,s;const r=()=>{const n=new this.WebSocket(this.url);n.onmessage=a=>{if(typeof Blob<"u"&&a.data instanceof Blob){const l=new FileReader;l.onload=()=>{this.handleMessage(new Uint8Array(l.result))},l.onerror=()=>{this.emit("error",new Zu("Could not read message"))},l.readAsArrayBuffer(a.data)}else if(typeof a.data=="string")this.handleMessage(new TextEncoder().encode(a.data));else if(typeof Fc.Buffer<"u"&&(a.data instanceof Fc.Buffer||Array.isArray(a.data))){let l=a.data;Fc.Buffer.isBuffer(l)||(l=Fc.Buffer.concat(l)),this.handleMessage(new Uint8Array(l.buffer,l.byteOffset,l.byteLength))}else a.data instanceof Uint8Array?this.handleMessage(a.data):a.data instanceof ArrayBuffer?this.handleMessage(new Uint8Array(a.data)):this.emit("error",new Zu("Unhandled event data type"))},n.onerror=a=>{this.socket===n&&this.active&&this.emit("error",new $w(a))},n.onopen=()=>{i=0,this.emit("connect")},n.onclose=()=>{this.active&&(clearTimeout(this.timer),this.timer=setTimeout(r,w6(i++))),this.socket=void 0,clearTimeout(s),this.reconnectTimer&&clearInterval(this.reconnectTimer),this.emit("disconnect")},this.setupReconnectionTimer();const o=n;typeof o.on=="function"&&typeof o.terminate=="function"&&o.on("ping",()=>{clearTimeout(s),s=setTimeout(()=>{o.terminate()},15*1e3)}),this.socket=n};r()}disconnect(){this.active=!1,this.socket&&(this.socket.readyState===this.WebSocket.OPEN||this.socket.readyState===this.WebSocket.CONNECTING)&&this.socket.close(1e3)}get isConnected(){var i;return this.active&&((i=this.socket)==null?void 0:i.readyState)==this.WebSocket.OPEN}handleMessage(i){var r;i[0]===66&&i[1]===66&&i[2]===1&&((r=this.socket)==null||r.send(new Uint8Array([66,66,2,i[3]])),i=i.subarray(4));let s;switch(this.encoding){case rl.binary:s=i;break;case rl.text:s=new TextDecoder().decode(i);break;case rl.json:try{s=JSON.parse(new TextDecoder().decode(i))}catch(n){this.emit("error",new Zu("Unable to decode JSON",n));return}}this.emit("message",s)}setupReconnectionTimer(){this.reconnectTimer=setInterval(()=>{var i;(i=this.socket)==null||i.close(1e3)},10*60*1e3)}}function w6(e){return Math.min(Math.pow(e*7,2),5*1e3)}function S6(e,t){return new Promise((i,s)=>{const r=new y6({...e,autoConnect:!0});let n,o;const a=(l,c)=>{clearTimeout(n),l?s(l):i(c),r.disconnect()};e.timeout&&(n=setTimeout(()=>{a(new Zu("Timed out",o))},e.timeout)),r.on("error",l=>{l instanceof $w?o=l:a(l)}),r.once("message",l=>{a(void 0,l)})})}const R6=globalThis||window;var _g;(function(e){e.buffered="buffered",e.delivered="delivered"})(_g||(_g={}));async function A6(e,t){const i=t.fetch||R6.fetch,r=`${t.service.replace(/^ws/,"http").replace(/\/$/,"")}/${t.channel}`,n={};if(t.requireDelivery){if(!t.timeout)throw new Error("requireDelivery can only be used with timeout");n["X-Buoy-Wait"]=`${Math.ceil(t.timeout/1e3)}`}else t.timeout&&(n["X-Buoy-Soft-Wait"]=`${Math.ceil(t.timeout/1e3)}`);let o;typeof e=="string"||e instanceof Uint8Array?o=e:o=JSON.stringify(e);const a=await i(r,{method:"POST",body:o,headers:n});if(Math.floor(a.status/100)!==2)throw a.status===408?new Error("Unable to deliver message"):a.status===410?new Error("Request cancelled"):new Error(`Unexpected status code ${a.status}`);return a.headers.get("X-Buoy-Delivery")||_g.buffered}/**
 * @greymass/miniaes v1.0.0
 * https://github.com/greymass/miniaes-js
 *
 * @license
 * Copyright (c) 2021 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 *//**
 * @file {@link http://asmjs.org Asm.js} implementation of the {@link https://en.wikipedia.org/wiki/Advanced_Encryption_Standard Advanced Encryption Standard}.
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */var Ar=function(){var e=!1,t,i;function s(){t=[],i=[];var g=1,m,y;for(m=0;m<255;m++)t[m]=g,y=g&128,g<<=1,g&=255,y===128&&(g^=27),g^=t[m],i[t[m]]=m;t[255]=t[0],i[0]=0,e=!0}function r(g,m){var y=t[(i[g]+i[m])%255];return(g===0||m===0)&&(y=0),y}function n(g){var m=t[255-i[g]];return g===0&&(m=0),m}var o=!1,a,l,c,d;function u(){e||s();function g(S){var I,F,D;for(F=D=n(S),I=0;I<4;I++)F=(F<<1|F>>>7)&255,D^=F;return D^=99,D}a=[],l=[],c=[[],[],[],[]],d=[[],[],[],[]];for(var m=0;m<256;m++){var y=g(m);a[m]=y,l[y]=m,c[0][m]=r(2,y)<<24|y<<16|y<<8|r(3,y),d[0][y]=r(14,m)<<24|r(9,m)<<16|r(13,m)<<8|r(11,m);for(var b=1;b<4;b++)c[b][m]=c[b-1][m]>>>8|c[b-1][m]<<24,d[b][y]=d[b-1][y]>>>8|d[b-1][y]<<24}o=!0}var f=function(g,m){o||u();var y=new Uint32Array(m);y.set(a,512),y.set(l,768);for(var b=0;b<4;b++)y.set(c[b],4096+1024*b>>2),y.set(d[b],8192+1024*b>>2);function S(D,V,O,L,q,T,X,_,v){var w=y.subarray(0,60),R=y.subarray(256,316);w.set([V,O,L,q,T,X,_,v]);for(var A=D,M=1;A<4*D+28;A++){var x=w[A-1];(A%D===0||D===8&&A%D===4)&&(x=a[x>>>24]<<24^a[x>>>16&255]<<16^a[x>>>8&255]<<8^a[x&255]),A%D===0&&(x=x<<8^x>>>24^M<<24,M=M<<1^(M&128?27:0)),w[A]=w[A-D]^x}for(var G=0;G<A;G+=4)for(var E=0;E<4;E++){var x=w[A-(4+G)+(4-E)%4];G<4||G>=A-4?R[G+E]=x:R[G+E]=d[0][a[x>>>24]]^d[1][a[x>>>16&255]]^d[2][a[x>>>8&255]]^d[3][a[x&255]]}F.set_rounds(D+5)}var I={Uint8Array,Uint32Array},F=function(D,V,O){var L=0,q=0,T=0,X=0,_=0,v=0,w=0,R=0,A=0,M=0,x=0,G=0,E=0,C=0,k=0,ce=0,de=0,ue=0,we=0,Me=0,We=0,he=new D.Uint32Array(O),U=new D.Uint8Array(O);function et(J,Z,ae,fe,Re,Ie,vt,Se){J=J|0,Z=Z|0,ae=ae|0,fe=fe|0,Re=Re|0,Ie=Ie|0,vt=vt|0,Se=Se|0;var ke=0,Zt=0,Ze=0,Te=0,Xi=0,nt=0,ht=0,ai=0;for(ke=ae|1024,Zt=ae|2048,Ze=ae|3072,Re=Re^he[(J|0)>>2],Ie=Ie^he[(J|4)>>2],vt=vt^he[(J|8)>>2],Se=Se^he[(J|12)>>2],ai=16;(ai|0)<=fe<<4;ai=ai+16|0)Te=he[(ae|Re>>22&1020)>>2]^he[(ke|Ie>>14&1020)>>2]^he[(Zt|vt>>6&1020)>>2]^he[(Ze|Se<<2&1020)>>2]^he[(J|ai|0)>>2],Xi=he[(ae|Ie>>22&1020)>>2]^he[(ke|vt>>14&1020)>>2]^he[(Zt|Se>>6&1020)>>2]^he[(Ze|Re<<2&1020)>>2]^he[(J|ai|4)>>2],nt=he[(ae|vt>>22&1020)>>2]^he[(ke|Se>>14&1020)>>2]^he[(Zt|Re>>6&1020)>>2]^he[(Ze|Ie<<2&1020)>>2]^he[(J|ai|8)>>2],ht=he[(ae|Se>>22&1020)>>2]^he[(ke|Re>>14&1020)>>2]^he[(Zt|Ie>>6&1020)>>2]^he[(Ze|vt<<2&1020)>>2]^he[(J|ai|12)>>2],Re=Te,Ie=Xi,vt=nt,Se=ht;L=he[(Z|Re>>22&1020)>>2]<<24^he[(Z|Ie>>14&1020)>>2]<<16^he[(Z|vt>>6&1020)>>2]<<8^he[(Z|Se<<2&1020)>>2]^he[(J|ai|0)>>2],q=he[(Z|Ie>>22&1020)>>2]<<24^he[(Z|vt>>14&1020)>>2]<<16^he[(Z|Se>>6&1020)>>2]<<8^he[(Z|Re<<2&1020)>>2]^he[(J|ai|4)>>2],T=he[(Z|vt>>22&1020)>>2]<<24^he[(Z|Se>>14&1020)>>2]<<16^he[(Z|Re>>6&1020)>>2]<<8^he[(Z|Ie<<2&1020)>>2]^he[(J|ai|8)>>2],X=he[(Z|Se>>22&1020)>>2]<<24^he[(Z|Re>>14&1020)>>2]<<16^he[(Z|Ie>>6&1020)>>2]<<8^he[(Z|vt<<2&1020)>>2]^he[(J|ai|12)>>2]}function is(J,Z,ae,fe){J=J|0,Z=Z|0,ae=ae|0,fe=fe|0,et(0,2048,4096,We,_^J,v^Z,w^ae,R^fe),_=L,v=q,w=T,R=X}function Ke(J,Z,ae,fe){J=J|0,Z=Z|0,ae=ae|0,fe=fe|0;var Re=0;et(1024,3072,8192,We,J,fe,ae,Z),Re=q,q=X,X=Re,L=L^_,q=q^v,T=T^w,X=X^R,_=J,v=Z,w=ae,R=fe}function ut(J,Z,ae,fe){J=J|0,Z=Z|0,ae=ae|0,fe=fe|0;var Re=0,Ie=0,vt=0,Se=0,ke=0,Zt=0,Ze=0,Te=0,Xi=0,nt=0;for(J=J^_,Z=Z^v,ae=ae^w,fe=fe^R,Re=de|0,Ie=ue|0,vt=we|0,Se=Me|0;(Xi|0)<128;Xi=Xi+1|0)Re>>>31&&(ke=ke^J,Zt=Zt^Z,Ze=Ze^ae,Te=Te^fe),Re=Re<<1|Ie>>>31,Ie=Ie<<1|vt>>>31,vt=vt<<1|Se>>>31,Se=Se<<1,nt=fe&1,fe=fe>>>1|ae<<31,ae=ae>>>1|Z<<31,Z=Z>>>1|J<<31,J=J>>>1,nt&&(J=J^3774873600);_=ke,v=Zt,w=Ze,R=Te}function nn(J){J=J|0,We=J}function gt(J,Z,ae,fe){J=J|0,Z=Z|0,ae=ae|0,fe=fe|0,L=J,q=Z,T=ae,X=fe}function lt(J,Z,ae,fe){J=J|0,Z=Z|0,ae=ae|0,fe=fe|0,_=J,v=Z,w=ae,R=fe}function ss(J,Z,ae,fe){J=J|0,Z=Z|0,ae=ae|0,fe=fe|0,A=J,M=Z,x=ae,G=fe}function st(J,Z,ae,fe){J=J|0,Z=Z|0,ae=ae|0,fe=fe|0,E=J,C=Z,k=ae,ce=fe}function Ee(J,Z,ae,fe){J=J|0,Z=Z|0,ae=ae|0,fe=fe|0,G=~ce&G|ce&fe,x=~k&x|k&ae,M=~C&M|C&Z,A=~E&A|E&J}function bs(J){return J=J|0,J&15?-1:(U[J|0]=L>>>24,U[J|1]=L>>>16&255,U[J|2]=L>>>8&255,U[J|3]=L&255,U[J|4]=q>>>24,U[J|5]=q>>>16&255,U[J|6]=q>>>8&255,U[J|7]=q&255,U[J|8]=T>>>24,U[J|9]=T>>>16&255,U[J|10]=T>>>8&255,U[J|11]=T&255,U[J|12]=X>>>24,U[J|13]=X>>>16&255,U[J|14]=X>>>8&255,U[J|15]=X&255,16)}function mt(J){return J=J|0,J&15?-1:(U[J|0]=_>>>24,U[J|1]=_>>>16&255,U[J|2]=_>>>8&255,U[J|3]=_&255,U[J|4]=v>>>24,U[J|5]=v>>>16&255,U[J|6]=v>>>8&255,U[J|7]=v&255,U[J|8]=w>>>24,U[J|9]=w>>>16&255,U[J|10]=w>>>8&255,U[J|11]=w&255,U[J|12]=R>>>24,U[J|13]=R>>>16&255,U[J|14]=R>>>8&255,U[J|15]=R&255,16)}function Ue(J,Z,ae){J=J|0,Z=Z|0,ae=ae|0;var fe=0;if(Z&15)return-1;for(;(ae|0)>=16;)Ft[J&7](U[Z|0]<<24|U[Z|1]<<16|U[Z|2]<<8|U[Z|3],U[Z|4]<<24|U[Z|5]<<16|U[Z|6]<<8|U[Z|7],U[Z|8]<<24|U[Z|9]<<16|U[Z|10]<<8|U[Z|11],U[Z|12]<<24|U[Z|13]<<16|U[Z|14]<<8|U[Z|15]),U[Z|0]=L>>>24,U[Z|1]=L>>>16&255,U[Z|2]=L>>>8&255,U[Z|3]=L&255,U[Z|4]=q>>>24,U[Z|5]=q>>>16&255,U[Z|6]=q>>>8&255,U[Z|7]=q&255,U[Z|8]=T>>>24,U[Z|9]=T>>>16&255,U[Z|10]=T>>>8&255,U[Z|11]=T&255,U[Z|12]=X>>>24,U[Z|13]=X>>>16&255,U[Z|14]=X>>>8&255,U[Z|15]=X&255,fe=fe+16|0,Z=Z+16|0,ae=ae-16|0;return fe|0}function Qs(J,Z,ae){J=J|0,Z=Z|0,ae=ae|0;var fe=0;if(Z&15)return-1;for(;(ae|0)>=16;)ct[J&1](U[Z|0]<<24|U[Z|1]<<16|U[Z|2]<<8|U[Z|3],U[Z|4]<<24|U[Z|5]<<16|U[Z|6]<<8|U[Z|7],U[Z|8]<<24|U[Z|9]<<16|U[Z|10]<<8|U[Z|11],U[Z|12]<<24|U[Z|13]<<16|U[Z|14]<<8|U[Z|15]),fe=fe+16|0,Z=Z+16|0,ae=ae-16|0;return fe|0}var Ft=[is,is,is,Ke,Ke,Ke,Ke,Ke],ct=[is,is];return{set_rounds:nn,set_state:gt,set_iv:lt,set_nonce:ss,set_mask:st,set_counter:Ee,get_state:bs,get_iv:mt,cipher:Ue,mac:Qs}}(I,g,m);return F.set_key=S,F};return f.ENC={CBC:2},f.DEC={CBC:3},f.MAC={CBC:0},f.HEAP_DATA=16384,f}();function I6(e,t){const i=e?e.byteLength:65536;if(i&4095||i<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return e=e||new Uint8Array(new ArrayBuffer(i)),e}function Wb(e,t,i,s,r){const n=e.length-t,o=n<r?n:r;return e.set(i.subarray(s,s+o),t),o}function Tb(e){return e instanceof Uint8Array}function Lb(...e){const t=e.reduce((r,n)=>r+n.length,0),i=new Uint8Array(t);let s=0;for(let r=0;r<e.length;r++)i.set(e[r],s),s+=e[r].length;return i}class F6{constructor(t,i,s=!0,r){this.pos=0,this.len=0,this.mode=r,this.heap=I6().subarray(Ar.HEAP_DATA),this.asm=new Ar(null,this.heap.buffer),this.pos=0,this.len=0;const n=t.length;if(n!==16&&n!==24&&n!==32)throw new TypeError("illegal key size");const o=new DataView(t.buffer,t.byteOffset,t.byteLength);if(this.asm.set_key(n>>2,o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12),n>16?o.getUint32(16):0,n>16?o.getUint32(20):0,n>24?o.getUint32(24):0,n>24?o.getUint32(28):0),i!==void 0){if(i.length!==16)throw new TypeError("illegal iv size");const a=new DataView(i.buffer,i.byteOffset,i.byteLength);this.asm.set_iv(a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12))}else this.asm.set_iv(0,0,0,0);this.padding=s}AES_Encrypt_process(t){if(!Tb(t))throw new TypeError("data isn't of expected type");const i=this.asm,s=this.heap,r=Ar.ENC[this.mode],n=Ar.HEAP_DATA;let o=this.pos,a=this.len,l=0,c=t.length||0,d=0;const u=a+c&-16;let f=0;const g=new Uint8Array(u);for(;c>0;)f=Wb(s,o+a,t,l,c),a+=f,l+=f,c-=f,f=i.cipher(r,n+o,a),f&&g.set(s.subarray(o,o+f),d),d+=f,f<a?(o+=f,a-=f):(o=0,a=0);return this.pos=o,this.len=a,g}AES_Encrypt_finish(){const t=this.asm,i=this.heap,s=Ar.ENC[this.mode],r=Ar.HEAP_DATA,n=this.pos;let o=this.len;const a=16-o%16;let l=o;if(this.padding){for(let d=0;d<a;++d)i[n+o+d]=a;o+=a,l=o}else if(o%16)throw new TypeError("data length must be a multiple of the block size");const c=new Uint8Array(l);return o&&t.cipher(s,r+n,o),l&&c.set(i.subarray(n,n+l)),this.pos=0,this.len=0,c}AES_Decrypt_process(t){if(!Tb(t))throw new TypeError("data isn't of expected type");const i=this.asm,s=this.heap,r=Ar.DEC[this.mode],n=Ar.HEAP_DATA;let o=this.pos,a=this.len,l=0,c=t.length||0,d=0,u=a+c&-16,f=0,g=0;this.padding&&(f=a+c-u||16,u-=f);const m=new Uint8Array(u);for(;c>0;)g=Wb(s,o+a,t,l,c),a+=g,l+=g,c-=g,g=i.cipher(r,n+o,a-(c?0:f)),g&&m.set(s.subarray(o,o+g),d),d+=g,g<a?(o+=g,a-=g):(o=0,a=0);return this.pos=o,this.len=a,m}AES_Decrypt_finish(){const t=this.asm,i=this.heap,s=Ar.DEC[this.mode],r=Ar.HEAP_DATA,n=this.pos,o=this.len;let a=o;if(o>0){if(o%16)throw new Error("data length must be a multiple of the block size");if(t.cipher(s,r+n,o),this.padding){const c=i[n+a-1];if(c<1||c>16||c>a)throw new Error("bad padding");let d=0;for(let u=c;u>1;u--)d|=c^i[n+a-u];if(d)throw new Error("bad padding");a-=c}}const l=new Uint8Array(a);return a>0&&l.set(i.subarray(n,n+a)),this.pos=0,this.len=0,l}}class uh{constructor(t,i,s=!0,r){this.aes=r||new F6(t,i,s,"CBC")}static encrypt(t,i,s=!0,r){return new uh(i,r,s).encrypt(t)}static decrypt(t,i,s=!0,r){return new uh(i,r,s).decrypt(t)}encrypt(t){const i=this.aes.AES_Encrypt_process(t),s=this.aes.AES_Encrypt_finish();return Lb(i,s)}decrypt(t){const i=this.aes.AES_Decrypt_process(t),s=this.aes.AES_Decrypt_finish();return Lb(i,s)}}/**
 * @wharfkit/protocol-esr v1.3.2
 * https://github.com/wharfkit/protocol-esr
 *
 * @license
 * Copyright (c) 2023 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * 1.  Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 * 2.  Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 * 3.  Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */function oi(e,t,i,s){var r=arguments.length,n=r<3?t:s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(n=(r<3?o(n):r>3?o(t,i,n):o(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n}let _a=class extends h{};oi([h.field("public_key")],_a.prototype,"from",void 0);oi([h.field("uint64")],_a.prototype,"nonce",void 0);oi([h.field("bytes")],_a.prototype,"ciphertext",void 0);oi([h.field("uint32")],_a.prototype,"checksum",void 0);_a=oi([h.type("sealed_message")],_a);let Td=class extends h{};oi([h.field("name")],Td.prototype,"session_name",void 0);oi([h.field("public_key")],Td.prototype,"request_key",void 0);oi([h.field("string",{extension:!0})],Td.prototype,"user_agent",void 0);Td=oi([h.type("link_create")],Td);let hh=class extends h{};oi([h.field("time_point_sec")],hh.prototype,"expiration",void 0);hh=oi([h.type("link_info")],hh);let Vl=class extends h{};oi([h.field("public_key")],Vl.prototype,"from",void 0);oi([h.field("uint64")],Vl.prototype,"nonce",void 0);oi([h.field("bytes")],Vl.prototype,"ciphertext",void 0);oi([h.field("uint32")],Vl.prototype,"checksum",void 0);Vl=oi([h.type("buoy_message")],Vl);let Hl=class extends h{};oi([h.field("name")],Hl.prototype,"session_name",void 0);oi([h.field("public_key")],Hl.prototype,"request_key",void 0);oi([h.field("string",{extension:!0})],Hl.prototype,"user_agent",void 0);Hl=oi([h.type("buoy_session")],Hl);let Eg=class extends h{};oi([h.field("time_point_sec")],Eg.prototype,"expiration",void 0);Eg=oi([h.type("buoy_info")],Eg);async function Nb(e,t,i){const s=await S6({...e,WebSocket:t||WebSocket});if(!s)throw new Error(s.rejected);if(typeof s.rejected=="string")throw new Error(s.rejected);const r=JSON.parse(s);if(r.sa===void 0||r.sp===void 0||r.cid===void 0)throw new Error(i("error.cancelled",{default:"The request was cancelled from Anchor."}));return r}function x6(){let e="",t;const i="0123456789abcdef";for(t=0;t<36;t+=1)switch(t){case 8:case 13:case 18:case 23:e+="-";break;case 14:e+="4";break;case 19:e+=i[Math.random()*4|8];break;default:e+=i[Math.random()*16|0]}return e}function e2(){if(t2())return"googlechrome://";if(s2())return"firefox:://";if(fh()&&Vb())return"brave://";if(fh()){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t=window.location.href.split("#")[0]+"#";for(let i=0;i<8;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}return Zo()&&_6()?"android-intent://org.mozilla.firefox":Zo()&&M6()?"android-intent://com.microsoft.emmx":Zo()&&E6()?"android-intent://com.opera.browser":Zo()&&Vb()?"android-intent://com.brave.browser":Zo()&&r2()?"android-intent://webview":Zo()&&i2()?"android-intent://com.android.chrome":window.location.href}function fh(){return/iP(ad|od|hone)/i.test(navigator.userAgent)}function t2(){return/CriOS/.test(navigator.userAgent)}function i2(){return/Chrome\/[.0-9]* Mobile/i.test(navigator.userAgent)}function _6(){return/Firefox/i.test(navigator.userAgent)}function s2(){return/FxiOS/.test(navigator.userAgent)}function E6(){return/OPR/.test(navigator.userAgent)||/Opera/.test(navigator.userAgent)}function M6(){return/Edg/.test(navigator.userAgent)}function Vb(){return navigator.brave&&typeof navigator.brave.isBrave=="function"}function Zo(){return/Android/.test(navigator.userAgent)}function r2(){return/wv/.test(navigator.userAgent)||/Android.*AppleWebKit/.test(navigator.userAgent)}function k6(){return fh()||t2()||i2()||s2()||Zo()||r2()}async function D6(e,t){const i=hd.generate("K1"),s=i.toPublic(),r=Hl.from({session_name:e.appName,request_key:s,user_agent:P6()}),n=!(e.chain||e.chains.length===1),o=n2(t),a=n?null:e.chain?Vi.from(e.chain.id.array):null,l=n?e.chains.map(u=>Vi.from(u.id.array)):[],c=Pi.identity({callback:O6(o),scope:String(e.appName),chainId:a,chainIds:l,info:{link:r,scope:String(e.appName)}},e.esrOptions),d=c.clone();if(typeof window<"u"){const u=e2();d.setInfoKey("same_device",!0),d.setInfoKey("return_path",u)}return{callback:o,request:c,sameDeviceRequest:d,requestKey:s,privateKey:i}}function G6(e,t){const i=n2(t);return e.setCallback(`${i.service}/${i.channel}`,!0),i}function P6(){let t="@wharfkit/protocol-esr 1.3.2";return typeof navigator<"u"&&(t+=" "+navigator.userAgent),t}function O6(e){const{service:t,channel:i}=e;return{url:`${t}/${i}`,background:!0}}function n2(e){return{service:e,channel:x6()}}function B6(e,t,i,s){const r=t.sharedSecret(i);s||(s=Le.random());const n=Na.hash(Pe.encode({object:s}).appending(r.array)),o=new uh(n.array.slice(0,32),n.array.slice(32,48)),a=pe.from(o.encrypt(pe.from(e,"utf8").array)),c=new DataView(_e.hash(n.array).array.buffer).getUint32(0,!0);return _a.from({from:t.toPublic(),nonce:s,ciphertext:a,checksum:c})}async function W6(e,t){if(!e.sig||e.sig.length===0)throw new Error("Invalid response, must have at least one signature");let i;if(!t.chain&&t.chains.length>1){if(!e.cid)throw new Error("Multi chain response payload must specify resolved chain id (cid)")}else if(i=t.chain||t.chains[0],e.cid&&String(i.id)!==e.cid)throw new Error("Got response for wrong chain id")}function Hb(e){const t=[];let i=0,s=e.sig;for(;s;)t.push(String(s)),s=e[`sig${i}`],i++;return[...new Set(t)].map(r=>Gi.from(r))}function T6(e){return"tx"in e}/**
 * @wharfkit/wallet-plugin-anchor v1.4.0
 * https://github.com/wharfkit/wallet-plugin-anchor
 *
 * @license
 * Copyright (c) 2023 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * 1.  Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 * 2.  Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 * 3.  Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */var L6={title:"Connect with Anchor",body:"Scan with Anchor on your mobile device or click the button below to open on this device.",link:"Launch Anchor"},N6={title:"Complete using Anchor",body:'Please open your Anchor Wallet on "{{channelName}}" to review and approve this transaction.',label:"Sign manually or with another device",link:"Trigger Manually",await:"Waiting for response from Anchor"},V6={expired:"The request expired, please try again.",invalid_response:"Invalid response from Anchor, must contain link_ch, link_key, link_name and cid flags.",not_completed:"The request was not completed.",cancelled:"The request was cancelled from Anchor."},H6={login:L6,transact:N6,error:V6},Z6={},Y6={link:"Anchor",body:"Anchor",title:"Anchor"},z6={cancelled:"Anchor",not_completed:"",invalid_response:"Anchorlink_ch, link_key, link_namecid",expired:""},j6={await:"Anchor",link:"",label:"",body:'"{{channelName}}"Anchor',title:"Anchor"},X6={login:Y6,error:z6,transact:j6},J6={},U6={en:H6,ko:Z6,"zh-Hans":X6,"zh-Hant":J6};class q6 extends pf{constructor(t){super(),this.id="anchor",this.translations=U6,this.config={requiresChainSelect:!1,requiresPermissionSelect:!1},this.metadata=ms.from({name:"Anchor",description:"",logo:Bs.from({dark:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDI1NiAyNTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS40NCwgMCwgMCwgMS40NCwgLTguNTAxOTI1LCAtNTcuMDc0NTcpIiBzdHlsZT0iIj4KICAgIDx0aXRsZT5XaGl0ZTwvdGl0bGU+CiAgICA8Y2lyY2xlIGN4PSI5NC43OTMiIGN5PSIxMjguNTI0IiByPSI4MCIgZmlsbD0iI0ZCRkRGRiIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0gOTQuNzk5IDc4LjUyNCBDIDk3LjA5OCA3OC41MjQgOTkuMTk1IDc5LjgzNyAxMDAuMTk4IDgxLjkwNiBMIDEyNC4yMDQgMTMxLjQwNiBMIDEyNC43NDYgMTMyLjUyNCBMIDExMS40MDkgMTMyLjUyNCBMIDEwNy41MyAxMjQuNTI0IEwgODIuMDY5IDEyNC41MjQgTCA3OC4xODkgMTMyLjUyNCBMIDY0Ljg1MyAxMzIuNTI0IEwgNjUuMzk1IDEzMS40MDYgTCA4OS40MDEgODEuOTA2IEMgOTAuNDA0IDc5LjgzNyA5Mi41MDEgNzguNTI0IDk0Ljc5OSA3OC41MjQgWiBNIDg2LjkxOSAxMTQuNTI0IEwgMTAyLjY4IDExNC41MjQgTCA5NC43OTkgOTguMjc0IEwgODYuOTE5IDExNC41MjQgWiBNIDExMi43OTMgMTQ5LjUyNCBMIDEyNC43OTggMTQ5LjUyNCBDIDEyNC40MzcgMTY1LjY3NiAxMTEuMDY3IDE3OC41MjQgOTQuNzk5IDE3OC41MjQgQyA3OC41MzIgMTc4LjUyNCA2NS4xNjIgMTY1LjY3NiA2NC44MDEgMTQ5LjUyNCBMIDc2LjgwNiAxNDkuNTI0IEMgNzcuMDg3IDE1Ni44NzggODEuOTc0IDE2My4xNTUgODguNzkzIDE2NS41MiBMIDg4Ljc5MyAxNDEuNTI0IEMgODguNzkzIDEzOC4yMSA5MS40OCAxMzUuNTI0IDk0Ljc5MyAxMzUuNTI0IEMgOTguMTA3IDEzNS41MjQgMTAwLjc5MyAxMzguMjEgMTAwLjc5MyAxNDEuNTI0IEwgMTAwLjc5MyAxNjUuNTI0IEMgMTA3LjYyIDE2My4xNjIgMTEyLjUxMSAxNTYuODgzIDExMi43OTMgMTQ5LjUyNCBaIiBmaWxsPSIjMzY1MEEyIi8+CiAgPC9nPgo8L3N2Zz4=",light:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDE2MCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjgwIiBjeT0iODAiIHI9IjgwIiBmaWxsPSIjMzY1MEEyIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNODAuMDA2MyAzMEM4Mi4zMDUxIDMwIDg0LjQwMTkgMzEuMzEzNCA4NS40MDUgMzMuMzgxOEwxMDkuNDExIDgyLjg4MjJMMTA5Ljk1MyA4NEg5Ni42MTYzTDkyLjczNjYgNzZINjcuMjc1OUw2My4zOTYxIDg0SDUwLjA1OTRMNTAuNjAxNyA4Mi44ODE4TDc0LjYwNzcgMzMuMzgxOEM3NS42MTA4IDMxLjMxMzQgNzcuNzA3NSAzMCA4MC4wMDYzIDMwWk03Mi4xMjU2IDY2SDg3Ljg4N0w4MC4wMDYzIDQ5Ljc1MDFMNzIuMTI1NiA2NlpNOTcuOTk5NSAxMDFIMTEwLjAwNUMxMDkuNjQ0IDExNy4xNTIgOTYuMjczOCAxMzAgODAuMDA2MyAxMzBDNjMuNzM4OCAxMzAgNTAuMzY4NiAxMTcuMTUyIDUwLjAwNzggMTAxSDYyLjAxMzFDNjIuMjk0MSAxMDguMzU0IDY3LjE4MDQgMTE0LjYzMSA3NC4wMDAzIDExNi45OTZWOTNDNzQuMDAwMyA4OS42ODYzIDc2LjY4NjYgODcgODAuMDAwMyA4N0M4My4zMTQgODcgODYuMDAwMyA4OS42ODYzIDg2LjAwMDMgOTNWMTE3QzkyLjgyNjUgMTE0LjYzOCA5Ny43MTgzIDEwOC4zNTkgOTcuOTk5NSAxMDFaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K"}),homepage:"https://greymass.com/anchor",download:"https://greymass.com/anchor/download"}),this.buoyUrl=(t==null?void 0:t.buoyUrl)||"https://cb.anchor.link",this.buoyWs=t==null?void 0:t.buoyWs}login(t){return new Promise((i,s)=>{this.handleLogin(t).then(r=>{i(r)}).catch(r=>{s(r)})})}async handleLogin(t){var g;if(!t.ui)throw new Error("No UI available");const i=t.ui.getTranslate(this.id),{callback:s,request:r,sameDeviceRequest:n,requestKey:o,privateKey:a}=await D6(t,this.buoyUrl),l=[{type:"link",label:i("login.link",{default:"Launch Anchor"}),data:{href:n.encode(!0,!1,"esr:"),label:i("login.link",{default:"Launch Anchor"}),variant:"primary"}}];k6()||l.unshift({type:"qr",data:r.encode(!0,!1,"esr:")}),window.location.href=n.encode(!0,!1,"esr:"),((g=t.ui)==null?void 0:g.prompt({title:i("login.title",{default:"Connect with Anchor"}),body:i("login.body",{default:"Scan with Anchor on your mobile device or click the button below to open on this device."}),elements:l})).catch(()=>{console.info("Modal closed")});const d=await Nb(s,this.buoyWs,i);if(W6(d,t),!d.cid||!d.sa||!d.sp)throw new Error("Invalid callback response");if(d.link_ch&&d.link_key&&d.link_name){this.data.requestKey=o,this.data.privateKey=a,this.data.signerKey=d.link_key&&ei.from(d.link_key),this.data.channelUrl=d.link_ch,this.data.channelName=d.link_name;try{if(d.link_meta){const m=JSON.parse(d.link_meta);this.data.sameDevice=m.sameDevice,this.data.launchUrl=m.launchUrl,this.data.triggerUrl=m.triggerUrl}}catch{}}const f=(await Md.fromPayload(d,t.esrOptions)).getIdentityProof(d.sig);return{chain:_e.from(d.cid),permissionLevel:dt.from({actor:d.sa,permission:d.sp}),identityProof:f}}sign(t,i){return this.handleSigningRequest(t,i)}async handleSigningRequest(t,i){if(!i.ui)throw new Error("No UI available");const s=i.ui.getTranslate(this.id),r=t.transaction.expiration.toDate(),n=new Date,o=Math.floor(r.getTime()-n.getTime()),a=await i.createRequest({transaction:t.transaction});a.setInfoKey("link",hh.from({expiration:r}));const l=G6(a,this.buoyUrl),c=a.encode(!0,!1),d=this.data.sameDevice!==!1,u=a.clone(),f=e2();u.setInfoKey("same_device",!0),u.setInfoKey("return_path",f),this.data.sameDevice&&(this.data.launchUrl?window.location.href=this.data.launchUrl:fh()&&(window.location.href="anchor://link"));const g=()=>{var D;(D=i.ui)==null||D.prompt({title:s("transact.sign_manually.title",{default:"Sign manually"}),body:s("transact.sign_manually.body",{default:"Scan the QR-code with Anchor on another device or use the button to open it here."}),elements:[{type:"qr",data:String(c)},{type:"link",label:s("transact.sign_manually.link.title",{default:"Open Anchor"}),data:{href:String(u),label:s("transact.sign_manually.link.title",{default:"Open Anchor"})}}]})},m=i.ui.prompt({title:s("transact.title",{default:"Complete using Anchor"}),body:s("transact.body",{channelName:this.data.channelName,default:`Please open your Anchor Wallet on "${this.data.channelName}" to review and approve this transaction.`}),elements:[{type:"countdown",data:{label:s("transact.await",{default:"Waiting for response from Anchor"}),end:r.toISOString()}},{type:"button",label:s("transact.label",{default:"Sign manually or with another device"}),data:{onClick:d?()=>window.location.href=u.encode():g,label:s("transact.label",{default:"Sign manually or with another device"})}}]}),y=setTimeout(()=>{if(!i.ui)throw new Error("No UI available");m.cancel(s("error.expired",{default:"The request expired, please try again."}))},o);m.catch(()=>clearTimeout(y));const b=Nb(l,this.buoyWs,s);if(this.data.channelUrl){const D=new URL(this.data.channelUrl).origin,V=new URL(this.data.channelUrl).pathname.substring(1),O=B6((this.data.sameDevice?u:a).encode(!0,!1,"esr:"),hd.from(this.data.privateKey),ei.from(this.data.signerKey));A6(Pe.encode({object:O}).array,{service:D,channel:V})}else window.location.href=u.encode();const S=await Promise.race([b,m]).finally(()=>{clearTimeout(y)});if(T6(S)&&Hb(S).length>0){const D=await Md.fromPayload(S,i.esrOptions);return{signatures:Hb(S),resolved:D}}const F=s("error.not_completed",{default:"The request was not completed."});throw m.cancel(F),new Error(F)}}/**
 * @wharfkit/wallet-plugin-cloudwallet v1.3.3
 * https://github.com/wharfkit/wallet-plugin-cloudwallet
 *
 * @license
 * Copyright (c) 2023 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * 1.  Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 * 2.  Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 * 3.  Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */function On(e,t,i,s){var r=arguments.length,n=r<3?t:s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(n=(r<3?o(n):r>3?o(t,i,n):o(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n}let Zl=class extends h{};On([h.field(B)],Zl.prototype,"payer",void 0);On([h.field(B)],Zl.prototype,"receiver",void 0);On([h.field(ge)],Zl.prototype,"bytes",void 0);Zl=On([h.type("buyrambytes")],Zl);let Ea=class extends h{};On([h.field(B)],Ea.prototype,"from",void 0);On([h.field(B)],Ea.prototype,"to",void 0);On([h.field(ie)],Ea.prototype,"quantity",void 0);On([h.field("string")],Ea.prototype,"memo",void 0);Ea=On([h.type("transfer")],Ea);function K6(e,t){if(!e.actions.every(r=>t.actions.some(n=>r.equals(n))))throw new Error("The modified transaction does not contain all the original actions.");const s=t.actions.filter(r=>!e.actions.some(n=>r.equals(n)));for(const r of s)if(r.authorization.find(o=>o.actor===e.actions[0].authorization[0].actor)){if(r.account.equals("eosio.token")&&r.name.equals("transfer")){const l=Ea.from(r.data);if(l.to.equals("txfee.wam")&&l.memo.startsWith("WAX fee for"))continue}if(r.account.equals("eosio")&&r.name.equals("buyrambytes")&&Zl.from(r.data).receiver.equals(e.actions[0].authorization[0].actor))continue;throw new Error("The modified transaction contains one or more actions that are not allowed.")}}function o2(e,t,i){const s=setInterval(()=>{t.closed&&(clearInterval(s),i(e("error.closed",{default:"The Cloud Wallet was closed before the request was completed"})))},500);return s}function Q6(){return Math.floor(new Date().getTime())}function Mg(e,t,i){const r=new URL(e.origin).origin===t.origin,n=e.source===i;return!(!(typeof e.data=="object")||!r||!n)}async function $6(e,t){const i=new URL(t),s=await fetch(String(i),{credentials:"include",method:"get"});if(!s.ok)throw new Error(e("error.endpoint",{default:"Login Endpoint Error {{status}} - {{statusText}}",status:s.status,statusText:s.statusText}));return await s.json()}async function ex(e,t,i=3e5){const s=new URL(t),r=await window.open(s,"WalletPluginCloudWalletPopup","height=800,width=600");if(!r)throw new Error(e("error.popup",{default:"Unable to open the popup window. Check your browser settings and try again."}));return new Promise((n,o)=>{const a=o2(e,r,o),l=d=>{if(Mg(d,s,r))try{n(d.data)}catch(u){o(u)}finally{window.removeEventListener("message",l),clearTimeout(c),clearInterval(a)}},c=setTimeout(()=>{r.close(),window.removeEventListener("message",l),o(new Error(e("error.timeout",{default:"The request has timed out after {{timeout}} seconds. Please try again.",timeout:i/1e3})))},i);window.addEventListener("message",l)})}function Zb(e,t){const i=navigator.userAgent.toLowerCase();if(i.search("chrome")===-1&&i.search("safari")>=0)return!1;try{if(!t)return!1;const s=t.whitelist,{actions:r}=e.resolvedTransaction;return r.every(n=>s.find(o=>{if(n.account.equals(o.contract))return n.account.equals("eosio.token")&&n.name&&n.name.equals("transfer")?o.recipients.includes(String(n.data.to)):!0}))}catch{}return!1}async function tx(e,t,i){const s=new URL(t),r=new AbortController;setTimeout(()=>r.abort(),5e3);const n=await fetch(s,{body:JSON.stringify({feeFallback:!0,freeBandwidth:!0,transaction:i.serializedTransaction}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST",signal:r.signal});if(!n.ok)throw new Error(e("error.endpoint",{default:"Login Endpoint Error {{status}} - {{statusText}}",status:n.status,statusText:n.statusText}));const o=await n.json();if(o.processed&&o.processed.except)throw new Error(e("error.exception",{default:"Signing exception occurred: {{exception}}",exception:JSON.stringify(o)}));return o}async function Yb(e,t,i,s=3e5){const r=new URL(t),n=await window.open(r,"WalletPluginCloudWalletPopup","height=800,width=600");if(!n)throw new Error(e("error.popup",{default:"Unable to open the popup window. Check your browser settings and try again."}));return new Promise((o,a)=>{const l=o2(e,n,a),c=u=>{if(!Mg(u,r,n))return;n==null||n.postMessage({feeFallback:!0,freeBandwidth:!0,startTime:Q6(),transaction:i.serializedTransaction,type:"TRANSACTION"},String(t));const f=g=>{if(Mg(g,r,n))try{o(g.data)}catch(m){a(m)}finally{window.removeEventListener("message",c),window.removeEventListener("message",f),clearTimeout(d),clearInterval(l)}};window.addEventListener("message",f)},d=setTimeout(()=>{n.close(),window.removeEventListener("message",c),a(new Error(e("error.timeout",{default:"The request has timed out after {{timeout}} seconds. Please try again.",timeout:s/1e3})))},s);window.addEventListener("message",c)})}var ix="Connecting to Cloud Wallet",sx={closed:"The Cloud Wallet was closed before the request was completed",endpoint:"Login Endpoint Error {{status}} - {{statusText}}",exception:"Signing exception occurred: {{exception}}",popup:"Unable to open the popup window. Check your browser settings and try again.",response:"The Cloud Wallet failed to respond.",timeout:"The request has timed out after {{timeout}} seconds. Please try again."},rx={popup:"Login with the Cloud Wallet popup window"},nx={popup:"Sign with the Cloud Wallet popup window"},ox={connecting:ix,error:sx,login:rx,transact:nx},ax="  ",lx={closed:"     .",endpoint:"   {{status}} - {{statusText}}",exception:"  : {{exception}}",popup:"    .     .",response:"   .",timeout:"{{timeout}}    .  ."},cx={popup:"    "},dx={popup:"    "},ux={connecting:ax,error:lx,login:cx,transact:dx},hx="",fx={closed:"",endpoint:" {{status}} - {{statusText}}",exception:"{{exception}}",popup:"",response:"",timeout:" {{timeout}} "},px={popup:""},gx={popup:""},mx={connecting:hx,error:fx,login:px,transact:gx},vx="",bx={closed:"",endpoint:" {{status}} - {{statusText}}",exception:"{{exception}}",popup:" ",response:"",timeout:" {{timeout}} "},Cx={popup:""},yx={popup:""},wx={connecting:vx,error:bx,login:Cx,transact:yx},Sx={en:ox,ko:ux,"zh-Hans":mx,"zh-Hant":wx};class Rx extends pf{constructor(t){super(),this.id="cloudwallet",this.translations=Sx,this.config={requiresChainSelect:!1,requiresPermissionSelect:!1,supportedChains:["1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"]},this.metadata=ms.from({name:"Cloud Wallet",description:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAGCgAwAEAAAAAQAAAGAAAAAAWgkyTQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAAJUlJREFUeNrlfXmUZFWZ5++7977YM7MsgQZEWtm0CkcQEBFkyLLP6RlBUMGsKkXRnm7EXQsdzsw0DoFLnzmoxcy0fRy7VaTwYGUWiILgQe2TiY6jjRQNDmArAm0BUgJCZUZmbO/e75s/3nbfi4iCzMrCZRLixJqVEb/fty83CL8nP1Mi+lhAmkScPPY+kecHWDwuBB1PzMc5oiNBchgzXsiAciIQAAyARdgJHnaQR5yTB5zI3SB9Fyrq7hto/LfJv9kUUfcCtIPI/T58bvpdv4Hm7Kxpbthgk/sfks7hAnumgjqTRU4j0msNKhAAFg4WIRyHcBHoEABOBAxAjIHAQBDAAej3WwhD9xRDfsgitzijb/lede2u5G9Nzs6aOe9v/39FwJSI3gEwiAQAPixLZxHkAgGdVUKtLgBC9OAkBADLAARQDCEWEAOQGHgnEhHCIgyIFbATAbMY1hooV8EQdOdbSxZys2Xa9n/WHngzAECEpgD1u9KI55wAEaGN3ge+WNrnicglhqonKxD66ILhHCQCXCAkEfiRlEPAEpud5LYInAAuvu9YYCW+LSKOI0IcKS21Gmw/RNhu3+4cX3HHnxx6faoNk5MuEYg/SgKmRLQH/CkifEVA9dMBIJQ2C0QAKAAp6BKDPkhARkRighxLpA2C+BLf5+gxKyKOha2AUKkqB0J/cfEHInTJTw8++MexhGg8h9rwnBHQFDFNItsUKc3z0qdJ6Q8aVBBK2wEEAetUS7zrPPjRfZcjIJZ0CCwjkfqMCBZYloyQ5DbgLAukWtPh0hIcy5V14NKdhx7ahogBkf3jIMCzsR+W/gmQcFuFasd2pQ0ADoD2Yc+Djxh+T/qBAeAz0BOQo8dTyY9NkuM8CZYFLOKcQMv4BMKn99wHTW//5aGH3gkRDc9H/UESICIEAEQkH7CLFyiFfwioXrLStjHwlEHu39qL+YkJKGpCTuILZKQESKQlziMjIgHiGJYrlcC12/3QuQsfPeJPtyF+//uTBLX/TE5TEZEQkXzALV1a0rWriXQplCUnEAMI5SEvAo+hxOyVrDgsze5noaqkxCF13NE1wCLkIIFttx0rVaJa/epDHtx1KYgERIJmU/1BaUBTRCUJ1Qfc4mfLqn5xzy0JEQQEtbc/KjkzlAeUE22IJd8lEVCcE0SSnpmZRNpt/JxjxKYofh17ZinTIGYRwtgEhQvzW5888vCPRB+qqdBs8u+9Bvjgvzdc3Bqo+sVdXnKxvCuRQQkfJfnDJD4xP1KQ/ES6RbxLmiVnUi9x5CR+KIvMfLFAsQDh/LyT2tjFa37+r1tjAnh/aILan+CXTH1L17WdSBZaIv7wewNdhkh/5o6zf2OQiOx1SaImMegp4Fl+kBGSPJ+ZJmIW5VotJ2NjW8Z+tv9IUKtp8xPw3xUubDWmvqXnlpxAlPjg5wAcfsGIx32pTl5UfL0Pck76U2edSLrktSJmyfMbJCKKW4tOGmNbqvc9tF9IUKsHfmQfL+wvbC2ZsS09u+hERCV+ZhjgkFHgD+pELiqSzB+k5sez4yLZ43mHK6lTZgF4SH6QJ0ZIWJRbbDlpjG0p37P6JKjVBP8v+wtbgyAGH1CxFHlgDUqrj/Uw01OUfogf4fhRTfaPsK8J3t/OzEz+tmPfT/hmKoqQwKKk1XLSaGwJVpkEtVrg/0V/YasJxrb0wkXHgtTsZKBJKr0DpkYG7XzR3o/MksXTivg250xMQkQCaKYJnFZUJY2y2H9PmY9IzRHXG1vKdz2QktDcRxLUaoD/9m4CfstxbHZY8pKe2e/IMWZhZkLMKMkXjygZiPeziCYjwU/WWKJSqmNJIx5PuiNnzANOGM6LmOLfIYEovdByvYnxLfhpREJzH0nQ+wr+29rzW0uV8S1hr+UAKIptPhEgSZpBIzIP2kvISaMctYBjXgQkLBCv+EbOMx/Or5TGpsZ5ERBz9liqFbFvSAVGstuGhfoKCr2+vfA7vzrtnIUzJuYe+eatc3Nz0kRTzWFO9jsBPvib2/NbS9XxLf3ugosSrDhnpyLABCkAL8+ChIIPEAKcgABSiowh6IDEaBIicizkRJiFnBMhjrUwATwtT6fOFjkzxF7+wL7Gxa8NRNBTBAjJX9348/4Lv/owmRc/77RTj3j9xPfvv+HWOayMBL1S8Dcuzm8t1ca3hN0Fl5SQkYh+doVMCSi9LUOAJxpWZhAkgY7SWhnVUKIUOdcPnXOPW2d3udA+Ya1zVqSCSsWgWlNhGJJz7KwIWRFKnW2aNSPvE1CMlDIzx/DBh/zljT/vHX797kp4REm7fugqpnbqa446e+K2FZLw7EsRXip+3uL81nJ9bIvtLDgCKYrxoxjjyA5R4X4CNKV/mHwLRcMyX3FQSmvU0XMLewS40QLfdhY7G+WlR4FDQgB4DI8FsmBe0Aed2GN5XSg4R+qNNb2FRYTOOceiw7j8wHF52nqlCh7IDbJum2FBP3qjMfiPlcMXlYn6SXgBLpua7tulKz9+89svBoAmmqqJZ1e2oOWC/4aFp7eWxya2uHbLEUQRYgZiwFVKBMEnJb0ukOApRvFdWa2qxnKnx8yfcb3e577SOGj3s3m7r3z88YMF/H4r+KgtV8r9pbZ1LMZyvgrqV0X9zlqSQxgW9FPJ/0UMfikB35cVrpi67tn2lR+/+fxlkUDLAf/shae3lsfGt9jFliOCUjGWvtQrD1QVI6w8SU9v+8AT5X0zwQaqYfq8cCcr9Y4v0dg9SUftCczRJCa5OVjBoMm5OXXg5KQkXbeX7979spD5aldrnNBbaFlOSIiBZ8n6BCKSc9rBUPDLRP1hmJIQEVdMVXfD5ZFAz9RMSfzqmfO/3VoaX7PFtSLJVwQiygD3JX/wsYgpQl4bkDNNqa+wJd0wPdu6Tpmxt/49UdgUMcDlnPifZyM0k5ddpuaI7IkiwVO7Hr2Wx8ffHD69YK2w4bgqykPKEm6k5A+CT7kojyJNCGq6219KSRAIEUb3E2iv4MfNiH8///Rng/Gxi91CJPmJzVcxyIiJGDBB6fPZ44lG+MB7/tqWzJjpu8XpL5qxzQAwKWLmVtge9MdODn3oke0yNrYp3LNgmdk4eBERZ+1Nw4IeKUBkKPhEBJFhfotSc1Q1Nd213a2Xf2vzR2ICRrU1RidiU4ACkfz5009eqsfHL+7PLzgnoliEsoTIqzrCS1z87BTFEkA+G/Zu28CMmZ4H/pSIntuH3uzchg0WMzMaAH794sM22z3z0xgbMwyyfg0pQSeKdlTscCPwbQx+zndRPsROA8Dof9VzHVcp1S5uvv5rlxJIZqZm1LI0IJG6DU8/eUFQrV/NnbZEEk9ptJNJPOUcrYrf5KjnabiTtqUgkvyrYvD90vYq9EYV4n/reffv2s6NsU12z7xlEZOEoYYFXUUQhvzVN3/RO/zrQx3uUNh8+CMySRSAQJcptL13NL+1eVtzctY05waHwGjU6Mhr9+w5Qdj+iLQpkXMcm57UlisfdA9MVQA3fV1CBGVJQyxRtlIaM2G4OH1VaT+AP4SExs9/tZ0bY5t4zx7LIKM5ivM5BX932b6oRBjucAeBIxriG4QVacUifcf21E/cfP7OmakZvXHHRjeagNjpnvjrX9dq5dJPTK22XtptR0Q6F8EUpFuNIIZie5/8nu8vIjZhK6Vx0w8Xp7ftT/CHkFC976HtPDaxSe3ZY3uKDEsM/vVF8Gm4xBINJYf8VxLZki6b0PXulTJOaO7Y2C865Zxtmpyb0wBQKQefVBMT6227EzKgk9qJK9juYmEr69NmHatc+dcrpLHABqVx0+svPDfgR6AxomIhOutfvFktzE93nrfGsEiYgB+m4FMKaC5/SS4e5Nl/SJ+PBdKErmcrQeNYdOnTALBjaocaSmhiel61+7enKCM/gggUkSSWTRVDTS96UZRPulThNVHYFN+XKM4vVyeM7S5MX1udeG7AH6EJ+OmD0xd97+GNh335wbB/TCVIbD6NStELch5XHXMvy+sBiQCkSIEYr770pvN+PDU1o3fEpihlY0fSH1HuCqrVEDWJhNjrq2b1E0mzR0G+kiiFwSkujoEA1lQnTL87/7sBP9aEZqwJePkRmw755q4Z/dK1AfXFpiWSfKhTlPNM0nNBhfc8KMlSiQguMGWwkisAYMeOKc6ZoMnZWQMiOek3vzmP6o3T7eKiY0Cz33VCBnoSWrrksWIv1uvD5jtXYnVtwnQ789Pbq2t+N+AnuRoRN5sRCc3b3r6p212crpbq8UjiEKeayyJpmIFKQU8u3uM6tF1XNtXTP/nG684DSJqTTTOgX6/Y/Zt/MrX6yeh2XDyal3O2fjlhsNg2JBKKzVZsgmy5scbYpfnpbzR+t+Dnk2ZRzWb0Hppnf217Oahv6oZtC4gpZLqD7piKERGhaI8oLRKTM7qsQ9e7/WPfOPdVqQZMxUAf/9gTZ1GlenLYXmLHotmbqXGSl/6ciSk4Yb8NiMz5Wt0YN73Fp3+vwI8I8DThprds7oVL09WgbojIJhKVmhYiEKn4QvkUrGB6Ui2ILwLo0PW4pMsnf+rc688CgJmpGa12xCmyg1wgJoCAOBp4lSFjfZFJyTc0MjPkvBlNb2zcqrEJ01uYn75pbO0+gy8iNDMjenZWzB1fuCO44wt3BLOzYqQpCvm2z4pJ6IZL09WgYQjKpjDToA5kYGOU6fHoIRCItTaAqAsA4L5jp6I3fOyvnzqc0L8PWtfBLMrz/+QnUoVsVhHlml/Keyy+bYM1E4bn56e/s+b5+wR+s9lUl62/jGjj3mf3ZUb0M73m2Zijy98ws72amiOYYVXbvOQ/U55AIECIFAlkSWu1/j/tOHsXAcD6R37zbjXe+LwsthwATZ71GqznU6G2nz2uKPMZSpENxseNW1iYnl27b+D7oN47I42umT9Z2P0bAGsZcAQ8QpbvOmnzgXfGv0HSBFFzJURnJHziDddtLwe1TT2bJyHpqRKKNaERoWr+GVcJaroTtt9z6Q1v+F8EAC99dPeNqjF2Ni+2nIrblD6wGEIEMNiESes+RDYYaxhuLV73gwMOmFoN8O+ceexACcofFZa3am0Oq5ZqMMZABOj1umh3lwDBnWD87clvOeArADAzI3rjCrQhR8Kbduwo6/qbe7ZrQTA0rCRBw52vDCVEXDmo637Yvuk/f/2cc+iljyw8X7D4C+hgrTgrqbXzAIfkS8xF6VexjYwiHnKqVtXodO7sH3DAKTuJQn81aTk/CYD//I2nzhShL4/V1/xJu9OCtaGwgAHiyNGzBqDKQRVGG7SW5r/rQn7baRcc/Phsc9ZsaC5/EzJJlr7wrjuCJ57Y9eOSqZwQul68UELPUB8ir1k2oBlCpIiFn4JUj6EjH9n9WqXUP8K5aBFBhPyQ0wcdhVp/QoyXIYvSiuBcHwhOvOPgtfesdBU0kfyd1/92kwlK24kU+v1eCIiBxMUUv5wc6ZaDgMfqa4L51tP3sXMbIhLEbGguv6ydVDA/9aavvwxEO4lUCSICHyEZMmAASofJiHwqKJ62ESLSEMKfKWE+HvU6okWSaCPRr90wsjoQA2Bvxp69GlEcATFqdTDk03ccvPaeSZEVgT8Tg3/HN558ldJ6OzOj3+86QAIf/LTHIWmEpEUkWFjc069VGuuJ1NwPt+0+aEOT7GxTzLIJmNtgm5Oz5q9vOPceCH26EtRApJj8UDNqDUKRSi8ohqEgqLgGLJHI2oqpgViOVyI4josje8niczHOj/MB8fMCSZvc4pTSvfmFPT2lPgcAc5dfvoJQU2jjRnIzM6JJ9OfLpQocO5sboZFsZFG8YVxkt0vtzmJYqzTWQeCRMLtsEjB5GwNAYILP9W13j9JGEymJ+lVJ0a2QDfsEZSWJtI7nPXaccsCRrtdH1O0qjnhLru7jCiPfVrLdKwYc6g1Y8I33HnTQ7ikRvZKNktlmVJE9sjT/5lql/oqlzpKDiEkSkmy8XQbGrNOBx0hIgqX2Ylgtj61zVmISNiybhGazyTNTM/qSHWfthlI3VoI6iJSLwm0VXWKph58DUJ6MXDBPUI4tiOhIJSwvdGEIiQtvjrNp4cS0SDLOl+7hyuB4H4uy3R6cpW8DwBNzcytKim7DZFQUdO7N8ZsXeCVw+NKeAp6OcGWj6SwQSBBpwtg625e5H35+ZSTc98SBsZdV32axIAWVZsOUmKDoQoqgFMURIWWZNOXuE8MBwAsVEx3GoY2HT5O5e8mbo0zKc/3ddFcLIhakwqV2aEntBIC5225bfsgpQs0m8R03/boG4NRurwOIaPEk3e/hwtt+SW4nKpztCEjQbi+G1XJjXV/z3K0rISE2Q0rrnZbDUJFOFhAHbD15GuBnxrlqKRExMwjqMMUiSvzlt8KsvPNKD47z0u+vhrJSsMCTXW0fBQBcdtmyB1UvvzyOJ5b0IRAc4JzLzbKnGhDbwQx8b64z2bcXgXC6phS0O4thtdRYp8Utm4RmM/osE43eo0T0pFYmXxMqaEPO/ntkZJXs9DGl0ppP6nzzki/e/HxSfi6SwoCIUnAsTx1ySDQuuJKfy5IblaAm0Uy+NySbOVl4UxnwnktiP/FMkXC67RKbo/o65ezKNAGHhET6Ka0NSJFEEZBKo6CsSOc736IpUrkqUbq16CS/dTJgaljSbRJfE9L1T47W3vfl53JcDgAIO70WETEReaDml/B8s5NbxuOEkChiSO5HmsGxJtTXodebu/XTv1w2CSon4ZkGZEB7DpnypsfXmDQ8zbZEvGvOdm/9aqc/uu1HRU6EnHVwzGsfe+yxYMUaEJst0fY3IvIEkcrsuifR/vaK8JDHvNBU4iRNON6ccRIsdVphtdxY55RZJgmPBUqptQCgSZNKNMCT+MT5UiEcxdBQNdrb5YFZee9aClFQYqqSRCzJCay1cE4OCDvuBbFBX3YUREQiTVGnbnxhRwQ/rARVxDsXyJ0l4YWgObC9VZxEYxMNEN8ncEZCKHru689AQrMZfZawu+YwUuqAyKwr74JczF/sBSDnG5LPqkBErETkEdEBWCC5JYUhS20O+UW25CQSZiF2jqVSDayVEwEAZ5yxsrWd9fEcn5PpyAnHk3g8GO2It7nnb0bKwIeBD34kSIyg3WmF1VJ9nelj7yTMRZ+FDL2yUqoHIOJoSk3FJqngjItagLzZUqREKwOAHlECeVi0BouIyGD4yV7UI4VM2e+asRBzqQQHeV0Uuk2u6ICLuOxMr3rLATe0u4vfr1UaOs73YmnORztJkyhxXgkJiE0pZ044NlnINMRJsNhpheVSYx06PPf15nAS1h/4RLxTov480EEkuTHYWZdMJxOzkY0flSlHV6KVAYEeVo7lASmVEC+SeOfyDK50usJ1NukgYGFtWy0wcE793ocOBpFb6RpncsqKWPWepU6rrZUxAnGp9eF8lCNOUjufv2RSL55D9l8DRtDutsJqUF9n2Q2Q0Gw21cYdG93fvfP2g7XW5/RdDwpKDw0704saKEVQftKIjS5BCA8oAd3tj5MUz1rIH5RRDFNzO7XE1jmuNdYI0ftjr7oiAoiIZ5uz5pS3Pf8+dtgUyZXSYHC2bCwZoInP8kBPB4FzZEk+Yoq1RBjBUm8prAX1df1+f27bR+8+aENzg202Zw0QmZ9SRd5fLTfWiLCj2PzQiNDTv0YaIWUli+Q/BXU3Nf7lX19L2vyjsEO0Vy1+9OdJZaHMjfxGOyW5kYrK0UL6xP76w+/B7KzBCk8mTGr5P/rq45uUMtudc2DHLIAS5qQEHdn1XAiaABsTgkzi2deUlLT4OSdhyVSDdqf1M8tu8oLPHPc4AHzx3T95GUA7BSixdcKI/BJ8cuHlKX5tystNskEtISIFZv4zRWLuZuueEmX8scGBXEDgSQ+ygy4K5onEsZNKtQRxV+MOCeCNiC/3JzEFr37bQdNhaDfHWwhKnLDvC3zHGwOZNzupiYqlZAj4saYEne5iWAnq65So265+38+eH5cgrimXqiUAkfQXMtx8TuANqnstzET6BYBSBsL8VBBU7iYAqP3Lr25EfexsWWw5AnRua72wpU5eYSxpyvhnPFA042vRqBtZbF1nX3bE1MA44LI1IWqo/O+rH9+koDJNSCq4OdteMD0FE8RD/AMnpImAmSFObCVomKXOwk+csw9XTOPcdq/lWKCj3+Vctp1FZpFg+hKfRmnJ4jPEVYK67vbbN33o2tPPiWy0o1sEvmQXjnjBkEWL3OhK8egXNtxqWWmMv1n/34e2Fwdjl68JUUPlNe84aDp0mSYwC3vONMuUGUPBzyVtKDjjXFhLpt1dcEaXXlkJ6ud2wjYDpLOzF4rFtUJEBP/a66yTN0lBcks6migVcwu3FpeElPbqW5kGeHYuM0Xe8QOSHQ+WZNMAjCwsWBkb26TufnDVSDjjPxw87ZzbHH1AFZHg2XweFg257DlIzuRkOQVyDZ1onND1uRd2XNR19aeeC+MoUugOExXMTzo3Ikpp3bVLS9AqJkBEdY48dJcAN6NWhwg5lrxzSQ/FGBodJTu1mcp5M6VG5udXn4QLD552NtwcJzUpCb5zlWF1Iu+Qpux13nEEScEvTfqgANJSPEFkaHbr+QU/4PRIIJCrmBoI+uYPbXvNrmZTlMoUQ7ZJGELAKl9RHAQdXlImnPkKvzHiVc+MtOYtj41twl2rR8KGd79g2jq7mYSgQIqFeVSsz/EFkmmDeNkxCkneMMkeHL0q1HVy42tIHXNhdEg5cQBkGwCsv7cwvhXc8+A/oVo7WbrddDjXPzYgd2yMFN+j7P3ANxGL8QmDVmsaxx+xzyOKiWO+9b8/ukkp2u6cg3OOwaIkPQGlYG64YD6LzyX1LfZK4Gn9Kx/mZpol2XE8uZK4j5kAAheYiu7bzu0fuObUV+U3ZGajrI+hrmBS3vai5KqMOeH2wRd55lP4iAxa8xZjY5v0nb/cXhwRX5kmzJp/9+EXTDNHmkBCmTnyo55ipZQL4HtmqngGWnTlTcIVjnuhQv83PzHtmSdCNDEh6opk5CX/r8X7YfqeB7+Pav10WVpyoHgSYRi+IqOlfdQT0bGJltesMVjwNMGbRFtpsnbLFQ9tAunt7BwsOxYWJS4v7fD6xRhSRR2InFJt4MLkhQzcTwN3kYL0AxBxZVPTvbD9g/ddc8q/jYaIo153Jn07ot0lp+gS6XYAgvabTT7wQ8EfdeakpzJaBFopg6VW/23f/9Wm5uRXtxenk1earJ15yYunnXWbAQVwlKylvBf8wSDAku8f5LRBvKHreNxQ8rOh6f6w5PvCseMVEOm+64I0LonG0rM9seKWpAaRU3c/+D9kYvyDmJ+3IDLLk3gZ+rgWgVIKoSY+/3sPLbzkyw/XgmOeV+r0Fqc//q3zV00TvvHJX24iUbFPYIZXtkhNNOero7mZojiPSEocftuz2IXzcRli85PQNqyVxoJ2uLj1vV955UdmpkRv3JGNaRaljgGATec/YqF1L2o1IyJ2APyhB37mjOZewT/mmofH7VHlUqe3ZKtBY1Pz7K+tmia88dKjpm0Ybo6lVDnHnJakWcCO0zJ1Cr6vqP6hcX60MXAKlXctwyIlAhHZUlAN2v3WvfY3T/wXAJjagZyAqUIZUiCiceyxfYF7h7TbfShtEmL2bmaGPzcMfPenZYVQQIDp2iVbDuqrSsJ5H3/JtLVuM0AAQzEz52pEfgSD/KGBRcvpT2MMKna2sEfFoXQiVtCmb7t9gN/xwW+f2ZuZEl08uEMNqQU7zM4avPyonYBciFIpMX4y0r6P+BkNPvvv33TDJVsJ6puaZ29fNRI2fuol09bazfCjIxZvrAX52lDOGQsGJvFGCODgWUex3Rcho8sQwYXvvfqUnc3JWeObnpG/X/QHuOuXl2Js4hNYiM6FS3XuGfpdOfC/+9DCMV/1wfePNUtlx1ZKddPrd6Yvu2njZn9EfF98wjUfuectmtS1jh2ERYiI/BLEgP3OPVd4DH44Ll5wl2uNCgCulcb0Yn/hY++96qRPFu3+syUgOzv/rgc+i8bYxVhsOUBUdhziCPBZoLRCqCLJP/qaXeP8okom+f5WOfzz5MjWgobp2c70x7755s3+iPhKSLjlA/eXz/zbo3tf+fDdbwlUcK21oUiyOeGdGugV4QaTKf/A2KGg5+r+IhCuBg3dCVtb3/3lk+LjaqIYaXkEeLkBAOCuB7ai3tiCxcWIhIEIarjZOfqaXePuRWVFYWFfJC/9XgFL2Wqpbnp26bqDDnzxWy/6+5PC5uSsweRt3HyWw77NZlOdgTPUhuYGe9U7ZyvSmPhCoEsXWLYc1b+Qc6C5sntxCg8FbUC+6ZKrOEO4WmroTq915UVXnbiPBzZlnyY7N/+f79+KxnieBBlt84++Zldqdohor9LvF7KIyJaDmunbzp0Eesdf33DuPVH8PKPve+JAisjIjz42m5cT5s5Q6w98QpITSb747p+8jLS6ul4ZP6HdXZSsKlwEnryJa8pXVgaSqkIFIJZuEeFqqa474dKVF33pFRcngvBMQrPsQ/tSElp5TRgFvoScrjANJYCGVw4BsqWgYqzr90D0mUAFn7tkx1nP6tC+v3vn7QebkrxfafXRclAt98OuA5GmwQNN82do+jHFkLpXQeJ948PVYEx3wtaywH/2BAwjoZ5pghahUZKfgTwIflY1LJRx4wU0RcoRKV0J6ujbzh4AN5LW3zGQn7Ta/Ig3hxp0+0sv0KATSanXaaXOqZbH1/RdBxBx8cxIztwNxPAFIopLOANhaDYtxpVSQ3f6i8sGf3kEjCBBtVpOE3RoNJ//vQcHwd+b9OdsPxXNUHy2EAkpYkVGV4I6GA6Ww5CIniSipxRpkFJrlVIHlINqUDJl9GwHIuwUaZUc4TXQSElOORHfFyE/ZjAS/JQBrpYaur1C8JdPQIEEtfP+rTI+sUU6i+H5331w6eivFuL8nPQXqoO5JIa889gKh16AQEqBoAREjghKK6O0MtDaxENQUdOIFDERMUHpaHQka5YjV6/JxeyeraERNURvDVWyClM1lvx3rRD8lRFQ1IS7Hvzs+XMPXXzMl34V2iPLAULJFWuLi8w0zPn6bTtC2mPNzdmoXL9V4gU5IVKIFlYUiGLQSaXLc0l/1tt4HigZD/gEohEZP60q+MMz4WdHQPLlBYTjj/jI0dfu2mqOfl4gYdTuGUUvjeI/5xtH7Zj7u7OSiK6CxN83KUz+981gYJJavPkdGRzsHVV7QKEVuIrgr5yAmIRms0kQoebtf/GRTm/xyoqp6WysqNi4GCxkFSWQRlVZ/WVbycrBmR+kXE2qCKw/QZeRwR7ofkEuP/wr+ZPEVxV8YIXfH5AODc/NSZNIzc3Nyffvv+HW1xz1+omyqZ/q2DLlDOxenO8w8+M9PrDyM7Dqo9LVz6L++NYvH4cNeT9Dul2e+OxztLO6PqCoDN4Zyf/1rGu2VkxjS9e1XTQY6Y/E5D88YdDxZseAZRNlOVtOWcM77xe8wdiBqbU84fCdvg++fyRNli0LCHF5YWlVwd9nDUg1wTs3/7b7b7j1tKPOmaiUaqfGqT9RFv5g4PydgiYUxjhyszhE+ahp8AgdGpD4QgiQi8q8GtRQTYj7XnF5YenKi768uuDvmw8Y1AJuIhpH//jN51/c7bevrASRT8hqITTEJGDkkJOMUlEa0Y6QITXkYm3HHzAAcucn+wsflCZZ9SjDvWr1wV81DRiuCV+/9bQjz56olOqnOrEsqbVGfnOc/PxAefeL4akqmCgM1Zh8TjHsuwqGHDhDxbOtEoc7prt28cqLvnTifgF/1QkYRsJrjjpnvFJqnGbZRh+Mct+hMQRwDJqg1Px4R+EXnLH/ej+/QNERU9EMDuQoDIBqpXGVlJT3F/j7hYABEn5x/XdOP/KNrmTKr408mjiKnLOnCcVCHIb6AKQOdzBj9gHN+ZQh1dacQ845Z3FaaR2YMnXC9sfec9VJl+5P8FctCho9CSSJPEvz9dsvgKJ/KOlKyXIvhJBJ0Bk6WxmdaVEoVQwBf8BR01CHnjldVfg+G0pOt3XloGpC2+2z0IXvu/qV2/z3v78wUvuTAIpT1pmpGd381uZtztlTQ9e7t2IaQWwHHIaVA4aUxkY2lWjUZMLgYIMUphziRM4JhGqlMdO33XsVqVe/7+pXbosa6PsX/P1OQILDxh0bXXNy1nzi5vN3PhnuPrEbtrcSCCVT1RSR4FAoUw8tVQz7qqXCDvFAPV+K3ZX02yodIK5kqppIod1f+J8HLNVPuOiqk+7MGuj7F/z9boKKP/75+Z88+/pTWMkVZVM9XQBY1+Po+97iie1CWXrAIePZPK+8laFkSk2YoKhkqkophX6//QPS6pL3fuWUH0fvcXQD/Q+egMQv7JjaoVIi3njdeQJ1SUmXT9baoG97ELCLI5X4SztG+wBgmLP2hsVJRYMoRFCkdTmogdkhdP3bodQVH7j6lOsT4Kd2+DnLHykByU80cjLFiZp/6tzrz4KoC0DqrLKp1okIoetDhAGQjR2pIiRbckOdtkRaFB/0ATJaGZRNBSBCN2wvEehmgLZ98Kun3ZzUmGc8gXiuf35nBKQZ9GTTNOea6djJf5u66XBr+UxNdKYQnaZIrY2OCSNYF0LAYHYYJIBglIFWBkaXQKC4MyZPkcIPIXQLtLrlQ9tesyv72ysfefmjIcD3D/cdOyX+cO7fvOl7zyfTP45YjgfhOCI6kkCHgfDC6Av8chrAROphEjwiRA8o4G5A3xUElbvfv+1Vv82q6KLW3wt6Lu383n7+H45sFZym2mugAAAAAElFTkSuQmCC",homepage:"https://www.mycloudwallet.com",download:"https://www.mycloudwallet.com"}),this.url="https://www.mycloudwallet.com",this.autoUrl="https://idm-api.mycloudwallet.com/v1/accounts/auto-accept",this.loginTimeout=3e5,t!=null&&t.supportedChains&&(this.config.supportedChains=t.supportedChains),t!=null&&t.url&&(this.url=t.url),t!=null&&t.autoUrl&&(this.autoUrl=t.autoUrl),t!=null&&t.loginTimeout&&(this.loginTimeout=t.loginTimeout)}login(t){const i=this.waxLogin(t);return cl(i,s=>{throw s})}async waxLogin(t){var a,l;if(!t.chain)throw new Error("A chain must be selected to login with.");const i=t.ui.getTranslate(this.id),s=t.arbitrary.nonce,r=btoa(s);let n;try{n=await $6(i,`${this.autoUrl}/login?n=${r}`)}catch{n=await ex(i,`${this.url}/cloud-wallet/login?n=${r}`)}if(!n)throw new Error(i("login.error.response",{default:"Cloud Wallet failed to respond"}));if(!n.verified)throw new Error(i("error.closed",{default:"Cloud Wallet closed before the login was completed"}));this.data.whitelist=n.whitelistedContracts;const o=(l=(a=n==null?void 0:n.proof)==null?void 0:a.data)==null?void 0:l.signature;return new Promise(c=>{var d,u,f;if(!t.chain)throw new Error("A chain must be selected to login with.");c({chain:t.chain.id,permissionLevel:dt.from({actor:n.userAccount,permission:"active"}),identityProof:o&&Gn.from({chainId:Vi.from((d=t==null?void 0:t.chain)==null?void 0:d.id),scope:B.from(t.appName||""),expiration:ci.from(new Date().getTime()/1e3+60*60),signer:dt.from({actor:n.userAccount,permission:"active"}),signature:Gi.from((f=(u=n==null?void 0:n.proof)==null?void 0:u.data)==null?void 0:f.signature)})})})}sign(t,i){const s=this.waxSign(t,i);return cl(s,r=>{throw r})}async waxSign(t,i){if(!i.ui)throw new Error("A UserInterface must be defined to sign transactions.");const s=i.ui.getTranslate(this.id),r=t.transaction.expiration.toDate(),n=new Date,o=Math.floor(r.getTime()-n.getTime()),a=this.getWalletResponse(t,i,s,o);let l=cl(new Promise(()=>{}));Zb(t,this.data)||(l=i.ui.prompt({title:"Sign",body:"Please complete the transaction using the Cloud Wallet popup window.",optional:!0,elements:[{type:"countdown",data:r.toISOString()}]}),l.catch(()=>clearTimeout(c)));const c=setTimeout(()=>{if(!i.ui)throw new Error("No UI defined");l.cancel("The request expired, please try again.")},o),d=await Promise.race([a,l]).finally(()=>{clearTimeout(c),l.cancel()});if(Ax(d)){const u={signatures:d.signatures};if(d.serializedTransaction){const f=Pe.decode({data:d.serializedTransaction,type:Ht});if(!f.equals(t.transaction)){K6(t.transaction,f);const g=await Pi.create({transaction:f},i.esrOptions);u.resolved=new Md(g,i.permissionLevel,Ht.from(f),Pe.objectify(Ht.from(f)),Vi.from(i.chain.id))}}return new Promise(f=>f(u))}throw new Error("The Cloud Wallet failed to respond")}async getWalletResponse(t,i,s,r=3e5){let n;if(!i.ui)throw new Error("The Cloud Wallet requires a UI to sign transactions.");if(Zb(t,this.data))try{n=await tx(s,`${this.autoUrl}/signing`,t)}catch{n=await Yb(s,`${this.url}/cloud-wallet/signing/`,t,r)}else n=await Yb(s,`${this.url}/cloud-wallet/signing/`,t,r);if(!n)throw new Error(s("login.error.response",{default:"Cloud Wallet failed to respond"}));if(!n.verified)throw new Error(s("error.closed",{default:"The Cloud Wallet was closed before the request was completed"}));return this.data.whitelist=n.whitelistedContracts,n}}function Ax(e){return"serializedTransaction"in e}const Ix="modulepreload",Fx=function(e){return"/"+e},zb={},a2=function(t,i,s){let r=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(i.map(l=>{if(l=Fx(l),l in zb)return;zb[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":Ix,c||(u.as="script"),u.crossOrigin="",u.href=l,a&&u.setAttribute("nonce",a),document.head.appendChild(u),c)return new Promise((f,g)=>{u.addEventListener("load",f),u.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&n(a.reason);return t().catch(n)})};class xx extends pf{constructor(){super(),this.id="tokenpocket",this.translations={},this.config={requiresChainSelect:!0,requiresPermissionSelect:!1},this.metadata=ms.from({name:"TokenPocket",description:"",logo:{dark:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABrYSURBVHgB7d1PjF3nXfDx57RpEyBxQl/U+k1elEivhCcLiIXIH8QiFQaVDYoLi7IgJrtKjRDbNtl005AttEZiR5wVC4i9jMBVvED4j5DcDRkvAAeRMAFE0ziirhA9zG/u3PGdO+fOvefec//+Ph9pGM/4joF4PM/3POd5nlM9+c0f1wUASOVTBQBIRwAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASOi+wkJtfWH37WQpjz1SoNH7H+2+/aCUOz8sZfvDwpo78UApD+6+nbi/9+/+oQd6n4/3Jx5o/pqP7+7+/e+/ffyj3ufi++KDjwp0RgAsQPwjf/HZqpx77t4/fpjU9k4p7+6+3bhdlxvv9QYCVkv8G3/04V7cb52s9gb6/lvX/+YjCuL7Id5v79R73x8RCTduF2ilevKbP64Lc3PmVCmvna0M/HTm+u1SLt6sy3dv9a4UWawY7E/tz+Q980S1UjN6EQMRiNd3YzFmj0QBxxEAc/TyF6vy8vMF5iKuAP96u5Q/uVKbFZij/oB/ZqvaH/TLWolgjNmj6+8JAg4TAHNi8GeR3ropBLoUg/4LT/UG/SdPbs6tu340RhCYQUIAzEFMB/7VH1QFFil+uF+4Wsr5K/5JT2Nw0F+3q/xpXd6ONzGQlQCYgz/7vTw/QFg9MQvw0htmAyYRg/4vPV7Kuef8m41ZpIvfq90mSEQAdCzuEf7lV139s1wxG3D+nbpcuFZoYGfOaBGO8b1jx8nmsw2wY2efKrB0Mah9/Td6u0/cErjn6cd763PM0I0WtzBj51KwtmSzCYCOxR5gWBUvf7GURx+pyquXckeAgX86Xz4db5XbAxtKAHQsVgzDKokf4rt3+1JGgIG/G/0QiC2FMaMkBDaDAOiY+4msomwRYOCfj/jvGYcfuTWwGQQAJBER8MFH1UavCYj71996wcA/b4O3BoTA+hIAkEisCYgHDV28WTZKrOr/2vO9Vf0sToTAr21Vzp9YUx4HDMl840vVRj2NMp63EQdvGfyXI257RljG34E1UOtFAEAy8QM7psnXXURMHLr17d/xsK1VEH8ff/HVau97y+PO14MAgITiHvm5Z8vaevG5au/ALff6V0/cFogwi5kZVpsAgKRilfyJNbtyjv97Y3D5xpfsuFllMQMQMzNf/5JzUVaZAICkHto7Dresjdja9xeu+tdKrMuItQFuCawmAQCJxUNw1mEWIGYr3njJQLKO4u8sbtes8y2nTSUAILFVnwXoT/m//HxhjfWfTeGWwGoRAJBczAKsov6qclP+myNuCcRsgJmc1SAAILm4Onv6ibJSYgW5gWIzxSPTY1bH3+3yCQCgfHmFHmMdW/zs7d9s/XUBtgoulwAAypmt1VgMGIv9Yosfmy8CL0LP4sDlEQDA3g/jU0s+xjUWiFnsl08sDnz5eYsDl0EAAHueebwszWsvOMs/s3iWgAhYPAEA7Nla0gxADP5nTxeSEwGLJwCAPVsnF//D1+DPIBGwWAIA2BMrsxe5ENDgTxMRsDgCADiwqK13seDP4M8oImAxBABw4NEFHM4SW/0s+GOciACROF8CAFiYGPxt9WNScZto1U6p3CQCADjw2MNlbuLUN4M/bX3nK44NnhcBABy486MyF/ED/LWz7unS3kP7T4Rch8dWrxsBABz4+G7pXAz+8QPc2f5MK76H/vgrArJrAgCYq1jxbwqXWcVjoeN7ie4IAODAJx3PAMSivzNbBToRu0c8QbA7AgA48P5HpTNxtLBFf3Qt1pKYUeqGAAD23Lnb3RqA+AH9bfdsmYNYS/KtF3xvdUEAAHve3Smd+drzrtKYn1gPcO7ZwowEALBne6cuXTj7VClfdoIbc/b136iW9gTLTSEAgD2Xb5WZxVV/LPyDRXjNrYCZCABgz60ObgGY+meRLDSdjQAAyvXbsy8ANPXPMpx7TnROSwAA5eL3Zr//b+qfZbArYHoCAJKL7X/f3S4zicHfVRjLErsCHBDUngCA5C5v1zNN/+8t/HMfliWLXQEeGNSOAIDkzl8pM4mFf7BsEaIvOhugFQEAiV28Wc90/G/80LXwj1URCwLNAkxOAEBis179W3zFKokFgWYBJicAIKnz78x29f/0E73FV7BKzAJMTgBAQjHwv3mtzORl9/5ZQWYBJicAIKFXLs228t/VP6vMLMBkBAAkE1P/N26Xmbj6Z5WZBZiMAIBE4sjfWRf+xcp/V/+sOrMA4wkASCLu+796afYjf+37Zx2YBRhPAEACMfi/9MZsq/6Dff+sk7OnxepxBEDHZv0BC13ravAPTz9eYG1EsMaCVZoJgI6928Ez1aEr2zvdDf7BE/9YNxasjiYAOnbjvdnvsUIX4pjfLgf/uJLyxD/WTSxYtRiwmQDo2MWbvcerwrLE99/rb9fllUtlpr3+w84+5UqK9WQxYDMB0LH44fudK2YBWI7Y5vd7u1f9F66WTsWK6l/bKrCWnn5CvDYRAHPw5tXeD2JYlP5Vf0z5b89hHcqZU70IgHUUtwHcvjpKAMxJ7Le2I4B5i4H//O6M06//UfdX/YN+dcsVFOvt7FOFIfcV5qK/9erbX6nK1skCnYoZpsu36nLpZrf3+ZuY/mcT7N0GcHv2EAEwRxEBv/WndTl7urcVxRQUs4hBP3aZvLU76H+wwNkle//ZBP3bAGZm7xEACxA7A2JLVoTAmd2p1Mce7n0juqfKsP4Pp+0Pe1f22zu9e/q3duZ/pT/KGdP/bIhYy3JhxsdgbxIBsED9EFg3Lz/vAJgmsdp+1qfqrQMP/mFTxFqWC9fcBuizCBAYKdavuHXFpnjypEOBBgkAYCTnqLNJ4rbrKYuyDwgAYKSnH3frh83yjEWtB6wBAEZ69onCHMWizzjLYXCBZ0xTWyA8P7YD3iMAgEZbBqLO9c9viMWjsZVz1M6OE/tT1XG1GrswnCXSnSf9tzwgAIBGW18odCCu8GPleRwRPulWznhdREK8xUmPsRAzduOcPe2WzKwiaiMCPLrdGgBgBFedsxk8pvn8O7Od4xC3CuLpjvFnreNW4lVzStzuEQBAo62TrjanFVP9cQrorAP/sH4IxBkUTrSbnrjtEQBAI/dKp3Phau+pjPMcoOPWQPzv8NTR6YjbHgEAHGEB4HTOv1OX198uC9F/4FicMEo74rZHAABHGPzbi8H//JWycK9cEgFtxfe3EwEFANDAPdJ2Ytp/GYN/3x++3XtoFJNzxLUAABrEEyuZTEzFL2raf5TYcfD7f17vvWcydgIIAKCBRVKTi/vwqyBC5DtOuJuYGQABADRwf3QyMfW/Stvx4rAhOwMmIwAEANDAD8fxYuB/81pZOefNAkzEQlcBADTww3G8G7dX8zCeOCPALMB4jz3iNpcAAA5x9T+ZZa76HyceOMTxRK4AAIb4wThebLlb5aN4nQswnnUuAgAYIgDGu357ta+wYzug2wDH830uAABau/FeWXnbO24DjJN9FkAAAIc8dH9hjA/W4El8TgYcL/ssgAAADnFvdLx312Bw3f6wwLEEAEALq7z4b5BjgRlHAABAQgIAABISAAAt3PfpshZsc2McAQDQwn2f6r2tOgHAOAIAoKUHPltW3tbJAscSAAAtfe4ny8rb+oKH3YyzLjs65kUAALT04BoclvTMEwWOJQAAWvr8Q6V8ZoUXA8b0v6c6Hs85CQIAoLXYCbDKi+xefNb0/zjZp/+DAABoKYbXn/t8WUkRJqb/x/vYDIAAAJjGzzzYe1s1556rTP9P4M5dT0sUAAAt1ftjx5P/t6yUGPjPPlWYgFsAAgCgvf1b7J/fnQE49YWyMr72vKv/Sa3DI53nTQAAzODnHyvlcz9Vlu7F3an/L58uTOhdj0sWAACz+OynS/nVU8vdFRDb/r7xpUILn1gEKAAA2upvsqv3P3jo/lJ+8xdKObGECIgp/29/xba/tt7dKekJAIAp7Q27de8XMfj/9i9W5eEFRkBc+f/lV933b2vb4L9HAAC0VA+99UUE/M7TVXn8c2Xu4p5/DP6e+tfe+x/ZAhjuKwC0Vg28DXrkJ3p78f/un0v523+sy/f/q3Qqrva/9ULlsJ8Z3LhdKAIAYCr14Pv66Od/5f+Xcvr/VeXydl2u3S4zi9mFOOL33HOrfQzxOrADoEcAAExp7/Z/0zTA/u/F9sDf3R20z54u5R//o5S/+Ye6/P2/lonFoB/nDJz75d0r/scN/F25ZQ3AHgEAMIX+uF/XI35z4PP/ZzcEHt2duj+zVZUf/LCUf/l+Kf/8n3X5909K+bc7+xGx68T9vUF+62S1t8DvyZMG/a7FAkDPAegRAAAzqEZ9rhpogIEXxaOEf/anS/niz1Xl/s/0Bv37VvjRwptme8cCwD67AABmUR2NgP6swJE4qBu+zhb+hbr+XmGfAABo6dBBQHVvwG+6FXCwVbAe+sL+1x38ISyKHQD3CACAlo4M9tW9+/j9jwcH9oMDg1iquP/vKYD3CACAtqqDAwAbr+IHp/arQ5+898vK1P/CXb+twgYJAIAZNN3HjxmC48b3eoLX0L3LtwoDBADArIZnAKqhTxnpl+7OXff/hwkAgJaGz/4Znliuhx8S0DDz7BbAYsWJjBwmAABaGn4Y0PBgPup0wMHfNxwtlun/owQAwBRGPQwoDO/6a5whYGFi+v/ydmGIAACY0qhxvJrkYxGwMKb/mwkAgCmMehpg//kAh44CqJq/lsV463uFBgIAYFYDA3w98PGocwKGv4b5iYN/rP5vJgAApnCwBmDEIoCDBYIjvtY0wGKcv+I/9CgCAKClwcV9R7b8Db1m+IPBWwP1kRfSNVf/owkAgCkd7AJoMYgf7BCojP3zdvFm7ez/YwgAgJb62/hG7gKohqb/69F/BvPz5rXCMQQAQFvDi/5GGDwsqOnP8Djg+bl+u5R3dwrHEAAAs6obPtz/3KgDg0z/z9eb15TVOAIAYFYjlvoPPgq4HrdQkM7EfX8n/40nAACmNPLI/6Y1Ag2PDHaNOh+2/k1GAABM6bhtfP046N8OqAY+Xxp+TTfi6v/izcIEBABAFxrWATQ9EXhwGyDdc/U/OQEAMIX+Nr96+NF/+78evD3QNCS5BdC9WPnv6n9yAgBgCv3p/eFjfZuO+R11HHDbQ4Q43quXJFUbAgBgSiMeAzD2Nf3XGa6649S/9gQAQEuHpvaHRvj+vf1DA3x1/J/DbGLgP3+l0JIAAGjp0G3/oUf+1QMHAA0bfkCQkwC7EYf+uPpvTwAAzEHd8MGhHQC1NQBdiIH/wtXCFAQAQEvHre4/9IIRYpag/8AgZvPSG/4rTksAALR0ZAHfiDHouA7wNMDZnX/H1P8sBADAFEYeAzzg0CLAwa2C1cBBQEJgKhb+zU4AAMxquATqoYOABhYKHjknwBqAqZj6n50AAGhrYFFf0zDUv79/3ELAevhsYCb2+tum/rsgAADaqo6u6B/4rd7gPjTlP6je/5xdAO3FgT9W/XdDAAC0dOj+//A5APsvqIbPBhj4eG+GwJV/a3HV//rbhY4IAICWBg8CqsuRNX57HwyO+UeWCAzeDhACE7lzt3ff/+O7hY4IAICWGtb8HTnlr//5Qy8afEll9r+NeMyv+/7dEgAALR1axH/ME4FGDfAOAWon9vu77989AQAwhXrwFw1X90deN7QmwNX/ZC5cre33nxMBANDW0Ja+4dF8cBeAgX562zsW/c2TAABoq+kKf/C3q6Fp/mMeGawQmsX9/t//czdK5kkAAEzh0Lg9dBsgZgCObPOrj35YNXye3uAfK/4t+psvAQDQUtX06+Ou8od+vx6+hcABg//iCACAlo4M3NXRjw9tDWwY6SsLAY8w+C+WAABoa9zDfAau8KsRX2b0P8zgv3gCAKCtgSf7NR7pWw09DXD/fxyKgdoiwD6D/3IIAICWDg3sTeqBAb40P/THSYA9Bv/lua8A0MqoR/0eMmaAr4/72iRin7/z/ZdHAAC0VR89+3/U0/0OYmH4tMCSexdAPNb3lUuFJRIAAG0NrAE4eOJfw97AevA15vsPxNn+jvddPgEAMKVRV/cTfW2dLwzikb5/+Ha9e/VfWAECAGAKk17dH6z0H46EZDMCFvutHgEAMIVDY/qIY3+PPQiojF43sGniiX5/sjvlb7HfahEAAF2rGn7Z8MTAasNnAWLK//yVejcACitIAADMoPEwn4GTAI9sGezb8MH/+u1SXr1kyn+VCQCAlqqh900vGHxNdcyfsWlc9a8PAQDQ0uBVfTXqBWVo+r8e8Wds0DoAV/3rRQAAtNS/qj/uNL968P3wU4EG/pxN4Kp/PQkAgCkcjOkNc/z9c/4PvabpD9gAVvivLwEA0NK45wAMPgho1DHAI750bZjuX38CAKCt4WcBDIzk1Yj3I16+dvcBYuCP6f4btwtrTgAAzGJ4f385/uPBr1unsd/Av3kEAEBbgyN30wK/6ujLjvz2oXsEq8vAv7kEAEBLR3b1jdgFMGLxf+/z1eqO/bGq/62bdXnzWnGPf4MJAICW+gP7wQDecBLgka2Cwy9ZwdE/rvYv36rLpZtW9WcgAACm1N/iVx8zA3D8Fy9fXO1fuFbvDf6m+XMRAABT6m/xG36oz5EdACMG+2U1QH+K//Itg35mAgCgrcGjfquRv33wmuEZgmoJOwD2rvDfc6XPPQIAoIW4ev7kR6U88Jnex+Pu5TctBOwfFNT4JMEOxP+N7+6Usr3Tu8q/teOePkcJAIAW/u1OKVf/qZTPfLqUR36ilM/9VCmPPVLKg/eX8uju+/v3f6qOfWJg34yLAQcH++14/2HZew/jCACAKfz3/5Ty75/03m592P9sXU48sBsFP9kLg595sJTPn6jKid04eHj3c48+XMpnd3/q/uxPj//zB7ffxa/f/8HuYP/Dev99b6D/4CNX9kxPAAB0KAbkeLv9n/3PbMhTf9g4nyoAQDoCAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAY6+MfFRp88FHZSB/fLUACAoCx3v9+ocH7GxoAN94rHGN7py6wCQQAYxkQjrp+u2ysO3c3+/+/WV2+VWAjCADGMiAcdfF7m30VeOM9V7lNYtbnxu0CG0EAMJHzVwwIfTEIXLxZNtqFq73w4zD/DtgkAoCJxFWPqc+eDINADP7fuGSwGxSzYJsefuQiAJjYKxfrjV34NqkLV+s0g8B3t13x9sX3/auCiA0jAJhYXBW+9EbeCLh4sy6vv11SOf+OCNjeyf19z+aqnvzmj2UtrTz2SCkvP1/K2dNVySDCJwbBuC+e1dNPlPLaC9Xe330W8fd+4Vpd3rzqbAQ2kwBgajEonHuuKmdOlY0UA8Bbu1f9b17b3D3/bZ09XcqZrao883gpDz1QNlLc649dEAZ+Np0AYGYndgeCUydL2dp9O3F/WXsx2L//A9u9xom/9wc3LAI+uWvQJw8BAAAJWQQIAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJ/S/MYXeG0cb1RQAAAABJRU5ErkJggg==",light:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAZlBMVEX///8pgP7Z6f9Xm/7C2/9tqP5Ikv7R5P+lyv9xq/40h/9hof8xhP43iP5lpP4nf/71+f9Olv7u9f+y0v8/jf6cxf/j7/9LlP58sv/q8//J3//c6/+Dtv47i/6UwP+81/+jyP+Juf6QLkp1AAAFJklEQVR4nO2c6baqIBSAb5IDSh4RBzLFfP+XvHaaB0GFws7a37/WSuNThr232L9/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgFVSZz2fapeO/Z0kSdLCqU4H+kX/OTHq4bfBfNjaKUY1p5fYOf66ZZcD/V0x7tBxGinD1JtPiVzRqtuTFH4reIwQLU/HlTTCtWgdUypVhcOVFsRzRSVtTlJUrLegm8cjGxrXgvlbEzJClHoehwZlXGaSVsKlG0JeHkoI5YE/epwNg3GjLbJaNW47ZFK0XVzKbjrJ+t5ZaavE8csrNRXirl+apFUej7hSHmaOpkoUGRFZbbD/4uwFc71RQ5BQHBRaIobuSH9R86eG9INj/GVqIsWU8SkRErOHdhQMZ1POkNU6JsZEVpm47+WOiCbOI40b7BYgsuK3rUj8bvq8TlA+28SgSHw7cfm1N+MUhArHvggKtlePbtLwMGBiUIRe5y2nnudxOIuY17sMipSXJjjdnH51Nrm5sZZFkoBqnKafx+cs8m/oWskaa50zxJVdkfNg1xggR7I5A9789FvsdRMDQvfTl3iTC+Jvz0qYfhhK3OnBijkRL//98W1t4IReN7lzGRNp+O8QTdrIxNkosyZCj8GvrzvSj5BuanZiSqQ5hYxMZwm5QqKpi4mpVBefpqxOsyZzZsMnRiqcGyg+kOxUfEiZsbkDTVwV81y/L5BLllroBFn3lI8JpwJfd3SSDOFLYue7xlalqct7kqxrlG3CzT2htEHk/PWw8aLupr7WmhnqB8K+t067J6l/KSxfKtNM3kWoYNdatHOteG73xnpW37dyE8V6H0l+grgDd31MXkgaryy9Rt0FSZcaqKTOEklaVzn5NlGdB0HOkXqyxIVeyU4tshoSCZDiQoeoZn6xTYsqqFXf7aPptS0RoehZJArOj1ISJ1dFyYhNDrhMiXTyph08rt8u9tLf6EX2e0siKZe3zBN3nX6nWD2pEJZEtnKRPl26+7oqt8/q2pJIgaUi3mNonuTSqavh3JKIIxV5EZkz6eSQLVUEPz3UYtIyxTeJSEOzxYo8PzBl0mlroSI/d9X6I4F0sC9V5CfLH0QUefFiRUJ+/+C3jzGl64jXdQsVidldQUGVm9I8X6gI5eymczmqzSP2gkalSMT7IP536kq2604Vx9sL49UiUdz1Kmmfj4zY2eH6rzZTLEQEIRfzmuOYqgt53FqGOEaEepm8QnMh7N5efPiMCN3/DZHpda2Fisx6kLhEEWRg7l2CCMFGboh9kae8+EtFXiQv3ymyEbM2pCxOhMRmhrp1kedk8jtFSG1mpNsWCZ82rH6pCA0MPOFZgEhWz980uySRhr/eZv9tIs1zQfIrRfro3dwAsShicsKyKdLg1tRKaFUkw2b7lS0RT+u9i8WIEKT3JsxSRJqYGR4eVkR0X0xahgjJEGfG4l17IgR17fhXl5cggp5FNmXkdoH/ll71NpEGxXHUizTkRNhQV7S6b1J+XISgOmB5h7Eb9cS4FnnAJrwOvxSRw3P27XbnswMBu9tC+G0ihwk2SU98wuJdIkYTjZGACIi8CRABkTcBIiDyJkAERN7E3xGRvag69DBfIVIb2H41GUe2/z4beJhfcGmdXbw5GXzdppwONmrwvwzkb/Sg9sMOxzY5YqhRYTz4d0VOPvjnNJtI80+O5pKsa5ptngmzaHj/UVKJiJb0Ff1RFoY6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPwh/gOl/IhHuogvmQAAAABJRU5ErkJggg=="},homepage:"https://www.tokenpocket.pro/",download:"https://www.tokenpocket.pro/en/download/app"})}async loadScatterProtocol(){let t;if(typeof window<"u"&&(t=await a2(()=>import("./protocol-scatter.m-3F4UaOa9.js"),[])),!t)throw new Error("Scatter protocol is not available in this environment");return t}async login(t){return(await this.loadScatterProtocol()).handleLogin(t)}async logout(t){return(await this.loadScatterProtocol()).handleLogout(t)}async sign(t,i){return(await this.loadScatterProtocol()).handleSignatureRequest(t,i)}}class _x extends pf{constructor(){super(),this.id="wombat",this.translations={},this.config={requiresChainSelect:!0,requiresPermissionSelect:!1},this.metadata=ms.from({name:"Wombat",description:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH5goFCggZ0IIdsgAACdVJREFUaN69mmuMXVUVgL+19zn33pnO2Gln2ukLmj5AoCIUNCiRh1Agom0FKSAKyqNRHoIhBJSoqGiMpJGHIAkqSSUkSjXQRmTEQGgREmxaaGMboNJCX9NOO++Z+zrn7OWPc+e2c+fO3HunU1Yyc5Nz9t5nfXuttfda+xxhgsUtW4ACIgKAFK7r0D8BRbFrP5jQ58qxDhAtnY+IQYZGEnBOrYjUA5OAROE5AUoaGBSRoICGFn7NMYKNGyS3bCG+xAOoqiciJwCLgTOBU4A5wBQgVegSAL1AO7ADeAfYrOhOQTIKOFW8deMDqhnELV+AFLopNANfFLgC+HxBeb/aoYAOYDOwVqFNjOzGKaqKqRGoJhBdvmCoSxNwJXAzcDaQHNc0Dod6F3hW4RmBPQqYtf+beBC3fCGoExFzAfAD4CKqn/1a5G1glYO/CeSoEshUBFAlvGspqDaKmHuBvwCXxRB6HDhYDPzewMPAbAGiZQuOHUQABvumizGPAA8C01EHngepetBqYBTU1QJTD9wq8CeFTxkRwgowY4JorORM8+nPPYHqjYCPczBnIdz5EPz4D3D+0goMDhJ1MHMueH6V4EW5SGA1cLYVIbd0/qgNvdFuOOcgXpUeltnzriIKQQRaZsKtPydadA4KeCcshN5O2LwBjC3MPkd+Z82Fb9wNp30G1q+DPz8GYVALzFnAUwo3JIzZNlqjssFegEiJyK+BO9j/oeGpn8HObXDld4iW3cThrk6iyNHSPJXEzm2w8VWomxTPeGYA+rqhtwsu/yaccW48cDYNq+6C/7xSgK5JXlHleoT2csFfFiQMQ6y1K4FHgToA0v3Q1QEtMxlw0NPXj2ctjQ2TmFRXV/7RUQi2xOhvvAS/uTu+V5so8ISi96DkSveZEa5VsMbpwA+LEAD1jfEfkIoiZkxLYo0p5lRlxZbx3FMWw/TZsG9nrVYR4EZBNiCypvRmuWBPisjdwLzRRvSsxbN2bIjRZMp0uGIlNE6pdSWDOHe7F3RW6ZI8DERVQeQLxCnH8RFj4JIVcMuPxgtzFnCdK+lXAkJC4CZg8nEDARADF34VvnVv7K61LckGuMEaMytcNm/YRQBy2Sygi4AlxxWiCCNw8dfg6tvBT9QKc6ogl1o5EoNFkI72/YjIZcC0jwUE4mD/8vVw6TW15uEesFxxxWS1CDLrxLn1wMVMQLFVkyRScM0dcOZ54KJaen4WZO4IkEJhdNrHCjEkk5vhhntgxlxwVQd/q8CZwdIFw0GAT/JxulWpzF8EV30XElWXNh5wRi7SIyBRGCAiCxilvnDOkclmiaKaTH9Eejvh4J7Ku/n5S2FxTS52cp0ntghSCIo55Vrmg4DOnh5UFWtrzo/gzTZ44Ntw/9dhzZMQ5Edvm6qH874SZ8nVySwpZB8GwIkRoLW0VS6f51BXN9ZY6kbLpyrJYB/sfh8O7oXnn4JtG8duf8pimHFitbHSgEjyCIhzhpK6OwxDOnt6cC6icVL9+JeyC5bBtXfCiSdB80zo7hi7/bTZcPFVcQZQWTwBC4WksZAzFXckVaWnf4BcLk9DfT2efwyleSIFK26N0xIx0Ng0dnsRuOjK2CV3bKmUWBZ1NgBWxAGZoYu5fJ50Jg0i+L5/7BuLmDhZbGopnxGXypRp8KXrwEtUahkqREUQMUaB/UN3B9MZIqcIYKsz8cTLOZfA/FMrxUoPqhkouFYUBljP3wsQOUcunz9yZltbDnTsEuQhPQB9XdDQRIWTmn0K2SKI5ydQ1R1ANoqiVFjYLxQIwporufFJFMJrL8Drf48r0b7u+G/sGHnX+MYVQQryPtDunJs3ZAUhjpfIuePvYgf2wLMPQ8e+WHkRGLtwywPvROl4oovaqep+YEupJwVhQCabPb4QEC+3YmIIYypBAOxV2Oq9tGs4SIHwZWPEHV3CqkJf/wBhOM70pFqZPjtOUaxX7Wb4hlP2Feeh5Oa/rDG7S90oHwR09fbWlGs554YOMqoT68HVt+Fu/wXBvNMqFVo54AURigFc1NgYg6rustau831/xFqRzmQ43N1NLp8f6wE450hnMnR0dXOws4uu3j4GM1mCMKy8AtY1EC1ZQfrCKyq51iZFX7NHnW+V7k6RiKxOJhIr0pnMzNLemWyOfL6TulSKVCqJ73kYEZwqURSRC0Ky+YB8Jo1mByGfJ4cino9J1ePX1eEnUyQSSTzP4lmDKQS1KuRzOXLbN1G/YV1skfIwAfBHMbbr6IvDQApW2ZJM+Kt9z7svCMMRI0XOMZBOM5BOY0QQEZT4BQeH2zGbN2B3bEU6D0B2EAP4iQS2cTIyeSquZRa5lllkpraijU1Iqh7jIkzXQbztG2nc9Cpe98E48MvLeuD50pgdoaiq4pw7oau39/mBwfTZVCMimO0bsc89juzeEQerQMoaGj2DJ4IMnQULYCzq+aifRL0EuBCTTSNBvtKy2wlcA7wiJcem3kidhGw2tyeVSD6QzeVXh2HYPCaEMcjuHdhnViEHPoqXT2vxRJicMNhRlJIwiBU/ajIqZLwh8IiqvlZuyLI9k8kEDZPq2xK+/ysRyY0JEkXY9WuR9o+G7cKeMCrEMOUrb3wAKDznlN8iEkmZN8Cm/PhCFEXRpLrU7zzPPkocYGUVkYEe5L23RyjjADcBaZoCgdO2UPU+gd7RXsONakvP8wjDKJNKJB80Rh4j3jBHzuhAHzLQMwIkcEquln2kjEQKmcj9oy90t/lG9pp1o79LHNMpmyZ/gsi5ASPmJ0bkp0DPiOmyFszIGkOB/lDJj8MsCmSdBv2hW90bupW+YdcH6bE344qZYGtLM6qaTvr+Q0bkFoH/Hv1I/cRUtGVG2cPoUJXuIGIwclW5mQI5p/QGUXtvEN0/ELrvWWT/oQAWvrxrzL5VF39797eTyeVIJhMLndPvq+q1QDNisG3PYtc8PuZwCSOkjJAwghWKHx04lEiHXFEzoeo/I2XVobx7szVpdGbbh1XpV1MVe+DQIfL5gIRnvVwYnauqNytcJn3drfbpX2K2vAFGxhxWiJsc+XpCcUq/wr+Bp61IW6Q6YEWY0barKr1qBilap72dMIxIJpN+EASnO2Mvl93vL7F/ffJUeXdTM/lcpQMwJf4u5QNgvcCLRuStSHXQEwGU1iotcUwgEGcA+w50EEUhmcjRcOKcBn3r9fl2zROLeO/tkzXIzxVo0viduUhckvYDu4k/qtkuIjs682HXFN9iBRIiTH2peiscLVUcaYwyA0ctt13dPaQPdw2Qy2x1PYe3avch5iw4id7Ow14ucjZyKglronrPRB3Z0PlGijM4LeHRWoMLTbhFxpKOlUuQ/bvwVMk7R+SUhDUYASNC04s7J/yZ/wfCGAz5/r8LngAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0xMC0wNVQxMDowODoyNSswMDowMKM3wHoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMTAtMDVUMTA6MDg6MjUrMDA6MDDSanjGAAAAAElFTkSuQmCC",homepage:"https://www.wombat.app/",download:"https://www.wombat.app/the-app"})}async loadScatterProtocol(){let t;if(typeof window<"u"&&(t=await a2(()=>import("./protocol-scatter.m-3F4UaOa9.js"),[])),!t)throw new Error("Scatter protocol is not available in this environment");return t}async login(t){return(await this.loadScatterProtocol()).handleLogin(t)}async logout(t){return(await this.loadScatterProtocol()).handleLogout(t)}async sign(t,i){return(await this.loadScatterProtocol()).handleSignatureRequest(t,i)}}function be(){}const gf=e=>e;function ph(e,t){for(const i in t)e[i]=t[i];return e}function l2(e){return e()}function jb(){return Object.create(null)}function Bn(e){e.forEach(l2)}function Wn(e){return typeof e=="function"}function Be(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Eu;function Ld(e,t){return e===t?!0:(Eu||(Eu=document.createElement("a")),Eu.href=t,e===Eu.href)}function Ex(e){return Object.keys(e).length===0}function ev(e,...t){if(e==null){for(const s of t)s(void 0);return be}const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function Lt(e){let t;return ev(e,i=>t=i)(),t}function Fe(e,t,i){e.$$.on_destroy.push(ev(t,i))}function Ws(e,t,i,s){if(e){const r=c2(e,t,i,s);return e[0](r)}}function c2(e,t,i,s){return e[1]&&s?ph(i.ctx.slice(),e[1](s(t))):i.ctx}function Ts(e,t,i,s){if(e[2]&&s){const r=e[2](s(i));if(t.dirty===void 0)return r;if(typeof r=="object"){const n=[],o=Math.max(t.dirty.length,r.length);for(let a=0;a<o;a+=1)n[a]=t.dirty[a]|r[a];return n}return t.dirty|r}return t.dirty}function Ls(e,t,i,s,r,n){if(r){const o=c2(t,i,s,n);e.p(o,r)}}function Ns(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let s=0;s<i;s++)t[s]=-1;return t}return-1}function Mx(e){return e??""}function Ce(e,t,i){return e.set(i),t}function Xb(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const d2=typeof window<"u";let tv=d2?()=>window.performance.now():()=>Date.now(),iv=d2?e=>requestAnimationFrame(e):be;const ul=new Set;function u2(e){ul.forEach(t=>{t.c(e)||(ul.delete(t),t.f())}),ul.size!==0&&iv(u2)}function sv(e){let t;return ul.size===0&&iv(u2),{promise:new Promise(i=>{ul.add(t={c:e,f:i})}),abort(){ul.delete(t)}}}function z(e,t){e.appendChild(t)}function Pt(e,t,i){const s=rv(e);if(!s.getElementById(t)){const r=oe("style");r.id=t,r.textContent=i,h2(s,r)}}function rv(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function kx(e){const t=oe("style");return t.textContent="/* empty */",h2(rv(e),t),t.sheet}function h2(e,t){return z(e.head||e,t),t.sheet}function Q(e,t,i){e.insertBefore(t,i||null)}function K(e){e.parentNode&&e.parentNode.removeChild(e)}function hc(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function oe(e){return document.createElement(e)}function Oe(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function at(e){return document.createTextNode(e)}function ye(){return at(" ")}function ii(){return at("")}function us(e,t,i,s){return e.addEventListener(t,i,s),()=>e.removeEventListener(t,i,s)}function nv(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Dx(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function f2(e){return function(t){t.target===this&&e.call(this,t)}}function P(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function Gx(e){return Array.from(e.childNodes)}function pt(e,t){t=""+t,e.data!==t&&(e.data=t)}function Jb(e,t){e.value=t??""}function jt(e,t,i,s){i==null?e.style.removeProperty(t):e.style.setProperty(t,i,"")}function no(e,t,i){e.classList.toggle(t,!!i)}function p2(e,t,{bubbles:i=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:i,cancelable:s})}function Ub(e,t){return new e(t)}const gh=new Map;let mh=0;function Px(e){let t=5381,i=e.length;for(;i--;)t=(t<<5)-t^e.charCodeAt(i);return t>>>0}function Ox(e,t){const i={stylesheet:kx(t),rules:{}};return gh.set(e,i),i}function kg(e,t,i,s,r,n,o,a=0){const l=16.666/s;let c=`{
`;for(let b=0;b<=1;b+=l){const S=t+(i-t)*n(b);c+=b*100+`%{${o(S,1-S)}}
`}const d=c+`100% {${o(i,1-i)}}
}`,u=`__svelte_${Px(d)}_${a}`,f=rv(e),{stylesheet:g,rules:m}=gh.get(f)||Ox(f,e);m[u]||(m[u]=!0,g.insertRule(`@keyframes ${u} ${d}`,g.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${u} ${s}ms linear ${r}ms 1 both`,mh+=1,u}function Dg(e,t){const i=(e.style.animation||"").split(", "),s=i.filter(t?n=>n.indexOf(t)<0:n=>n.indexOf("__svelte")===-1),r=i.length-s.length;r&&(e.style.animation=s.join(", "),mh-=r,mh||Bx())}function Bx(){iv(()=>{mh||(gh.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&K(t)}),gh.clear())})}let Nd;function Xc(e){Nd=e}function cu(){if(!Nd)throw new Error("Function called outside component initialization");return Nd}function fc(e){cu().$$.on_mount.push(e)}function du(e){cu().$$.on_destroy.push(e)}function vr(){const e=cu();return(t,i,{cancelable:s=!1}={})=>{const r=e.$$.callbacks[t];if(r){const n=p2(t,i,{cancelable:s});return r.slice().forEach(o=>{o.call(e,n)}),!n.defaultPrevented}return!0}}function Wx(e,t){return cu().$$.context.set(e,t),t}function Tn(e){return cu().$$.context.get(e)}const $a=[],Eo=[];let hl=[];const Gg=[],Tx=Promise.resolve();let Pg=!1;function Lx(){Pg||(Pg=!0,Tx.then(m2))}function Ma(e){hl.push(e)}function g2(e){Gg.push(e)}const pp=new Set;let Xa=0;function m2(){if(Xa!==0)return;const e=Nd;do{try{for(;Xa<$a.length;){const t=$a[Xa];Xa++,Xc(t),Nx(t.$$)}}catch(t){throw $a.length=0,Xa=0,t}for(Xc(null),$a.length=0,Xa=0;Eo.length;)Eo.pop()();for(let t=0;t<hl.length;t+=1){const i=hl[t];pp.has(i)||(pp.add(i),i())}hl.length=0}while($a.length);for(;Gg.length;)Gg.pop()();Pg=!1,pp.clear(),Xc(e)}function Nx(e){if(e.fragment!==null){e.update(),Bn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ma)}}function Vx(e){const t=[],i=[];hl.forEach(s=>e.indexOf(s)===-1?t.push(s):i.push(s)),i.forEach(s=>s()),hl=t}let xc;function v2(){return xc||(xc=Promise.resolve(),xc.then(()=>{xc=null})),xc}function Jc(e,t,i){e.dispatchEvent(p2(`${t?"intro":"outro"}${i}`))}const Yu=new Set;let bn;function tt(){bn={r:0,c:[],p:bn}}function it(){bn.r||Bn(bn.c),bn=bn.p}function W(e,t){e&&e.i&&(Yu.delete(e),e.i(t))}function N(e,t,i,s){if(e&&e.o){if(Yu.has(e))return;Yu.add(e),bn.c.push(()=>{Yu.delete(e),s&&(i&&e.d(1),s())}),e.o(t)}else s&&s()}const b2={duration:0};function Hx(e,t,i){const s={direction:"in"};let r=t(e,i,s),n=!1,o,a,l=0;function c(){o&&Dg(e,o)}function d(){const{delay:f=0,duration:g=300,easing:m=gf,tick:y=be,css:b}=r||b2;b&&(o=kg(e,0,1,g,f,m,b,l++)),y(0,1);const S=tv()+f,I=S+g;a&&a.abort(),n=!0,Ma(()=>Jc(e,!0,"start")),a=sv(F=>{if(n){if(F>=I)return y(1,0),Jc(e,!0,"end"),c(),n=!1;if(F>=S){const D=m((F-S)/g);y(D,1-D)}}return n})}let u=!1;return{start(){u||(u=!0,Dg(e),Wn(r)?(r=r(s),v2().then(d)):d())},invalidate(){u=!1},end(){n&&(c(),n=!1)}}}function qb(e,t,i,s){let n=t(e,i,{direction:"both"}),o=s?0:1,a=null,l=null,c=null,d;function u(){c&&Dg(e,c)}function f(m,y){const b=m.b-o;return y*=Math.abs(b),{a:o,b:m.b,d:b,duration:y,start:m.start,end:m.start+y,group:m.group}}function g(m){const{delay:y=0,duration:b=300,easing:S=gf,tick:I=be,css:F}=n||b2,D={start:tv()+y,b:m};m||(D.group=bn,bn.r+=1),"inert"in e&&(m?d!==void 0&&(e.inert=d):(d=e.inert,e.inert=!0)),a||l?l=D:(F&&(u(),c=kg(e,o,m,b,y,S,F)),m&&I(0,1),a=f(D,b),Ma(()=>Jc(e,m,"start")),sv(V=>{if(l&&V>l.start&&(a=f(l,b),l=null,Jc(e,a.b,"start"),F&&(u(),c=kg(e,o,a.b,a.duration,0,S,n.css))),a){if(V>=a.end)I(o=a.b,1-o),Jc(e,a.b,"end"),l||(a.b?u():--a.group.r||Bn(a.group.c)),a=null;else if(V>=a.start){const O=V-a.start;o=a.a+a.d*S(O/a.duration),I(o,1-o)}}return!!(a||l)}))}return{run(m){Wn(n)?v2().then(()=>{n=n({direction:m?"in":"out"}),g(m)}):g(m)},end(){u(),a=l=null}}}function Us(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Kb(e,t){const i={},s={},r={$$scope:1};let n=e.length;for(;n--;){const o=e[n],a=t[n];if(a){for(const l in o)l in a||(s[l]=1);for(const l in a)r[l]||(i[l]=a[l],r[l]=1);e[n]=a}else for(const l in o)r[l]=1}for(const o in s)o in i||(i[o]=void 0);return i}function Qb(e){return typeof e=="object"&&e!==null?e:{}}function C2(e,t,i){const s=e.$$.props[t];s!==void 0&&(e.$$.bound[s]=i,i(e.$$.ctx[s]))}function ne(e){e&&e.c()}function se(e,t,i){const{fragment:s,after_update:r}=e.$$;s&&s.m(t,i),Ma(()=>{const n=e.$$.on_mount.map(l2).filter(Wn);e.$$.on_destroy?e.$$.on_destroy.push(...n):Bn(n),e.$$.on_mount=[]}),r.forEach(Ma)}function re(e,t){const i=e.$$;i.fragment!==null&&(Vx(i.after_update),Bn(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function Zx(e,t){e.$$.dirty[0]===-1&&($a.push(e),Lx(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ve(e,t,i,s,r,n,o,a=[-1]){const l=Nd;Xc(e);const c=e.$$={fragment:null,ctx:[],props:n,update:be,not_equal:r,bound:jb(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:jb(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let d=!1;if(c.ctx=i?i(e,t.props||{},(u,f,...g)=>{const m=g.length?g[0]:f;return c.ctx&&r(c.ctx[u],c.ctx[u]=m)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](m),d&&Zx(e,u)),f}):[],c.update(),d=!0,Bn(c.before_update),c.fragment=s?s(c.ctx):!1,t.target){if(t.hydrate){const u=Gx(t.target);c.fragment&&c.fragment.l(u),u.forEach(K)}else c.fragment&&c.fragment.c();t.intro&&W(e.$$.fragment),se(e,t.target,t.anchor),m2()}Xc(l)}class He{constructor(){Ji(this,"$$");Ji(this,"$$set")}$destroy(){re(this,1),this.$destroy=be}$on(t,i){if(!Wn(i))return be;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(i),()=>{const r=s.indexOf(i);r!==-1&&s.splice(r,1)}}$set(t){this.$$set&&!Ex(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Yx="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Yx);function zx(e){Pt(e,"svelte-efme7g","h2.svelte-efme7g{color:var(--body-text-color);font-size:var(--fs-2);font-weight:600;text-align:center;margin:0;margin-block-start:var(--space-xs)}")}function jx(e){let t,i;const s=e[1].default,r=Ws(s,e,e[0],null);return{c(){t=oe("h2"),r&&r.c(),P(t,"class","svelte-efme7g")},m(n,o){Q(n,t,o),r&&r.m(t,null),i=!0},p(n,[o]){r&&r.p&&(!i||o&1)&&Ls(r,s,n,n[0],i?Ts(s,n[0],o,null):Ns(n[0]),null)},i(n){i||(W(r,n),i=!0)},o(n){N(r,n),i=!1},d(n){n&&K(t),r&&r.d(n)}}}function Xx(e,t,i){let{$$slots:s={},$$scope:r}=t;return e.$$set=n=>{"$$scope"in n&&i(0,r=n.$$scope)},[r,s]}class Ln extends He{constructor(t){super(),Ve(this,t,Xx,jx,Be,{},zx)}}function Jx(e){Pt(e,"svelte-fszb3i","p.svelte-fszb3i{color:var(--body-text-color-variant);font-size:var(--fs-1);font-weight:400;text-align:center;margin:0;overflow-wrap:anywhere}")}function Ux(e){let t,i;const s=e[1].default,r=Ws(s,e,e[0],null);return{c(){t=oe("p"),r&&r.c(),P(t,"class","svelte-fszb3i")},m(n,o){Q(n,t,o),r&&r.m(t,null),i=!0},p(n,[o]){r&&r.p&&(!i||o&1)&&Ls(r,s,n,n[0],i?Ts(s,n[0],o,null):Ns(n[0]),null)},i(n){i||(W(r,n),i=!0)},o(n){N(r,n),i=!1},d(n){n&&K(t),r&&r.d(n)}}}function qx(e,t,i){let{$$slots:s={},$$scope:r}=t;return e.$$set=n=>{"$$scope"in n&&i(0,r=n.$$scope)},[r,s]}class ov extends He{constructor(t){super(),Ve(this,t,qx,Ux,Be,{},Jx)}}const Kx=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-alert-circle"
><circle cx="12" cy="12" r="10" /><line x1="12" x2="12" y1="8" y2="12" /><line
    x1="12"
    x2="12.01"
    y1="16"
    y2="16"
/></svg
>
`,Qx=`<svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"><polyline points="20 6 9 17 4 12" /></svg
>
`,$x=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"><polyline points="15 18 9 12 15 6" /></svg
>
`,e_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"><polyline points="9 18 15 12 9 6" /></svg
>
`,t_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" /></svg
>
`,i_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><rect x="9" y="9" width="13" height="13" rx="2" ry="2" /><path
    d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
/></svg
>
`,s_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-x-octagon"
><polygon
    points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"
/><line x1="15" x2="9" y1="9" y2="15" /><line x1="9" x2="15" y1="9" y2="15" /></svg
>
`,r_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-external-link"
><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" /><polyline
    points="15 3 21 3 21 9"
/><line x1="10" x2="21" y1="14" y2="3" /></svg
>
`,n_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><polyline points="15 3 21 3 21 9" /><polyline points="9 21 3 21 3 15" /><line
    x1="21"
    y1="3"
    x2="14"
    y2="10"
/><line x1="3" y1="21" x2="10" y2="14" /></svg
>
`,o_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><path d="M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4" /><polyline
    points="14 2 14 8 20 8"
/><path d="m9 18 3-3-3-3" /><path d="m5 12-3 3 3 3" /></svg
>
`,a_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-github"
><path
    d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
/><path d="M9 18c-4.51 2-5-2-7-2" /></svg
>
`,l_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-globe"
><circle cx="12" cy="12" r="10" /><line x1="2" x2="22" y1="12" y2="12" /><path
    d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
/></svg
>
`,c_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-info"
><circle cx="12" cy="12" r="10" /><line x1="12" x2="12" y1="16" y2="12" /><line
    x1="12"
    x2="12.01"
    y1="8"
    y2="8"
/></svg
>
`,d_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" /><polyline
    points="10 17 15 12 10 7"
/><line x1="15" y1="12" x2="3" y2="12" /></svg
>
`,u_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-settings-2"
><path d="M20 7h-9" /><path d="M14 17H5" /><circle cx="17" cy="17" r="3" /><circle
    cx="7"
    cy="7"
    r="3"
/></svg
>
`,h_=`<svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="lucide lucide-radio"
    ><path d="M4.9 19.1C1 15.2 1 8.8 4.9 4.9" /><path d="M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5" /><circle
        cx="12"
        cy="12"
        r="2"
    /><path d="M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5" /><path d="M19.1 4.9C23 8.8 23 15.1 19.1 19" /></svg
>
`,f_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-sun-moon"
><path d="M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" /><path d="M12 8a2.828 2.828 0 1 0 4 4" /><path
    d="M12 2v2"
/><path d="M12 20v2" /><path d="m4.93 4.93 1.41 1.41" /><path d="m17.66 17.66 1.41 1.41" /><path
    d="M2 12h2"
/><path d="M20 12h2" /><path d="m6.34 17.66-1.41 1.41" /><path d="m19.07 4.93-1.41 1.41" /></svg
>
`,p_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><path d="M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4" /><path
    d="M4 6v12c0 1.1.9 2 2 2h14v-4"
/><path d="M18 12a2 2 0 0 0-2 2c0 1.1.9 2 2 2h4v-4h-4z" /></svg
>
`,g_=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-waves"
><path
    d="M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"
/><path
    d="M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"
/><path
    d="M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"
/></svg
>
`,m_=`<svg width="36" height="31" fill="none" xmlns="http://www.w3.org/2000/svg"
><path
    d="M35.54 18.77c-.019.989-.673 1.676-1.319 2.048l-1.388.802c-.663.383-1.438.531-2.132.531-.695 0-1.47-.148-2.132-.531l-1.362-.802v2.722c0 1.008-.664 1.711-1.318 2.089l-1.389.801c-.663.383-1.437.531-2.132.531-.694 0-1.469-.148-2.131-.53l-2.035-1.175-2.034 1.174c-.663.383-1.438.531-2.132.531-.694 0-1.469-.148-2.131-.53l-9.722-5.613c-.645-.372-1.3-1.06-1.317-2.049v-.061 3.626c.018.989.672 1.676 1.317 2.049l9.722 5.612c.662.382 1.437.53 2.131.53.694 0 1.47-.148 2.132-.53l2.034-1.175 2.035 1.175c.662.382 1.437.53 2.131.53.695 0 1.47-.148 2.132-.53l1.389-.802c.654-.378 1.318-1.08 1.318-2.088v-2.722l1.362.801c.663.383 1.437.531 2.132.531.694 0 1.469-.148 2.132-.53l1.388-.802c.646-.373 1.3-1.06 1.318-2.05V18.77Z"
    fill="#7BE7CE"
/><path
    d="M.874 15.362a1.5 1.5 0 0 0-.009.161v3.246c.019.99.673 1.677 1.318 2.05l9.722 5.612c.662.382 1.437.53 2.131.53.694 0 1.47-.148 2.132-.53l2.034-1.175 2.035 1.175c.662.382 1.437.53 2.131.53.695 0 1.47-.148 2.132-.53l1.389-.802c.654-.378 1.318-1.08 1.318-2.089V20.82l1.362.801c.663.383 1.437.531 2.132.531.694 0 1.469-.148 2.132-.53l1.388-.802c.646-.373 1.3-1.06 1.318-2.05v-3.564c-.018.99-.672 1.677-1.318 2.049l-1.388.802c-.663.382-1.438.53-2.132.53-.695 0-1.47-.148-2.132-.53l-1.388-.802a2.943 2.943 0 0 1-.067-.04 2.168 2.168 0 0 1 .085.834c.005.05.008.101.008.152v1.776c0 1.008-.664 1.71-1.318 2.088l-1.389.802c-.663.383-1.437.531-2.132.531-.694 0-1.469-.148-2.131-.53l-2.035-1.175-2.034 1.174c-.663.383-1.438.531-2.132.531-.694 0-1.469-.148-2.131-.53l-9.722-5.613c-.61-.352-1.229-.987-1.31-1.892ZM17.54 5.749l.004.043c.07.6.368 1.074.74 1.424a4.94 4.94 0 0 0-.75.045V5.875c0-.043.002-.085.006-.126Z"
    fill="#B2F2E1"
/><path
    d="m3.573 10.152-1.389.801c-.618.358-1.246 1.006-1.312 1.928a1.364 1.364 0 0 0-.007.136V15.204c.019.99.673 1.677 1.318 2.05l9.722 5.611c.662.383 1.437.532 2.131.532.694 0 1.47-.149 2.132-.532l2.034-1.174 2.035 1.174c.662.383 1.437.532 2.131.532.695 0 1.47-.149 2.132-.532l1.389-.801c.654-.378 1.318-1.08 1.318-2.089v-1.775c0-.052-.003-.102-.008-.153a2.25 2.25 0 0 0-.085-.833l.067.04 1.388.801c.663.383 1.437.531 2.132.531.694 0 1.469-.148 2.132-.53l1.388-.802c.646-.373 1.3-1.06 1.318-2.05v-2.092a2.359 2.359 0 0 0 0-.142V8.29l.001-.058c0-1.009-.664-1.711-1.318-2.089L24.501.531C23.838.15 23.064 0 22.369 0c-.694 0-1.469.149-2.131.531l-1.389.802c-.654.377-1.318 1.08-1.318 2.088 0 .048.001.095.004.14v1.847a2.069 2.069 0 0 0 .01.385c.069.6.367 1.073.739 1.423h-.08c-.695 0-1.47.148-2.133.53l-1.388.802c-.654.378-1.318 1.08-1.318 2.089 0 .065.002.13.008.193a1.485 1.485 0 0 0-.002.073v1.682l-.003.041-.002.045a2.298 2.298 0 0 0 .021.405c.017.112.041.22.072.322l-5.623-3.246C7.174 9.769 6.4 9.62 5.705 9.62c-.695 0-1.47.148-2.132.53Z"
    fill="#F4FAF4"
/><path
    d="M23.758 1.818c-.767-.442-2.01-.442-2.778 0l-1.389.802c-.766.443-.766 1.16 0 1.604l9.553 5.514c.369.213.575.501.575.802v.195c0 .3-.207.589-.575.801l-1.22.705c-.767.443-.767 1.16 0 1.603l1.389.802c.767.443 2.01.443 2.777 0l1.389-.802c.767-.443.767-1.16 0-1.603l-1.22-.705c-.369-.212-.576-.5-.576-.801v-.195c0-.3.207-.59.576-.802l1.22-.704c.767-.443.767-1.16 0-1.604l-9.721-5.612ZM7.093 11.439c-.767-.443-2.01-.443-2.777 0l-1.39.802c-.766.443-.766 1.16 0 1.603l9.722 5.612c.767.443 2.01.443 2.777 0l2.778-1.603-11.11-6.414Z"
    fill="#494E62"
/><path
    d="M23.351 15.545c0 .3.207.589.575.801l1.22.705c.767.443.767 1.16 0 1.603l-1.388.802c-.767.443-2.01.443-2.778 0l-2.777-1.603 2.609-1.507c.368-.212.575-.5.575-.801v-.195c0-.3-.207-.589-.575-.801l-5.387-3.11c-.767-.443-.767-1.16 0-1.603l1.39-.802c.766-.443 2.01-.443 2.776 0l5.555 3.207c.767.443.767 1.16 0 1.603l-1.22.705c-.368.212-.575.5-.575.801v.195Z"
    fill="#494E62"
/></svg
>
`,Og={copy:i_,check:Qx,close:t_,"file-code":o_,wharf:m_,login:d_,"chevron-right":e_,"chevron-left":$x,wallet:p_,expand:n_,signal:h_,settings:u_,globe:l_,github:a_,info:c_,theme:f_,waves:g_,"external-link":r_,error:s_,alert:Kx};function v_(e){Pt(e,"svelte-19w48ux","div.svelte-19w48ux svg{width:100%;height:100%}")}function b_(e){let t,i=Og[e[0]]+"";return{c(){t=oe("div"),jt(t,"width",e[1]),jt(t,"display","grid"),jt(t,"place-content","center"),jt(t,"color",e[2]),P(t,"class","svelte-19w48ux")},m(s,r){Q(s,t,r),t.innerHTML=i},p(s,[r]){r&1&&i!==(i=Og[s[0]]+"")&&(t.innerHTML=i),r&2&&jt(t,"width",s[1]),r&4&&jt(t,"color",s[2])},i:be,o:be,d(s){s&&K(t)}}}function C_(e,t,i){let{name:s}=t,{size:r="var(--space-l)"}=t,{color:n="currentColor"}=t;return e.$$set=o=>{"name"in o&&i(0,s=o.name),"size"in o&&i(1,r=o.size),"color"in o&&i(2,n=o.color)},[s,r,n]}class Ds extends He{constructor(t){super(),Ve(this,t,C_,b_,Be,{name:0,size:1,color:2},v_)}}function y_(e){Pt(e,"svelte-1u0n4gl","div.svelte-1u0n4gl{display:grid;justify-items:center;gap:var(--space-s);text-align:center;color:var(--body-text-color);margin-block:var(--space-s)}")}function $b(e){let t,i;return t=new Ds({props:{name:e[2],size:"var(--space-3xl)",color:e[3]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.name=s[2]),r&8&&(n.color=s[3]),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function eC(e){let t,i;return t=new Ln({props:{$$slots:{default:[w_]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&17&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function w_(e){let t;return{c(){t=at(e[0])},m(i,s){Q(i,t,s)},p(i,s){s&1&&pt(t,i[0])},d(i){i&&K(t)}}}function tC(e){let t,i;return t=new ov({props:{$$slots:{default:[S_]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&18&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function S_(e){let t;return{c(){t=at(e[1])},m(i,s){Q(i,t,s)},p(i,s){s&2&&pt(t,i[1])},d(i){i&&K(t)}}}function R_(e){let t,i,s,r,n=e[2]&&$b(e),o=e[0]&&eC(e),a=e[1]&&tC(e);return{c(){t=oe("div"),n&&n.c(),i=ye(),o&&o.c(),s=ye(),a&&a.c(),P(t,"class","svelte-1u0n4gl")},m(l,c){Q(l,t,c),n&&n.m(t,null),z(t,i),o&&o.m(t,null),z(t,s),a&&a.m(t,null),r=!0},p(l,[c]){l[2]?n?(n.p(l,c),c&4&&W(n,1)):(n=$b(l),n.c(),W(n,1),n.m(t,i)):n&&(tt(),N(n,1,1,()=>{n=null}),it()),l[0]?o?(o.p(l,c),c&1&&W(o,1)):(o=eC(l),o.c(),W(o,1),o.m(t,s)):o&&(tt(),N(o,1,1,()=>{o=null}),it()),l[1]?a?(a.p(l,c),c&2&&W(a,1)):(a=tC(l),a.c(),W(a,1),a.m(t,null)):a&&(tt(),N(a,1,1,()=>{a=null}),it())},i(l){r||(W(n),W(o),W(a),r=!0)},o(l){N(n),N(o),N(a),r=!1},d(l){l&&K(t),n&&n.d(),o&&o.d(),a&&a.d()}}}function A_(e,t,i){let{title:s=void 0}=t,{details:r=void 0}=t,{icon:n=void 0}=t,{iconColor:o="currentColor"}=t;return e.$$set=a=>{"title"in a&&i(0,s=a.title),"details"in a&&i(1,r=a.details),"icon"in a&&i(2,n=a.icon),"iconColor"in a&&i(3,o=a.iconColor)},[s,r,n,o]}class y2 extends He{constructor(t){super(),Ve(this,t,A_,R_,Be,{title:0,details:1,icon:2,iconColor:3},y_)}}function I_(e){let t,i;return t=new y2({props:{title:e[0],details:e[1],icon:"error",iconColor:"var(--color-error-2)"}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,[r]){const n={};r&1&&(n.title=s[0]),r&2&&(n.details=s[1]),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function F_(e,t,i){let{title:s}=t,{details:r}=t;return e.$$set=n=>{"title"in n&&i(0,s=n.title),"details"in n&&i(1,r=n.details)},[s,r]}class x_ extends He{constructor(t){super(),Ve(this,t,F_,I_,Be,{title:0,details:1})}}const Ja=[];function __(e,t){return{subscribe:At(e,t).subscribe}}function At(e,t=be){let i;const s=new Set;function r(a){if(Be(e,a)&&(e=a,i)){const l=!Ja.length;for(const c of s)c[1](),Ja.push(c,e);if(l){for(let c=0;c<Ja.length;c+=2)Ja[c][0](Ja[c+1]);Ja.length=0}}}function n(a){r(a(e))}function o(a,l=be){const c=[a,l];return s.add(c),s.size===1&&(i=t(r,n)||be),a(e),()=>{s.delete(c),s.size===0&&i&&(i(),i=null)}}return{set:r,update:n,subscribe:o}}function Qi(e,t,i){const s=!Array.isArray(e),r=s?[e]:e;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const n=t.length<2;return __(i,(o,a)=>{let l=!1;const c=[];let d=0,u=be;const f=()=>{if(d)return;u();const m=t(s?c[0]:c,o,a);n?o(m):u=Wn(m)?m:be},g=r.map((m,y)=>ev(m,b=>{c[y]=b,d&=~(1<<y),l&&f()},()=>{d|=1<<y}));return l=!0,f(),function(){Bn(g),u(),l=!1}})}function zu(){Ki.set(!1),Rs.set({...S2}),Ri.set({...w2}),fo.reset(),av.set([]),k_.set(void 0),Kn.set(void 0),lv.set(void 0),ki.set({...A2}),Uo.set(void 0),cv.set(void 0),ir.set({...I2}),uu.set(void 0),gi.set(void 0),mi.set(void 0)}const Ki=At(!1),vh=At(!1),E_={language:"",theme:void 0,animations:!0};function M_(e=E_){const t=At(e),{subscribe:i,set:s}=t;let r;return typeof localStorage<"u"&&(r=new Kw("web.renderer"),r.read("settings").then(n=>{n&&s(JSON.parse(n))})),{subscribe:i,set:n=>{r&&r.write("settings",JSON.stringify(n)),s(n)},update:n=>{const o=n(Lt(t));r&&r.write("settings",JSON.stringify(o)),s(o)}}}const Vs=M_(),w2={title:"Wharf",subtitle:"Status Message"},Ri=At(w2),S2={path:"",history:[]},R2=()=>{const{set:e,subscribe:t,update:i}=At(S2);return{back:()=>i(s=>({...s,path:s.history[s.history.length-1],history:s.history.slice(0,-1)})),push:s=>i(r=>({...r,path:s,history:[...r.history,r.path]})),set:e,subscribe:t,update:i}},Rs=R2(),av=At([]),k_=At(void 0),D_=()=>{const{set:e,subscribe:t,update:i}=At(void 0);return{reset:()=>e(void 0),set:e,subscribe:t,update:i}},fo=D_(),A2={chainId:void 0,permissionLevel:void 0,walletPluginIndex:void 0},Kn=At(void 0),lv=At(void 0),ki=At({...A2}),I2={chain:void 0,pluginId:void 0},Uo=At(void 0),ir=At({...I2}),cv=At(void 0),uu=At(void 0),gi=At(void 0),mi=At(void 0);function iC(e){let t,i;return t=new x_({props:{title:e[1]("error.title",{default:"Error"}),details:e[0]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&2&&(n.title=s[1]("error.title",{default:"Error"})),r&1&&(n.details=s[0]),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function G_(e){let t,i,s=e[0]&&iC(e);return{c(){t=oe("div"),s&&s.c(),P(t,"class","error")},m(r,n){Q(r,t,n),s&&s.m(t,null),i=!0},p(r,[n]){r[0]?s?(s.p(r,n),n&1&&W(s,1)):(s=iC(r),s.c(),W(s,1),s.m(t,null)):s&&(tt(),N(s,1,1,()=>{s=null}),it())},i(r){i||(W(s),i=!0)},o(r){N(s),i=!1},d(r){r&&K(t),s&&s.d()}}}function P_(e,t,i){let s,r;Fe(e,uu,o=>i(0,s=o));const{t:n}=Tn("i18n");return Fe(e,n,o=>i(1,r=o)),[s,r,n]}class O_ extends He{constructor(t){super(),Ve(this,t,P_,G_,Be,{})}}function B_(e){Pt(e,"svelte-1q25md2","ul.svelte-1q25md2{list-style:none;padding:0;margin:0}")}function W_(e){let t,i;const s=e[1].default,r=Ws(s,e,e[0],null);return{c(){t=oe("ul"),r&&r.c(),P(t,"class","svelte-1q25md2")},m(n,o){Q(n,t,o),r&&r.m(t,null),i=!0},p(n,[o]){r&&r.p&&(!i||o&1)&&Ls(r,s,n,n[0],i?Ts(s,n[0],o,null):Ns(n[0]),null)},i(n){i||(W(r,n),i=!0)},o(n){N(r,n),i=!1},d(n){n&&K(t),r&&r.d(n)}}}function T_(e,t,i){let{$$slots:s={},$$scope:r}=t;return e.$$set=n=>{"$$scope"in n&&i(0,r=n.$$scope)},[r,s]}class pc extends He{constructor(t){super(),Ve(this,t,T_,W_,Be,{},B_)}}function L_(e){Pt(e,"svelte-1w5zc52","li.svelte-1w5zc52.svelte-1w5zc52{display:flex;height:calc(var(--space-l) * 2);align-items:center;color:var(--body-text-color);font-size:var(--fs-1);font-weight:500}li.svelte-1w5zc52.svelte-1w5zc52:not(:last-child){border-bottom:1px solid var(--list-divider-color)}button.svelte-1w5zc52.svelte-1w5zc52,a.svelte-1w5zc52.svelte-1w5zc52{flex:1;height:100%;display:flex;align-items:center;cursor:pointer;border:none;background:none;color:inherit;font-size:inherit;font-family:inherit;font-weight:inherit;margin:0;padding:0;padding-inline-start:var(--space-3xs);text-decoration:none}.leading.svelte-1w5zc52.svelte-1w5zc52{inline-size:var(--space-xl);block-size:var(--space-xl);display:grid;place-content:center}.leading.svelte-1w5zc52>.svelte-1w5zc52{max-inline-size:30px;max-block-size:30px}.leading.svelte-1w5zc52 img.svelte-1w5zc52{width:100%;height:100%;object-fit:contain}.trailing.svelte-1w5zc52.svelte-1w5zc52{opacity:0.2;padding-inline-end:var(--space-s)}li.svelte-1w5zc52.svelte-1w5zc52:hover{background:var(--list-item-background-color-hover)}li.svelte-1w5zc52:hover .trailing.svelte-1w5zc52{opacity:1}.label.svelte-1w5zc52.svelte-1w5zc52{flex:1;text-align:start;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-inline-start:var(--space-xs)}.value.svelte-1w5zc52.svelte-1w5zc52{font-weight:400;padding-inline-end:var(--space-xs)}")}function N_(e){let t,i,s,r,n,o,a,l,c,d;const u=[Z_,H_],f=[];function g(b,S){return b[4]?0:b[2]?1:-1}~(s=g(e))&&(r=f[s]=u[s](e));let m=e[5]&&sC(e),y=e[3]&&rC(e);return{c(){t=oe("a"),i=oe("div"),r&&r.c(),n=ye(),o=oe("span"),a=at(e[0]),l=ye(),m&&m.c(),c=ye(),y&&y.c(),P(i,"class","leading svelte-1w5zc52"),P(o,"class","label svelte-1w5zc52"),P(t,"href",e[6]),P(t,"target","_blank"),P(t,"rel","noreferrer"),P(t,"class","svelte-1w5zc52")},m(b,S){Q(b,t,S),z(t,i),~s&&f[s].m(i,null),z(t,n),z(t,o),z(o,a),z(t,l),m&&m.m(t,null),z(t,c),y&&y.m(t,null),d=!0},p(b,S){let I=s;s=g(b),s===I?~s&&f[s].p(b,S):(r&&(tt(),N(f[I],1,1,()=>{f[I]=null}),it()),~s?(r=f[s],r?r.p(b,S):(r=f[s]=u[s](b),r.c()),W(r,1),r.m(i,null)):r=null),(!d||S&1)&&pt(a,b[0]),b[5]?m?m.p(b,S):(m=sC(b),m.c(),m.m(t,c)):m&&(m.d(1),m=null),b[3]?y?(y.p(b,S),S&8&&W(y,1)):(y=rC(b),y.c(),W(y,1),y.m(t,null)):y&&(tt(),N(y,1,1,()=>{y=null}),it()),(!d||S&64)&&P(t,"href",b[6])},i(b){d||(W(r),W(y),d=!0)},o(b){N(r),N(y),d=!1},d(b){b&&K(t),~s&&f[s].d(),m&&m.d(),y&&y.d()}}}function V_(e){let t,i,s,r,n,o,a,l,c,d,u,f;const g=[z_,Y_],m=[];function y(I,F){return I[4]?0:I[2]?1:-1}~(s=y(e))&&(r=m[s]=g[s](e));let b=e[5]&&nC(e),S=e[3]&&oC(e);return{c(){t=oe("button"),i=oe("div"),r&&r.c(),n=ye(),o=oe("span"),a=at(e[0]),l=ye(),b&&b.c(),c=ye(),S&&S.c(),P(i,"class","leading svelte-1w5zc52"),P(o,"class","label svelte-1w5zc52"),P(t,"class","svelte-1w5zc52")},m(I,F){Q(I,t,F),z(t,i),~s&&m[s].m(i,null),z(t,n),z(t,o),z(o,a),z(t,l),b&&b.m(t,null),z(t,c),S&&S.m(t,null),d=!0,u||(f=us(t,"click",function(){Wn(e[1])&&e[1].apply(this,arguments)}),u=!0)},p(I,F){e=I;let D=s;s=y(e),s===D?~s&&m[s].p(e,F):(r&&(tt(),N(m[D],1,1,()=>{m[D]=null}),it()),~s?(r=m[s],r?r.p(e,F):(r=m[s]=g[s](e),r.c()),W(r,1),r.m(i,null)):r=null),(!d||F&1)&&pt(a,e[0]),e[5]?b?b.p(e,F):(b=nC(e),b.c(),b.m(t,c)):b&&(b.d(1),b=null),e[3]?S?(S.p(e,F),F&8&&W(S,1)):(S=oC(e),S.c(),W(S,1),S.m(t,null)):S&&(tt(),N(S,1,1,()=>{S=null}),it())},i(I){d||(W(r),W(S),d=!0)},o(I){N(r),N(S),d=!1},d(I){I&&K(t),~s&&m[s].d(),b&&b.d(),S&&S.d(),u=!1,f()}}}function H_(e){let t,i,s;return i=new Ds({props:{name:e[2]}}),{c(){t=oe("div"),ne(i.$$.fragment),P(t,"class","icon svelte-1w5zc52")},m(r,n){Q(r,t,n),se(i,t,null),s=!0},p(r,n){const o={};n&4&&(o.name=r[2]),i.$set(o)},i(r){s||(W(i.$$.fragment,r),s=!0)},o(r){N(i.$$.fragment,r),s=!1},d(r){r&&K(t),re(i)}}}function Z_(e){let t,i,s,r;return{c(){t=oe("div"),i=oe("img"),Ld(i.src,s=e[4])||P(i,"src",s),P(i,"alt",r=`${e[0]} logo`),P(i,"class","svelte-1w5zc52"),P(t,"class","logo svelte-1w5zc52")},m(n,o){Q(n,t,o),z(t,i)},p(n,o){o&16&&!Ld(i.src,s=n[4])&&P(i,"src",s),o&1&&r!==(r=`${n[0]} logo`)&&P(i,"alt",r)},i:be,o:be,d(n){n&&K(t)}}}function sC(e){let t,i;return{c(){t=oe("span"),i=at(e[5]),P(t,"class","value svelte-1w5zc52")},m(s,r){Q(s,t,r),z(t,i)},p(s,r){r&32&&pt(i,s[5])},d(s){s&&K(t)}}}function rC(e){let t,i,s;return i=new Ds({props:{name:e[3]}}),{c(){t=oe("div"),ne(i.$$.fragment),P(t,"class","trailing svelte-1w5zc52")},m(r,n){Q(r,t,n),se(i,t,null),s=!0},p(r,n){const o={};n&8&&(o.name=r[3]),i.$set(o)},i(r){s||(W(i.$$.fragment,r),s=!0)},o(r){N(i.$$.fragment,r),s=!1},d(r){r&&K(t),re(i)}}}function Y_(e){let t,i,s;return i=new Ds({props:{name:e[2]}}),{c(){t=oe("div"),ne(i.$$.fragment),P(t,"class","icon svelte-1w5zc52")},m(r,n){Q(r,t,n),se(i,t,null),s=!0},p(r,n){const o={};n&4&&(o.name=r[2]),i.$set(o)},i(r){s||(W(i.$$.fragment,r),s=!0)},o(r){N(i.$$.fragment,r),s=!1},d(r){r&&K(t),re(i)}}}function z_(e){let t,i,s,r;return{c(){t=oe("div"),i=oe("img"),Ld(i.src,s=e[4])||P(i,"src",s),P(i,"alt",r=`${e[0]} logo`),P(i,"class","svelte-1w5zc52"),P(t,"class","logo svelte-1w5zc52")},m(n,o){Q(n,t,o),z(t,i)},p(n,o){o&16&&!Ld(i.src,s=n[4])&&P(i,"src",s),o&1&&r!==(r=`${n[0]} logo`)&&P(i,"alt",r)},i:be,o:be,d(n){n&&K(t)}}}function nC(e){let t,i;return{c(){t=oe("span"),i=at(e[5]),P(t,"class","value svelte-1w5zc52")},m(s,r){Q(s,t,r),z(t,i)},p(s,r){r&32&&pt(i,s[5])},d(s){s&&K(t)}}}function oC(e){let t,i,s;return i=new Ds({props:{name:e[3]}}),{c(){t=oe("div"),ne(i.$$.fragment),P(t,"class","trailing svelte-1w5zc52")},m(r,n){Q(r,t,n),se(i,t,null),s=!0},p(r,n){const o={};n&8&&(o.name=r[3]),i.$set(o)},i(r){s||(W(i.$$.fragment,r),s=!0)},o(r){N(i.$$.fragment,r),s=!1},d(r){r&&K(t),re(i)}}}function j_(e){let t,i,s,r;const n=[V_,N_],o=[];function a(l,c){return l[6]?1:0}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),Q(l,s,c),r=!0},p(l,c){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),N(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),W(i,1),i.m(s.parentNode,s))},i(l){r||(W(i),r=!0)},o(l){N(i),r=!1},d(l){l&&K(s),o[t].d(l)}}}function X_(e){let t,i;const s=e[8].default,r=Ws(s,e,e[7],null),n=r||j_(e);return{c(){t=oe("li"),n&&n.c(),P(t,"class","svelte-1w5zc52")},m(o,a){Q(o,t,a),n&&n.m(t,null),i=!0},p(o,[a]){r?r.p&&(!i||a&128)&&Ls(r,s,o,o[7],i?Ts(s,o[7],a,null):Ns(o[7]),null):n&&n.p&&(!i||a&127)&&n.p(o,i?a:-1)},i(o){i||(W(n,o),i=!0)},o(o){N(n,o),i=!1},d(o){o&&K(t),n&&n.d(o)}}}function J_(e,t,i){let{$$slots:s={},$$scope:r}=t,{label:n=void 0}=t,{onClick:o=()=>{}}=t,{leadingIcon:a=void 0}=t,{trailingIcon:l="chevron-right"}=t,{logo:c=void 0}=t,{value:d=void 0}=t,{link:u=void 0}=t;return e.$$set=f=>{"label"in f&&i(0,n=f.label),"onClick"in f&&i(1,o=f.onClick),"leadingIcon"in f&&i(2,a=f.leadingIcon),"trailingIcon"in f&&i(3,l=f.trailingIcon),"logo"in f&&i(4,c=f.logo),"value"in f&&i(5,d=f.value),"link"in f&&i(6,u=f.link),"$$scope"in f&&i(7,r=f.$$scope)},[n,o,a,l,c,d,u,r,s]}class kr extends He{constructor(t){super(),Ve(this,t,J_,X_,Be,{label:0,onClick:1,leadingIcon:2,trailingIcon:3,logo:4,value:5,link:6},L_)}}function F2(e){return e.startsWith("http://")||e.startsWith("https://")}function x2(e){return e.startsWith("data:image/")}function U_(e){return e in Og}function Yl(e){var o,a;const{name:t,logo:i}=e;let{theme:s}=Lt(Vs);const r=s==="light"?"dark":"light";if(s||(window.matchMedia("(prefers-color-scheme: dark)").matches?s="dark":s="light"),!i){if("getLogo"in e)return((o=e.getLogo())==null?void 0:o[s])??((a=e.getLogo())==null?void 0:a[r]);console.warn(`${t} does not have a logo.`);return}const n=i[s]??i[r];if(!F2(n.toString())&&!x2(n.toString())){console.warn(`${t} ${s} logo is not a supported image format.`);return}return n}function q_(e){Pt(e,"svelte-1d8fcdl","section.svelte-1d8fcdl{display:flex;flex-direction:column;gap:var(--space-s)}")}function aC(e,t,i){const s=e.slice();return s[4]=t[i],s}function lC(e){let t,i,s,r,n;return i=new Ln({props:{$$slots:{default:[K_]},$$scope:{ctx:e}}}),r=new pc({props:{$$slots:{default:[Q_]},$$scope:{ctx:e}}}),{c(){t=oe("section"),ne(i.$$.fragment),s=ye(),ne(r.$$.fragment),P(t,"class","svelte-1d8fcdl")},m(o,a){Q(o,t,a),se(i,t,null),z(t,s),se(r,t,null),n=!0},p(o,a){const l={};a&130&&(l.$$scope={dirty:a,ctx:o}),i.$set(l);const c={};a&129&&(c.$$scope={dirty:a,ctx:o}),r.$set(c)},i(o){n||(W(i.$$.fragment,o),W(r.$$.fragment,o),n=!0)},o(o){N(i.$$.fragment,o),N(r.$$.fragment,o),n=!1},d(o){o&&K(t),re(i),re(r)}}}function K_(e){let t;return{c(){t=at(e[1])},m(i,s){Q(i,t,s)},p(i,s){s&2&&pt(t,i[1])},d(i){i&&K(t)}}}function cC(e){let t,i;function s(){return e[3](e[4])}return t=new kr({props:{label:e[4].name,onClick:s,leadingIcon:"wharf",logo:Yl(e[4])}}),{c(){ne(t.$$.fragment)},m(r,n){se(t,r,n),i=!0},p(r,n){e=r;const o={};n&1&&(o.label=e[4].name),n&1&&(o.onClick=s),n&1&&(o.logo=Yl(e[4])),t.$set(o)},i(r){i||(W(t.$$.fragment,r),i=!0)},o(r){N(t.$$.fragment,r),i=!1},d(r){re(t,r)}}}function Q_(e){let t,i,s=Us(e[0]),r=[];for(let o=0;o<s.length;o+=1)r[o]=cC(aC(e,s,o));const n=o=>N(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=ii()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);Q(o,t,a),i=!0},p(o,a){if(a&5){s=Us(o[0]);let l;for(l=0;l<s.length;l+=1){const c=aC(o,s,l);r[l]?(r[l].p(c,a),W(r[l],1)):(r[l]=cC(c),r[l].c(),W(r[l],1),r[l].m(t.parentNode,t))}for(tt(),l=s.length;l<r.length;l+=1)n(l);it()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)W(r[a]);i=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)N(r[a]);i=!1},d(o){o&&K(t),hc(r,o)}}}function $_(e){let t,i,s=e[0]&&lC(e);return{c(){s&&s.c(),t=ii()},m(r,n){s&&s.m(r,n),Q(r,t,n),i=!0},p(r,[n]){r[0]?s?(s.p(r,n),n&1&&W(s,1)):(s=lC(r),s.c(),W(s,1),s.m(t.parentNode,t)):s&&(tt(),N(s,1,1,()=>{s=null}),it())},i(r){i||(W(s),i=!0)},o(r){N(s),i=!1},d(r){r&&K(t),s&&s.d(r)}}}function eE(e,t,i){let{chains:s}=t,{title:r}=t;const n=vr(),o=a=>n("select",a.id);return e.$$set=a=>{"chains"in a&&i(0,s=a.chains),"title"in a&&i(1,r=a.title)},[s,r,n,o]}class _2 extends He{constructor(t){super(),Ve(this,t,eE,$_,Be,{chains:0,title:1},q_)}}function tE(e){Pt(e,"svelte-hwtk1p",".button.svelte-hwtk1p{--button-height:var(--space-2xl);cursor:pointer;display:flex;justify-content:center;align-items:center;gap:var(--space-2xs);height:var(--button-height);line-height:var(--button-height);text-decoration:none;text-align:center;border-radius:var(--border-radius-inner);font-size:var(--fs-1);font-weight:600;color:var(--button-color, var(--button-text-color));background:var(--button-background, var(--button-primary-background));border:none;box-shadow:var(--button-outline);flex:1}.button.svelte-hwtk1p:hover{background:var(--button-background-hover, var(--button-primary-background-hover));box-shadow:var(--button-outline-hover, var(--button-primary-outline-hover))}.button.svelte-hwtk1p:active{background:var(--button-background-active, var(--button-primary-background-active));box-shadow:var(--button-outline-active);color:var(--button-text-color-active)}.secondary.svelte-hwtk1p{--button-background:var(--button-secondary-background);--button-background-hover:var(--button-secondary-background-hover);--button-background-active:var(--button-secondary-background-active);--button-outline-hover:var(--button-secondary-outline-hover)}.outlined.svelte-hwtk1p{--button-background:transparent;--button-background-hover:transparent;--button-background-active:var(--button-outlined-background-active);--button-outline:var(--button-outlined-outline);--button-outline-hover:var(--button-outlined-outline-hover)}")}function iE(e){let t,i;return t=new Ds({props:{name:e[1]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function sE(e){let t,i,s,r,n,o,a=e[1]&&iE(e);return{c(){t=oe("button"),a&&a.c(),i=ye(),s=oe("span"),s.textContent=`${e[0]}`,P(t,"class","button "+e[3]+" svelte-hwtk1p"),t.autofocus=e[4]},m(l,c){Q(l,t,c),a&&a.m(t,null),z(t,i),z(t,s),r=!0,e[4]&&t.focus(),n||(o=us(t,"click",e[2]),n=!0)},p(l,[c]){l[1]&&a.p(l,c)},i(l){r||(W(a),r=!0)},o(l){N(a),r=!1},d(l){l&&K(t),a&&a.d(),n=!1,o()}}}function rE(e,t,i){let{data:s}=t;const{label:r,icon:n,onClick:o,variant:a="primary",autofocus:l}=s;return e.$$set=c=>{"data"in c&&i(5,s=c.data)},[r,n,o,a,l,s]}class bh extends He{constructor(t){super(),Ve(this,t,rE,sE,Be,{data:5},tE)}}function nE(e){Pt(e,"svelte-3b7p6","input.svelte-3b7p6{box-sizing:border-box;height:var(--space-2xl);border-radius:var(--border-radius-inner);border:1px solid var(--input-border-color);padding-inline:var(--space-m);color:var(--body-text-color);background-color:var(--body-background-color);font-size:var(--fs-1)}input.svelte-3b7p6::placeholder{font-size:var(--fs-1);color:var(--input-placeholder-color);font-style:italic}input.svelte-3b7p6:hover{border:1px solid transparent;outline:2px solid var(--input-border-color-hover);background-color:var(--input-background-focus)}input.svelte-3b7p6:focus-within{border:1px solid transparent;outline:2px solid var(--input-border-color-focus);background-color:var(--input-background-focus)}input.error.svelte-3b7p6{border:1px solid var(--error-color);color:var(--error-color)}input.error.svelte-3b7p6:focus-within{border:1px solid transparent;color:var(--body-text-color)}")}function oE(e){let t,i,s;return{c(){t=oe("input"),t.autofocus=e[3],P(t,"type","text"),P(t,"placeholder",e[1]),P(t,"class","svelte-3b7p6"),no(t,"error",e[4])},m(r,n){Q(r,t,n),Jb(t,e[0]),e[3]&&t.focus(),i||(s=[us(t,"keyup",nv(function(){Wn(e[2])&&e[2].apply(this,arguments)})),us(t,"input",e[5])],i=!0)},p(r,[n]){e=r,n&8&&(t.autofocus=e[3]),n&2&&P(t,"placeholder",e[1]),n&1&&t.value!==e[0]&&Jb(t,e[0]),n&16&&no(t,"error",e[4])},i:be,o:be,d(r){r&&K(t),i=!1,Bn(s)}}}function aE(e,t,i){let{value:s}=t,{placeholder:r}=t,{onKeyup:n}=t,{autofocus:o=!1}=t,{error:a=!1}=t;function l(){s=this.value,i(0,s)}return e.$$set=c=>{"value"in c&&i(0,s=c.value),"placeholder"in c&&i(1,r=c.placeholder),"onKeyup"in c&&i(2,n=c.onKeyup),"autofocus"in c&&i(3,o=c.autofocus),"error"in c&&i(4,a=c.error)},[s,r,n,o,a,l]}class lE extends He{constructor(t){super(),Ve(this,t,aE,oE,Be,{value:0,placeholder:1,onKeyup:2,autofocus:3,error:4},nE)}}function cE(e){let t,i;return t=new y2({props:{title:e[0],details:e[1],icon:"alert"}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,[r]){const n={};r&1&&(n.title=s[0]),r&2&&(n.details=s[1]),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function dE(e,t,i){let{title:s}=t,{details:r}=t;return e.$$set=n=>{"title"in n&&i(0,s=n.title),"details"in n&&i(1,r=n.details)},[s,r]}class uE extends He{constructor(t){super(),Ve(this,t,dE,cE,Be,{title:0,details:1})}}function hE(e){Pt(e,"svelte-13p224c","section.svelte-13p224c{display:flex;flex-direction:column;gap:var(--space-s)}p.loading.svelte-13p224c{margin:0;text-align:center;height:var(--space-4xl)}p.error.svelte-13p224c{margin:0;text-align:center;color:var(--error-color)}.input-group.svelte-13p224c{display:flex;flex-direction:column;gap:var(--space-m);margin-top:var(--space-s)}")}function dC(e,t,i){const s=e.slice();return s[19]=t[i],s}function fE(e){let t,i,s,r,n,o,a,l,c;t=new Ln({props:{$$slots:{default:[vE]},$$scope:{ctx:e}}});function d(g){e[18](g)}let u={onKeyup:e[13],placeholder:"Account name",autofocus:!e[1],error:e[4]&&e[1]===e[2]};e[1]!==void 0&&(u.value=e[1]),r=new lE({props:u}),Eo.push(()=>C2(r,"value",d));let f=e[4]&&uC(e);return l=new bh({props:{data:{variant:"primary",onClick:e[12],label:e[8]("login.enter.lookup",{default:"Lookup Account"})}}}),{c(){ne(t.$$.fragment),i=ye(),s=oe("div"),ne(r.$$.fragment),o=ye(),f&&f.c(),a=ye(),ne(l.$$.fragment),P(s,"class","input-group svelte-13p224c")},m(g,m){se(t,g,m),Q(g,i,m),Q(g,s,m),se(r,s,null),z(s,o),f&&f.m(s,null),z(s,a),se(l,s,null),c=!0},p(g,m){const y={};m&4194305&&(y.$$scope={dirty:m,ctx:g}),t.$set(y);const b={};m&2&&(b.autofocus=!g[1]),m&22&&(b.error=g[4]&&g[1]===g[2]),!n&&m&2&&(n=!0,b.value=g[1],g2(()=>n=!1)),r.$set(b),g[4]?f?f.p(g,m):(f=uC(g),f.c(),f.m(s,a)):f&&(f.d(1),f=null);const S={};m&256&&(S.data={variant:"primary",onClick:g[12],label:g[8]("login.enter.lookup",{default:"Lookup Account"})}),l.$set(S)},i(g){c||(W(t.$$.fragment,g),W(r.$$.fragment,g),W(l.$$.fragment,g),c=!0)},o(g){N(t.$$.fragment,g),N(r.$$.fragment,g),N(l.$$.fragment,g),c=!1},d(g){g&&(K(i),K(s)),re(t,g),re(r),f&&f.d(),re(l)}}}function pE(e){let t,i,s,r;return t=new Ln({props:{$$slots:{default:[bE]},$$scope:{ctx:e}}}),s=new uE({props:{title:"",details:e[8]("login.select.no_match",{default:"No accounts found matching {{publicKey}}",publicKey:e[6]})}}),{c(){ne(t.$$.fragment),i=ye(),ne(s.$$.fragment)},m(n,o){se(t,n,o),Q(n,i,o),se(s,n,o),r=!0},p(n,o){const a={};o&4194560&&(a.$$scope={dirty:o,ctx:n}),t.$set(a);const l={};o&320&&(l.details=n[8]("login.select.no_match",{default:"No accounts found matching {{publicKey}}",publicKey:n[6]})),s.$set(l)},i(n){r||(W(t.$$.fragment,n),W(s.$$.fragment,n),r=!0)},o(n){N(t.$$.fragment,n),N(s.$$.fragment,n),r=!1},d(n){n&&K(i),re(t,n),re(s,n)}}}function gE(e){let t,i,s,r;return t=new Ln({props:{$$slots:{default:[CE]},$$scope:{ctx:e}}}),s=new pc({props:{$$slots:{default:[yE]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment),i=ye(),ne(s.$$.fragment)},m(n,o){se(t,n,o),Q(n,i,o),se(s,n,o),r=!0},p(n,o){const a={};o&4194560&&(a.$$scope={dirty:o,ctx:n}),t.$set(a);const l={};o&4194336&&(l.$$scope={dirty:o,ctx:n}),s.$set(l)},i(n){r||(W(t.$$.fragment,n),W(s.$$.fragment,n),r=!0)},o(n){N(t.$$.fragment,n),N(s.$$.fragment,n),r=!1},d(n){n&&K(i),re(t,n),re(s,n)}}}function mE(e){let t,i=e[8]("loading",{default:"Loading..."})+"",s;return{c(){t=oe("p"),s=at(i),P(t,"class","loading svelte-13p224c")},m(r,n){Q(r,t,n),z(t,s)},p(r,n){n&256&&i!==(i=r[8]("loading",{default:"Loading..."})+"")&&pt(s,i)},i:be,o:be,d(r){r&&K(t)}}}function vE(e){let t;return{c(){t=at(e[0])},m(i,s){Q(i,t,s)},p(i,s){s&1&&pt(t,i[0])},d(i){i&&K(t)}}}function uC(e){let t,i=e[8]("login.enter.not_found",{default:"Unable to find account"})+"",s,r,n;return{c(){t=oe("p"),s=at(i),r=ye(),n=at(e[2]),P(t,"class","error svelte-13p224c")},m(o,a){Q(o,t,a),z(t,s),z(t,r),z(t,n)},p(o,a){a&256&&i!==(i=o[8]("login.enter.not_found",{default:"Unable to find account"})+"")&&pt(s,i),a&4&&pt(n,o[2])},d(o){o&&K(t)}}}function bE(e){let t=e[8]("login.select.no_accounts")+"",i;return{c(){i=at(t)},m(s,r){Q(s,i,r)},p(s,r){r&256&&t!==(t=s[8]("login.select.no_accounts")+"")&&pt(i,t)},d(s){s&&K(i)}}}function CE(e){let t=e[8]("login.select.account")+"",i;return{c(){i=at(t)},m(s,r){Q(s,i,r)},p(s,r){r&256&&t!==(t=s[8]("login.select.account")+"")&&pt(i,t)},d(s){s&&K(i)}}}function hC(e){let t,i;function s(){return e[17](e[19])}return t=new kr({props:{label:String(e[19]),onClick:s}}),{c(){ne(t.$$.fragment)},m(r,n){se(t,r,n),i=!0},p(r,n){e=r;const o={};n&32&&(o.label=String(e[19])),n&32&&(o.onClick=s),t.$set(o)},i(r){i||(W(t.$$.fragment,r),i=!0)},o(r){N(t.$$.fragment,r),i=!1},d(r){re(t,r)}}}function yE(e){let t,i,s=Us(e[5]),r=[];for(let o=0;o<s.length;o+=1)r[o]=hC(dC(e,s,o));const n=o=>N(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=ii()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);Q(o,t,a),i=!0},p(o,a){if(a&1056){s=Us(o[5]);let l;for(l=0;l<s.length;l+=1){const c=dC(o,s,l);r[l]?(r[l].p(c,a),W(r[l],1)):(r[l]=hC(c),r[l].c(),W(r[l],1),r[l].m(t.parentNode,t))}for(tt(),l=s.length;l<r.length;l+=1)n(l);it()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)W(r[a]);i=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)N(r[a]);i=!1},d(o){o&&K(t),hc(r,o)}}}function wE(e){let t,i,s,r;const n=[mE,gE,pE,fE],o=[];function a(l,c){return l[7]?0:l[5]&&l[5].length>0?1:l[6]?2:l[3]?-1:3}return~(i=a(e))&&(s=o[i]=n[i](e)),{c(){t=oe("section"),s&&s.c(),P(t,"class","svelte-13p224c")},m(l,c){Q(l,t,c),~i&&o[i].m(t,null),r=!0},p(l,[c]){let d=i;i=a(l),i===d?~i&&o[i].p(l,c):(s&&(tt(),N(o[d],1,1,()=>{o[d]=null}),it()),~i?(s=o[i],s?s.p(l,c):(s=o[i]=n[i](l),s.c()),W(s,1),s.m(t,null)):s=null)},i(l){r||(W(s),r=!0)},o(l){N(s),r=!1},d(l){l&&K(t),~i&&o[i].d()}}}function SE(e,t,i){let s,r;const{t:n}=Tn("i18n");Fe(e,n,O=>i(8,r=O));let{chainId:o}=t,{client:a}=t,{walletPlugin:l}=t,{title:c}=t;const d=vr();let u=At(!0);Fe(e,u,O=>i(7,s=O));let f="",g="",m,y=!1,b,S=l.metadata.publicKey;fc(async()=>{if(l.config.requiresPermissionSelect){if(o&&l.retrievePublicKey)try{i(6,S=String(await l.retrievePublicKey(o)))}catch(L){throw uu.set(String(L)),L}const O=await a.call({path:"/v1/chain/get_accounts_by_authorizers",params:{keys:[S]}});u.set(!1),i(5,b=O.accounts.map(L=>dt.from(`${L.account_name}@${L.permission_name}`)))}else l.config.requiresPermissionEntry&&(u.set(!1),i(5,b=[]))});async function I(){u.set(!0);try{const O=await a.v1.chain.get_account(f);O.account_name.equals(f)&&(i(3,m=O.account_name),i(5,b=O.permissions.map(L=>dt.from(`${O.account_name}@${L.perm_name}`)))),i(4,y=!1)}catch{i(4,y=!0)}finally{i(2,g=f),u.set(!1)}}function F(O){if(O.code=="Enter")return O.preventDefault(),I(),!1}const D=O=>d("select",O);function V(O){f=O,i(1,f)}return e.$$set=O=>{"chainId"in O&&i(14,o=O.chainId),"client"in O&&i(15,a=O.client),"walletPlugin"in O&&i(16,l=O.walletPlugin),"title"in O&&i(0,c=O.title)},[c,f,g,m,y,b,S,s,r,n,d,u,I,F,o,a,l,D,V]}class E2 extends He{constructor(t){super(),Ve(this,t,SE,wE,Be,{chainId:14,client:15,walletPlugin:16,title:0},hE)}}function RE(e){Pt(e,"svelte-lwrp5l","section.svelte-lwrp5l{display:flex;flex-direction:column;gap:var(--space-s)}")}function fC(e,t,i){const s=e.slice();return s[4]=t[i],s[6]=i,s}function pC(e){let t,i,s,r,n;return i=new Ln({props:{$$slots:{default:[AE]},$$scope:{ctx:e}}}),r=new pc({props:{$$slots:{default:[IE]},$$scope:{ctx:e}}}),{c(){t=oe("section"),ne(i.$$.fragment),s=ye(),ne(r.$$.fragment),P(t,"class","svelte-lwrp5l")},m(o,a){Q(o,t,a),se(i,t,null),z(t,s),se(r,t,null),n=!0},p(o,a){const l={};a&130&&(l.$$scope={dirty:a,ctx:o}),i.$set(l);const c={};a&129&&(c.$$scope={dirty:a,ctx:o}),r.$set(c)},i(o){n||(W(i.$$.fragment,o),W(r.$$.fragment,o),n=!0)},o(o){N(i.$$.fragment,o),N(r.$$.fragment,o),n=!1},d(o){o&&K(t),re(i),re(r)}}}function AE(e){let t;return{c(){t=at(e[1])},m(i,s){Q(i,t,s)},p(i,s){s&2&&pt(t,i[1])},d(i){i&&K(t)}}}function gC(e){let t,i;function s(){return e[3](e[6])}return t=new kr({props:{label:e[4].metadata.name,onClick:s,leadingIcon:"wallet",logo:Yl(e[4].metadata)}}),{c(){ne(t.$$.fragment)},m(r,n){se(t,r,n),i=!0},p(r,n){e=r;const o={};n&1&&(o.label=e[4].metadata.name),n&1&&(o.logo=Yl(e[4].metadata)),t.$set(o)},i(r){i||(W(t.$$.fragment,r),i=!0)},o(r){N(t.$$.fragment,r),i=!1},d(r){re(t,r)}}}function IE(e){let t,i,s=Us(e[0]),r=[];for(let o=0;o<s.length;o+=1)r[o]=gC(fC(e,s,o));const n=o=>N(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=ii()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);Q(o,t,a),i=!0},p(o,a){if(a&5){s=Us(o[0]);let l;for(l=0;l<s.length;l+=1){const c=fC(o,s,l);r[l]?(r[l].p(c,a),W(r[l],1)):(r[l]=gC(c),r[l].c(),W(r[l],1),r[l].m(t.parentNode,t))}for(tt(),l=s.length;l<r.length;l+=1)n(l);it()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)W(r[a]);i=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)N(r[a]);i=!1},d(o){o&&K(t),hc(r,o)}}}function FE(e){let t,i,s=e[0]&&pC(e);return{c(){s&&s.c(),t=ii()},m(r,n){s&&s.m(r,n),Q(r,t,n),i=!0},p(r,[n]){r[0]?s?(s.p(r,n),n&1&&W(s,1)):(s=pC(r),s.c(),W(s,1),s.m(t.parentNode,t)):s&&(tt(),N(s,1,1,()=>{s=null}),it())},i(r){i||(W(s),i=!0)},o(r){N(s),i=!1},d(r){r&&K(t),s&&s.d(r)}}}function xE(e,t,i){let{wallets:s}=t,{title:r}=t;const n=vr(),o=a=>n("select",a);return e.$$set=a=>{"wallets"in a&&i(0,s=a.wallets),"title"in a&&i(1,r=a.title)},[s,r,n,o]}class _E extends He{constructor(t){super(),Ve(this,t,xE,FE,Be,{wallets:0,title:1},RE)}}function mC(e){return Object.prototype.toString.call(e)==="[object Date]"}function vC(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function M2(e){const t=e-1;return t*t*t+1}function Bg(e,t){if(e===t||e!==e)return()=>e;const i=typeof e;if(i!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const s=t.map((r,n)=>Bg(e[n],r));return r=>s.map(n=>n(r))}if(i==="object"){if(!e||!t)throw new Error("Object cannot be null");if(mC(e)&&mC(t)){e=e.getTime(),t=t.getTime();const n=t-e;return o=>new Date(e+o*n)}const s=Object.keys(t),r={};return s.forEach(n=>{r[n]=Bg(e[n],t[n])}),n=>{const o={};return s.forEach(a=>{o[a]=r[a](n)}),o}}if(i==="number"){const s=t-e;return r=>e+r*s}throw new Error(`Cannot interpolate ${i} values`)}function EE(e,t={}){const i=At(e);let s,r=e;function n(o,a){if(e==null)return i.set(e=o),Promise.resolve();r=o;let l=s,c=!1,{delay:d=0,duration:u=400,easing:f=gf,interpolate:g=Bg}=ph(ph({},t),a);if(u===0)return l&&(l.abort(),l=null),i.set(e=r),Promise.resolve();const m=tv()+d;let y;return s=sv(b=>{if(b<m)return!0;c||(y=g(e,o),typeof u=="function"&&(u=u(e,o)),c=!0),l&&(l.abort(),l=null);const S=b-m;return S>u?(i.set(e=o),!1):(i.set(e=y(f(S/u))),!0)}),s.promise}return{set:n,update:(o,a)=>n(o(r,e),a),subscribe:i.subscribe}}function ME(e){Pt(e,"svelte-1cxfvrd",'.loader.svelte-1cxfvrd.svelte-1cxfvrd{position:relative;display:grid;place-items:center;grid-template-areas:"stack" "text";gap:var(--space-m)}.logo.svelte-1cxfvrd.svelte-1cxfvrd{grid-area:stack;place-self:center;color:var(--body-text-color);width:var(--space-2xl);display:flex;align-items:center;justify-content:center}.logo.svelte-1cxfvrd img.svelte-1cxfvrd{width:100%;height:100%;object-fit:contain}.logo.svelte-1cxfvrd>svg{width:35%;height:35%}.text.svelte-1cxfvrd.svelte-1cxfvrd{grid-area:text;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:var(--space-4xs)}.text.svelte-1cxfvrd .label.svelte-1cxfvrd{font-size:var(--fs-2);font-weight:500;color:var(--body-text-color);margin:0}.text.svelte-1cxfvrd span.svelte-1cxfvrd{font-size:var(--fs-1);font-variant-numeric:tabular-nums;color:var(--body-text-color-variant)}svg.svelte-1cxfvrd.svelte-1cxfvrd{grid-area:stack;animation:2.5s linear infinite svelte-1cxfvrd-svg-animation}@keyframes svelte-1cxfvrd-svg-animation{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}circle.svelte-1cxfvrd.svelte-1cxfvrd{transform-origin:center}circle.spinner.svelte-1cxfvrd.svelte-1cxfvrd{stroke:var(--loading-circle-color)}circle.track.svelte-1cxfvrd.svelte-1cxfvrd{stroke:var(--loading-circle-track-color)}circle.animated.svelte-1cxfvrd.svelte-1cxfvrd{animation:svelte-1cxfvrd-dash 2.1s ease-in-out both infinite}@keyframes svelte-1cxfvrd-dash{0%{stroke-dashoffset:var(--circumference);transform:rotate(0)}50%,65%{stroke-dashoffset:70;transform:rotate(90deg)}100%{stroke-dashoffset:var(--circumference);transform:rotate(360deg)}}')}function kE(e){let t,i,s,r;const n=[GE,DE],o=[];function a(l,c){return F2(l[5])||x2(l[5])?0:U_(l[5])?1:-1}return~(i=a(e))&&(s=o[i]=n[i](e)),{c(){t=oe("div"),s&&s.c(),P(t,"class","logo svelte-1cxfvrd")},m(l,c){Q(l,t,c),~i&&o[i].m(t,null),r=!0},p(l,c){s&&s.p(l,c)},i(l){r||(W(s),r=!0)},o(l){N(s),r=!1},d(l){l&&K(t),~i&&o[i].d()}}}function DE(e){let t,i;return t=new Ds({props:{name:e[5],size:"75%"}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function GE(e){let t,i;return{c(){t=oe("img"),Ld(t.src,i=e[5])||P(t,"src",i),P(t,"alt","loading logo"),P(t,"class","svelte-1cxfvrd")},m(s,r){Q(s,t,r)},p:be,i:be,o:be,d(s){s&&K(t)}}}function PE(e){let t;return{c(){t=oe("p"),t.textContent=`${e[4]}`,P(t,"class","label svelte-1cxfvrd")},m(i,s){Q(i,t,s)},p:be,d(i){i&&K(t)}}}function bC(e){let t=e[1],i,s=CC(e);return{c(){s.c(),i=ii()},m(r,n){s.m(r,n),Q(r,i,n)},p(r,n){n&2&&Be(t,t=r[1])?(s.d(1),s=CC(r),s.c(),s.m(i.parentNode,i)):s.p(r,n)},d(r){r&&K(i),s.d(r)}}}function CC(e){let t,i=yC(e[0])+"",s;return{c(){t=oe("span"),s=at(i),P(t,"class","svelte-1cxfvrd"),no(t,"label",!e[4])},m(r,n){Q(r,t,n),z(t,s)},p(r,n){n&1&&i!==(i=yC(r[0])+"")&&pt(s,i)},d(r){r&&K(t)}}}function OE(e){let t,i,s,r,n,o,a,l,c,d=e[5]&&kE(e),u=e[4]&&PE(e),f=e[0]&&bC(e);return{c(){t=oe("div"),i=Oe("svg"),s=Oe("circle"),r=Oe("circle"),n=ye(),d&&d.c(),o=ye(),a=oe("div"),u&&u.c(),l=ye(),f&&f.c(),P(s,"class","track svelte-1cxfvrd"),P(s,"cx",e[6]),P(s,"cy",e[6]),P(s,"r",e[7]),P(s,"stroke-width",Tg-1),P(s,"stroke-linecap","round"),P(s,"stroke-dasharray",e[3]),P(s,"stroke-dashoffset",0),P(s,"fill","none"),P(r,"class","spinner svelte-1cxfvrd"),P(r,"cx",e[6]),P(r,"cy",e[6]),P(r,"r",e[7]),P(r,"stroke-width",Tg),P(r,"stroke-linecap","round"),P(r,"stroke-dasharray",e[3]),P(r,"fill","none"),jt(r,"--radius",e[7]),jt(r,"--circumference",e[3]),no(r,"animated",e[2]),P(i,"width",Wg),P(i,"height",Wg),P(i,"class","svelte-1cxfvrd"),no(i,"animated",e[2]),P(a,"class","text svelte-1cxfvrd"),P(t,"class","loader svelte-1cxfvrd")},m(g,m){Q(g,t,m),z(t,i),z(i,s),z(i,r),z(t,n),d&&d.m(t,null),z(t,o),z(t,a),u&&u.m(a,null),z(a,l),f&&f.m(a,null),c=!0},p(g,[m]){(!c||m&8)&&P(s,"stroke-dasharray",g[3]),(!c||m&8)&&P(r,"stroke-dasharray",g[3]),(!c||m&8)&&jt(r,"--circumference",g[3]),(!c||m&4)&&no(r,"animated",g[2]),(!c||m&4)&&no(i,"animated",g[2]),g[5]&&d.p(g,m),g[4]&&u.p(g,m),g[0]?f?f.p(g,m):(f=bC(g),f.c(),f.m(a,null)):f&&(f.d(1),f=null)},i(g){c||(W(d),c=!0)},o(g){N(d),c=!1},d(g){g&&K(t),d&&d.d(),u&&u.d(),f&&f.d()}}}let Wg=100,Tg=8;function yC(e){const t=e.getTime()-Date.now();return t>0?new Date(t).toISOString().slice(14,19):"00:00"}function BE(e,t,i){let s,r,{data:n={}}=t,{label:o,end:a,logo:l,loading:c=!0}=n,d,u,f,g=Wg/2,m=g-Tg,y=EE(2*Math.PI*m,{duration:500,easing:M2});return Fe(e,y,b=>i(3,r=b)),du(()=>{f&&clearInterval(f)}),e.$$set=b=>{"data"in b&&i(9,n=b.data)},e.$$.update=()=>{e.$$.dirty&2051&&(f&&clearInterval(f),a&&(i(0,d=new Date(a)),i(11,f=setInterval(()=>{i(1,u=new Date(d).getTime()-Date.now()),u<=0&&(clearInterval(f),y.set(1e3),i(10,c=!1))},200)))),e.$$.dirty&1024&&i(2,s=c)},[d,u,s,r,o,l,g,m,y,n,c,f]}class hu extends He{constructor(t){super(),Ve(this,t,BE,OE,Be,{data:9},ME)}}function wC(e,{delay:t=0,duration:i=400,easing:s=gf}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:i,easing:s,css:n=>`opacity: ${n*r}`}}function WE(e,{delay:t=0,duration:i=400,easing:s=M2,x:r=0,y:n=0,opacity:o=0}={}){const a=getComputedStyle(e),l=+a.opacity,c=a.transform==="none"?"":a.transform,d=l*(1-o),[u,f]=Xb(r),[g,m]=Xb(n);return{delay:t,duration:i,easing:s,css:(y,b)=>`
			transform: ${c} translate(${(1-y)*u}${f}, ${(1-y)*g}${m});
			opacity: ${l-d*b}`}}function TE(e){let t;const i=e[5].default,s=Ws(i,e,e[4],null);return{c(){s&&s.c()},m(r,n){s&&s.m(r,n),t=!0},p(r,n){s&&s.p&&(!t||n&16)&&Ls(s,i,r,r[4],t?Ts(i,r[4],n,null):Ns(r[4]),null)},i(r){t||(W(s,r),t=!0)},o(r){N(s,r),t=!1},d(r){s&&s.d(r)}}}function LE(e){let t,i,s;const r=e[5].default,n=Ws(r,e,e[4],null);return{c(){t=oe("div"),n&&n.c(),P(t,"class","transition")},m(o,a){Q(o,t,a),n&&n.m(t,null),s=!0},p(o,a){e=o,n&&n.p&&(!s||a&16)&&Ls(n,r,e,e[4],s?Ts(r,e[4],a,null):Ns(e[4]),null)},i(o){s||(W(n,o),i||Ma(()=>{i=Hx(t,WE,{duration:200,x:e[1],y:e[0]}),i.start()}),s=!0)},o(o){N(n,o),s=!1},d(o){o&&K(t),n&&n.d(o)}}}function NE(e){let t,i,s,r;const n=[LE,TE],o=[];function a(l,c){return l[2]?0:1}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),Q(l,s,c),r=!0},p(l,[c]){i.p(l,c)},i(l){r||(W(i),r=!0)},o(l){N(i),r=!1},d(l){l&&K(s),o[t].d(l)}}}function VE(e,t,i){let s,r,n;Fe(e,Vs,f=>i(6,n=f));let{$$slots:o={},$$scope:a}=t,{direction:l=void 0}=t;const{animations:c}=n,d=["ltr","rtl"],u=f=>f==="rtl"||f==="btt"?100:-100;return e.$$set=f=>{"direction"in f&&i(3,l=f.direction),"$$scope"in f&&i(4,a=f.$$scope)},e.$$.update=()=>{e.$$.dirty&8&&i(1,[s,r]=l?d.includes(l)?[u(l),0]:[0,u(l)]:[0,0],s,(i(0,r),i(3,l)))},[r,s,c,l,a,o]}class br extends He{constructor(t){super(),Ve(this,t,VE,NE,Be,{direction:3})}}function HE(e){let t,i=e[4]("loading",{default:"Loading..."})+"",s;return{c(){t=oe("p"),s=at(i)},m(r,n){Q(r,t,n),z(t,s)},p(r,n){n&16&&i!==(i=r[4]("loading",{default:"Loading..."})+"")&&pt(s,i)},i:be,o:be,d(r){r&&K(t)}}}function ZE(e){let t,i,s,r;const n=[JE,XE,jE,zE,YE],o=[];function a(l,c){return l[6]===l[0].selectWallet?0:l[6]===l[0].selectChain&&l[7]?1:l[6]===l[0].enterPermission&&l[8]&&l[9]?2:l[6]===l[0].selectPermission&&l[8]&&l[9]?3:4}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),Q(l,s,c),r=!0},p(l,c){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),N(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),W(i,1),i.m(s.parentNode,s))},i(l){r||(W(i),r=!0)},o(l){N(i),r=!1},d(l){l&&K(s),o[t].d(l)}}}function YE(e){let t,i;return t=new hu({props:{data:{label:e[4]("login.complete",{default:"Complete the login using your selected wallet."})}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.data={label:s[4]("login.complete",{default:"Complete the login using your selected wallet."})}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function zE(e){let t,i;return t=new br({props:{direction:e[2],$$slots:{default:[UE]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.direction=s[2]),r&268436242&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function jE(e){let t,i;return t=new br({props:{direction:e[2],$$slots:{default:[qE]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.direction=s[2]),r&268436242&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function XE(e){let t,i;return t=new br({props:{direction:e[2],$$slots:{default:[KE]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.direction=s[2]),r&268435600&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function JE(e){let t,i;return t=new br({props:{direction:e[2],$$slots:{default:[QE]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.direction=s[2]),r&268435480&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function UE(e){let t,i;return t=new E2({props:{chainId:e[1].chainId,client:e[8],walletPlugin:e[9],title:e[4]("login.select.account",{default:"Select an Account"})}}),t.$on("select",e[17]),t.$on("cancel",e[16]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&2&&(n.chainId=s[1].chainId),r&256&&(n.client=s[8]),r&512&&(n.walletPlugin=s[9]),r&16&&(n.title=s[4]("login.select.account",{default:"Select an Account"})),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function qE(e){let t,i;return t=new E2({props:{chainId:e[1].chainId,client:e[8],walletPlugin:e[9],title:e[4]("login.enter.account",{default:"Enter account name"})}}),t.$on("select",e[17]),t.$on("cancel",e[16]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&2&&(n.chainId=s[1].chainId),r&256&&(n.client=s[8]),r&512&&(n.walletPlugin=s[9]),r&16&&(n.title=s[4]("login.enter.account",{default:"Enter account name"})),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function KE(e){let t,i;return t=new _2({props:{chains:e[7],title:e[4]("login.select.blockchain",{default:"Select a Blockchain"})}}),t.$on("select",e[15]),t.$on("cancel",e[19]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&128&&(n.chains=s[7]),r&16&&(n.title=s[4]("login.select.blockchain",{default:"Select a Blockchain"})),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function QE(e){let t,i;return t=new _E({props:{wallets:e[3].walletPlugins,title:e[4]("login.select.wallet",{default:"Select a Wallet"})}}),t.$on("select",e[18]),t.$on("cancel",e[20]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&8&&(n.wallets=s[3].walletPlugins),r&16&&(n.title=s[4]("login.select.wallet",{default:"Select a Wallet"})),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function $E(e){let t,i,s,r;const n=[ZE,HE],o=[];function a(l,c){return l[5]&&l[3]?0:1}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),Q(l,s,c),r=!0},p(l,[c]){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),N(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),W(i,1),i.m(s.parentNode,s))},i(l){r||(W(i),r=!0)},o(l){N(i),r=!1},d(l){l&&K(s),o[t].d(l)}}}function eM(e,t,i){let s,r,n,o,a,l,c,d,u,f;Fe(e,ki,R=>i(1,s=R)),Fe(e,mi,R=>i(2,r=R)),Fe(e,gi,R=>i(22,n=R)),Fe(e,Kn,R=>i(3,o=R)),Fe(e,Ri,R=>i(5,l=R));const{t:g}=Tn("i18n");Fe(e,g,R=>i(4,a=R));let m=!1;const y=vr();var b;(function(R){R.done="done",R.enterPermission="enterPermission",R.selectChain="selectChain",R.selectPermission="selectPermission",R.selectWallet="selectWallet"})(b||(b={}));const S=Qi([Kn,ki],([R,A])=>{if(!(!R||A.chainId===void 0))return R.chain?R.chain:R.chains.find(M=>M.id===A.chainId)}),I=Qi([S,Kn],([R,A])=>{if(!(!A||R===void 0))return A.getClient(R)});Fe(e,I,R=>i(8,u=R));const F=Qi([Kn,ki],([R,A])=>{if(!(!R||A.walletPluginIndex===void 0))return R.walletPlugins[A.walletPluginIndex]});Fe(e,F,R=>i(9,f=R));let D=Qi([Kn,F],([R,A])=>!R||!A?[]:A.config.supportedChains?R.chains.filter(M=>!A.config.supportedChains||A.config.supportedChains.includes(String(M.id))):R.chains);Fe(e,D,R=>i(7,d=R));const V=Kn.subscribe(R=>{R&&(Ce(Ri,l.subtitle=a("login.title-app",{appName:R.appName,default:"Login to {{appName}}"}),l),R.chain&&Ce(ki,s.chainId=R.chain.id,s),R.chains.length===1&&Ce(ki,s.chainId=R.chains[0].id,s),R.permissionLevel&&Ce(ki,s.permissionLevel=R.permissionLevel,s),R.walletPlugins.length===1&&Ce(ki,s.walletPluginIndex=0,s),R.walletPluginIndex!==void 0&&Ce(ki,s.walletPluginIndex=R.walletPluginIndex,s))});fc(()=>{Ce(Ri,l.title=a("login.title",{default:"Login"}),l)}),du(V);const O=Qi([ki,F],([R,A])=>{if(!A)return b.selectWallet;const{requiresChainSelect:M,requiresPermissionEntry:x,requiresPermissionSelect:G,supportedChains:E}=A.config;if(!R.chainId&&E&&E.length===1)return Ce(ki,s.chainId=E[0],s),b.selectPermission;if(!R.chainId&&o&&o.chain)return Ce(ki,s.chainId=o==null?void 0:o.chain.id,s),b.selectPermission;if(!R.chainId&&M)return b.selectChain;if(!R.permissionLevel&&G)return b.selectPermission;if(!R.permissionLevel&&x)return b.enterPermission;v()});Fe(e,O,R=>i(6,c=R));const L=R=>{Ce(ki,s.chainId=R.detail,s),Ce(gi,n=q,n),Ce(mi,r="rtl",r)},q=()=>{Ce(ki,s.chainId=void 0,s),Ce(gi,n=_,n),Ce(mi,r="ltr",r)},T=R=>{Ce(ki,s.permissionLevel=R.detail,s),Ce(gi,n=void 0,n),Ce(mi,r="rtl",r)},X=R=>{Ce(gi,n=_,n),Ce(ki,s.walletPluginIndex=R.detail,s),Ce(mi,r="rtl",r)},_=()=>{Ce(ki,s.walletPluginIndex=void 0,s),Ce(gi,n=void 0,n),Ce(mi,r="ltr",r)},v=()=>{m||(m=!0,y("complete",s),gi.set(void 0),vh.set(!1))};return[b,s,r,o,a,l,c,d,u,f,g,I,F,D,O,L,q,T,X,_,()=>{y("cancel")}]}class tM extends He{constructor(t){super(),Ve(this,t,eM,$E,Be,{})}}function iM(e){Pt(e,"svelte-1m2zvm","div.svelte-1m2zvm{flex:1;display:flex;justify-content:space-between;gap:var(--space-xs)}")}function sM(e){let t,i;const s=e[1].default,r=Ws(s,e,e[0],null);return{c(){t=oe("div"),r&&r.c(),P(t,"class","svelte-1m2zvm")},m(n,o){Q(n,t,o),r&&r.m(t,null),i=!0},p(n,[o]){r&&r.p&&(!i||o&1)&&Ls(r,s,n,n[0],i?Ts(s,n[0],o,null):Ns(n[0]),null)},i(n){i||(W(r,n),i=!0)},o(n){N(r,n),i=!1},d(n){n&&K(t),r&&r.d(n)}}}function rM(e,t,i){let{$$slots:s={},$$scope:r}=t;return e.$$set=n=>{"$$scope"in n&&i(0,r=n.$$scope)},[r,s]}class nM extends He{constructor(t){super(),Ve(this,t,rM,sM,Be,{},iM)}}function oM(e){let t,i,s,r;return t=new bh({props:{data:{variant:"outlined",label:e[0]("decline",{default:"Decline"}),onClick:e[3],icon:"close"}}}),s=new bh({props:{data:{variant:"primary",label:e[0]("accept",{default:"Accept"}),onClick:e[4],icon:"check",autofocus:!0}}}),{c(){ne(t.$$.fragment),i=ye(),ne(s.$$.fragment)},m(n,o){se(t,n,o),Q(n,i,o),se(s,n,o),r=!0},p(n,o){const a={};o&1&&(a.data={variant:"outlined",label:n[0]("decline",{default:"Decline"}),onClick:n[3],icon:"close"}),t.$set(a);const l={};o&1&&(l.data={variant:"primary",label:n[0]("accept",{default:"Accept"}),onClick:n[4],icon:"check",autofocus:!0}),s.$set(l)},i(n){r||(W(t.$$.fragment,n),W(s.$$.fragment,n),r=!0)},o(n){N(t.$$.fragment,n),N(s.$$.fragment,n),r=!1},d(n){n&&K(i),re(t,n),re(s,n)}}}function aM(e){let t,i;return t=new nM({props:{$$slots:{default:[oM]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,[r]){const n={};r&33&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function lM(e,t,i){let s;const{t:r}=Tn("i18n");Fe(e,r,l=>i(0,s=l));const n=vr();return[s,r,n,()=>n("cancel"),()=>n("complete")]}class cM extends He{constructor(t){super(),Ve(this,t,lM,aM,Be,{})}}function dM(e){Pt(e,"svelte-1lmgxnd",".asset.svelte-1lmgxnd.svelte-1lmgxnd{text-align:center}.asset.svelte-1lmgxnd>.svelte-1lmgxnd{margin:0;line-height:1.5}.value.svelte-1lmgxnd.svelte-1lmgxnd{font-size:var(--fs-2);font-weight:600;color:var(--body-text-color)}.label.svelte-1lmgxnd.svelte-1lmgxnd{font-size:var(--fs-0);font-weight:400;color:var(--body-text-color-variant)}")}function SC(e){let t,i,s=e[0].value+"",r,n,o,a=e[0].label+"",l;return{c(){t=oe("div"),i=oe("p"),r=at(s),n=ye(),o=oe("p"),l=at(a),P(i,"class","value svelte-1lmgxnd"),P(o,"class","label svelte-1lmgxnd"),P(t,"class","asset svelte-1lmgxnd")},m(c,d){Q(c,t,d),z(t,i),z(i,r),z(t,n),z(t,o),z(o,l)},p(c,d){d&1&&s!==(s=c[0].value+"")&&pt(r,s),d&1&&a!==(a=c[0].label+"")&&pt(l,a)},d(c){c&&K(t)}}}function uM(e){let t,i=e[0]&&SC(e);return{c(){i&&i.c(),t=ii()},m(s,r){i&&i.m(s,r),Q(s,t,r)},p(s,[r]){s[0]?i?i.p(s,r):(i=SC(s),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:be,o:be,d(s){s&&K(t),i&&i.d(s)}}}function hM(e,t,i){let{data:s={label:"[[Unknown Label]]",value:"[[Unknown Value]]"}}=t;return e.$$set=r=>{"data"in r&&i(0,s=r.data)},[s]}class fM extends He{constructor(t){super(),Ve(this,t,hM,uM,Be,{data:0},dM)}}function pM(e){Pt(e,"svelte-1bils14","button.svelte-1bils14{cursor:pointer;display:block;width:300px;height:65px;border-radius:12px;font-size:16px;font-weight:600;color:var(--button-text-color);background-color:var(--button-tertiary-color);border:none;box-shadow:none;margin:27px auto 0}")}function gM(e){let t,i=e[0]("close",{default:"Close"})+"",s,r,n;return{c(){t=oe("button"),s=at(i),P(t,"class","svelte-1bils14")},m(o,a){Q(o,t,a),z(t,s),r||(n=us(t,"click",e[3]),r=!0)},p(o,[a]){a&1&&i!==(i=o[0]("close",{default:"Close"})+"")&&pt(s,i)},i:be,o:be,d(o){o&&K(t),r=!1,n()}}}function mM(e,t,i){let s;const{t:r}=Tn("i18n");Fe(e,r,a=>i(0,s=a));const n=vr();return[s,r,n,()=>n("complete")]}class vM extends He{constructor(t){super(),Ve(this,t,mM,gM,Be,{},pM)}}function bM(e){Pt(e,"svelte-785ja0",".button.svelte-785ja0{--button-height:var(--space-2xl);cursor:pointer;display:flex;justify-content:center;align-items:center;gap:var(--space-2xs);height:var(--button-height);line-height:var(--button-height);text-decoration:none;text-align:center;border-radius:var(--border-radius-inner);font-size:var(--fs-1);font-weight:600;color:var(--button-color, var(--button-text-color));background:var(--button-background, var(--button-primary-background));border:none;box-shadow:var(--button-outline);flex:1}.button.svelte-785ja0:hover{background:var(--button-background-hover, var(--button-primary-background-hover));box-shadow:var(--button-outline-hover, var(--button-primary-outline-hover))}.button.svelte-785ja0:active{background:var(--button-background-active, var(--button-primary-background-active));box-shadow:var(--button-outline-active);color:var(--button-text-color-active)}.secondary.svelte-785ja0{--button-background:var(--button-secondary-background);--button-background-hover:var(--button-secondary-background-hover);--button-background-active:var(--button-secondary-background-active);--button-outline-hover:var(--button-secondary-outline-hover)}.outlined.svelte-785ja0{--button-background:transparent;--button-background-hover:transparent;--button-background-active:var(--button-outlined-background-active);--button-outline:var(--button-outlined-outline);--button-outline-hover:var(--button-outlined-outline-hover)}a.svelte-785ja0{align-self:stretch}")}function CM(e){let t,i;return t=new Ds({props:{name:e[3]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function yM(e){let t,i,s,r,n=e[3]&&CM(e);return{c(){t=oe("a"),n&&n.c(),i=ye(),s=oe("span"),s.textContent=`${e[2]}`,P(t,"class",Mx(e[5])+" svelte-785ja0"),P(t,"href",e[1]),P(t,"target",e[4]),P(t,"rel","noreferrer"),no(t,"button",e[0])},m(o,a){Q(o,t,a),n&&n.m(t,null),z(t,i),z(t,s),r=!0},p(o,[a]){o[3]&&n.p(o,a)},i(o){r||(W(n),r=!0)},o(o){N(n),r=!1},d(o){o&&K(t),n&&n.d()}}}function wM(e,t,i){let{data:s}=t,{button:r=!0,href:n,label:o,icon:a,target:l,variant:c="outlined"}=s;return e.$$set=d=>{"data"in d&&i(6,s=d.data)},[r,n,o,a,l,c,s]}class k2 extends He{constructor(t){super(),Ve(this,t,wM,yM,Be,{data:6},bM)}}var Oc={L:1,M:0,Q:3,H:2},ys={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8};class SM{constructor(t){this.mode=ys.MODE_8BIT_BYTE,this.data=t}getLength(){return this.data.length}write(t){for(let i=0;i<this.data.length;i++)t.put(this.data.charCodeAt(i),8)}}class RC{constructor(){this.buffer=[],this.length=0}get(t){const i=Math.floor(t/8);return(this.buffer[i]>>>7-t%8&1)==1}put(t,i){for(let s=0;s<i;s++)this.putBit((t>>>i-s-1&1)==1)}getLengthInBits(){return this.length}putBit(t){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),t&&(this.buffer[i]|=128>>>this.length%8),this.length++}}const Ai={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Ai.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Ai.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(let e=0;e<8;e++)Ai.EXP_TABLE[e]=1<<e;for(let e=8;e<256;e++)Ai.EXP_TABLE[e]=Ai.EXP_TABLE[e-4]^Ai.EXP_TABLE[e-5]^Ai.EXP_TABLE[e-6]^Ai.EXP_TABLE[e-8];for(let e=0;e<255;e++)Ai.LOG_TABLE[Ai.EXP_TABLE[e]]=e;class zl{constructor(t,i){if(t.length==null)throw new Error(t.length+"/"+i);let s=0;for(;s<t.length&&t[s]==0;)s++;this.num=new Array(t.length-s+i);for(let r=0;r<t.length-s;r++)this.num[r]=t[r+s]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){const i=new Array(this.getLength()+t.getLength()-1);for(let s=0;s<this.getLength();s++)for(let r=0;r<t.getLength();r++)i[s+r]^=Ai.gexp(Ai.glog(this.get(s))+Ai.glog(t.get(r)));return new zl(i,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;const i=Ai.glog(this.get(0))-Ai.glog(t.get(0)),s=new Array(this.getLength());for(let r=0;r<this.getLength();r++)s[r]=this.get(r);for(let r=0;r<t.getLength();r++)s[r]^=Ai.gexp(Ai.glog(t.get(r))+i);return new zl(s,0).mod(t)}}class xr{constructor(t,i){this.totalCount=t,this.dataCount=i}static getRSBlocks(t,i){const s=xr.getRsBlockTable(t,i);if(s==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+i);const r=s.length/3,n=[];for(let o=0;o<r;o++){const a=s[o*3+0],l=s[o*3+1],c=s[o*3+2];for(let d=0;d<a;d++)n.push(new xr(l,c))}return n}static getRsBlockTable(t,i){switch(i){case Oc.L:return xr.RS_BLOCK_TABLE[(t-1)*4+0];case Oc.M:return xr.RS_BLOCK_TABLE[(t-1)*4+1];case Oc.Q:return xr.RS_BLOCK_TABLE[(t-1)*4+2];case Oc.H:return xr.RS_BLOCK_TABLE[(t-1)*4+3];default:return}}}xr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];const jn={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},zt={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){let t=e<<10;for(;zt.getBCHDigit(t)-zt.getBCHDigit(zt.G15)>=0;)t^=zt.G15<<zt.getBCHDigit(t)-zt.getBCHDigit(zt.G15);return(e<<10|t)^zt.G15_MASK},getBCHTypeNumber:function(e){let t=e<<12;for(;zt.getBCHDigit(t)-zt.getBCHDigit(zt.G18)>=0;)t^=zt.G18<<zt.getBCHDigit(t)-zt.getBCHDigit(zt.G18);return e<<12|t},getBCHDigit:function(e){let t=0;for(;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return zt.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case jn.PATTERN000:return(t+i)%2==0;case jn.PATTERN001:return t%2==0;case jn.PATTERN010:return i%3==0;case jn.PATTERN011:return(t+i)%3==0;case jn.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case jn.PATTERN101:return t*i%2+t*i%3==0;case jn.PATTERN110:return(t*i%2+t*i%3)%2==0;case jn.PATTERN111:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){let t=new zl([1],0);for(let i=0;i<e;i++)t=t.multiply(new zl([1,Ai.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case ys.MODE_NUMBER:return 10;case ys.MODE_ALPHA_NUM:return 9;case ys.MODE_8BIT_BYTE:return 8;case ys.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case ys.MODE_NUMBER:return 12;case ys.MODE_ALPHA_NUM:return 11;case ys.MODE_8BIT_BYTE:return 16;case ys.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case ys.MODE_NUMBER:return 14;case ys.MODE_ALPHA_NUM:return 13;case ys.MODE_8BIT_BYTE:return 16;case ys.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){const t=e.getModuleCount();let i=0;for(let n=0;n<t;n++)for(let o=0;o<t;o++){let a=0;const l=e.isDark(n,o);for(let c=-1;c<=1;c++)if(!(n+c<0||t<=n+c))for(let d=-1;d<=1;d++)o+d<0||t<=o+d||c==0&&d==0||l==e.isDark(n+c,o+d)&&a++;a>5&&(i+=3+a-5)}for(let n=0;n<t-1;n++)for(let o=0;o<t-1;o++){let a=0;e.isDark(n,o)&&a++,e.isDark(n+1,o)&&a++,e.isDark(n,o+1)&&a++,e.isDark(n+1,o+1)&&a++,(a==0||a==4)&&(i+=3)}for(let n=0;n<t;n++)for(let o=0;o<t-6;o++)e.isDark(n,o)&&!e.isDark(n,o+1)&&e.isDark(n,o+2)&&e.isDark(n,o+3)&&e.isDark(n,o+4)&&!e.isDark(n,o+5)&&e.isDark(n,o+6)&&(i+=40);for(let n=0;n<t;n++)for(let o=0;o<t-6;o++)e.isDark(o,n)&&!e.isDark(o+1,n)&&e.isDark(o+2,n)&&e.isDark(o+3,n)&&e.isDark(o+4,n)&&!e.isDark(o+5,n)&&e.isDark(o+6,n)&&(i+=40);let s=0;for(let n=0;n<t;n++)for(let o=0;o<t;o++)e.isDark(o,n)&&s++;const r=Math.abs(100*s/t/t-50)/5;return i+=r*10,i}};class oo{constructor(t,i){this.typeNumber=t,this.errorCorrectLevel=i,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}addData(t){const i=new SM(t);this.dataList.push(i),this.dataCache=null}isDark(t,i){if(t<0||this.moduleCount<=t||i<0||this.moduleCount<=i)throw new Error(t+","+i);return this.modules[t][i]}getModuleCount(){return this.moduleCount}make(){if(this.typeNumber<1){let t=1;for(t=1;t<40;t++){const i=xr.getRSBlocks(t,this.errorCorrectLevel),s=new RC;let r=0;for(let n=0;n<i.length;n++)r+=i[n].dataCount;for(let n=0;n<this.dataList.length;n++){const o=this.dataList[n];s.put(o.mode,4),s.put(o.getLength(),zt.getLengthInBits(o.mode,t)),o.write(s)}if(s.getLengthInBits()<=r*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(t,i){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let s=0;s<this.moduleCount;s++){this.modules[s]=new Array(this.moduleCount);for(let r=0;r<this.moduleCount;r++)this.modules[s][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,i),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=oo.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)}setupPositionProbePattern(t,i){for(let s=-1;s<=7;s++)if(!(t+s<=-1||this.moduleCount<=t+s))for(let r=-1;r<=7;r++)i+r<=-1||this.moduleCount<=i+r||(0<=s&&s<=6&&(r==0||r==6)||0<=r&&r<=6&&(s==0||s==6)||2<=s&&s<=4&&2<=r&&r<=4?this.modules[t+s][i+r]=!0:this.modules[t+s][i+r]=!1)}getBestMaskPattern(){let t=0,i=0;for(let s=0;s<8;s++){this.makeImpl(!0,s);const r=zt.getLostPoint(this);(s==0||t>r)&&(t=r,i=s)}return i}setupTimingPattern(){for(let t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(let t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)}setupPositionAdjustPattern(){const t=zt.getPatternPosition(this.typeNumber);for(let i=0;i<t.length;i++)for(let s=0;s<t.length;s++){const r=t[i],n=t[s];if(this.modules[r][n]==null)for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o==-2||o==2||a==-2||a==2||o==0&&a==0?this.modules[r+o][n+a]=!0:this.modules[r+o][n+a]=!1}}setupTypeNumber(t){const i=zt.getBCHTypeNumber(this.typeNumber);for(let s=0;s<18;s++){const r=!t&&(i>>s&1)==1;this.modules[Math.floor(s/3)][s%3+this.moduleCount-8-3]=r}for(let s=0;s<18;s++){const r=!t&&(i>>s&1)==1;this.modules[s%3+this.moduleCount-8-3][Math.floor(s/3)]=r}}setupTypeInfo(t,i){const s=this.errorCorrectLevel<<3|i,r=zt.getBCHTypeInfo(s);for(let n=0;n<15;n++){const o=!t&&(r>>n&1)==1;n<6?this.modules[n][8]=o:n<8?this.modules[n+1][8]=o:this.modules[this.moduleCount-15+n][8]=o}for(let n=0;n<15;n++){const o=!t&&(r>>n&1)==1;n<8?this.modules[8][this.moduleCount-n-1]=o:n<9?this.modules[8][15-n-1+1]=o:this.modules[8][15-n-1]=o}this.modules[this.moduleCount-8][8]=!t}mapData(t,i){let s=-1,r=this.moduleCount-1,n=7,o=0;for(let a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(let l=0;l<2;l++)if(this.modules[r][a-l]==null){let c=!1;o<t.length&&(c=(t[o]>>>n&1)==1),zt.getMask(i,r,a-l)&&(c=!c),this.modules[r][a-l]=c,n--,n==-1&&(o++,n=7)}if(r+=s,r<0||this.moduleCount<=r){r-=s,s=-s;break}}}static createData(t,i,s){const r=xr.getRSBlocks(t,i),n=new RC;for(let a=0;a<s.length;a++){const l=s[a];n.put(l.mode,4),n.put(l.getLength(),zt.getLengthInBits(l.mode,t)),l.write(n)}let o=0;for(let a=0;a<r.length;a++)o+=r[a].dataCount;if(n.getLengthInBits()>o*8)throw new Error("code length overflow. ("+n.getLengthInBits()+">"+o*8+")");for(n.getLengthInBits()+4<=o*8&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=o*8||(n.put(oo.PAD0,8),n.getLengthInBits()>=o*8));)n.put(oo.PAD1,8);return oo.createBytes(n,r)}static createBytes(t,i){let s=0,r=0,n=0;const o=new Array(i.length),a=new Array(i.length);for(let u=0;u<i.length;u++){const f=i[u].dataCount,g=i[u].totalCount-f;r=Math.max(r,f),n=Math.max(n,g),o[u]=new Array(f);for(let S=0;S<o[u].length;S++)o[u][S]=255&t.buffer[S+s];s+=f;const m=zt.getErrorCorrectPolynomial(g),b=new zl(o[u],m.getLength()-1).mod(m);a[u]=new Array(m.getLength()-1);for(let S=0;S<a[u].length;S++){const I=S+b.getLength()-a[u].length;a[u][S]=I>=0?b.get(I):0}}let l=0;for(let u=0;u<i.length;u++)l+=i[u].totalCount;const c=new Array(l);let d=0;for(let u=0;u<r;u++)for(let f=0;f<i.length;f++)u<o[f].length&&(c[d++]=o[f][u]);for(let u=0;u<n;u++)for(let f=0;f<i.length;f++)u<a[f].length&&(c[d++]=a[f][u]);return c}}oo.PAD0=236;oo.PAD1=17;function RM(e,t="L",i=-1){try{const s=new oo(i,Oc[t]),r=[];s.addData(e),s.make();const n=s.modules,o=n.length;for(const[l,c]of n.entries()){let d;for(const[u,f]of c.entries())f?(d||(d={x:u,y:l,width:0,height:1}),d.width++):(d&&d.width>0&&r.push(d),d=void 0);d&&d.width>0&&r.push(d)}const a=[`<svg xmlns="http://www.w3.org/2000/svg" width="300" viewBox="0 0 ${o} ${o}">`];for(const{x:l,y:c,width:d,height:u}of r)a.push(`<rect x="${l}" y="${c}" width="${d}" height="${u}" />`);return a.push("</svg>"),a.join("")}catch(s){console.log("Could not render QR code: ",s)}}function AM(e){Pt(e,"svelte-vj0cjm",".wrapper.svelte-vj0cjm.svelte-vj0cjm{position:relative;display:grid;background:var(--body-background-color);border-radius:var(--space-s);padding:var(--space-m);box-shadow:var(--qr-border-color);margin-bottom:var(--space-xs)}.qr.svelte-vj0cjm.svelte-vj0cjm{display:flex}.qr.svelte-vj0cjm svg{border-radius:var(--space-2xs);padding:var(--space-xs);background:white;flex:1;width:100%}dialog.svelte-vj0cjm.svelte-vj0cjm{padding:0;border-radius:var(--space-2xs);border:none}dialog.svelte-vj0cjm .qr.svelte-vj0cjm{background-color:white;width:min(800px, 80vmin);border:none}.button-group.svelte-vj0cjm.svelte-vj0cjm{display:grid;grid-template-columns:1fr 1fr;justify-items:center;gap:var(--space-s);position:absolute;top:100%;width:100%;transform:translateY(-50%)}.button-group.svelte-vj0cjm button.svelte-vj0cjm{display:flex;align-items:center;gap:var(--space-xs);border:none;cursor:pointer;background:var(--body-background-color);color:var(--body-text-color);font-size:var(--fs-0)}@media(max-width: 340px){.button-group.svelte-vj0cjm button span.svelte-vj0cjm:last-of-type{display:none}}.icon.svelte-vj0cjm.svelte-vj0cjm{display:grid;place-content:center;grid-template-areas:'stack'}.icon.svelte-vj0cjm>.svelte-vj0cjm{grid-area:stack}.check.svelte-vj0cjm.svelte-vj0cjm{background:var(--body-background-color)}")}function AC(e){let t,i,s,r,n,o,a,l,c,d,u,f,g,m,y=e[3]&&IC(e),b=e[3]&&FC(e);l=new Ds({props:{name:"copy",size:"var(--space-m)"}});let S=e[2]&&xC();return{c(){t=oe("div"),y&&y.c(),i=ye(),s=oe("div"),b&&b.c(),r=ye(),n=oe("button"),o=oe("div"),a=oe("div"),ne(l.$$.fragment),c=ye(),S&&S.c(),d=ye(),u=oe("div"),u.innerHTML='<span class="svelte-vj0cjm">Copy</span> <span class="svelte-vj0cjm">to clipboard</span>',P(a,"class","svelte-vj0cjm"),P(o,"class","icon svelte-vj0cjm"),P(n,"class","copy svelte-vj0cjm"),P(s,"class","button-group svelte-vj0cjm"),P(t,"class","wrapper svelte-vj0cjm")},m(I,F){Q(I,t,F),y&&y.m(t,null),z(t,i),z(t,s),b&&b.m(s,null),z(s,r),z(s,n),z(n,o),z(o,a),se(l,a,null),z(o,c),S&&S.m(o,null),z(n,d),z(n,u),f=!0,g||(m=us(n,"click",e[11]),g=!0)},p(I,F){I[3]?y?y.p(I,F):(y=IC(I),y.c(),y.m(t,i)):y&&(y.d(1),y=null),I[3]?b?(b.p(I,F),F&8&&W(b,1)):(b=FC(I),b.c(),W(b,1),b.m(s,r)):b&&(tt(),N(b,1,1,()=>{b=null}),it()),I[2]?S?F&4&&W(S,1):(S=xC(),S.c(),W(S,1),S.m(o,null)):S&&(tt(),N(S,1,1,()=>{S=null}),it())},i(I){f||(W(b),W(l.$$.fragment,I),W(S),f=!0)},o(I){N(b),N(l.$$.fragment,I),N(S),f=!1},d(I){I&&K(t),y&&y.d(),b&&b.d(),re(l),S&&S.d(),g=!1,m()}}}function IC(e){let t,i,s,r,n,o;return{c(){t=oe("div"),i=ye(),s=oe("dialog"),r=oe("button"),P(t,"class","main qr svelte-vj0cjm"),P(r,"class","qr svelte-vj0cjm"),P(s,"class","svelte-vj0cjm")},m(a,l){Q(a,t,l),t.innerHTML=e[3],Q(a,i,l),Q(a,s,l),z(s,r),r.innerHTML=e[3],e[10](s),n||(o=[us(r,"click",e[6]),us(s,"click",f2(e[7])),us(s,"keydown",Dx(nv(e[8])),!0)],n=!0)},p(a,l){l&8&&(t.innerHTML=a[3]),l&8&&(r.innerHTML=a[3])},d(a){a&&(K(t),K(i),K(s)),e[10](null),n=!1,Bn(o)}}}function FC(e){let t,i,s,r,n,o,a;return i=new Ds({props:{name:"expand",size:"var(--space-m)"}}),{c(){t=oe("button"),ne(i.$$.fragment),s=ye(),r=oe("div"),r.innerHTML='<span class="svelte-vj0cjm">Expand</span> <span class="svelte-vj0cjm">QR code</span>',P(t,"class","expand svelte-vj0cjm")},m(l,c){Q(l,t,c),se(i,t,null),z(t,s),z(t,r),n=!0,o||(a=us(t,"click",e[5]),o=!0)},p:be,i(l){n||(W(i.$$.fragment,l),n=!0)},o(l){N(i.$$.fragment,l),n=!1},d(l){l&&K(t),re(i),o=!1,a()}}}function xC(e){let t,i,s,r;return i=new Ds({props:{name:"check",size:"var(--space-m)"}}),{c(){t=oe("div"),ne(i.$$.fragment),P(t,"class","check svelte-vj0cjm")},m(n,o){Q(n,t,o),se(i,t,null),r=!0},i(n){r||(W(i.$$.fragment,n),n&&Ma(()=>{r&&(s||(s=qb(t,wC,{duration:180,easing:vC},!0)),s.run(1))}),r=!0)},o(n){N(i.$$.fragment,n),n&&(s||(s=qb(t,wC,{duration:180,easing:vC},!1)),s.run(0)),r=!1},d(n){n&&K(t),re(i),n&&s&&s.end()}}}function IM(e){let t,i,s=e[0]&&AC(e);return{c(){s&&s.c(),t=ii()},m(r,n){s&&s.m(r,n),Q(r,t,n),i=!0},p(r,[n]){r[0]?s?(s.p(r,n),n&1&&W(s,1)):(s=AC(r),s.c(),W(s,1),s.m(t.parentNode,t)):s&&(tt(),N(s,1,1,()=>{s=null}),it())},i(r){i||(W(s),i=!0)},o(r){N(s),i=!1},d(r){r&&K(t),s&&s.d(r)}}}function FM(e,t,i){let s,{data:r=""}=t,n,o=!1,a=!1;const l=At();Fe(e,l,b=>i(3,s=b)),fc(()=>{try{l.set(RM(r))}catch(b){console.error("Error rendering QR code",b)}});const c=()=>{o?d():(o=!0,n.showModal())},d=()=>{n.close(),o=!1};function u(b){var S=n.getBoundingClientRect(),I=S.top<=b.clientY&&b.clientY<=S.top+S.height&&S.left<=b.clientX&&b.clientX<=S.left+S.width;I||d()}function f(b){b.key==="Escape"&&d()}function g(b){navigator.clipboard&&(navigator.clipboard.writeText(b),i(2,a=!0),setTimeout(()=>i(2,a=!1),1200))}function m(b){Eo[b?"unshift":"push"](()=>{n=b,i(1,n)})}const y=()=>g(r);return e.$$set=b=>{"data"in b&&i(0,r=b.data)},[r,n,a,s,l,c,d,u,f,g,m,y]}class xM extends He{constructor(t){super(),Ve(this,t,FM,IM,Be,{data:0},AM)}}function _M(e){Pt(e,"svelte-1gpx2bs",'.wrapper.svelte-1gpx2bs{position:relative;display:flex;display:grid;background-color:var(--text-area-background);border-radius:var(--border-radius-inner);overflow:hidden}textarea.svelte-1gpx2bs{--rows:9;flex:1;color:var(--text-area-text-color);background-color:var(--text-area-background);border:none;font-size:var(--fs-0);font-weight:400;line-height:1.5;resize:none;opacity:0.75;height:calc(var(--fs-0) * 1.5 * var(--rows) - var(--fs-0) * 1.5 * 0.5);border-radius:inherit;padding-inline-start:var(--space-m);padding-block-start:var(--space-m)}.wrapper.svelte-1gpx2bs::before,.wrapper.svelte-1gpx2bs::after{content:"";display:block;position:absolute;z-index:2;width:100%;height:var(--space-l);background:linear-gradient(var(--deg), transparent, black 100%)}.wrapper.svelte-1gpx2bs::before{--deg:0;top:0;opacity:var(--top-shadow-opacity, 0)}.wrapper.svelte-1gpx2bs::after{--deg:180deg;bottom:0;opacity:var(--bottom-shadow-opacity, 0)}')}function EM(e){let t,i,s,r,n;return{c(){t=oe("div"),i=oe("textarea"),i.readOnly=!0,i.value=s=e[0].content,P(i,"class","svelte-1gpx2bs"),P(t,"class","wrapper svelte-1gpx2bs")},m(o,a){Q(o,t,a),z(t,i),e[4](i),e[5](t),r||(n=us(i,"scroll",e[3]),r=!0)},p(o,[a]){a&1&&s!==(s=o[0].content)&&(i.value=s)},i:be,o:be,d(o){o&&K(t),e[4](null),e[5](null),r=!1,n()}}}let gp=.2;function MM(e,t,i){let{data:s={}}=t,r,n;function o(c){let d=c.target.scrollHeight-c.target.clientHeight,u=c.target.scrollTop/d,f=u*gp,g=(1-u)*gp;r.style.setProperty("--top-shadow-opacity",f),r.style.setProperty("--bottom-shadow-opacity",g)}fc(()=>{let c=(1-n.scrollTop/(n.scrollHeight-n.clientHeight))*gp;r.style.setProperty("--bottom-shadow-opacity",c)});function a(c){Eo[c?"unshift":"push"](()=>{n=c,i(2,n)})}function l(c){Eo[c?"unshift":"push"](()=>{r=c,i(1,r)})}return e.$$set=c=>{"data"in c&&i(0,s=c.data)},[s,r,n,o,a,l]}class kM extends He{constructor(t){super(),Ve(this,t,MM,EM,Be,{data:0},_M)}}function DM(e){Pt(e,"svelte-1kd5uy1",".prompt.svelte-1kd5uy1{display:flex;flex-direction:column;gap:var(--space-m);gap:var(--space-l)}.text.svelte-1kd5uy1{display:flex;flex-direction:column;gap:var(--space-s);text-align:center}")}function _C(e,t,i){const s=e.slice();return s[6]=t[i],s}function GM(e){var s;let t=((s=e[0])==null?void 0:s.args.title)+"",i;return{c(){i=at(t)},m(r,n){Q(r,i,n)},p(r,n){var o;n&1&&t!==(t=((o=r[0])==null?void 0:o.args.title)+"")&&pt(i,t)},d(r){r&&K(i)}}}function PM(e){var s;let t=((s=e[0])==null?void 0:s.args.body)+"",i;return{c(){i=at(t)},m(r,n){Q(r,i,n)},p(r,n){var o;n&1&&t!==(t=((o=r[0])==null?void 0:o.args.body)+"")&&pt(i,t)},d(r){r&&K(i)}}}function EC(e){let t,i,s;const r=[e[6].props];var n=e[6].component;function o(a,l){let c={};if(l!==void 0&&l&2)c=Kb(r,[Qb(a[6].props)]);else for(let d=0;d<r.length;d+=1)c=ph(c,r[d]);return{props:c}}return n&&(t=Ub(n,o(e)),t.$on("complete",e[4]),t.$on("cancel",e[5])),{c(){t&&ne(t.$$.fragment),i=ii()},m(a,l){t&&se(t,a,l),Q(a,i,l),s=!0},p(a,l){if(l&2&&n!==(n=a[6].component)){if(t){tt();const c=t;N(c.$$.fragment,1,0,()=>{re(c,1)}),it()}n?(t=Ub(n,o(a,l)),t.$on("complete",a[4]),t.$on("cancel",a[5]),ne(t.$$.fragment),W(t.$$.fragment,1),se(t,i.parentNode,i)):t=null}else if(n){const c=l&2?Kb(r,[Qb(a[6].props)]):{};t.$set(c)}},i(a){s||(t&&W(t.$$.fragment,a),s=!0)},o(a){t&&N(t.$$.fragment,a),s=!1},d(a){a&&K(i),t&&re(t,a)}}}function OM(e){let t,i,s,r,n,o,a;s=new Ln({props:{$$slots:{default:[GM]},$$scope:{ctx:e}}}),n=new ov({props:{$$slots:{default:[PM]},$$scope:{ctx:e}}});let l=Us(e[1]),c=[];for(let u=0;u<l.length;u+=1)c[u]=EC(_C(e,l,u));const d=u=>N(c[u],1,1,()=>{c[u]=null});return{c(){t=oe("div"),i=oe("div"),ne(s.$$.fragment),r=ye(),ne(n.$$.fragment),o=ye();for(let u=0;u<c.length;u+=1)c[u].c();P(i,"class","text svelte-1kd5uy1"),P(t,"class","prompt svelte-1kd5uy1")},m(u,f){Q(u,t,f),z(t,i),se(s,i,null),z(i,r),se(n,i,null),z(t,o);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(t,null);a=!0},p(u,[f]){const g={};f&513&&(g.$$scope={dirty:f,ctx:u}),s.$set(g);const m={};if(f&513&&(m.$$scope={dirty:f,ctx:u}),n.$set(m),f&10){l=Us(u[1]);let y;for(y=0;y<l.length;y+=1){const b=_C(u,l,y);c[y]?(c[y].p(b,f),W(c[y],1)):(c[y]=EC(b),c[y].c(),W(c[y],1),c[y].m(t,null))}for(tt(),y=l.length;y<c.length;y+=1)d(y);it()}},i(u){if(!a){W(s.$$.fragment,u),W(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)W(c[f]);a=!0}},o(u){N(s.$$.fragment,u),N(n.$$.fragment,u),c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)N(c[f]);a=!1},d(u){u&&K(t),re(s),re(n),hc(c,u)}}}function BM(e,t,i){let s,r;Fe(e,fo,c=>i(0,s=c));const n=Qi(fo,c=>{const d=[];return c&&c.args.elements.forEach(u=>{switch(u.type){case"accept":{d.push({component:cM,props:{data:u.data}});break}case"asset":{d.push({component:fM,props:{data:u.data}});break}case"close":{d.push({component:vM,props:{label:u.label}});break}case"link":{d.push({component:k2,props:{data:u.data}});break}case"qr":{d.push({component:xM,props:{data:u.data}});break}case"countdown":{d.push({component:hu,props:{data:u.data}});break}case"textarea":{d.push({component:kM,props:{data:u.data}});break}case"button":{d.push({component:bh,props:{data:u.data}});break}default:throw new Error(`Unknown element type: ${u.type}`)}}),d});Fe(e,n,c=>i(1,r=c));const o=vr();return[s,r,n,o,()=>o("complete"),()=>o("cancel")]}class WM extends He{constructor(t){super(),Ve(this,t,BM,OM,Be,{},DM)}}var MC="1.4.0-rc6";function TM(e){Pt(e,"svelte-tj2pg7","div.svelte-tj2pg7{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-m)}svg.svelte-tj2pg7{height:auto;width:100%;max-width:200px}")}function LM(e){let t,i,s,r,n,o,a,l,c,d,u,f,g;return{c(){t=Oe("svg"),i=Oe("path"),s=Oe("path"),r=Oe("path"),n=Oe("path"),o=Oe("path"),a=Oe("path"),l=Oe("path"),c=Oe("path"),d=Oe("path"),u=Oe("path"),f=Oe("path"),g=Oe("path"),P(i,"d","M273.403 84.085C273.403 83.4185 272.851 82.8783 272.171 82.8783H265.007C264.327 82.8783 263.775 83.4185 263.775 84.085V106.927C263.775 110.163 263.082 112.365 261.908 113.745C260.77 115.083 259.014 115.841 256.4 115.841C253.723 115.841 251.923 115.078 250.76 113.737C249.564 112.357 248.859 110.158 248.859 106.927V96.1519C248.859 95.4854 248.307 94.9452 247.627 94.9452H240.408C239.727 94.9452 239.175 95.4854 239.175 96.1519V106.927C239.175 110.16 238.474 112.36 237.286 113.74C236.131 115.08 234.345 115.841 231.689 115.841C229.131 115.841 227.36 115.114 226.172 113.816C225.018 112.514 224.315 110.304 224.315 106.927V84.085C224.315 83.4185 223.763 82.8783 223.082 82.8783H215.863C215.183 82.8783 214.631 83.4185 214.631 84.085V107.148C214.631 112.616 216.054 116.982 219.088 120.045C222.122 123.107 226.385 124.559 231.689 124.559C234.557 124.559 237.131 124.116 239.384 123.194L239.394 123.19C241.185 122.439 242.729 121.465 244.007 120.261C245.263 121.467 246.796 122.44 248.585 123.19L248.609 123.2C250.927 124.115 253.531 124.559 256.4 124.559C261.699 124.559 265.947 123.129 268.946 120.1C271.982 117.036 273.403 112.65 273.403 107.148V84.085Z"),P(i,"fill","#494E62"),P(s,"d","M326.457 84.085C326.457 83.4185 325.905 82.8783 325.224 82.8783H318.005C317.325 82.8783 316.773 83.4185 316.773 84.085V98.8619H299.136V84.085C299.136 83.4185 298.584 82.8783 297.904 82.8783H290.685C290.004 82.8783 289.452 83.4185 289.452 84.085V122.8C289.452 123.466 290.004 124.006 290.685 124.006H297.904C298.584 124.006 299.136 123.466 299.136 122.8V107.414H316.773V122.8C316.773 123.466 317.325 124.006 318.005 124.006H325.224C325.905 124.006 326.457 123.466 326.457 122.8V84.085Z"),P(s,"fill","#494E62"),P(r,"fill-rule","evenodd"),P(r,"clip-rule","evenodd"),P(r,"d","M378.176 124.006C378.857 124.006 379.408 123.466 379.408 122.8V101.341C379.408 97.4001 378.66 93.9713 377.103 91.1039C375.588 88.2098 373.417 86.0002 370.597 84.5155C367.796 83.0409 364.552 82.3252 360.906 82.3252C357.26 82.3252 354.016 83.0409 351.215 84.5155C348.395 86.0002 346.206 88.2088 344.655 91.1009L344.652 91.1063C343.133 93.9728 342.404 97.4004 342.404 101.341V122.8C342.404 123.466 342.955 124.006 343.636 124.006H350.744C351.425 124.006 351.977 123.466 351.977 122.8V114.051H369.724V122.8C369.724 123.466 370.276 124.006 370.957 124.006H378.176ZM367.395 93.4304L367.404 93.4391C368.88 94.9405 369.724 97.2793 369.724 100.677V105.609H351.977V100.677C351.977 97.2793 352.821 94.9405 354.297 93.4392L354.306 93.4303C355.798 91.882 357.923 91.0435 360.85 91.0435C363.778 91.0435 365.903 91.882 367.395 93.4304Z"),P(r,"fill","#494E62"),P(n,"fill-rule","evenodd"),P(n,"clip-rule","evenodd"),P(n,"d","M421.019 123.482C421.249 123.81 421.63 124.006 422.036 124.006H429.81C430.268 124.006 430.688 123.758 430.901 123.361C431.114 122.964 431.085 122.485 430.826 122.116L422.723 110.587C424.933 109.494 426.707 107.983 428.005 106.045C429.603 103.717 430.376 100.969 430.376 97.8563C430.376 94.8268 429.663 92.1432 428.187 89.8559C426.712 87.5705 424.59 85.837 421.877 84.6445C419.204 83.4531 416.099 82.8783 412.596 82.8783H396.603C395.923 82.8783 395.371 83.4185 395.371 84.085V122.8C395.371 123.466 395.923 124.006 396.603 124.006H403.822C404.503 124.006 405.055 123.466 405.055 122.8V112.724H412.596C412.917 112.724 413.212 112.72 413.475 112.711L421.019 123.482ZM418.638 93.0871C419.931 94.1409 420.637 95.6687 420.637 97.8563C420.637 100.039 419.933 101.592 418.631 102.686C417.309 103.76 415.252 104.393 412.263 104.393H405.055V91.3754H412.263C415.256 91.3754 417.315 92.0098 418.638 93.0871Z"),P(n,"fill","#494E62"),P(o,"d","M453.668 122.8V109.184H469.372C470.053 109.184 470.605 108.644 470.605 107.977V101.894C470.605 101.227 470.053 100.687 469.372 100.687H453.668V98.5753C453.668 95.9375 454.441 94.1359 455.807 92.9529C457.199 91.7469 459.374 91.0435 462.542 91.0435C465.829 91.0435 468.452 91.7903 470.494 93.201C470.805 93.416 471.2 93.478 471.565 93.3691C471.929 93.2601 472.221 92.9924 472.357 92.6438L474.634 86.7813C474.839 86.251 474.64 85.6517 474.155 85.3418C472.582 84.3375 470.769 83.5885 468.732 83.0814C466.697 82.5746 464.521 82.3252 462.209 82.3252C456.701 82.3252 452.209 83.729 448.887 86.6749C445.583 89.6004 443.984 93.6202 443.984 98.5753V122.8C443.984 123.466 444.536 124.006 445.217 124.006H452.436C453.116 124.006 453.668 123.466 453.668 122.8Z"),P(o,"fill","#494E62"),P(a,"d","M177.58 117.515C177.507 121.507 174.869 124.279 172.268 125.782L166.67 129.016C163.999 130.559 160.875 131.159 158.077 131.159C155.278 131.159 152.155 130.559 149.485 129.016L143.994 125.782V136.762C143.994 140.829 141.316 143.664 138.68 145.188L133.083 148.422C130.411 149.965 127.288 150.565 124.489 150.565C121.69 150.565 118.567 149.965 115.897 148.422L107.695 143.683L99.495 148.422C96.8235 149.965 93.7002 150.565 90.9014 150.565C88.1027 150.565 84.9808 149.965 82.3093 148.422L43.1243 125.782C40.523 124.279 37.8851 121.507 37.812 117.515L37.8105 117.269V131.648L37.812 131.895C37.8851 135.886 40.523 138.659 43.1243 140.161L82.3093 162.801C84.9808 164.344 88.1027 164.944 90.9014 164.944C93.7002 164.944 96.8235 164.344 99.495 162.801L107.695 158.063L115.897 162.801C118.567 164.344 121.69 164.944 124.489 164.944C127.288 164.944 130.411 164.344 133.083 162.801L138.68 159.567C141.316 158.044 143.994 155.209 143.994 151.142V140.161L149.485 143.396C152.155 144.939 155.278 145.538 158.077 145.538C160.875 145.538 163.999 144.939 166.67 143.396L172.268 140.161C174.869 138.659 177.507 135.886 177.58 131.895L177.58 117.515Z"),P(a,"fill","#F4FAF4"),P(l,"d","M37.8456 103.768C37.8224 103.982 37.8105 104.199 37.8105 104.419V117.268L37.812 117.515C37.8851 121.507 40.523 124.279 43.1243 125.782L82.3093 148.422C84.9808 149.964 88.1027 150.564 90.9014 150.564C93.7002 150.564 96.8235 149.964 99.495 148.422L107.695 143.683L115.897 148.422C118.567 149.964 121.69 150.564 124.489 150.564C127.288 150.564 130.411 149.964 133.083 148.422L138.68 145.187C141.316 143.664 143.994 140.829 143.994 136.762V125.782L149.484 129.016C152.155 130.559 155.278 131.159 158.077 131.159C160.875 131.159 163.999 130.559 166.67 129.016L172.268 125.782C174.869 124.279 177.507 121.507 177.58 117.515V103.136C177.506 107.127 174.869 109.899 172.268 111.402L166.67 114.636C163.999 116.179 160.875 116.779 158.077 116.779C155.278 116.779 152.155 116.179 149.484 114.636L143.887 111.402C143.797 111.35 143.707 111.296 143.617 111.241C143.86 112.035 143.997 112.892 143.997 113.813C143.997 114.082 143.985 114.346 143.962 114.604C143.983 114.807 143.994 115.012 143.994 115.219V122.382C143.994 126.449 141.316 129.284 138.68 130.808L133.083 134.042C130.411 135.585 127.288 136.184 124.489 136.184C121.69 136.184 118.567 135.585 115.897 134.042L107.695 129.303L99.495 134.042C96.8235 135.585 93.7002 136.184 90.9014 136.184C88.1027 136.184 84.9808 135.585 82.3093 134.042L43.1243 111.402C40.6627 109.98 38.1684 107.421 37.8456 103.768Z"),P(l,"fill","#B2F2E1"),P(c,"d","M105.024 64.9883C105.03 65.0464 105.036 65.1046 105.043 65.1627C105.324 67.5849 106.527 69.4925 108.024 70.9048C107.915 70.903 107.807 70.9021 107.699 70.9021C106.824 70.9021 105.918 70.9607 105.003 71.0884V65.4957C105.003 65.3248 105.01 65.1556 105.024 64.9883Z"),P(c,"fill","#B2F2E1"),P(d,"d","M48.7253 82.7478L43.1274 85.9821C40.6334 87.423 38.1038 90.037 37.837 93.7573C37.8195 93.932 37.8105 94.1145 37.8105 94.3053V102.889L37.812 103.135C37.8851 107.127 40.523 109.899 43.1243 111.402L82.3093 134.042C84.9808 135.585 88.1027 136.185 90.9014 136.185C93.7001 136.185 96.8235 135.585 99.495 134.042L107.695 129.304L115.897 134.042C118.567 135.585 121.69 136.185 124.489 136.185C127.288 136.185 130.411 135.585 133.083 134.042L138.68 130.808C141.316 129.284 143.994 126.45 143.994 122.382V115.219C143.994 115.012 143.983 114.807 143.962 114.605C143.985 114.346 143.997 114.082 143.997 113.813C143.997 112.892 143.86 112.035 143.617 111.241C143.707 111.296 143.797 111.35 143.887 111.402L149.484 114.636C152.155 116.179 155.278 116.779 158.077 116.779C160.875 116.779 163.999 116.179 166.67 114.636L172.268 111.402C174.869 109.899 177.507 107.127 177.58 103.135V94.6923C177.583 94.5981 177.584 94.5031 177.584 94.4075C177.584 94.3119 177.583 94.217 177.58 94.1228L177.581 75.2371C177.583 75.1592 177.584 75.0808 177.584 75.0019C177.584 70.9348 174.908 68.0999 172.271 66.5765L133.085 43.9366C130.415 42.3936 127.292 41.7939 124.493 41.7939C121.694 41.7939 118.571 42.3936 115.9 43.9366L110.303 47.1708C107.666 48.6943 104.989 51.5291 104.989 55.5963C104.989 55.788 104.995 55.9769 105.006 56.1631C105.004 56.2285 105.003 56.2944 105.003 56.3609V63.611C104.984 63.8988 104.981 64.1871 104.992 64.4752C104.999 64.7047 105.016 64.9341 105.043 65.163C105.324 67.5851 106.527 69.4928 108.024 70.9051C107.915 70.9033 107.807 70.9024 107.699 70.9024C104.9 70.9024 101.777 71.5021 99.1067 73.045L93.5087 76.2793C90.8719 77.8027 88.1951 80.6376 88.1951 84.7047C88.1951 84.9692 88.2065 85.2285 88.2284 85.4826C88.2236 85.5807 88.2212 85.6793 88.2212 85.7785V92.5656L88.2109 92.7314L88.2007 92.9128C88.1934 93.0894 88.1919 93.2661 88.1948 93.4428C88.2007 93.8112 88.2314 94.1794 88.2855 94.5454C88.3525 94.997 88.4513 95.4299 88.5777 95.8443L65.9101 82.7478C63.2396 81.2049 60.1164 80.6052 57.3177 80.6052C54.519 80.6052 51.3958 81.2049 48.7253 82.7478Z"),P(d,"fill","#7BE7CE"),P(u,"d","M130.088 49.1268C126.997 47.3406 121.984 47.3405 118.893 49.1268L113.295 52.3611C110.203 54.1473 110.203 57.0434 113.295 58.8296L151.801 81.0771C153.286 81.9349 154.12 83.0983 154.12 84.3114V85.0962C154.12 86.3092 153.286 87.4726 151.801 88.3304L146.882 91.1723C143.791 92.9586 143.791 95.8546 146.882 97.6409L152.48 100.875C155.572 102.661 160.584 102.661 163.676 100.875L169.274 97.6409C172.366 95.8546 172.366 92.9586 169.274 91.1723L164.355 88.3304C162.87 87.4726 162.036 86.3092 162.036 85.0962V84.3114C162.036 83.0983 162.87 81.9349 164.355 81.0771L169.274 78.2352C172.366 76.449 172.366 73.5529 169.274 71.7667L130.088 49.1268Z"),P(u,"fill","#494E62"),P(f,"d","M62.9133 87.938C59.8216 86.1518 54.8091 86.1518 51.7174 87.938L46.1195 91.1723C43.0279 92.9585 43.0279 95.8546 46.1195 97.6408L85.305 120.281C88.3967 122.067 93.4092 122.067 96.5009 120.281L107.697 113.812L62.9133 87.938Z"),P(f,"fill","#494E62"),P(g,"d","M128.449 104.502C128.449 105.715 129.283 106.878 130.768 107.736L135.686 110.578C138.778 112.364 138.778 115.26 135.686 117.046L130.088 120.281C126.997 122.067 121.984 122.067 118.893 120.281L107.697 113.812L118.213 107.736C119.698 106.878 120.532 105.715 120.532 104.502L120.532 103.717C120.532 102.504 119.698 101.341 118.213 100.483L96.5009 87.938C93.4092 86.1518 93.4092 83.2557 96.5009 81.4695L102.099 78.2352C105.19 76.449 110.203 76.449 113.295 78.2352L135.686 91.1723C138.778 92.9585 138.778 95.8546 135.686 97.6409L130.768 100.483C129.283 101.341 128.449 102.504 128.449 103.717L128.449 104.502Z"),P(g,"fill","#494E62"),P(t,"width","512"),P(t,"height","206"),P(t,"viewBox","0 0 512 206"),P(t,"fill","none"),P(t,"xmlns","http://www.w3.org/2000/svg"),P(t,"class","svelte-tj2pg7")},m(m,y){Q(m,t,y),z(t,i),z(t,s),z(t,r),z(t,n),z(t,o),z(t,a),z(t,l),z(t,c),z(t,d),z(t,u),z(t,f),z(t,g)},d(m){m&&K(t)}}}function NM(e){let t,i,s,r,n,o,a,l,c,d,u,f,g;return{c(){t=Oe("svg"),i=Oe("path"),s=Oe("path"),r=Oe("path"),n=Oe("path"),o=Oe("path"),a=Oe("path"),l=Oe("path"),c=Oe("path"),d=Oe("path"),u=Oe("path"),f=Oe("path"),g=Oe("path"),P(i,"d","M273.61 84.1001C273.61 83.4342 273.058 82.8944 272.378 82.8944H265.214C264.534 82.8944 263.982 83.4342 263.982 84.1001V106.924C263.982 110.157 263.289 112.358 262.115 113.737C260.978 115.074 259.221 115.831 256.607 115.831C253.93 115.831 252.13 115.069 250.967 113.728C249.771 112.35 249.066 110.153 249.066 106.924V96.1574C249.066 95.4915 248.514 94.9517 247.834 94.9517H240.615C239.934 94.9517 239.382 95.4915 239.382 96.1574V106.924C239.382 110.154 238.681 112.352 237.493 113.731C236.338 115.07 234.552 115.831 231.897 115.831C229.338 115.831 227.567 115.104 226.379 113.807C225.225 112.507 224.522 110.299 224.522 106.924V84.1001C224.522 83.4342 223.97 82.8944 223.289 82.8944H216.071C215.39 82.8944 214.838 83.4342 214.838 84.1001V107.145C214.838 112.609 216.261 116.971 219.295 120.031C222.329 123.091 226.593 124.542 231.897 124.542C234.764 124.542 237.338 124.099 239.591 123.178L239.601 123.174C241.392 122.423 242.936 121.451 244.214 120.248C245.47 121.452 247.003 122.424 248.792 123.174L248.816 123.184C251.134 124.098 253.738 124.542 256.607 124.542C261.906 124.542 266.154 123.113 269.153 120.086C272.189 117.025 273.61 112.643 273.61 107.145V84.1001Z"),P(i,"fill","white"),P(s,"d","M326.664 84.1001C326.664 83.4342 326.112 82.8944 325.431 82.8944H318.212C317.532 82.8944 316.98 83.4342 316.98 84.1001V98.8652H299.343V84.1001C299.343 83.4342 298.791 82.8944 298.111 82.8944H290.892C290.211 82.8944 289.659 83.4342 289.659 84.1001V122.784C289.659 123.45 290.211 123.99 290.892 123.99H298.111C298.791 123.99 299.343 123.45 299.343 122.784V107.411H316.98V122.784C316.98 123.45 317.532 123.99 318.212 123.99H325.431C326.112 123.99 326.664 123.45 326.664 122.784V84.1001Z"),P(s,"fill","white"),P(r,"fill-rule","evenodd"),P(r,"clip-rule","evenodd"),P(r,"d","M378.383 123.99C379.064 123.99 379.615 123.45 379.615 122.784V101.342C379.615 97.4046 378.867 93.9786 377.31 91.1134C375.795 88.2217 373.624 86.0139 370.804 84.5303C368.003 83.0569 364.759 82.3418 361.113 82.3418C357.467 82.3418 354.223 83.0569 351.422 84.5303C348.602 86.0138 346.413 88.2207 344.862 91.1105L344.859 91.1159C343.34 93.9801 342.611 97.4049 342.611 101.342V122.784C342.611 123.45 343.162 123.99 343.843 123.99H350.951C351.632 123.99 352.184 123.45 352.184 122.784V114.042H369.931V122.784C369.931 123.45 370.483 123.99 371.164 123.99H378.383ZM367.602 93.4381L367.611 93.4468C369.087 94.947 369.931 97.284 369.931 100.679V105.607H352.184V100.679C352.184 97.284 353.028 94.947 354.504 93.4469L354.513 93.438C356.005 91.891 358.13 91.0532 361.057 91.0532C363.985 91.0532 366.11 91.891 367.602 93.4381Z"),P(r,"fill","white"),P(n,"fill-rule","evenodd"),P(n,"clip-rule","evenodd"),P(n,"d","M421.226 123.466C421.456 123.794 421.837 123.99 422.243 123.99H430.017C430.475 123.99 430.895 123.741 431.108 123.345C431.321 122.949 431.292 122.469 431.033 122.1L422.93 110.581C425.14 109.488 426.914 107.979 428.212 106.043C429.81 103.717 430.583 100.971 430.583 97.8605C430.583 94.8334 429.87 92.152 428.394 89.8665C426.919 87.5829 424.797 85.8508 422.084 84.6593C419.411 83.4688 416.306 82.8944 412.803 82.8944H396.81C396.13 82.8944 395.578 83.4342 395.578 84.1001V122.784C395.578 123.45 396.13 123.99 396.81 123.99H404.029C404.71 123.99 405.262 123.45 405.262 122.784V112.716H412.803C413.124 112.716 413.419 112.712 413.682 112.703L421.226 123.466ZM418.845 93.0951C420.138 94.1481 420.844 95.6746 420.844 97.8605C420.844 100.042 420.14 101.594 418.838 102.686C417.516 103.76 415.459 104.391 412.47 104.391H405.262V91.3847H412.47C415.463 91.3847 417.522 92.0186 418.845 93.0951Z"),P(n,"fill","white"),P(o,"d","M453.875 122.784V109.179H469.579C470.26 109.179 470.812 108.639 470.812 107.973V101.895C470.812 101.229 470.26 100.689 469.579 100.689H453.875V98.5789C453.875 95.9432 454.648 94.1431 456.014 92.961C457.406 91.7559 459.581 91.0532 462.749 91.0532C466.036 91.0532 468.659 91.7993 470.701 93.2089C471.012 93.4237 471.408 93.4857 471.772 93.3768C472.136 93.268 472.428 93.0005 472.564 92.6522L474.841 86.7944C475.046 86.2644 474.847 85.6657 474.362 85.356C472.789 84.3525 470.976 83.6041 468.939 83.0974C466.904 82.5911 464.728 82.3418 462.416 82.3418C456.908 82.3418 452.417 83.7445 449.094 86.688C445.79 89.6112 444.191 93.6277 444.191 98.5789V122.784C444.191 123.45 444.743 123.99 445.424 123.99H452.643C453.323 123.99 453.875 123.45 453.875 122.784Z"),P(o,"fill","white"),P(a,"d","M177.787 117.503C177.714 121.492 175.076 124.262 172.475 125.763L166.877 128.995C164.206 130.537 161.082 131.136 158.284 131.136C155.485 131.136 152.362 130.537 149.692 128.995L144.201 125.763V136.735C144.201 140.799 141.523 143.631 138.887 145.154L133.29 148.385C130.618 149.927 127.495 150.526 124.696 150.526C121.897 150.526 118.774 149.927 116.104 148.385L107.902 143.651L99.702 148.385C97.0305 149.927 93.9072 150.526 91.1085 150.526C88.3098 150.526 85.1879 149.927 82.5164 148.385L43.3313 125.763C40.73 124.262 38.0922 121.492 38.019 117.503L38.0176 117.257V131.625L38.019 131.871C38.0922 135.86 40.73 138.63 43.3313 140.131L82.5164 162.753C85.1879 164.295 88.3098 164.894 91.1085 164.894C93.9072 164.894 97.0305 164.295 99.702 162.753L107.902 158.018L116.104 162.753C118.774 164.295 121.897 164.894 124.696 164.894C127.495 164.894 130.618 164.295 133.29 162.753L138.887 159.521C141.523 157.999 144.201 155.167 144.201 151.103V140.131L149.692 143.363C152.362 144.905 155.485 145.504 158.284 145.504C161.082 145.504 164.206 144.905 166.877 143.363L172.475 140.131C175.076 138.63 177.714 135.86 177.787 131.871L177.787 117.503Z"),P(a,"fill","#7BE7CE"),P(l,"d","M38.0526 103.767C38.0295 103.981 38.0176 104.198 38.0176 104.418V117.257L38.019 117.503C38.0922 121.492 40.73 124.262 43.3313 125.763L82.5164 148.385C85.1879 149.927 88.3097 150.526 91.1085 150.526C93.9072 150.526 97.0305 149.927 99.702 148.385L107.902 143.65L116.104 148.385C118.774 149.927 121.897 150.526 124.696 150.526C127.495 150.526 130.618 149.927 133.29 148.385L138.887 145.153C141.523 143.631 144.201 140.799 144.201 136.735V125.763L149.692 128.995C152.362 130.537 155.485 131.136 158.284 131.136C161.082 131.136 164.206 130.537 166.877 128.995L172.475 125.763C175.076 124.262 177.714 121.492 177.787 117.503V103.136C177.714 107.124 175.076 109.893 172.475 111.395L166.877 114.627C164.206 116.168 161.082 116.768 158.284 116.768C155.485 116.768 152.362 116.168 149.692 114.627L144.094 111.395C144.004 111.343 143.914 111.289 143.824 111.234C144.067 112.027 144.204 112.884 144.204 113.804C144.204 114.073 144.192 114.337 144.169 114.595C144.19 114.797 144.201 115.002 144.201 115.209V122.366C144.201 126.43 141.523 129.263 138.887 130.785L133.29 134.017C130.618 135.558 127.495 136.158 124.696 136.158C121.897 136.158 118.774 135.558 116.104 134.017L107.902 129.282L99.702 134.017C97.0305 135.558 93.9072 136.158 91.1085 136.158C88.3097 136.158 85.1879 135.558 82.5164 134.017L43.3313 111.395C40.8698 109.974 38.3755 107.417 38.0526 103.767Z"),P(l,"fill","#B2F2E1"),P(c,"d","M105.231 65.0186C105.237 65.0767 105.243 65.1348 105.25 65.1928C105.531 67.6131 106.734 69.5192 108.231 70.9303C108.122 70.9285 108.014 70.9276 107.906 70.9276C107.031 70.9276 106.125 70.9862 105.21 71.1138V65.5255C105.21 65.3548 105.217 65.1857 105.231 65.0186Z"),P(c,"fill","#B2F2E1"),P(d,"d","M48.9324 82.7639L43.3344 85.9955C40.8405 87.4353 38.3108 90.0472 38.044 93.7645C38.0265 93.939 38.0176 94.1214 38.0176 94.312V102.889L38.019 103.135C38.0922 107.124 40.73 109.894 43.3313 111.395L82.5164 134.017C85.1879 135.559 88.3097 136.158 91.1085 136.158C93.9072 136.158 97.0305 135.559 99.702 134.017L107.902 129.282L116.104 134.017C118.774 135.559 121.897 136.158 124.696 136.158C127.495 136.158 130.618 135.559 133.29 134.017L138.887 130.785C141.523 129.263 144.201 126.431 144.201 122.367V115.209C144.201 115.003 144.19 114.798 144.169 114.595C144.192 114.337 144.204 114.073 144.204 113.804C144.204 112.884 144.067 112.027 143.824 111.235C143.914 111.29 144.004 111.343 144.094 111.395L149.692 114.627C152.362 116.169 155.485 116.768 158.284 116.768C161.082 116.768 164.206 116.169 166.877 114.627L172.475 111.395C175.076 109.894 177.714 107.124 177.787 103.135V94.6988C177.79 94.6046 177.791 94.5098 177.791 94.4142C177.791 94.3187 177.79 94.2239 177.787 94.1297L177.788 75.2591C177.79 75.1813 177.791 75.103 177.791 75.0242C177.791 70.9603 175.115 68.1277 172.478 66.6055L133.292 43.9837C130.622 42.442 127.499 41.8428 124.7 41.8428C121.901 41.8428 118.778 42.442 116.107 43.9837L110.51 47.2154C107.873 48.7376 105.196 51.5702 105.196 55.6341C105.196 55.8256 105.202 56.0144 105.214 56.2005C105.211 56.2658 105.21 56.3317 105.21 56.3981V63.6424C105.191 63.9299 105.188 64.218 105.199 64.5058C105.206 64.7352 105.223 64.9644 105.25 65.1931C105.531 67.6133 106.734 69.5194 108.231 70.9306C108.122 70.9288 108.014 70.9279 107.906 70.9279C105.107 70.9279 101.984 71.5271 99.3137 73.0688L93.7158 76.3005C91.0789 77.8227 88.4022 80.6553 88.4022 84.7192C88.4022 84.9835 88.4135 85.2426 88.4354 85.4964C88.4306 85.5945 88.4282 85.693 88.4282 85.7922V92.5738L88.4179 92.7394L88.4077 92.9207C88.4004 93.0971 88.3989 93.2737 88.4019 93.4503C88.4077 93.8184 88.4384 94.1863 88.4925 94.552C88.5595 95.0033 88.6583 95.4358 88.7848 95.8499L66.1171 82.7639C63.4466 81.2222 60.3234 80.623 57.5247 80.623C54.726 80.623 51.6029 81.2222 48.9324 82.7639Z"),P(d,"fill","#F4FAF4"),P(u,"d","M130.295 49.1697C127.204 47.3849 122.191 47.3849 119.1 49.1697L113.502 52.4013C110.41 54.1862 110.41 57.0799 113.502 58.8647L152.008 81.0944C153.493 81.9515 154.327 83.114 154.327 84.3261V85.1102C154.327 86.3223 153.493 87.4848 152.008 88.3419L147.089 91.1815C143.998 92.9663 143.998 95.8601 147.089 97.6449L152.687 100.877C155.779 102.661 160.791 102.661 163.883 100.877L169.481 97.6449C172.573 95.8601 172.573 92.9663 169.481 91.1815L164.562 88.3419C163.077 87.4848 162.243 86.3224 162.243 85.1102V84.3261C162.243 83.114 163.077 81.9515 164.562 81.0944L169.481 78.2548C172.573 76.47 172.573 73.5762 169.481 71.7914L130.295 49.1697Z"),P(u,"fill","#494E62"),P(f,"d","M63.1203 87.9498C60.0287 86.165 55.0161 86.165 51.9245 87.9498L46.3265 91.1815C43.2349 92.9663 43.2349 95.8601 46.3265 97.6449L85.512 120.267C88.6037 122.051 93.6162 122.051 96.7079 120.267L107.904 113.803L63.1203 87.9498Z"),P(f,"fill","#494E62"),P(g,"d","M128.656 104.5C128.656 105.712 129.49 106.875 130.975 107.732L135.893 110.572C138.985 112.356 138.985 115.25 135.893 117.035L130.295 120.267C127.204 122.051 122.191 122.051 119.1 120.267L107.904 113.803L118.42 107.732C119.905 106.875 120.739 105.712 120.739 104.5L120.739 103.716C120.739 102.504 119.905 101.342 118.42 100.485L96.7079 87.9498C93.6162 86.165 93.6162 83.2713 96.7079 81.4865L102.306 78.2548C105.397 76.47 110.41 76.47 113.502 78.2548L135.893 91.1815C138.985 92.9663 138.985 95.8601 135.893 97.6449L130.975 100.485C129.49 101.342 128.656 102.504 128.656 103.716L128.656 104.5Z"),P(g,"fill","#494E62"),P(t,"width","513"),P(t,"height","206"),P(t,"viewBox","0 0 513 206"),P(t,"fill","none"),P(t,"xmlns","http://www.w3.org/2000/svg"),P(t,"class","svelte-tj2pg7")},m(m,y){Q(m,t,y),z(t,i),z(t,s),z(t,r),z(t,n),z(t,o),z(t,a),z(t,l),z(t,c),z(t,d),z(t,u),z(t,f),z(t,g)},d(m){m&&K(t)}}}function VM(e){let t=e[1]("settings.about.version",{version:MC})+"",i;return{c(){i=at(t)},m(s,r){Q(s,i,r)},p(s,r){r&2&&t!==(t=s[1]("settings.about.version",{version:MC})+"")&&pt(i,t)},d(s){s&&K(i)}}}function HM(e){let t=e[1]("settings.about.author")+"",i;return{c(){i=at(t)},m(s,r){Q(s,i,r)},p(s,r){r&2&&t!==(t=s[1]("settings.about.author")+"")&&pt(i,t)},d(s){s&&K(i)}}}function ZM(e){let t,i,s,r,n,o,a,l;function c(f,g){return f[0]==="dark"?NM:LM}let d=c(e),u=d(e);return s=new Ln({props:{$$slots:{default:[VM]},$$scope:{ctx:e}}}),n=new ov({props:{$$slots:{default:[HM]},$$scope:{ctx:e}}}),a=new k2({props:{data:{button:!0,variant:"primary",label:e[1]("settings.about.link"),href:"https://wharfkit.com",target:"_blank"}}}),{c(){t=oe("div"),u.c(),i=ye(),ne(s.$$.fragment),r=ye(),ne(n.$$.fragment),o=ye(),ne(a.$$.fragment),P(t,"class","svelte-tj2pg7")},m(f,g){Q(f,t,g),u.m(t,null),z(t,i),se(s,t,null),z(t,r),se(n,t,null),z(t,o),se(a,t,null),l=!0},p(f,[g]){d!==(d=c(f))&&(u.d(1),u=d(f),u&&(u.c(),u.m(t,i)));const m={};g&10&&(m.$$scope={dirty:g,ctx:f}),s.$set(m);const y={};g&10&&(y.$$scope={dirty:g,ctx:f}),n.$set(y);const b={};g&2&&(b.data={button:!0,variant:"primary",label:f[1]("settings.about.link"),href:"https://wharfkit.com",target:"_blank"}),a.$set(b)},i(f){l||(W(s.$$.fragment,f),W(n.$$.fragment,f),W(a.$$.fragment,f),l=!0)},o(f){N(s.$$.fragment,f),N(n.$$.fragment,f),N(a.$$.fragment,f),l=!1},d(f){f&&K(t),u.d(),re(s),re(n),re(a)}}}function YM(e,t,i){let s,r;const{t:n}=Tn("i18n");return Fe(e,n,o=>i(1,r=o)),i(0,{theme:s}=Lt(Vs),s),[s,r,n]}class zM extends He{constructor(t){super(),Ve(this,t,YM,ZM,Be,{},TM)}}var jM="English",XM="",JM="",UM="Trke",_r={en:jM,ko:XM,zh:JM,"zh-Hans":"","zh-Hant":"",tr:UM};function qM(e){Pt(e,"svelte-yv3ifw","label.svelte-yv3ifw{flex:1;height:100%;display:flex;align-items:center;justify-content:space-between;cursor:pointer;padding-inline:var(--space-s)}")}function kC(e){let t,i,s;return i=new Ds({props:{name:"check"}}),{c(){t=oe("div"),ne(i.$$.fragment),P(t,"class","trailing")},m(r,n){Q(r,t,n),se(i,t,null),s=!0},i(r){s||(W(i.$$.fragment,r),s=!0)},o(r){N(i.$$.fragment,r),s=!1},d(r){r&&K(t),re(i)}}}function KM(e){let t,i,s,r,n,o,a,l,c=e[2]&&kC();return{c(){t=oe("input"),i=ye(),s=at(e[6]),r=ye(),c&&c.c(),n=ii(),P(t,"type","radio"),P(t,"name",e[0]),t.value=e[1],t.checked=e[2],t.hidden=e[5],P(t,"group",e[3])},m(d,u){Q(d,t,u),Q(d,i,u),Q(d,s,u),Q(d,r,u),c&&c.m(d,u),Q(d,n,u),o=!0,a||(l=us(t,"change",function(){Wn(e[4])&&e[4].apply(this,arguments)}),a=!0)},p(d,u){e=d,(!o||u&1)&&P(t,"name",e[0]),(!o||u&2)&&(t.value=e[1]),(!o||u&4)&&(t.checked=e[2]),(!o||u&32)&&(t.hidden=e[5]),(!o||u&8)&&P(t,"group",e[3]),(!o||u&64)&&pt(s,e[6]),e[2]?c?u&4&&W(c,1):(c=kC(),c.c(),W(c,1),c.m(n.parentNode,n)):c&&(tt(),N(c,1,1,()=>{c=null}),it())},i(d){o||(W(c),o=!0)},o(d){N(c),o=!1},d(d){d&&(K(t),K(i),K(s),K(r),K(n)),c&&c.d(d),a=!1,l()}}}function QM(e){let t,i;const s=e[8].default,r=Ws(s,e,e[7],null),n=r||KM(e);return{c(){t=oe("label"),n&&n.c(),P(t,"class","svelte-yv3ifw")},m(o,a){Q(o,t,a),n&&n.m(t,null),i=!0},p(o,[a]){r?r.p&&(!i||a&128)&&Ls(r,s,o,o[7],i?Ts(s,o[7],a,null):Ns(o[7]),null):n&&n.p&&(!i||a&127)&&n.p(o,i?a:-1)},i(o){i||(W(n,o),i=!0)},o(o){N(n,o),i=!1},d(o){o&&K(t),n&&n.d(o)}}}function $M(e,t,i){let{$$slots:s={},$$scope:r}=t,{name:n}=t,{value:o}=t,{checked:a}=t,{group:l}=t,{onChange:c}=t,{hidden:d}=t,{label:u}=t;return e.$$set=f=>{"name"in f&&i(0,n=f.name),"value"in f&&i(1,o=f.value),"checked"in f&&i(2,a=f.checked),"group"in f&&i(3,l=f.group),"onChange"in f&&i(4,c=f.onChange),"hidden"in f&&i(5,d=f.hidden),"label"in f&&i(6,u=f.label),"$$scope"in f&&i(7,r=f.$$scope)},[n,o,a,l,c,d,u,r,s]}class ek extends He{constructor(t){super(),Ve(this,t,$M,QM,Be,{name:0,value:1,checked:2,group:3,onChange:4,hidden:5,label:6},qM)}}function DC(e,t,i){const s=e.slice();return s[6]=t[i],s}function tk(e){let t,i,s,r;function n(){return e[4](e[6])}function o(l){e[5](l)}let a={label:e[6].label,name:e[0],value:e[6].value,checked:e[3][e[0]]===e[6].value,onChange:n,hidden:!0};return e[3][e[0]]!==void 0&&(a.group=e[3][e[0]]),t=new ek({props:a}),Eo.push(()=>C2(t,"group",o)),{c(){ne(t.$$.fragment),s=ye()},m(l,c){se(t,l,c),Q(l,s,c),r=!0},p(l,c){e=l;const d={};c&2&&(d.label=e[6].label),c&1&&(d.name=e[0]),c&2&&(d.value=e[6].value),c&11&&(d.checked=e[3][e[0]]===e[6].value),c&6&&(d.onChange=n),!i&&c&9&&(i=!0,d.group=e[3][e[0]],g2(()=>i=!1)),t.$set(d)},i(l){r||(W(t.$$.fragment,l),r=!0)},o(l){N(t.$$.fragment,l),r=!1},d(l){l&&K(s),re(t,l)}}}function GC(e){let t,i;return t=new kr({props:{$$slots:{default:[tk]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&527&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function ik(e){let t,i,s=Us(e[1]),r=[];for(let o=0;o<s.length;o+=1)r[o]=GC(DC(e,s,o));const n=o=>N(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=ii()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);Q(o,t,a),i=!0},p(o,a){if(a&15){s=Us(o[1]);let l;for(l=0;l<s.length;l+=1){const c=DC(o,s,l);r[l]?(r[l].p(c,a),W(r[l],1)):(r[l]=GC(c),r[l].c(),W(r[l],1),r[l].m(t.parentNode,t))}for(tt(),l=s.length;l<r.length;l+=1)n(l);it()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)W(r[a]);i=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)N(r[a]);i=!1},d(o){o&&K(t),hc(r,o)}}}function sk(e){let t,i;return t=new pc({props:{$$slots:{default:[ik]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,[r]){const n={};r&527&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function rk(e,t,i){let s;Fe(e,Vs,c=>i(3,s=c));let{setting:r}=t,{options:n}=t,{onChange:o=c=>{Ce(Vs,s[r]=c,s)}}=t;const a=c=>o(c.value);function l(c){e.$$.not_equal(s[r],c)&&(s[r]=c,Vs.set(s))}return e.$$set=c=>{"setting"in c&&i(0,r=c.setting),"options"in c&&i(1,n=c.options),"onChange"in c&&i(2,o=c.onChange)},[r,n,o,s,a,l]}class dv extends He{constructor(t){super(),Ve(this,t,rk,sk,Be,{setting:0,options:1,onChange:2})}}function PC(e){let t,i;return t=new br({props:{direction:e[4],$$slots:{default:[ok]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.direction=s[4]),r&524353&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function nk(e){let t,i,s,r,n,o,a,l,c,d;return t=new kr({props:{label:e[0]("settings.theme.title"),onClick:e[11],leadingIcon:"theme",value:e[6].theme?e[0](`settings.theme.${e[6].theme}`):e[0]("settings.theme.automatic")}}),s=new kr({props:{label:e[0]("settings.language.title"),onClick:e[12],leadingIcon:"globe",value:_r[e[6].language]}}),n=new kr({props:{label:e[0]("settings.animations.title"),onClick:e[13],leadingIcon:"waves",value:e[6].animations?e[0]("settings.animations.enabled"):e[0]("settings.animations.disabled")}}),a=new kr({props:{label:e[0]("settings.about.title"),onClick:e[14],leadingIcon:"info"}}),c=new kr({props:{label:e[0]("settings.github"),link:"https://www.github.com/wharfkit",leadingIcon:"github",trailingIcon:"external-link"}}),{c(){ne(t.$$.fragment),i=ye(),ne(s.$$.fragment),r=ye(),ne(n.$$.fragment),o=ye(),ne(a.$$.fragment),l=ye(),ne(c.$$.fragment)},m(u,f){se(t,u,f),Q(u,i,f),se(s,u,f),Q(u,r,f),se(n,u,f),Q(u,o,f),se(a,u,f),Q(u,l,f),se(c,u,f),d=!0},p(u,f){const g={};f&1&&(g.label=u[0]("settings.theme.title")),f&65&&(g.value=u[6].theme?u[0](`settings.theme.${u[6].theme}`):u[0]("settings.theme.automatic")),t.$set(g);const m={};f&1&&(m.label=u[0]("settings.language.title")),f&64&&(m.value=_r[u[6].language]),s.$set(m);const y={};f&1&&(y.label=u[0]("settings.animations.title")),f&65&&(y.value=u[6].animations?u[0]("settings.animations.enabled"):u[0]("settings.animations.disabled")),n.$set(y);const b={};f&1&&(b.label=u[0]("settings.about.title")),a.$set(b);const S={};f&1&&(S.label=u[0]("settings.github")),c.$set(S)},i(u){d||(W(t.$$.fragment,u),W(s.$$.fragment,u),W(n.$$.fragment,u),W(a.$$.fragment,u),W(c.$$.fragment,u),d=!0)},o(u){N(t.$$.fragment,u),N(s.$$.fragment,u),N(n.$$.fragment,u),N(a.$$.fragment,u),N(c.$$.fragment,u),d=!1},d(u){u&&(K(i),K(r),K(o),K(l)),re(t,u),re(s,u),re(n,u),re(a,u),re(c,u)}}}function ok(e){let t,i;return t=new pc({props:{$$slots:{default:[nk]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&524353&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function ak(e){let t,i;return t=new br({props:{direction:e[4],$$slots:{default:[uk]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.direction=s[4]),r&524296&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function lk(e){let t,i;return t=new br({props:{direction:e[4],$$slots:{default:[hk]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.direction=s[4]),r&524292&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function ck(e){let t,i;return t=new br({props:{direction:e[4],$$slots:{default:[fk]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.direction=s[4]),r&524290&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function dk(e){let t,i;return t=new br({props:{direction:e[4],$$slots:{default:[pk]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.direction=s[4]),r&524288&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function uk(e){let t,i;return t=new dv({props:{setting:"animations",options:e[3]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&8&&(n.options=s[3]),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function hk(e){let t,i;return t=new dv({props:{setting:"language",options:e[2],onChange:e[15]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.options=s[2]),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function fk(e){let t,i;return t=new dv({props:{setting:"theme",options:e[1]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&2&&(n.options=s[1]),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function pk(e){let t,i;return t=new zM({}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function gk(e){let t,i,s,r,n,o=!e[5].path&&PC(e);const a=[dk,ck,lk,ak],l=[];function c(d,u){return d[5].path==="about"?0:d[5].path==="theme"?1:d[5].path==="language"?2:d[5].path==="animations"?3:-1}return~(s=c(e))&&(r=l[s]=a[s](e)),{c(){t=oe("div"),o&&o.c(),i=ye(),r&&r.c(),P(t,"class","settings-menu")},m(d,u){Q(d,t,u),o&&o.m(t,null),z(t,i),~s&&l[s].m(t,null),n=!0},p(d,[u]){d[5].path?o&&(tt(),N(o,1,1,()=>{o=null}),it()):o?(o.p(d,u),u&32&&W(o,1)):(o=PC(d),o.c(),W(o,1),o.m(t,i));let f=s;s=c(d),s===f?~s&&l[s].p(d,u):(r&&(tt(),N(l[f],1,1,()=>{l[f]=null}),it()),~s?(r=l[s],r?r.p(d,u):(r=l[s]=a[s](d),r.c()),W(r,1),r.m(t,null)):r=null)},i(d){n||(W(o),W(r),n=!0)},o(d){N(o),N(r),n=!1},d(d){d&&K(t),o&&o.d(),~s&&l[s].d()}}}function mk(e,t,i){let s,r,n,o,a,l,c,d;Fe(e,Ri,O=>i(16,a=O)),Fe(e,mi,O=>i(4,l=O)),Fe(e,Vs,O=>i(6,d=O));const u=R2();Fe(e,u,O=>i(5,c=O));const{t:f,setLocale:g}=Tn("i18n");Fe(e,f,O=>i(0,o=O));function m(){Ce(mi,l="ltr",l),Rs.back(),gi.set(void 0)}function y(O){Ce(mi,l="rtl",l),u.push(O),Ce(Ri,a.subtitle=o(`settings.${O}.title`),a),gi.set(()=>{Ce(mi,l="ltr",l),u.back(),gi.set(m),Ce(Ri,a.subtitle=void 0,a)})}fc(()=>{gi.set(m),Ce(Ri,a.title=o("settings.title"),a),Ce(Ri,a.subtitle=void 0,a),Ce(mi,l="rtl",l)});async function b(O){await g(O)&&(Vs.set({...Lt(Vs),language:O}),Ce(Ri,a.title=o("settings.title"),a),Ce(Ri,a.subtitle=o("settings.language.title"),a))}const S=()=>y("theme"),I=()=>y("language"),F=()=>y("animations"),D=()=>y("about"),V=O=>b(O);return e.$$.update=()=>{e.$$.dirty&1&&i(3,s=[{label:o("settings.animations.enabled"),value:!0},{label:o("settings.animations.disabled"),value:!1}]),e.$$.dirty&1&&i(1,n=[{label:o("settings.theme.automatic"),value:void 0},{label:o("settings.theme.light"),value:"light"},{label:o("settings.theme.dark"),value:"dark"}])},i(2,r=Object.keys(_r).map(O=>({label:_r[O],value:O}))),[o,n,r,s,l,c,d,u,f,y,b,S,I,F,D,V]}class vk extends He{constructor(t){super(),Ve(this,t,mk,gk,Be,{})}}function bk(e){let t,i;return t=new hu({props:{data:{label:e[0]("transact.processing",{default:"Performing transaction..."})}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,[r]){const n={};r&1&&(n.data={label:s[0]("transact.processing",{default:"Performing transaction..."})}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function Ck(e,t,i){let s;const{t:r}=Tn("i18n");return Fe(e,r,n=>i(0,s=n)),vr(),[s,r]}class yk extends He{constructor(t){super(),Ve(this,t,Ck,bk,Be,{})}}function wk(e){Pt(e,"svelte-1d8fcdl","section.svelte-1d8fcdl{display:flex;flex-direction:column;gap:var(--space-s)}")}function OC(e,t,i){const s=e.slice();return s[4]=t[i],s}function BC(e){let t,i,s,r,n;return i=new Ln({props:{$$slots:{default:[Sk]},$$scope:{ctx:e}}}),r=new pc({props:{$$slots:{default:[Rk]},$$scope:{ctx:e}}}),{c(){t=oe("section"),ne(i.$$.fragment),s=ye(),ne(r.$$.fragment),P(t,"class","svelte-1d8fcdl")},m(o,a){Q(o,t,a),se(i,t,null),z(t,s),se(r,t,null),n=!0},p(o,a){const l={};a&130&&(l.$$scope={dirty:a,ctx:o}),i.$set(l);const c={};a&129&&(c.$$scope={dirty:a,ctx:o}),r.$set(c)},i(o){n||(W(i.$$.fragment,o),W(r.$$.fragment,o),n=!0)},o(o){N(i.$$.fragment,o),N(r.$$.fragment,o),n=!1},d(o){o&&K(t),re(i),re(r)}}}function Sk(e){let t;return{c(){t=at(e[1])},m(i,s){Q(i,t,s)},p(i,s){s&2&&pt(t,i[1])},d(i){i&&K(t)}}}function WC(e){let t,i;function s(){return e[3](e[4])}return t=new kr({props:{label:e[4].name,onClick:s,leadingIcon:"wharf",logo:Yl(e[4].metadata)}}),{c(){ne(t.$$.fragment)},m(r,n){se(t,r,n),i=!0},p(r,n){e=r;const o={};n&1&&(o.label=e[4].name),n&1&&(o.onClick=s),n&1&&(o.logo=Yl(e[4].metadata)),t.$set(o)},i(r){i||(W(t.$$.fragment,r),i=!0)},o(r){N(t.$$.fragment,r),i=!1},d(r){re(t,r)}}}function Rk(e){let t,i,s=Us(e[0]),r=[];for(let o=0;o<s.length;o+=1)r[o]=WC(OC(e,s,o));const n=o=>N(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=ii()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);Q(o,t,a),i=!0},p(o,a){if(a&5){s=Us(o[0]);let l;for(l=0;l<s.length;l+=1){const c=OC(o,s,l);r[l]?(r[l].p(c,a),W(r[l],1)):(r[l]=WC(c),r[l].c(),W(r[l],1),r[l].m(t.parentNode,t))}for(tt(),l=s.length;l<r.length;l+=1)n(l);it()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)W(r[a]);i=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)N(r[a]);i=!1},d(o){o&&K(t),hc(r,o)}}}function Ak(e){let t,i,s=e[0]&&BC(e);return{c(){s&&s.c(),t=ii()},m(r,n){s&&s.m(r,n),Q(r,t,n),i=!0},p(r,[n]){r[0]?s?(s.p(r,n),n&1&&W(s,1)):(s=BC(r),s.c(),W(s,1),s.m(t.parentNode,t)):s&&(tt(),N(s,1,1,()=>{s=null}),it())},i(r){i||(W(s),i=!0)},o(r){N(s),i=!1},d(r){r&&K(t),s&&s.d(r)}}}function Ik(e,t,i){let{plugins:s}=t,{title:r}=t;const n=vr(),o=a=>n("select",a.id);return e.$$set=a=>{"plugins"in a&&i(0,s=a.plugins),"title"in a&&i(1,r=a.title)},[s,r,n,o]}class Fk extends He{constructor(t){super(),Ve(this,t,Ik,Ak,Be,{plugins:0,title:1},wk)}}function xk(e){let t,i=e[2]("loading",{default:"Loading..."})+"",s;return{c(){t=oe("p"),s=at(i)},m(r,n){Q(r,t,n),z(t,s)},p(r,n){n&4&&i!==(i=r[2]("loading",{default:"Loading..."})+"")&&pt(s,i)},i:be,o:be,d(r){r&&K(t)}}}function _k(e){let t,i,s,r;const n=[kk,Mk,Ek],o=[];function a(l,c){return l[5]===l[0].selectPlugin?0:l[5]===l[0].selectChain&&l[6]?1:2}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),Q(l,s,c),r=!0},p(l,c){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),N(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),W(i,1),i.m(s.parentNode,s))},i(l){r||(W(i),r=!0)},o(l){N(i),r=!1},d(l){l&&K(s),o[t].d(l)}}}function Ek(e){let t,i;return t=new hu({props:{data:{label:e[2]("accountCreation.countdown",{default:"Creating Account"})}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.data={label:s[2]("accountCreation.countdown",{default:"Creating Account"})}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function Mk(e){let t,i;return t=new br({props:{direction:e[1],$$slots:{default:[Dk]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&2&&(n.direction=s[1]),r&4194372&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function kk(e){let t,i;return t=new br({props:{direction:e[1],$$slots:{default:[Gk]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&2&&(n.direction=s[1]),r&4194324&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function Dk(e){let t,i;return t=new _2({props:{chains:e[6],title:e[2]("accountCreation.select.chain",{default:"Select a Blockchain"})}}),t.$on("select",e[11]),t.$on("cancel",e[12]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&64&&(n.chains=s[6]),r&4&&(n.title=s[2]("accountCreation.select.chain",{default:"Select a Blockchain"})),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function Gk(e){let t,i;return t=new Fk({props:{plugins:e[4].accountCreationPlugins,title:e[2]("accountCreation.select.plugin",{default:"Select a Service Provider"})}}),t.$on("select",e[10]),t.$on("cancel",e[13]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.plugins=s[4].accountCreationPlugins),r&4&&(n.title=s[2]("accountCreation.select.plugin",{default:"Select a Service Provider"})),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function Pk(e){let t,i,s,r;const n=[_k,xk],o=[];function a(l,c){return l[3]&&l[4]?0:1}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),Q(l,s,c),r=!0},p(l,[c]){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),N(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),W(i,1),i.m(s.parentNode,s))},i(l){r||(W(i),r=!0)},o(l){N(i),r=!1},d(l){l&&K(s),o[t].d(l)}}}function Ok(e,t,i){let s,r,n,o,a,l,c,d;Fe(e,mi,T=>i(1,s=T)),Fe(e,gi,T=>i(15,r=T)),Fe(e,ir,T=>i(16,n=T)),Fe(e,Ri,T=>i(3,a=T)),Fe(e,Uo,T=>i(4,l=T));const{t:u}=Tn("i18n");Fe(e,u,T=>i(2,o=T));let f=!1;const g=vr();var m;(function(T){T.done="done",T.selectPlugin="selectPlugin",T.selectChain="selectChain"})(m||(m={}));const y=Qi([Uo,ir],([T,X])=>{var v;if(!T||!X)return;const _=T.accountCreationPlugins.find(w=>w.id===X.pluginId);return!X.chain&&((v=_==null?void 0:_.config.supportedChains)==null?void 0:v.length)===1&&(X.chain=_.config.supportedChains[0].id),_});let b=Qi([Uo,y],([T,X])=>{if(T&&X){if(X.config.supportedChains&&T.chains)return T.chains.filter(_=>{var v;return(v=X.config.supportedChains)==null?void 0:v.find(w=>w.id.equals(_.id))})}else if(T)return T.chains;return[]});Fe(e,b,T=>i(6,d=T));const S=Uo.subscribe(T=>{T&&(Ce(Ri,a.subtitle=o("login.title-app",{appName:T.appName,default:"Login to {{appName}}"}),a),T.accountCreationPlugins.length===1&&Ce(ir,n.pluginId=T.accountCreationPlugins[0].id,n),T.chain?Ce(ir,n.chain=T.chain.id,n):T.chains&&T.chains.length===1&&Ce(ir,n.chain=T.chains[0].id,n))});fc(()=>{Ce(Ri,a.title=o("accountCreation.title",{default:"Create Account"}),a)}),du(S);const I=()=>{f||(f=!0,setTimeout(()=>{g("complete",n),gi.set(void 0)},100))},F=Qi([Uo,ir,y,b],([T,X,_,v])=>{if(!_&&(T!=null&&T.uiRequirements.requiresPluginSelect))return m.selectPlugin;let w=_==null?void 0:_.config.requiresChainSelect;if(w!==!1&&(w=T==null?void 0:T.uiRequirements.requiresChainSelect),!X.chain&&w)return m.selectChain;I()});Fe(e,F,T=>i(5,c=T));const D=T=>{Ce(ir,n.pluginId=T.detail,n),Ce(gi,r=V,r),Ce(mi,s="rtl",s)},V=T=>{Ce(ir,n.pluginId=void 0,n),Ce(gi,r=void 0,r),Ce(mi,s="ltr",s)},O=T=>{Ce(ir,n.chain=T.detail,n),Ce(gi,r=L,r),Ce(mi,s="rtl",s)},L=T=>{Ce(ir,n.chain=void 0,n),Ce(gi,r=V,r),Ce(mi,s="ltr",s)};return[m,s,o,a,l,c,d,u,b,F,D,O,L,()=>{g("cancel")}]}class Bk extends He{constructor(t){super(),Ve(this,t,Ok,Pk,Be,{})}}function Wk(e){Pt(e,"svelte-mttle8","button.svelte-mttle8.svelte-mttle8{--button-size:46px;--button-size:var(--space-2xl);position:relative;isolation:isolate;background:var(--header-button-background);border:1px solid var(--header-button-outline);border:none;box-shadow:inset 0 0 0 1px var(--header-button-outline);border-radius:var(--border-radius-inner);cursor:pointer;width:var(--button-size);height:var(--button-size);display:grid;place-content:center;color:var(--header-text-color);transition:transform 80ms ease}button.svelte-mttle8.svelte-mttle8:active{transform:scale(95%);transform-origin:center}@media(hover: hover){button.svelte-mttle8:hover .background.svelte-mttle8{opacity:1}}.background.svelte-mttle8.svelte-mttle8{position:absolute;border-radius:var(--border-radius-inner);inset:0;opacity:0;z-index:-1;transition:opacity 80ms ease;background:var(--header-button-outline)}.visually-hidden.svelte-mttle8.svelte-mttle8{border:0;clip:rect(0 0 0 0);height:auto;margin:0;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap}")}function Tk(e){let t,i,s,r,n,o,a,l,c,d;return r=new Ds({props:{name:e[1]}}),{c(){t=oe("button"),i=oe("span"),s=ye(),ne(r.$$.fragment),n=ye(),o=oe("span"),a=at(e[1]),P(i,"class","background svelte-mttle8"),P(o,"class","label visually-hidden svelte-mttle8"),P(t,"class","svelte-mttle8")},m(u,f){Q(u,t,f),z(t,i),z(t,s),se(r,t,null),z(t,n),z(t,o),z(o,a),l=!0,c||(d=us(t,"click",function(){Wn(e[0])&&e[0].apply(this,arguments)}),c=!0)},p(u,[f]){e=u;const g={};f&2&&(g.name=e[1]),r.$set(g),(!l||f&2)&&pt(a,e[1])},i(u){l||(W(r.$$.fragment,u),l=!0)},o(u){N(r.$$.fragment,u),l=!1},d(u){u&&K(t),re(r),c=!1,d()}}}function Lk(e,t,i){let{onClick:s}=t,{icon:r}=t;return e.$$set=n=>{"onClick"in n&&i(0,s=n.onClick),"icon"in n&&i(1,r=n.icon)},[s,r]}class uv extends He{constructor(t){super(),Ve(this,t,Lk,Tk,Be,{onClick:0,icon:1},Wk)}}function Nk(e){Pt(e,"svelte-ajt3u",".wrapper.svelte-ajt3u{transform-origin:top;overflow:hidden;position:relative;height:var(--container-height);background-color:var(--header-background-color)}.clipped.svelte-ajt3u{clip-path:url(#wave-clip)}.container.svelte-ajt3u{position:absolute;left:0;bottom:0;width:200%;height:100%;transform-origin:bottom}@keyframes svelte-ajt3u-wave-slide{from{transform:translate(0)}to{transform:translate(-50%)}}.wave.svelte-ajt3u{position:absolute;bottom:-2px;opacity:0.9999;transform-origin:bottom}.wave.foreground.svelte-ajt3u{--swell:var(--foreground-swell);--swell-speed:var(--foreground-swell-speed);--swell-delay:var(--foreground-delay)}.wave.midground.svelte-ajt3u{--swell:var(--midground-swell);--swell-speed:var(--midground-swell-speed);--swell-delay:var(--midground-delay)}.wave.background.svelte-ajt3u{--swell:var(--background-swell);--swell-speed:var(--background-swell-speed);--swell-delay:var(--background-delay)}@keyframes svelte-ajt3u-wave-swell{from{transform:scaleY(1)}to{transform:scaleY(var(--swell))}}")}function Vk(e){let t,i,s,r,n,o,a,l,c,d,u,f,g,m,y,b,S;return{c(){t=oe("div"),i=Oe("svg"),s=Oe("defs"),r=Oe("clipPath"),n=Oe("path"),o=ye(),a=oe("div"),l=Oe("svg"),c=Oe("rect"),d=ye(),u=oe("div"),f=Oe("svg"),g=Oe("rect"),m=ye(),y=oe("div"),b=Oe("svg"),S=Oe("rect"),P(n,"d","M 0 300 V 100 Q 100 0 200 100 Q 300 200 400 100 Q 500 0 600 100 Q 700 200 800 100 V 300"),P(r,"id","wave-clip"),P(i,"height","0"),P(i,"width","0"),P(c,"class","clipped svelte-ajt3u"),P(c,"height","100%"),P(c,"width","100%"),P(c,"fill",lD),P(l,"class","wave background svelte-ajt3u"),P(l,"width","100%"),P(l,"height",qk+"%"),P(l,"viewBox","0 0 800 300"),P(l,"preserveAspectRatio","none"),P(a,"class","container background svelte-ajt3u"),P(g,"class","clipped svelte-ajt3u"),P(g,"width","100%"),P(g,"height","100%"),P(g,"fill",aD),P(f,"class","wave midground svelte-ajt3u"),P(f,"width","100%"),P(f,"height",Uk+"%"),P(f,"viewBox","0 0 800 300"),P(f,"preserveAspectRatio","none"),P(u,"class","container midground svelte-ajt3u"),P(S,"class","clipped svelte-ajt3u"),P(S,"width","100%"),P(S,"height","100%"),P(S,"fill",oD),P(b,"class","wave foreground svelte-ajt3u"),P(b,"width","100%"),P(b,"height",Jk+"%"),P(b,"viewBox","0 0 800 300"),P(b,"preserveAspectRatio","none"),P(y,"class","container foreground svelte-ajt3u"),P(t,"class","wrapper svelte-ajt3u"),jt(t,"--frequency",Zk+"ms"),jt(t,"--foreground-speed",Yk+"ms"),jt(t,"--midground-speed",zk+"ms"),jt(t,"--background-speed",jk+"ms"),jt(t,"--container-height",Xk+"px"),jt(t,"--motion",Hk),jt(t,"--foreground-swell",Kk),jt(t,"--midground-swell",Qk),jt(t,"--background-swell",$k),jt(t,"--foreground-swell-speed",eD+"ms"),jt(t,"--midground-swell-speed",tD+"ms"),jt(t,"--background-swell-speed",iD+"ms"),jt(t,"--foreground-delay",sD+"ms"),jt(t,"--midground-delay",rD+"ms"),jt(t,"--background-delay",nD+"ms")},m(I,F){Q(I,t,F),z(t,i),z(i,s),z(s,r),z(r,n),z(t,o),z(t,a),z(a,l),z(l,c),z(t,d),z(t,u),z(u,f),z(f,g),z(t,m),z(t,y),z(y,b),z(b,S)},p:be,i:be,o:be,d(I){I&&K(t)}}}let Hk="linear",Zk=7e3,Yk=1e4,zk=9500,jk=8600,Xk=25,Jk=50,Uk=75,qk=100,Kk=1.2,Qk=1.4,$k=1.3,eD=3100,tD=2300,iD=1e3,sD=9e3,rD=7900,nD=9100;const oD="var(--wave-foreground-color)",aD="var(--wave-midground-color)",lD="var(--wave-background-color)";function cD(e){return[]}class dD extends He{constructor(t){super(),Ve(this,t,cD,Vk,Be,{},Nk)}}function uD(e){Pt(e,"svelte-j6z3r6",".modal-header.svelte-j6z3r6.svelte-j6z3r6{box-sizing:border-box;min-height:var(--header-height);color:var(--header-text-color);background:var(--header-background-color);display:grid;grid-template-columns:1fr auto 1fr;gap:var(--space-s);padding:var(--space-m)}.modal-header.svelte-j6z3r6 .slot.svelte-j6z3r6{display:flex;align-items:center}.modal-header.svelte-j6z3r6 .center.svelte-j6z3r6{flex-direction:column;justify-content:space-around;text-align:center}.modal-header.svelte-j6z3r6 .right.svelte-j6z3r6{justify-content:flex-end}.modal-header.svelte-j6z3r6 .svelte-j6z3r6:is(h2, p){color:var(--header-text-color);margin:0;line-height:1.1em}.modal-header.svelte-j6z3r6 h2.svelte-j6z3r6{font-size:var(--fs-3);font-weight:700}.modal-header.svelte-j6z3r6 p.svelte-j6z3r6{font-size:var(--fs-0)}")}const hD=e=>({}),TC=e=>({}),fD=e=>({}),LC=e=>({}),pD=e=>({}),NC=e=>({});function gD(e){let t,i;return t=new uv({props:{icon:"settings",onClick:e[8]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.onClick=s[8]),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function mD(e){let t,i;return t=new uv({props:{icon:"chevron-left",onClick:e[2]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.onClick=s[2]),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function vD(e){let t,i,s,r;const n=[mD,gD],o=[];function a(l,c){return l[2]?0:l[3]?1:-1}return~(t=a(e))&&(i=o[t]=n[t](e)),{c(){i&&i.c(),s=ii()},m(l,c){~t&&o[t].m(l,c),Q(l,s,c),r=!0},p(l,c){let d=t;t=a(l),t===d?~t&&o[t].p(l,c):(i&&(tt(),N(o[d],1,1,()=>{o[d]=null}),it()),~t?(i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),W(i,1),i.m(s.parentNode,s)):i=null)},i(l){r||(W(i),r=!0)},o(l){N(i),r=!1},d(l){l&&K(s),~t&&o[t].d(l)}}}function VC(e){let t,i;return{c(){t=oe("p"),i=at(e[1]),P(t,"class","svelte-j6z3r6")},m(s,r){Q(s,t,r),z(t,i)},p(s,r){r&2&&pt(i,s[1])},d(s){s&&K(t)}}}function bD(e){let t,i,s,r,n=e[1]&&VC(e);return{c(){t=oe("h2"),i=at(e[0]),s=ye(),n&&n.c(),r=ii(),P(t,"class","svelte-j6z3r6")},m(o,a){Q(o,t,a),z(t,i),Q(o,s,a),n&&n.m(o,a),Q(o,r,a)},p(o,a){a&1&&pt(i,o[0]),o[1]?n?n.p(o,a):(n=VC(o),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(o){o&&(K(t),K(s),K(r)),n&&n.d(o)}}}function CD(e){let t,i;return t=new uv({props:{icon:"close",onClick:e[9]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function yD(e){let t,i,s,r,n,o,a,l,c;const d=e[7].left,u=Ws(d,e,e[6],NC),f=u||vD(e),g=e[7].center,m=Ws(g,e,e[6],LC),y=m||bD(e),b=e[7].right,S=Ws(b,e,e[6],TC),I=S||CD(e);return l=new dD({}),{c(){t=oe("div"),i=oe("div"),f&&f.c(),s=ye(),r=oe("div"),y&&y.c(),n=ye(),o=oe("div"),I&&I.c(),a=ye(),ne(l.$$.fragment),P(i,"class","slot left svelte-j6z3r6"),P(r,"class","slot center svelte-j6z3r6"),P(o,"class","slot right svelte-j6z3r6"),P(t,"class","modal-header svelte-j6z3r6")},m(F,D){Q(F,t,D),z(t,i),f&&f.m(i,null),z(t,s),z(t,r),y&&y.m(r,null),z(t,n),z(t,o),I&&I.m(o,null),Q(F,a,D),se(l,F,D),c=!0},p(F,[D]){u?u.p&&(!c||D&64)&&Ls(u,d,F,F[6],c?Ts(d,F[6],D,pD):Ns(F[6]),NC):f&&f.p&&(!c||D&28)&&f.p(F,c?D:-1),m?m.p&&(!c||D&64)&&Ls(m,g,F,F[6],c?Ts(g,F[6],D,fD):Ns(F[6]),LC):y&&y.p&&(!c||D&3)&&y.p(F,c?D:-1),S&&S.p&&(!c||D&64)&&Ls(S,b,F,F[6],c?Ts(b,F[6],D,hD):Ns(F[6]),TC)},i(F){c||(W(f,F),W(y,F),W(I,F),W(l.$$.fragment,F),c=!0)},o(F){N(f,F),N(y,F),N(I,F),N(l.$$.fragment,F),c=!1},d(F){F&&(K(t),K(a)),f&&f.d(F),y&&y.d(F),I&&I.d(F),re(l,F)}}}function wD(e,t,i){let s,r,n;Fe(e,gi,g=>i(2,s=g)),Fe(e,vh,g=>i(3,r=g)),Fe(e,mi,g=>i(4,n=g));let{$$slots:o={},$$scope:a}=t,{title:l}=t,{subtitle:c}=t;const d=vr(),u=()=>{Rs.push("settings"),Ce(mi,n="rtl",n)},f=()=>d("cancel");return e.$$set=g=>{"title"in g&&i(0,l=g.title),"subtitle"in g&&i(1,c=g.subtitle),"$$scope"in g&&i(6,a=g.$$scope)},[l,c,s,r,n,d,a,o,u,f]}class SD extends He{constructor(t){super(),Ve(this,t,wD,yD,Be,{title:0,subtitle:1},uD)}}function RD(e){Pt(e,"svelte-1ime0ob",`:host dialog.svelte-1ime0ob{color-scheme:light;--body-background-color:white;--body-text-color:var(--color-primary-700);--body-text-color-variant:var(--color-neutral-700);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--wharf-blue);--button-text-color-active:var(--wharf-blue);--button-outline-active:inset 0 0 0 2px var(--button-text-color);--button-primary-background:var(--color-secondary-200);--button-primary-background-hover:var(--color-secondary-200);--button-primary-background-active:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)),
      var(--color-secondary-200);--button-primary-outline-hover:inset 0 0 0 1px #00000030,
      inset 0 0 0 1px var(--color-secondary-200);--button-secondary-background:var(--color-custom-1);--button-secondary-background-hover:var(--color-custom-1);--button-secondary-background-active:var(--color-secondary-200);--button-secondary-outline-hover:inset 0 0 0 1px #00000020,
      inset 0 0 0 1px var(--color-secondary-200);--button-outlined-background-active:var(--color-secondary-200);--button-outlined-outline:inset 0 0 0 1px var(--color-secondary-200);--button-outlined-outline-hover:inset 0 0 0 1px #00000020,
      inset 0 0 0 1px var(--color-secondary-200);--input-placeholder-color:var(--color-neutral-500);--input-background-focus:var(--color-neutral-100);--input-border-color:#00000030;--input-border-color-hover:var(--color-custom-5);--input-border-color-focus:var(--wharf-blue);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3), inset 0 0 0 1px var(--seafoam-mint);--checkbox-stroke:var(--wharf-blue);--checkbox-fill:var(--reef-turquoise);--error-color:var(--color-error-1);--list-item-background-color-hover:var(--color-custom-9);--list-item-text-color-hover:var(--color-secondary-500);--list-divider-color:#00000010;--text-area-background:var(--swell-mist);--text-area-text-color:#242424;--loading-circle-color:var(--reef-turquoise);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:var(--seafoam-mint);--wave-background-color:var(--reef-turquoise)}:host dialog[data-theme=dark].svelte-1ime0ob{color-scheme:dark;--body-background-color:var(--color-primary-990);--body-text-color:white;--body-text-color-variant:var(--color-neutral-300);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--body-text-color);--button-text-color-active:var(--reef-turquoise);--button-outline-active:inset 0 0 0 2px var(--reef-turquoise);--button-primary-background:var(--color-secondary-500);--button-primary-background-hover:var(--color-secondary-500);--button-primary-background-active:var(--color-custom-2);--button-primary-outline-hover:inset 0 0 0 1px white;--button-secondary-background:var(--color-primary-800);--button-secondary-background-hover:var(--color-primary-800);--button-secondary-background-active:var(--color-primary-900);--button-secondary-outline-hover:inset 0 0 0 1px #ffffff30;--button-outlined-background-active:var(--color-primary-900);--button-outlined-outline:inset 0 0 0 1px #00000030;--button-outlined-outline-hover:inset 0 0 0 1px #ffffff30;--input-placeholder-color:#ffffff75;--input-background-focus:var(--color-custom-4);--input-border-color:#ffffff30;--input-border-color-hover:var(--color-custom-6);--input-border-color-focus:var(--reef-turquoise);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3);--checkbox-stroke:var(--reef-turquoise);--checkbox-fill:var(--color-custom-3);--error-color:var(--color-error-3);--list-item-background-color-hover:var(--color-custom-8);--list-item-text-color-hover:var(--color-secondary-400);--list-divider-color:#ffffff10;--text-area-background:var(--color-primary-900);--text-area-text-color:#ffffff;--loading-circle-color:var(--seafoam-mint);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:#2f3445;--wave-background-color:#3e4356}@media(prefers-color-scheme: dark){:host dialog.svelte-1ime0ob{color-scheme:dark;--body-background-color:var(--color-primary-990);--body-text-color:white;--body-text-color-variant:var(--color-neutral-300);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--body-text-color);--button-text-color-active:var(--reef-turquoise);--button-outline-active:inset 0 0 0 2px var(--reef-turquoise);--button-primary-background:var(--color-secondary-500);--button-primary-background-hover:var(--color-secondary-500);--button-primary-background-active:var(--color-custom-2);--button-primary-outline-hover:inset 0 0 0 1px white;--button-secondary-background:var(--color-primary-800);--button-secondary-background-hover:var(--color-primary-800);--button-secondary-background-active:var(--color-primary-900);--button-secondary-outline-hover:inset 0 0 0 1px #ffffff30;--button-outlined-background-active:var(--color-primary-900);--button-outlined-outline:inset 0 0 0 1px #00000030;--button-outlined-outline-hover:inset 0 0 0 1px #ffffff30;--input-placeholder-color:#ffffff75;--input-background-focus:var(--color-custom-4);--input-border-color:#ffffff30;--input-border-color-hover:var(--color-custom-6);--input-border-color-focus:var(--reef-turquoise);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3);--checkbox-stroke:var(--reef-turquoise);--checkbox-fill:var(--color-custom-3);--error-color:var(--color-error-3);--list-item-background-color-hover:var(--color-custom-8);--list-item-text-color-hover:var(--color-secondary-400);--list-divider-color:#ffffff10;--text-area-background:var(--color-primary-900);--text-area-text-color:#ffffff;--loading-circle-color:var(--seafoam-mint);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:#2f3445;--wave-background-color:#3e4356}:host dialog[data-theme=light].svelte-1ime0ob{color-scheme:light;--body-background-color:white;--body-text-color:var(--color-primary-700);--body-text-color-variant:var(--color-neutral-700);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--wharf-blue);--button-text-color-active:var(--wharf-blue);--button-outline-active:inset 0 0 0 2px var(--button-text-color);--button-primary-background:var(--color-secondary-200);--button-primary-background-hover:var(--color-secondary-200);--button-primary-background-active:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)),
        var(--color-secondary-200);--button-primary-outline-hover:inset 0 0 0 1px #00000030,
        inset 0 0 0 1px var(--color-secondary-200);--button-secondary-background:var(--color-custom-1);--button-secondary-background-hover:var(--color-custom-1);--button-secondary-background-active:var(--color-secondary-200);--button-secondary-outline-hover:inset 0 0 0 1px #00000020,
        inset 0 0 0 1px var(--color-secondary-200);--button-outlined-background-active:var(--color-secondary-200);--button-outlined-outline:inset 0 0 0 1px var(--color-secondary-200);--button-outlined-outline-hover:inset 0 0 0 1px #00000020,
        inset 0 0 0 1px var(--color-secondary-200);--input-placeholder-color:var(--color-neutral-500);--input-background-focus:var(--color-neutral-100);--input-border-color:#00000030;--input-border-color-hover:var(--color-custom-5);--input-border-color-focus:var(--wharf-blue);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3), inset 0 0 0 1px var(--seafoam-mint);--checkbox-stroke:var(--wharf-blue);--checkbox-fill:var(--reef-turquoise);--error-color:var(--color-error-1);--list-item-background-color-hover:var(--color-custom-9);--list-item-text-color-hover:var(--color-secondary-500);--list-divider-color:#00000010;--text-area-background:var(--swell-mist);--text-area-text-color:#242424;--loading-circle-color:var(--reef-turquoise);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:var(--seafoam-mint);--wave-background-color:var(--reef-turquoise)}}:host dialog.svelte-1ime0ob{--wharf-blue:var(--color-primary-700);--reef-turquoise:var(--color-secondary-300);--seafoam-mint:var(--color-secondary-200);--swell-mist:var(--color-accent-50);--color-primary-50:#f6f7f9;--color-primary-100:#ededf1;--color-primary-200:#d6d8e1;--color-primary-300:#b3b8c6;--color-primary-400:#8991a7;--color-primary-500:#6b738c;--color-primary-600:#565c73;--color-primary-700:#494e62;--color-primary-800:#3c4050;--color-primary-900:#363944;--color-primary-990:#252835;--color-secondary-50:#f1fcf9;--color-secondary-100:#cef9ed;--color-secondary-200:#b2f2e1;--color-secondary-300:#7be7ce;--color-secondary-400:#35ccae;--color-secondary-500:#1cb095;--color-secondary-600:#148d79;--color-secondary-700:#147163;--color-secondary-800:#155a51;--color-secondary-900:#164b43;--color-accent-50:#f4faf4;--color-accent-100:#e4f4e5;--color-accent-200:#cae8cc;--color-accent-300:#a1d4a3;--color-accent-400:#70b874;--color-accent-500:#4c9b51;--color-accent-600:#3a7f3e;--color-accent-700:#306534;--color-accent-800:#2a512d;--color-accent-900:#244326;--color-neutral-100:#f7f7f7;--color-neutral-200:#e3e3e3;--color-neutral-300:#c8c8c8;--color-neutral-400:#a4a4a4;--color-neutral-500:#818181;--color-neutral-600:#666666;--color-neutral-700:#515151;--color-neutral-800:#434343;--color-neutral-900:#383838;--color-custom-1:#f3f8f3;--color-custom-2:#415e60;--color-custom-3:#344b4d;--color-custom-4:#3d435a;--color-custom-5:#8ec2b4;--color-custom-6:#777b8b;--color-custom-7:#35ccae10;--color-custom-8:#575c6e;--color-custom-9:#f4f5f7;--color-error-1:#cd3939;--color-error-2:#ff5454;--color-error-3:#ffacac;font-family:system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;--measure:35ch;--fs-0:calc(var(--fs-2) * 0.75);--fs-1:calc(var(--fs-2) * 0.875);--fs-2:var(--wharfkit-font-base, 1rem);--fs-3:calc(var(--fs-2) * 1.25);--ratio:1.5;--space-4xs:calc(var(--space-3xs) / var(--ratio));--space-3xs:calc(var(--space-2xs) / var(--ratio));--space-2xs:calc(var(--space-xs) / var(--ratio));--space-xs:calc(var(--space-s) / var(--ratio));--space-s:calc(var(--space-m) / var(--ratio));--space-m:var(--wharfkit-space-base, 1rem);--space-l:calc(var(--space-m) * var(--ratio));--space-xl:calc(var(--space-l) * var(--ratio));--space-2xl:calc(var(--space-xl) * var(--ratio));--space-3xl:calc(var(--space-2xl) * var(--ratio));--space-4xl:calc(var(--space-3xl) * var(--ratio));--space-5xl:calc(var(--space-4xl) * var(--ratio));--space-6xl:calc(var(--space-5xl) * var(--ratio));--space-7xl:calc(var(--space-6xl) * var(--ratio));--space-8xl:calc(var(--space-7xl) * var(--ratio));--space-9xl:calc(var(--space-8xl) * var(--ratio));--border-radius-outer:1.5rem;--border-radius-inner:0.75rem;--header-height:var(--space-3xl)}.svelte-1ime0ob{box-sizing:border-box}.svelte-1ime0ob::selection{color:var(--wharf-blue);background-color:var(--seafoam-mint)}dialog.svelte-1ime0ob{--margin-top:var(--space-xl);font-family:system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;margin-bottom:0;margin-top:var(--margin-top);margin-inline:auto;border:none !important;border-radius:var(--border-radius-outer);padding:0;width:min(var(--space-7xl), 100vw - var(--space-m));box-shadow:0px 4px 154px rgba(0, 0, 0, 0.35);background:none}dialog.svelte-1ime0ob::backdrop{background:rgba(0, 0, 0, 0.75)}.modal-content.svelte-1ime0ob{--max-modal-content-height:calc(
      100svh - var(--header-height) - var(--margin-top) - var(--margin-top)
  );padding:var(--space-m);padding-bottom:var(--space-l);background-color:var(--body-background-color);overflow:hidden;overflow-y:scroll;max-height:var(--max-modal-content-height);scrollbar-gutter:stable both-edges;scrollbar-color:var(--header-background-color)}.modal-content.svelte-1ime0ob::-webkit-scrollbar{width:2px;background-color:var(--body-background-color)}.modal-content.svelte-1ime0ob::-webkit-scrollbar-thumb{background:var(--header-background-color)}`)}function AD(e){let t,i,s,r,n,o,a,l;i=new SD({props:{title:e[2].title,subtitle:e[2].subtitle}}),i.$on("cancel",e[3]);const c=e[6].default,d=Ws(c,e,e[5],null);return{c(){t=oe("dialog"),ne(i.$$.fragment),s=ye(),r=oe("div"),d&&d.c(),P(r,"class","modal-content svelte-1ime0ob"),P(t,"data-theme",n=e[1].theme),P(t,"class","svelte-1ime0ob")},m(u,f){Q(u,t,f),se(i,t,null),z(t,s),z(t,r),d&&d.m(r,null),e[7](t),o=!0,a||(l=us(t,"mousedown",f2(nv(e[4])),{passive:!1,capture:!0}),a=!0)},p(u,[f]){const g={};f&4&&(g.title=u[2].title),f&4&&(g.subtitle=u[2].subtitle),i.$set(g),d&&d.p&&(!o||f&32)&&Ls(d,c,u,u[5],o?Ts(c,u[5],f,null):Ns(u[5]),null),(!o||f&2&&n!==(n=u[1].theme))&&P(t,"data-theme",n)},i(u){o||(W(i.$$.fragment,u),W(d,u),o=!0)},o(u){N(i.$$.fragment,u),N(d,u),o=!1},d(u){u&&K(t),re(i),d&&d.d(u),e[7](null),a=!1,l()}}}function ID(e,t,i){let s,r,n;Fe(e,av,g=>i(8,s=g)),Fe(e,Vs,g=>i(1,r=g)),Fe(e,Ri,g=>i(2,n=g));let{$$slots:o={},$$scope:a}=t,l;const c=Ki.subscribe(g=>{l&&(g&&!l.open?l.showModal():!g&&l.open&&(l.close(),zu()))});du(c);function d(){s.map(g=>g("Modal closed",!0)),Ki.set(!1)}function u(g){var m=l.getBoundingClientRect(),y=m.top<=g.clientY&&g.clientY<=m.top+m.height&&m.left<=g.clientX&&g.clientX<=m.left+m.width;y||d()}document.addEventListener("keydown",g=>{g.key==="Escape"&&l.open&&d()});function f(g){Eo[g?"unshift":"push"](()=>{l=g,i(0,l)})}return e.$$set=g=>{"$$scope"in g&&i(5,a=g.$$scope)},[l,r,n,d,u,a,o,f]}let FD=class extends He{constructor(t){super(),Ve(this,t,ID,AD,Be,{},RD)}};function xD(e){let t;return{c(){t=oe("p"),t.textContent="Modal inactive"},m(i,s){Q(i,t,s)},p:be,i:be,o:be,d(i){i&&K(t)}}}function _D(e){let t,i,s,r;const n=[OD,PD,GD,DD,kD,MD,ED],o=[];function a(l,c){return l[2]?0:l[0]?1:l[3].path==="login"?2:l[3].path==="transact"?3:l[3].path==="settings"?4:l[3].path==="create-account"?5:6}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),Q(l,s,c),r=!0},p(l,c){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),N(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),W(i,1),i.m(s.parentNode,s))},i(l){r||(W(i),r=!0)},o(l){N(i),r=!1},d(l){l&&K(s),o[t].d(l)}}}function ED(e){let t,i;return t=new hu({}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function MD(e){let t,i;return t=new Bk({}),t.$on("cancel",e[4]),t.$on("complete",e[5]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function kD(e){let t,i;return t=new vk({}),t.$on("cancel",e[4]),t.$on("complete",e[5]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function DD(e){let t,i;return t=new yk({}),t.$on("cancel",e[4]),t.$on("complete",e[5]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function GD(e){let t,i;return t=new tM({}),t.$on("cancel",e[4]),t.$on("complete",e[5]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function PD(e){let t,i;return t=new WM({}),t.$on("cancel",e[4]),t.$on("complete",e[5]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function OD(e){let t,i;return t=new O_({}),t.$on("cancel",e[4]),t.$on("complete",e[5]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function BD(e){let t,i,s,r;const n=[_D,xD],o=[];function a(l,c){return l[1]?0:1}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),Q(l,s,c),r=!0},p(l,c){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),N(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),W(i,1),i.m(s.parentNode,s))},i(l){r||(W(i),r=!0)},o(l){N(i),r=!1},d(l){l&&K(s),o[t].d(l)}}}function WD(e){let t,i;return t=new FD({props:{$$slots:{default:[BD]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,[r]){const n={};r&1039&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(W(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function TD(e,t,i){let s,r,n,o,a,l;Fe(e,fo,g=>i(0,s=g)),Fe(e,cv,g=>i(7,r=g)),Fe(e,lv,g=>i(8,n=g)),Fe(e,Ki,g=>i(1,o=g)),Fe(e,uu,g=>i(2,a=g)),Fe(e,Rs,g=>i(3,l=g));let{i18n:c}=t;Wx("i18n",c);function d({detail:g}){n&&n.reject(g),s&&(s.reject(g),fo.reset()),Rs.back()}function u({detail:g}){n&&n.resolve(g),r&&r.resolve(g),s&&(s.resolve(g),fo.reset(),Rs.back())}const f=Rs.subscribe(g=>{g&&g.path==="login"?vh.set(!0):vh.set(!1)});return du(f),e.$$set=g=>{"i18n"in g&&i(6,c=g.i18n)},[s,o,a,l,d,u,c]}let LD=class extends He{constructor(t){super(),Ve(this,t,TD,WD,Be,{i18n:6})}};var ND=Object.defineProperty,VD=Object.defineProperties,HD=Object.getOwnPropertyDescriptors,Ch=Object.getOwnPropertySymbols,D2=Object.prototype.hasOwnProperty,G2=Object.prototype.propertyIsEnumerable,HC=(e,t,i)=>t in e?ND(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Kt=(e,t)=>{for(var i in t||(t={}))D2.call(t,i)&&HC(e,i,t[i]);if(Ch)for(var i of Ch(t))G2.call(t,i)&&HC(e,i,t[i]);return e},ns=(e,t)=>VD(e,HD(t)),nl=(e,t)=>{var i={};for(var s in e)D2.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&Ch)for(var s of Ch(e))t.indexOf(s)<0&&G2.call(e,s)&&(i[s]=e[s]);return i},mp=["error","warn","debug"],P2=({logger:e=console,level:t=mp[1],prefix:i="[i18n]: "})=>mp.reduce((s,r,n)=>ns(Kt({},s),{[r]:o=>mp.indexOf(t)>=n&&e[r](`${i}${o}`)}),{}),pi=P2({}),ZD=e=>{pi=e},ZC=e=>{var t=e,{parser:i,key:s,params:r,translations:n,locale:o,fallbackLocale:a}=t,l=nl(t,["parser","key","params","translations","locale","fallbackLocale"]);if(!s)return pi.warn(`No translation key provided ('${o}' locale). Skipping translation...`),"";if(!o)return pi.warn(`No locale provided for '${s}' key. Skipping translation...`),"";let c=(n[o]||{})[s];return a&&c===void 0&&(c=(n[a]||{})[s]),l.hasOwnProperty("fallbackValue")&&c===void 0?l.fallbackValue:i.parse(c,r,o,s)},sr=(...e)=>e.length?e.filter(t=>!!t).map(t=>{let i=`${t}`.toLowerCase();try{let[s]=Intl.Collator.supportedLocalesOf(t);if(!s)throw new Error;i=s}catch{pi.warn(`'${t}' locale is non-standard.`)}return i}):[],Lg=(e,t,i)=>Object.keys(e||{}).reduce((s,r)=>{let n=e[r],o=i?`${i}.${r}`:`${r}`;return t&&Array.isArray(n)?ns(Kt({},s),{[o]:n.map(a=>Lg(a,t))}):n&&typeof n=="object"?Kt(Kt({},s),Lg(n,t,o)):ns(Kt({},s),{[o]:n})},{}),YD=e=>e.reduce((t,{key:i,data:s,locale:r})=>{if(!s)return t;let[n]=sr(r),o=ns(Kt({},t[n]||{}),{[i]:s});return ns(Kt({},t),{[n]:o})},{}),zD=async e=>{try{let t=await Promise.all(e.map(i=>{var s=i,{loader:r}=s,n=nl(s,["loader"]);return new Promise(async o=>{let a;try{a=await r()}catch(l){pi.error(`Failed to load translation. Verify your '${n.locale}' > '${n.key}' Loader.`),pi.error(l)}o(ns(Kt({loader:r},n),{data:a}))})}));return YD(t)}catch(t){pi.error(t)}return{}},jD=e=>t=>{try{if(typeof t=="string")return t===e;if(typeof t=="object")return t.test(e)}catch{pi.error("Invalid route config!")}return!1},YC=(e,t)=>{let i=!0;try{i=Object.keys(e).filter(s=>e[s]!==void 0).every(s=>e[s]===t[s])}catch{}return i},zC=1e3*60*60*24,XD=class{constructor(e){this.cachedAt=0,this.loadedKeys={},this.currentRoute=At(),this.config=At(),this.isLoading=At(!1),this.promises=new Set,this.loading={subscribe:this.isLoading.subscribe,toPromise:(t,i)=>{let{fallbackLocale:s}=Lt(this.config),r=Array.from(this.promises).filter(n=>{let o=YC({locale:sr(t)[0],route:i},n);return s&&(o=o||YC({locale:sr(s)[0],route:i},n)),o}).map(({promise:n})=>n);return Promise.all(r)},get:()=>Lt(this.isLoading)},this.privateRawTranslations=At({}),this.rawTranslations={subscribe:this.privateRawTranslations.subscribe,get:()=>Lt(this.rawTranslations)},this.privateTranslations=At({}),this.translations={subscribe:this.privateTranslations.subscribe,get:()=>Lt(this.translations)},this.locales=ns(Kt({},Qi([this.config,this.privateTranslations],([t,i])=>{if(!t)return[];let{loaders:s=[]}=t,r=s.map(({locale:o})=>o),n=Object.keys(i).map(o=>o);return Array.from(new Set([...sr(...r),...sr(...n)]))},[])),{get:()=>Lt(this.locales)}),this.internalLocale=At(),this.loaderTrigger=Qi([this.internalLocale,this.currentRoute],([t,i],s)=>{var r,n;t!==void 0&&i!==void 0&&!(t===((r=Lt(this.loaderTrigger))==null?void 0:r[0])&&i===((n=Lt(this.loaderTrigger))==null?void 0:n[1]))&&(pi.debug("Triggering translation load..."),s([t,i]))},[]),this.localeHelper=At(),this.locale={subscribe:this.localeHelper.subscribe,forceSet:this.localeHelper.set,set:this.internalLocale.set,update:this.internalLocale.update,get:()=>Lt(this.locale)},this.initialized=Qi([this.locale,this.currentRoute,this.privateTranslations],([t,i,s],r)=>{Lt(this.initialized)||r(t!==void 0&&i!==void 0&&!!Object.keys(s).length)}),this.translation=Qi([this.privateTranslations,this.locale,this.isLoading],([t,i,s],r)=>{let n=t[i];n&&Object.keys(n).length&&!s&&r(n)},{}),this.t=ns(Kt({},Qi([this.config,this.translation],t=>{var[i]=t,s=i,{parser:r,fallbackLocale:n}=s,o=nl(s,["parser","fallbackLocale"]);return(a,...l)=>ZC(Kt({parser:r,key:a,params:l,translations:this.translations.get(),locale:this.locale.get(),fallbackLocale:n},o.hasOwnProperty("fallbackValue")?{fallbackValue:o.fallbackValue}:{}))})),{get:(t,...i)=>Lt(this.t)(t,...i)}),this.l=ns(Kt({},Qi([this.config,this.translations],t=>{var[i,...s]=t,r=i,{parser:n,fallbackLocale:o}=r,a=nl(r,["parser","fallbackLocale"]),[l]=s;return(c,d,...u)=>ZC(Kt({parser:n,key:d,params:u,translations:l,locale:c,fallbackLocale:o},a.hasOwnProperty("fallbackValue")?{fallbackValue:a.fallbackValue}:{}))})),{get:(t,i,...s)=>Lt(this.l)(t,i,...s)}),this.getLocale=t=>{let{fallbackLocale:i}=Lt(this.config)||{},s=t||i;if(!s)return;let r=this.locales.get();return r.find(n=>sr(s).includes(n))||r.find(n=>sr(i).includes(n))},this.setLocale=t=>{if(t&&t!==Lt(this.internalLocale))return pi.debug(`Setting '${t}' locale.`),this.internalLocale.set(t),this.loading.toPromise(t,Lt(this.currentRoute))},this.setRoute=t=>{if(t!==Lt(this.currentRoute)){pi.debug(`Setting '${t}' route.`),this.currentRoute.set(t);let i=Lt(this.internalLocale);return this.loading.toPromise(i,t)}},this.loadConfig=async t=>{await this.configLoader(t)},this.getTranslationProps=async(t=this.locale.get(),i=Lt(this.currentRoute))=>{let s=Lt(this.config);if(!s||!t)return[];let r=this.translations.get(),{loaders:n,fallbackLocale:o="",cache:a=zC}=s||{},l=Number.isNaN(+a)?zC:+a;this.cachedAt?Date.now()>l+this.cachedAt&&(pi.debug("Refreshing cache."),this.loadedKeys={},this.cachedAt=0):(pi.debug("Setting cache timestamp."),this.cachedAt=Date.now());let[c,d]=sr(t,o),u=r[c],f=r[d],g=(n||[]).map(m=>{var y=m,{locale:b}=y,S=nl(y,["locale"]);return ns(Kt({},S),{locale:sr(b)[0]})}).filter(({routes:m})=>!m||(m||[]).some(jD(i))).filter(({key:m,locale:y})=>y===c&&(!u||!(this.loadedKeys[c]||[]).includes(m))||o&&y===d&&(!f||!(this.loadedKeys[d]||[]).includes(m)));if(g.length){this.isLoading.set(!0),pi.debug("Fetching translations...");let m=await zD(g);this.isLoading.set(!1);let y=Object.keys(m).reduce((S,I)=>ns(Kt({},S),{[I]:Object.keys(m[I])}),{}),b=g.filter(({key:S,locale:I})=>(y[I]||[]).some(F=>`${F}`.startsWith(S))).reduce((S,{key:I,locale:F})=>ns(Kt({},S),{[F]:[...S[F]||[],I]}),{});return[m,b]}return[]},this.addTranslations=(t,i)=>{if(!t)return;let s=Lt(this.config),{preprocess:r}=s||{};pi.debug("Adding translations...");let n=Object.keys(t||{});this.privateRawTranslations.update(o=>n.reduce((a,l)=>ns(Kt({},a),{[l]:Kt(Kt({},a[l]||{}),t[l])}),o)),this.privateTranslations.update(o=>n.reduce((a,l)=>{let c=!0,d=t[l];return typeof r=="function"&&(d=r(d)),(typeof r=="function"||r==="none")&&(c=!1),ns(Kt({},a),{[l]:Kt(Kt({},a[l]||{}),c?Lg(d,r==="preserveArrays"):d)})},o)),n.forEach(o=>{let a=Object.keys(t[o]).map(l=>`${l}`.split(".")[0]);i&&(a=i[o]),this.loadedKeys[o]=Array.from(new Set([...this.loadedKeys[o]||[],...a||[]]))})},this.loader=async([t,i])=>{let s=this.getLocale(t)||void 0;pi.debug(`Adding loader promise for '${s}' locale and '${i}' route.`);let r=(async()=>{let n=await this.getTranslationProps(s,i);n.length&&this.addTranslations(...n)})();this.promises.add({locale:s,route:i,promise:r}),r.then(()=>{s&&this.locale.get()!==s&&this.locale.forceSet(s)})},this.loadTranslations=(t,i=Lt(this.currentRoute)||"")=>{let s=this.getLocale(t);if(s)return this.setRoute(i),this.setLocale(s),this.loading.toPromise(s,i)},this.loaderTrigger.subscribe(this.loader),this.isLoading.subscribe(async t=>{t&&this.promises.size&&(await this.loading.toPromise(),this.promises.clear(),pi.debug("Loader promises have been purged."))}),e&&this.loadConfig(e)}async configLoader(e){if(!e)return pi.error("No config provided!");let t=e,{initLocale:i,fallbackLocale:s,translations:r,log:n}=t,o=nl(t,["initLocale","fallbackLocale","translations","log"]);n&&ZD(P2(n)),[i]=sr(i),[s]=sr(s),pi.debug("Setting config."),this.config.set(Kt({initLocale:i,fallbackLocale:s,translations:r},o)),r&&this.addTranslations(r),i&&await this.loadTranslations(i)}},O2=Object.defineProperty,JD=Object.defineProperties,UD=Object.getOwnPropertyDescriptors,yh=Object.getOwnPropertySymbols,B2=Object.prototype.hasOwnProperty,W2=Object.prototype.propertyIsEnumerable,jC=(e,t,i)=>t in e?O2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Qr=(e,t)=>{for(var i in t||(t={}))B2.call(t,i)&&jC(e,i,t[i]);if(yh)for(var i of yh(t))W2.call(t,i)&&jC(e,i,t[i]);return e},hv=(e,t)=>JD(e,UD(t)),Mo=(e,t)=>{var i={};for(var s in e)B2.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&yh)for(var s of yh(e))t.indexOf(s)<0&&W2.call(e,s)&&(i[s]=e[s]);return i},qD=(e,t)=>{for(var i in t)O2(e,i,{get:t[i],enumerable:!0})},T2={};qD(T2,{ago:()=>r7,currency:()=>n7,date:()=>t7,eq:()=>fv,gt:()=>N2,gte:()=>$D,lt:()=>L2,lte:()=>QD,ne:()=>KD,number:()=>e7});var mf=(e,t)=>{let{modifierDefaults:i}=t||{},{[e]:s}=i||{};return s||{}},fv=({value:e,options:t=[],defaultValue:i=""})=>(t.find(({key:s})=>`${s}`.toLowerCase()===`${e}`.toLowerCase())||{}).value||i,KD=({value:e,options:t=[],defaultValue:i=""})=>(t.find(({key:s})=>`${s}`.toLowerCase()!==`${e}`.toLowerCase())||{}).value||i,L2=({value:e,options:t=[],defaultValue:i=""})=>(t.sort((s,r)=>+s.key-+r.key).find(({key:s})=>+e<+s)||{}).value||i,N2=({value:e,options:t=[],defaultValue:i=""})=>(t.sort((s,r)=>+r.key-+s.key).find(({key:s})=>+e>+s)||{}).value||i,QD=({value:e,options:t=[],defaultValue:i=""})=>fv({value:e,options:t,defaultValue:L2({value:e,options:t,defaultValue:i})}),$D=({value:e,options:t=[],defaultValue:i=""})=>fv({value:e,options:t,defaultValue:N2({value:e,options:t,defaultValue:i})}),e7=({value:e,props:t,defaultValue:i="",locale:s="",parserOptions:r})=>{if(!s)return"";let n=mf("number",r),{maximumFractionDigits:o}=n,a=Mo(n,["maximumFractionDigits"]),l=(t==null?void 0:t.number)||{},{maximumFractionDigits:c=o||2}=l,d=Mo(l,["maximumFractionDigits"]);return new Intl.NumberFormat(s,Qr(hv(Qr({},a),{maximumFractionDigits:c}),d)).format(+e||+i)},t7=({value:e,props:t,defaultValue:i="",locale:s="",parserOptions:r})=>{if(!s)return"";let n=Mo(mf("date",r),[]),o=Mo((t==null?void 0:t.date)||{},[]);return new Intl.DateTimeFormat(s,Qr(Qr({},n),o)).format(+e||+i)},Ng=[{key:"second",multiplier:1e3},{key:"minute",multiplier:60},{key:"hour",multiplier:60},{key:"day",multiplier:24},{key:"week",multiplier:7},{key:"month",multiplier:13/3},{key:"year",multiplier:12}],V2=(e="",t="")=>new RegExp(`^${e}s?$`).test(t),i7=e=>Ng.indexOf(Ng.find(({key:t})=>V2(t,e))),s7=(e,t)=>Ng.reduce(([i,s],{key:r,multiplier:n},o)=>{if(V2(s,t))return[i,s];if(!s||o===i7(s)+1){let a=Math.round(i/n);if(!s||Math.abs(a)>=1||t!=="auto")return[a,r]}return[i,s]},[e,""]),r7=({value:e,defaultValue:t="",locale:i="",props:s,parserOptions:r})=>{if(!i)return"";let n=mf("ago",r),{format:o,numeric:a}=n,l=Mo(n,["format","numeric"]),c=(s==null?void 0:s.ago)||{},{format:d=o||"auto",numeric:u=a||"auto"}=c,f=Mo(c,["format","numeric"]),g=+e||+t,m=s7(g,d);return new Intl.RelativeTimeFormat(i,Qr(hv(Qr({},l),{numeric:u}),f)).format(...m)},n7=({value:e,defaultValue:t="",locale:i="",props:s,parserOptions:r})=>{if(!i)return"";let n=mf("currency",r),{ratio:o,currency:a}=n,l=Mo(n,["ratio","currency"]),c=(s==null?void 0:s.currency)||{},{ratio:d=o||1,currency:u=a}=c,f=Mo(c,["ratio","currency"]);return new Intl.NumberFormat(i,Qr(hv(Qr({},l),{style:"currency",currency:u}),f)).format(d*(e||t))},o7=e=>typeof e=="string"&&/{{(?:(?!{{|}}).)+}}/.test(e),Vg=e=>typeof e=="string"?e.replace(/\\(?=:|;|{|})/g,""):e,a7=({value:e,props:t,payload:i,parserOptions:s,locale:r})=>`${e}`.replace(/{{\s*(?:(?!{{|}}).)+\s*}}/g,n=>{let o=Vg(`${n.match(/(?!{|\s).+?(?!\\[:;]).(?=\s*(?:[:;]|}}$))/)}`),a=i==null?void 0:i[o],[,l=""]=n.match(/.+?(?!\\;).;\s*default\s*:\s*([^\s:;].+?(?:\\[:;]|[^;}])*)(?=\s*(?:;|}}$))/i)||[];l=l||(i==null?void 0:i.default)||"";let[,c=""]=n.match(/{{\s*(?:[^;]|(?:\\;))+\s*(?:(?!\\:).[:])\s*(?!\s)((?:\\;|[^;])+?)(?=\s*(?:[;]|}}$))/i)||[];if(a===void 0&&c!=="ne")return l;let d=!!c,{customModifiers:u}=s||{},f=Qr(Qr({},T2),u||{});c=Object.keys(f).includes(c)?c:"eq";let g=f[c],m=(n.match(/[^\s:;{](?:[^;]|\\[;])+[^:;}]/gi)||[]).reduce((y,b,S)=>{if(S>0){let I=Vg(`${b.match(/(?:(?:\\:)|[^:])+/)}`.trim()),F=`${b.match(/(?:(?:\\:)|[^:])+$/)}`.trimStart();if(I&&I!=="default"&&F)return[...y,{key:I,value:F}]}return y},[]);return!d&&!m.length?a:g({value:a,options:m,props:t,defaultValue:l,locale:r,parserOptions:s})}),H2=({value:e,props:t,payload:i,parserOptions:s,locale:r})=>{if(o7(e)){let n=a7({value:e,payload:i,props:t,parserOptions:s,locale:r});return H2({value:n,payload:i,props:t,parserOptions:s,locale:r})}else return Vg(e)},l7=e=>({parse:(t,[i,s],r,n)=>(i!=null&&i.default&&t===void 0&&(t=i.default),t===void 0&&(t=n),H2({value:t,payload:i,props:s,parserOptions:e,locale:r}))}),c7=l7,d7=Object.defineProperty,u7=Object.defineProperties,h7=Object.getOwnPropertyDescriptors,wh=Object.getOwnPropertySymbols,Z2=Object.prototype.hasOwnProperty,Y2=Object.prototype.propertyIsEnumerable,XC=(e,t,i)=>t in e?d7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,f7=(e,t)=>{for(var i in t||(t={}))Z2.call(t,i)&&XC(e,i,t[i]);if(wh)for(var i of wh(t))Y2.call(t,i)&&XC(e,i,t[i]);return e},p7=(e,t)=>u7(e,h7(t)),g7=(e,t)=>{var i={};for(var s in e)Z2.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&wh)for(var s of wh(e))t.indexOf(s)<0&&Y2.call(e,s)&&(i[s]=e[s]);return i},JC=e=>{var t=e,{parserOptions:i={}}=t,s=g7(t,["parserOptions"]);return p7(f7({},s),{parser:c7(i)})},m7=class extends XD{constructor(e){super(e&&JC(e)),this.loadConfig=t=>super.configLoader(JC(t))}},z2=m7,v7="Accept",b7="Cancel",C7="Close",y7="Decline",w7={title:"Error",subtitle:"An Error happened."},S7="Loading",R7={complete:"Awaiting response from your wallet.",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"Select an available account",blockchain:"Select which blockchain to login with",wallet:"Connect your wallet to login",no_accounts:"No accounts found",no_match:"No accounts found matching {{publicKey}}"},title:"Login","title-app":"{{appName}}"},A7={title:"Transact",subtitle:" ",processing:"Processing transaction",signing:"Signing transaction",signed:"Transaction signed",broadcasting:"Broadcasting transaction",broadcasted:"Transaction sent"},I7={title:"Settings",language:{title:"Language"},theme:{title:"Theme",automatic:"Automatic",light:"Light",dark:"Dark"},animations:{title:"Animations",enabled:"Enabled",disabled:"Disabled"},github:"Report an issue on Github",about:{title:"About",version:"Version {{version}}",author:"An open source SDK for Antelope-based blockchains created by Greymass and made possible through funding by the Antelope Coalition (EOS, Telos, UX, and WAX).",link:"Read more about Wharf"}},F7={accept:v7,cancel:b7,close:C7,decline:y7,error:w7,loading:S7,login:R7,transact:A7,settings:I7},x7="",_7="",E7="",M7="",k7={title:"",subtitle:" ."},D7="...",G7={complete:"",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:" ",blockchain:" ",wallet:" ",no_match:"{{publicKey}}     ."},title:"","title-app":"{{appName}} "},P7={title:"",subtitle:" ",processing:"Performing transaction...",signing:" ",signed:" ",broadcasting:" ",broadcasted:" "},O7={title:"",language:{title:""},theme:{title:"",automatic:"",light:" ",dark:" "},animations:{title:"",enabled:"",disabled:""},github:"Github  ",about:{title:"",version:"{{version}} ",author:"",link:"   "}},B7={accept:x7,cancel:_7,close:E7,decline:M7,error:k7,loading:D7,login:G7,transact:P7,settings:O7},W7="",T7="",L7="",N7="",V7={title:"",subtitle:""},H7="",Z7={complete:"",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"",blockchain:"",wallet:"",no_match:" {{publicKey}} "},title:"","title-app":" {{appName}}"},Y7={title:"",subtitle:" ",processing:"Performing transaction...",signing:"",signed:"",broadcasting:"",broadcasted:""},z7={title:"",language:{title:""},theme:{title:"",automatic:"",light:"",dark:""},animations:{title:"",enabled:"",disabled:""},github:" Github ",about:{title:"",version:" {{version}}",author:"",link:""}},UC={accept:W7,cancel:T7,close:L7,decline:N7,error:V7,loading:H7,login:Z7,transact:Y7,settings:z7},j7="",X7="",J7="",U7="",q7={title:"",subtitle:""},K7="",Q7={complete:"",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"",blockchain:"",wallet:"",no_match:" {{publicKey}} "},title:"","title-app":" {{appName}}"},$7={title:"",subtitle:"",processing:"Performing transaction...",signing:"",signed:"",broadcasting:"",broadcasted:""},eG={title:"",language:{title:""},theme:{title:"",automatic:"",light:"",dark:""},animations:{title:"",enabled:"",disabled:""},github:" Github ",about:{title:"",version:" {{version}}",author:"",link:""}},tG={accept:j7,cancel:X7,close:J7,decline:U7,error:q7,loading:K7,login:Q7,transact:$7,settings:eG},iG="Kabul Et",sG="ptal",rG="Kapat",nG="Reddet",oG={title:"Hata",subtitle:"Bir Hata meydana geldi."},aG="Ykleniyor...",lG={complete:"Czdannzdan yant bekleniyor.",enter:{account:"Hesap adn girin",lookup:"Hesap Ara",not_found:"Hesap bulunamad"},select:{account:"Mevcut bir hesap sein",blockchain:"Hangi blockchain ile giri yaplacan sein",wallet:"Czdannz balayarak giri yapn",no_match:"{{publicKey}} ile eleen hesap bulunamad"},title:"Giri","title-app":"{{appName}}"},cG={title:"lem",subtitle:" ",processing:"lem yaplyor...",signing:"lem imzalanyor",signed:"lem imzaland",broadcasting:"lem yaynlanyor",broadcasted:"lem gnderildi"},dG={title:"Ayarlar",language:{title:"Dil"},theme:{title:"Tema",automatic:"Otomatik",light:"Ak",dark:"Koyu"},animations:{title:"Animasyonlar",enabled:"Etkin",disabled:"Devre D"},github:"Github zerinde bir sorun bildir",about:{title:"Hakknda",version:"Srm {{version}}",author:"Greymass tarafndan oluturulan ve Antelope tabanl blockchain'ler iin bir ak kaynak SDK olan Wharf', Antelope Koalisyonu (EOS, Telos, UX ve WAX) tarafndan finanse edilerek mmkn klnmtr.",link:"Wharf hakknda daha fazla bilgi edinin"}},uG={accept:iG,cancel:sG,close:rG,decline:nG,error:oG,loading:aG,login:lG,transact:cG,settings:dG};const hG={en:{..._r,...F7},ko:{..._r,...B7},zh:{..._r,...UC},"zh-Hans":{..._r,...UC},"zh-Hant":{..._r,...tG},tr:{..._r,...uG}},j2={initLocale:"en",translations:hG},fG=(e={})=>{const t={...j2,...e};return new z2(t)};new z2(j2);const qC={id:"wharfkit-web-ui",minimal:!1},pG=()=>(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||"en").split("-")[0];class X2 extends q9{constructor(t=qC){super(),this.elementId="wharfkit-web-ui",this.initialized=!1,this.logging=!1,this.minimal=!1,this.addCancelablePromise=i=>av.update(s=>[...s,i]),this.options=t,typeof document<"u"&&this.initialize()}initialize(){if(this.initialized)return;const{options:t}=this;this.element=document.createElement("div"),this.elementId=t.id||qC.id,this.element.id=this.elementId,this.shadow=this.element.attachShadow({mode:"closed"}),this.i18n=fG();let i=pG();this.minimal=t.minimal||!1;const s=Lt(Vs).language;s&&(i=s),t.logging!==void 0&&(this.logging=t.logging),this.log(`Setting language to ${i}`),Vs.update(r=>({...r,language:i})),this.i18n.loadTranslations(i),document.readyState==="complete"||document.readyState==="interactive"?this.appendDialogElement():document.addEventListener("DOMContentLoaded",()=>this.appendDialogElement()),this.initialized=!0}appendDialogElement(){const t=document.getElementById(this.elementId);if(!this.element||!this.shadow)throw new Error("The WebRenderer is not initialized. Call the initialize method first.");t||(document.body.append(this.element),document.removeEventListener("DOMContentLoaded",()=>this.appendDialogElement()),new LD({target:this.shadow,props:{i18n:this.i18n}}))}log(...t){this.logging&&console.log("WebRenderer, LOG:",...t)}async login(t){this.log("login",t),fo.set(void 0),Rs.push("login");const i=cl(new Promise((s,r)=>lv.set({reject:r,resolve:s})));return this.addCancelablePromise(i.cancel),Kn.set(t),await i,this.minimal&&Ki.set(!1),i}async onError(t){const i=t instanceof lu,s=i&&t.silent===!0;this.log("onError",{isCancelable:i,isSilent:s,error:t}),!s&&(this.minimal?Ki.set(!1):(Ki.set(!0),uu.set(String(t)),Rs.push("error")))}async onAccountCreate(t){this.log("onAccountCreate",t),Ki.set(!0),Rs.push("create-account");const i=cl(new Promise((s,r)=>cv.set({reject:r,resolve:s})));return this.addCancelablePromise(i.cancel),Uo.set(t),i}async onAccountCreateComplete(){this.log("onAccountCreateComplete"),Ki.set(!1),zu()}async onLogin(){this.log("onLogin"),Ki.set(!0),Ri.update(t=>({...t,title:this.i18n.t.get("login.title",{default:"Login"}),subtitle:""})),Rs.push("login")}async onLoginComplete(){this.log("onLoginResult"),Ki.set(!1),zu()}async onTransact(){this.log("onTransact"),this.minimal||Ki.set(!0),Ri.update(t=>({...t,title:this.i18n.t.get("transact.title",{default:"Transact"}),subtitle:""})),Rs.push("transact")}async onTransactComplete(){this.log("onTransactResult"),zu(),Ki.set(!1)}async onSign(){this.log("onSign")}async onSignComplete(){this.log("onSignComplete")}async onBroadcast(){this.log("onBroadcast")}async onBroadcastComplete(){this.log("onBroadcastComplete")}prompt(t){this.log("prompt",t),(!this.minimal||this.minimal&&!t.optional)&&(Ki.set(!0),Rs.push("prompt"));const i=cl(new Promise((s,r)=>{fo.set({args:t,resolve:s,reject:r})}),s=>{throw s});return this.addCancelablePromise(i.cancel),i}status(t){this.minimal||Ki.set(!0),Ri.update(i=>({...i,subtitle:t}))}translate(t,i,s){return s?this.i18n.t.get(`${s}.${t}`,i):this.i18n.t.get(t,i)}addTranslations(t){this.i18n.addTranslations(t)}}X2.version="1.4.0-rc6";/*!
 * bulma-toast 2.4.4 
 * (c) 2018-present @rfoel <rafaelfr@outlook.com> 
 * Released under the MIT License.
 */function KC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,s)}return i}function Hg(e){for(var t,i=1;i<arguments.length;i++)t=arguments[i]==null?{}:arguments[i],i%2?KC(Object(t),!0).forEach(function(s){mG(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):KC(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))});return e}function J2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gG(e,t){for(var i,s=0;s<t.length;s++)i=t[s],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function U2(e,t,i){return t&&gG(e.prototype,t),e}function mG(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var vG={duration:2e3,position:"top-right",closeOnClick:!0,opacity:1,single:!1,offsetTop:0,offsetBottom:0,offsetLeft:0,offsetRight:0,extraClasses:""},Ua=Hg({},vG),ju={},bG=null,CG="width:100%;z-index:99999;position:fixed;pointer-events:none;display:flex;flex-direction:column;padding:15px;",yG=function(e,t,i,s,r){return e==="top-left"?"left:".concat(s,";top:").concat(t,";text-align:left;align-items:flex-start;"):e==="top-right"?"right:".concat(r,";top:").concat(t,";text-align:right;align-items:flex-end;"):e==="top-center"?"top:".concat(t,";left:0;right:0;text-align:center;align-items:center;"):e==="bottom-left"?"left:".concat(s,";bottom:").concat(i,";text-align:left;align-items:flex-start;"):e==="bottom-right"?"right:".concat(r,";bottom:").concat(i,";text-align:right;align-items:flex-end;"):e==="bottom-center"?"bottom:".concat(i,";left:0;right:0;text-align:center;align-items:center;"):e==="center"?"top:0;left:0;right:0;bottom:0;flex-flow:column;justify-content:center;align-items:center;":void 0};function Sh(){var e;return(e=bG)!==null&&e!==void 0?e:document}function wG(e,t,i,s,r,n){if(ju.position)return ju.position;var o=Sh().createElement("div");return o.setAttribute("style",CG+yG(t,i,s,r,n)),e.appendChild(o),ju.position=o,o}function ui(e){if(!e.message)throw new Error("message is required");var t=Hg(Hg({},Ua),e),i=new SG(t),s=wG(t.appendTo||Sh().body,t.position||Ua.position,t.offsetTop||Ua.offsetTop,t.offsetBottom||Ua.offsetBottom,t.offsetLeft||Ua.offsetLeft,t.offsetRight||Ua.offsetRight);if(t.single)for(var r=s.lastElementChild;r;)s.removeChild(r),r=s.lastElementChild;s.appendChild(i.element)}var SG=function(){function e(t){var i=this;J2(this,e),this.element=Sh().createElement("div"),this.opacity=t.opacity,this.type=t.type,this.animate=t.animate,this.dismissible=t.dismissible,this.closeOnClick=t.closeOnClick,this.message=t.message,this.duration=t.duration,this.pauseOnHover=t.pauseOnHover,this.offsetTop=t.offsetTop,this.offsetBottom=t.offsetBottom,this.offsetLeft=t.offsetLeft,this.offsetRight=t.offsetRight,this.extraClasses=t.extraClasses;var s="width:auto;pointer-events:auto;display:inline-flex;white-space:pre-wrap;opacity:".concat(this.opacity,";"),r=["notification",this.extraClasses];if(this.type&&r.push(this.type),this.animate&&this.animate.in){var n="animate__".concat(this.animate.in),o=this.animate.speed?"animate__".concat(this.animate.speed):"animate__faster";r.push("animate__animated ".concat(n," ").concat(o)),this.onAnimationEnd(function(){return i.element.classList.remove(n)})}if(this.element.className=r.join(" "),this.dismissible){var a=Sh().createElement("button");a.className="delete",a.addEventListener("click",function(){i.destroy()}),this.element.insertAdjacentElement("afterbegin",a)}else s+="padding: 1.25rem 1.5rem";this.closeOnClick&&this.element.addEventListener("click",function(){i.destroy()}),this.element.setAttribute("style",s),typeof this.message=="string"?this.element.insertAdjacentHTML("beforeend",this.message):this.element.appendChild(this.message);var l=new RG(function(){i.destroy()},this.duration);this.pauseOnHover&&(this.element.addEventListener("mouseover",function(){l.pause()}),this.element.addEventListener("mouseout",function(){l.resume()}))}return U2(e,[{key:"destroy",value:function(){var t=this;this.animate&&this.animate.out?(this.element.classList.add("animate__".concat(this.animate.out)),this.onAnimationEnd(function(){t.removeParent(t.element.parentNode),t.element.remove()})):(this.removeParent(this.element.parentNode),this.element.remove())}},{key:"removeParent",value:function(t){t&&1>=t.children.length&&(t.remove(),delete ju.position)}},{key:"onAnimationEnd",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:function(){},i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var s in i)if(this.element.style[s]!==void 0){this.element.addEventListener(i[s],function(){return t()});break}}}]),e}(),RG=function(){function e(t,i){J2(this,e),this.timer,this.start,this.remaining=i,this.callback=t,this.resume()}return U2(e,[{key:"pause",value:function(){typeof document>"u"||(window.clearTimeout(this.timer),this.remaining-=new Date-this.start)}},{key:"resume",value:function(){typeof document>"u"||(this.start=new Date,window.clearTimeout(this.timer),this.timer=window.setTimeout(this.callback,this.remaining))}}]),e}();const Qt=async(e,t)=>{try{const i=await e;return t&&ui({message:t,type:"is-success"}),i}catch(i){throw ui({message:i==null?void 0:i.message,type:"is-danger"}),console.error(i),i}},q2="https://jungle4.cryptolions.io:443",K2="https://eos.greymass.com",AG=new Po({url:K2}),IG=new Po({url:q2}),QC=new Qm({client:AG}),$C=new Qm({client:IG}),vp={anchor:new q6,tokenPocket:new xx,wombat:new _x,cloudWallet:new Rx},Er=Kd()(Qd((e,t)=>({initialize:async()=>{const i=await Qt(QC.load("eosio.token")),s=await Qt($C.load("eosio.token")),r=await Qt(QC.load("radarstation")),n=await Qt($C.load("radarstation")),o=new U9({appName:"eos-radar-station.mainnet",chains:[{id:bi.Jungle4.id,url:q2},{id:bi.EOS.id,url:K2}],ui:new X2({minimal:!0}),walletPlugins:Object.values(vp)},{transactPlugins:[new v6]});let a,l,c,d,u;try{a=await o.restore({chain:bi.EOS,walletPlugin:vp}),l=await o.restore({chain:bi.Jungle4,walletPlugin:vp}),console.log("restored MAINNET session is",a),console.log("restored JUNGLE4 session is",l),d=await Qt(a==null?void 0:a.account()),u=await Qt(l==null?void 0:l.account()),c=await Qt(o.getSessions())}catch(f){console.warn(f),ui({message:"No previous wallet sessions found",type:"is-warning"})}e({sessionKit:o,appContractMainnet:r,appContractJungle4:n,tokenContractMainnet:i,tokenContractJungle4:s,sessionMainnet:a,sessionJungle4:l,savedSessions:c,accountMainnet:d,accountJungle4:u})},loginMainnet:async()=>await t().login(bi.EOS),loginJungle4:async()=>await t().login(bi.Jungle4),login:async i=>{var r,n,o,a,l;const{sessionKit:s}=t();if(s){const c=await Qt(s.login({chain:i}));if(console.log("login result is",c),console.log("login result signature is",(r=c.response.identityProof)==null?void 0:r.signature),console.log("login result transaction is",(n=c.response.identityProof)==null?void 0:n.transaction.id),c&&c.session){const d=await Qt(s.getSessions()),u=await Qt((o=c==null?void 0:c.session)==null?void 0:o.account());return((a=c==null?void 0:c.session)==null?void 0:a.chain.id)===bi.EOS.id&&(e({sessionMainnet:c.session,accountMainnet:u,savedSessions:d}),console.log("restored MAINNET session",c.session)),((l=c==null?void 0:c.session)==null?void 0:l.chain.id)===bi.Jungle4.id&&(e({sessionJungle4:c.session,accountJungle4:u,savedSessions:d}),console.log("restored JUNGLE4 session",c.session)),`${c.session.actor}:${c.session.permissionLevel.actor.toString()}`}return}else return},logout:async i=>{const{sessionKit:s,sessionMainnet:r,sessionJungle4:n}=t();s?(i.id===bi.EOS.id&&await Qt(s.logout(r)),i.id===bi.Jungle4.id&&await Qt(s.logout(n))):ui({message:"You do not have any session to logout from",type:"is-danger"});const o=await Qt(s.getSessions());i.id===bi.EOS.id&&e({sessionMainnet:void 0,accountMainnet:void 0,savedSessions:o}),i.id===bi.Jungle4.id&&e({sessionJungle4:void 0,accountJungle4:void 0,savedSessions:o})},logoutMainnet:async()=>await t().logout(bi.EOS),logoutJungle4:async()=>await t().logout(bi.Jungle4),restoreSession:async i=>{const{sessionKit:s}=t();let r;if(!s)return ui({message:"Something went wrong. Please refresh the page",type:"is-warning"});r=await Qt(s.restore(i)),console.log("session restored is for chain ",r.chain);const n=await Qt(r==null?void 0:r.account());r.chain.id===bi.EOS.id&&(e({sessionMainnet:r,accountMainnet:n}),console.log("restored MAINNET session",r)),r.chain.id===bi.Jungle4.id&&(e({sessionJungle4:r,accountJungle4:n}),console.log("restored JUNGLE4 session",r))},sessionKit:void 0,savedSessions:[],accountMainnet:void 0,accountJungle4:void 0,notStakedCheese:void 0,sessionMainnet:void 0,sessionJungle4:void 0,tokenContractMainnet:void 0,tokenContractJungle4:void 0,appContractMainnet:void 0,appContractJungle4:void 0}))),un=()=>({session:Er.getState().sessionMainnet,account:Er.getState().accountMainnet,appContract:Er.getState().appContractMainnet,login:Er.getState().loginMainnet,logout:Er.getState().logoutMainnet,tokenContract:Er.getState().tokenContractMainnet});function FG(e){const t=s=>Array.isArray(s)?s[0].split(":"):s.split(":"),i=typeof e=="object"&&!Array.isArray(e)?t(e.data):t(e);return{token:i[4],from:i[2],quantity:parseFloat(i[3])||i[3],to:i[5],date:new Date(Number(i[0])),txHash:i[1],ticker:i[4]}}const Bc=Kd()(Qd((e,t)=>({isGridReady:()=>!!t().gridApi,setGrid:i=>e({gridApi:i.api}),gridApi:null}))),fu=Kd()(Qd((e,t)=>({isModalOpen:()=>t().isRDRInfoModalOpen||t().isExampleModal_NotInUseOpen,isRDRInfoModalOpen:!1,isExampleModal_NotInUseOpen:!1,openRDRInfoModal:()=>{e({isRDRInfoModalOpen:!0})},closeRDRInfoModal:()=>e({isRDRInfoModalOpen:!1}),openExampleModal_NotInUse:()=>{e({isExampleModal_NotInUseOpen:!0})},closeExampleModal_NotInUse:()=>e({isExampleModal_NotInUseOpen:!1})})));function pv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xG(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function gv(e,t,i){return t&&xG(e.prototype,t),e}function ey(e){return+e.replace(/px/,"")}function _G(e){var t=window.devicePixelRatio,i=getComputedStyle(e),s=ey(i.getPropertyValue("width")),r=ey(i.getPropertyValue("height"));e.setAttribute("width",(s*t).toString()),e.setAttribute("height",(r*t).toString())}function rr(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=Math.random()*(t-e)+e;return Math.floor(s*Math.pow(10,i))/Math.pow(10,i)}function ty(e){return e[rr(0,e.length)]}var EG=.00125,MG=5e-4,kG=9e-4,DG=1e-5,GG=6,PG=80,OG=.9,BG=1.7,WG=.2,TG=.6,LG=.03,NG=.07,iy=15,sy=82,VG=150,HG=100,ZG=250,YG=40,zG=["#fcf403","#62fc03","#f4fc03","#03e7fc","#03fca5","#a503fc","#fc03ad","#fc03c2"];function ry(e){var t=1920;return Math.log(e)/Math.log(t)}var ny=function(){function e(t){pv(this,e);var i=t.initialPosition,s=t.direction,r=t.confettiRadius,n=t.confettiColors,o=t.emojis,a=t.emojiSize,l=t.canvasWidth,c=rr(OG,BG,3),d=c*ry(l);this.confettiSpeed={x:d,y:d},this.finalConfettiSpeedX=rr(WG,TG,3),this.rotationSpeed=o.length?.01:rr(LG,NG,3)*ry(l),this.dragForceCoefficient=rr(MG,kG,6),this.radius={x:r,y:r},this.initialRadius=r,this.rotationAngle=s==="left"?rr(0,.2,3):rr(-.2,0,3),this.emojiSize=a,this.emojiRotationAngle=rr(0,2*Math.PI),this.radiusYUpdateDirection="down";var u=s==="left"?rr(sy,iy)*Math.PI/180:rr(-iy,-sy)*Math.PI/180;this.absCos=Math.abs(Math.cos(u)),this.absSin=Math.abs(Math.sin(u));var f=rr(-VG,0),g={x:i.x+(s==="left"?-f:f)*this.absCos,y:i.y-f*this.absSin};this.currentPosition=Object.assign({},g),this.initialPosition=Object.assign({},g),this.color=o.length?null:ty(n),this.emoji=o.length?ty(o):null,this.createdAt=new Date().getTime(),this.direction=s}return gv(e,[{key:"draw",value:function(i){var s=this.currentPosition,r=this.radius,n=this.color,o=this.emoji,a=this.rotationAngle,l=this.emojiRotationAngle,c=this.emojiSize,d=window.devicePixelRatio;n?(i.fillStyle=n,i.beginPath(),i.ellipse(s.x*d,s.y*d,r.x*d,r.y*d,a,0,2*Math.PI),i.fill()):o&&(i.font="".concat(c,"px serif"),i.save(),i.translate(d*s.x,d*s.y),i.rotate(l),i.textAlign="center",i.fillText(o,0,0),i.restore())}},{key:"updatePosition",value:function(i,s){var r=this.confettiSpeed,n=this.dragForceCoefficient,o=this.finalConfettiSpeedX,a=this.radiusYUpdateDirection,l=this.rotationSpeed,c=this.createdAt,d=this.direction,u=s-c;if(r.x>o&&(this.confettiSpeed.x-=n*i),this.currentPosition.x+=r.x*(d==="left"?-this.absCos:this.absCos)*i,this.currentPosition.y=this.initialPosition.y-r.y*this.absSin*u+EG*Math.pow(u,2)/2,this.rotationSpeed-=this.emoji?1e-4:DG*i,this.rotationSpeed<0&&(this.rotationSpeed=0),this.emoji){this.emojiRotationAngle+=this.rotationSpeed*i%(2*Math.PI);return}a==="down"?(this.radius.y-=i*l,this.radius.y<=0&&(this.radius.y=0,this.radiusYUpdateDirection="up")):(this.radius.y+=i*l,this.radius.y>=this.initialRadius&&(this.radius.y=this.initialRadius,this.radiusYUpdateDirection="down"))}},{key:"getIsVisibleOnCanvas",value:function(i){return this.currentPosition.y<i+HG}}]),e}();function jG(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.width="100%",e.style.height="100%",e.style.top="0",e.style.left="0",e.style.zIndex="1000",e.style.pointerEvents="none",document.body.appendChild(e),e}function XG(e){var t=e.confettiRadius,i=t===void 0?GG:t,s=e.confettiNumber,r=s===void 0?e.confettiesNumber||(e.emojis?YG:ZG):s,n=e.confettiColors,o=n===void 0?zG:n,a=e.emojis,l=a===void 0?e.emojies||[]:a,c=e.emojiSize,d=c===void 0?PG:c;return e.emojies&&console.error("emojies argument is deprecated, please use emojis instead"),e.confettiesNumber&&console.error("confettiesNumber argument is deprecated, please use confettiNumber instead"),{confettiRadius:i,confettiNumber:r,confettiColors:o,emojis:l,emojiSize:d}}var JG=function(){function e(t){var i=this;pv(this,e),this.canvasContext=t,this.shapes=[],this.promise=new Promise(function(s){return i.resolvePromise=s})}return gv(e,[{key:"getBatchCompletePromise",value:function(){return this.promise}},{key:"addShapes",value:function(){var i;(i=this.shapes).push.apply(i,arguments)}},{key:"complete",value:function(){var i;return this.shapes.length?!1:((i=this.resolvePromise)===null||i===void 0||i.call(this),!0)}},{key:"processShapes",value:function(i,s,r){var n=this,o=i.timeDelta,a=i.currentTime;this.shapes=this.shapes.filter(function(l){return l.updatePosition(o,a),l.draw(n.canvasContext),r?l.getIsVisibleOnCanvas(s):!0})}}]),e}(),UG=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};pv(this,e),this.activeConfettiBatches=[],this.canvas=t.canvas||jG(),this.canvasContext=this.canvas.getContext("2d"),this.requestAnimationFrameRequested=!1,this.lastUpdated=new Date().getTime(),this.iterationIndex=0,this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}return gv(e,[{key:"loop",value:function(){this.requestAnimationFrameRequested=!1,_G(this.canvas);var i=new Date().getTime(),s=i-this.lastUpdated,r=this.canvas.offsetHeight,n=this.iterationIndex%10===0;this.activeConfettiBatches=this.activeConfettiBatches.filter(function(o){return o.processShapes({timeDelta:s,currentTime:i},r,n),n?!o.complete():!0}),this.iterationIndex++,this.queueAnimationFrameIfNeeded(i)}},{key:"queueAnimationFrameIfNeeded",value:function(i){this.requestAnimationFrameRequested||this.activeConfettiBatches.length<1||(this.requestAnimationFrameRequested=!0,this.lastUpdated=i||new Date().getTime(),requestAnimationFrame(this.loop))}},{key:"addConfetti",value:function(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=XG(i),r=s.confettiRadius,n=s.confettiNumber,o=s.confettiColors,a=s.emojis,l=s.emojiSize,c=this.canvas.getBoundingClientRect(),d=c.width,u=c.height,f=u*5/7,g={x:0,y:f},m={x:d,y:f},y=new JG(this.canvasContext),b=0;b<n/2;b++){var S=new ny({initialPosition:g,direction:"right",confettiRadius:r,confettiColors:o,confettiNumber:n,emojis:a,emojiSize:l,canvasWidth:d}),I=new ny({initialPosition:m,direction:"left",confettiRadius:r,confettiColors:o,confettiNumber:n,emojis:a,emojiSize:l,canvasWidth:d});y.addShapes(S,I)}return this.activeConfettiBatches.push(y),this.queueAnimationFrameIfNeeded(),y.getBatchCompletePromise()}},{key:"clearCanvas",value:function(){this.activeConfettiBatches=[]}},{key:"destroyCanvas",value:function(){this.canvas.remove()}}]),e}();const qG=e=>{var t,i;return console.log("appContractAccount is",e),{redeemable:Number(((t=e==null?void 0:e.redeemable)==null?void 0:t.quantity)??0),balance:Number(((i=e==null?void 0:e.balance)==null?void 0:i.quantity)??0)}},pu=Kd()(Qd((e,t)=>({jsConfetti:null,uiUser:void 0,initialize:async()=>{console.log("[uiUserStore] initialize"),await Qt(t().refreshUser()),e({jsConfetti:new UG})},refreshUser:async()=>{console.log("[refreshUser]");const{session:i,appContract:s}=un();if(i&&s){const r=s.table("accounts",i.actor.toString()),n=await Qt(r.get("RDR"));e({uiUser:qG(n)})}else e({uiUser:void 0});return t().uiUser},stake:async i=>{const{session:s,tokenContract:r,appContract:n,account:o}=un();if(s&&r){const a=r.action("transfer",{from:String(o==null?void 0:o.accountName.toString()),to:"radarstation",quantity:ie.from(`${i.toFixed(4)} EOS`),memo:"become observer"});fu.getState().closeRDRInfoModal(),s&&await Qt(s.transact({action:a}),`Added ${i*24*60*60} RDR Entitlements`),await Qt(t().refreshUser())}else ui({message:"Connect wallet first",type:"is-warning"})},donate:async(i,s)=>{const{session:r,tokenContract:n}=un();if(r&&n){const o=n.action("transfer",{from:r.actor.toString(),to:"radarstation",quantity:ie.from(`${i.toFixed(4)} EOS`),memo:`Donated to the development of eos-radar-station.com${s?`. Msg: ${s}`:""}`});await Qt(r.transact({action:o})),await t().jsConfetti.addConfetti(),ui({message:"Thank you so much for Donating!",type:"is-success"})}else{let a=0;for(;a<3;){a++;try{const l=await un().login();if(console.log("login result is ",l),l)break}catch(l){console.error(`attempt ${a} failed: ${l.message}`)}}console.log("will donate"),await t().donate(i,s)}},checkin:async(i,s)=>{if(!s||!s.length){ui({message:"Please select at least one coin for the upgade",type:"is-warning"});return}const{session:r,appContract:n}=un();if(r&&n){const o=n.action("checkin",{stationer:r.actor.toString(),memo:`${i}:${s.join(",")}`});return r&&await Qt(r.transact({action:o}))}else return console.error("Someting went wrong: eiteher session or contract are not available"),null}}))),KG=1e3*30+1e3*30+1e3*1,QG=1;function bp(e){let t=document.querySelector("link[rel~='icon']");console.log("changing link"),t||(console.log("link not present"),t=document.createElement("link"),t.rel="icon",document.head.appendChild(t)),t.href=e}function $G(e){return typeof e=="object"&&Object.prototype.toString.call(e)==="[object Blob]"}const Fr=Kd()(Qd((e,t)=>({isConnected:!1,isUpgraded:!1,socket:null,wsHeartbeat:i=>{if(i)i&&i.pingTimeoutId&&clearTimeout(i.pingTimeoutId);else return;i.pingTimeoutId=setTimeout(()=>{i.close(),console.log("closing socket")},KG);const s=new Uint8Array(1);s[0]=QG,i.send(s)},connectWebSocket:async()=>{console.log("connect web socket"),t().disconnectWebSocket();try{const{account:i,session:s}=un();let r=new WebSocket(`wss://watch-eos.fly.dev/wp/e?a=${String(i==null?void 0:i.accountName)}:${String(s==null?void 0:s.permissionLevel.permission)}`);r.onopen=()=>{bp("/radarstation.svg"),ui({message:"Socket open",type:"is-success"}),r!==t().socket&&t().disconnectWebSocket(),e({socket:r,isConnected:!0,isUpgraded:!1})},r.onmessage=async n=>{if($G(n.data))t().wsHeartbeat(r);else{const{session:o}=un();if(!o&&t().isUpgraded){ui({message:"No wallet session available",type:"is-warning"});try{r&&r.pingTimeoutId&&clearTimeout(r.pingTimeoutId),r.close(),r=null,t().disconnectWebSocket(),setTimeout(async()=>await t().connectWebSocket(),1e3)}catch{}}const a=FG(n.data);try{Bc.getState().isGridReady||console.error("grid is not ready, not adding new ws data"),Bc.getState().gridApi.getRowNode(a.txHash)||(Bc.getState().gridApi.applyTransaction({add:[{txHash:a.txHash}],addIndex:0}),Bc.getState().gridApi.applyTransaction({update:[a]}))}catch(l){console.log("Error adding data on onmessage",l)}}},r.onclose=()=>{bp("/radarstation-offline.svg"),ui({message:"Socket close",type:"is-warning"}),r&&r.pingTimeoutId&&clearTimeout(r.pingTimeoutId),r=null,e({socket:r,isConnected:!1,isUpgraded:!1})},r.onerror=n=>{console.error("onerror event in websocket",n),bp("/radarstation-offline.svg"),ui({message:"Socket error",type:"is-danger"}),r&&r.pingTimeoutId&&clearTimeout(r.pingTimeoutId),r=null,e({socket:r,isConnected:!1,isUpgraded:!1})}}catch(i){console.error("Error:",i)}},disconnectWebSocket:()=>{try{clearTimeout(t().socket.pingTimeoutId),t().socket.close()}catch{}e({socket:null,isConnected:!1,isUpgraded:!1})},upgradeToSubscription:async i=>{const{session:s}=un();if(t().isUpgraded&&JSON.stringify(t().socket.currentlyUpgradedCoins)===JSON.stringify(i))return ui({message:"You are already upgraded. Nothing more to do",type:"is-success"});if(t().isUpgraded&&ui({message:"Logging in again to unlock new selected coins",type:"is-success"}),!s)return ui({message:"please login first",type:"is-warning"});if(!t().isConnected)return ui({message:"please connect to obfuscated feed first",type:"is-warning"});try{const n=await(await fetch("https://watch-eos.fly.dev/login/nonce",{method:"POST",body:JSON.stringify({actor:s.actor.toString(),actorPermission:s.permissionLevel.permission.toString()})})).json();console.log("server sent nonce ",n);const o=await pu.getState().checkin(n.b,i);if(console.log("checkin Result is",o),!o)return;const a=await fetch("https://watch-eos.fly.dev/login",{method:"POST",body:JSON.stringify({actor:s.actor.toString(),actorPermission:s.permissionLevel.permission.toString(),a:n.a,nonceTransaction:{chainId:o.chain.id,txId:o.response.transaction_id,blockNum:o.response.processed.block_num}})});a.status!==200?ui({message:"Server login unsuccessful... Please try again!",type:"is-danger"}):(ui({message:"Server login successful!",type:"is-success"}),t().socket.currentlyUpgradedCoins=i,e({isUpgraded:!0}));const l=await a.json();console.log("server login result is ",l)}catch{return ui({message:"Server login failed",type:"is-danger"})}}})));var Zg={exports:{}},ka={};const mv=Em(M3);var Q2={exports:{}},e8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",t8=e8,i8=t8;function $2(){}function eS(){}eS.resetWarningCache=$2;var s8=function(){function e(s,r,n,o,a,l){if(l!==i8){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eS,resetWarningCache:$2};return i.PropTypes=i,i};Q2.exports=s8();var tS=Q2.exports,Yg={exports:{}},Cr={},zg={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var i="none",s="contents",r=/input|select|textarea|button|object|iframe/;function n(u,f){return f.getPropertyValue("overflow")!=="visible"||u.scrollWidth<=0&&u.scrollHeight<=0}function o(u){var f=u.offsetWidth<=0&&u.offsetHeight<=0;if(f&&!u.innerHTML)return!0;try{var g=window.getComputedStyle(u),m=g.getPropertyValue("display");return f?m!==s&&n(u,g):m===i}catch{return console.warn("Failed to inspect element style"),!1}}function a(u){for(var f=u,g=u.getRootNode&&u.getRootNode();f&&f!==document.body;){if(g&&f===g&&(f=g.host.parentNode),o(f))return!1;f=f.parentNode}return!0}function l(u,f){var g=u.nodeName.toLowerCase(),m=r.test(g)&&!u.disabled||g==="a"&&u.href||f;return m&&a(u)}function c(u){var f=u.getAttribute("tabindex");f===null&&(f=void 0);var g=isNaN(f);return(g||f>=0)&&l(u,!g)}function d(u){var f=[].slice.call(u.querySelectorAll("*"),0).reduce(function(g,m){return g.concat(m.shadowRoot?d(m.shadowRoot):[m])},[]);return f.filter(c)}e.exports=t.default})(zg,zg.exports);var iS=zg.exports;Object.defineProperty(Cr,"__esModule",{value:!0});Cr.resetState=a8;Cr.log=l8;Cr.handleBlur=Vd;Cr.handleFocus=Hd;Cr.markForFocusLater=c8;Cr.returnFocus=d8;Cr.popWithoutFocus=u8;Cr.setupScopedFocus=h8;Cr.teardownScopedFocus=f8;var r8=iS,n8=o8(r8);function o8(e){return e&&e.__esModule?e:{default:e}}var jl=[],ol=null,jg=!1;function a8(){jl=[]}function l8(){}function Vd(){jg=!0}function Hd(){if(jg){if(jg=!1,!ol)return;setTimeout(function(){if(!ol.contains(document.activeElement)){var e=(0,n8.default)(ol)[0]||ol;e.focus()}},0)}}function c8(){jl.push(document.activeElement)}function d8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{jl.length!==0&&(t=jl.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function u8(){jl.length>0&&jl.pop()}function h8(e){ol=e,window.addEventListener?(window.addEventListener("blur",Vd,!1),document.addEventListener("focus",Hd,!0)):(window.attachEvent("onBlur",Vd),document.attachEvent("onFocus",Hd))}function f8(){ol=null,window.addEventListener?(window.removeEventListener("blur",Vd),document.removeEventListener("focus",Hd)):(window.detachEvent("onBlur",Vd),document.detachEvent("onFocus",Hd))}var Xg={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=iS,s=r(i);function r(a){return a&&a.__esModule?a:{default:a}}function n(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?n(a.activeElement.shadowRoot):a.activeElement}function o(a,l){var c=(0,s.default)(a);if(!c.length){l.preventDefault();return}var d=void 0,u=l.shiftKey,f=c[0],g=c[c.length-1],m=n();if(a===m){if(!u)return;d=g}if(g===m&&!u&&(d=f),f===m&&u&&(d=g),d){l.preventDefault(),d.focus();return}var y=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),b=y!=null&&y[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(b){var S=c.indexOf(m);if(S>-1&&(S+=u?-1:1),d=c[S],typeof d>"u"){l.preventDefault(),d=u?g:f,d.focus();return}l.preventDefault(),d.focus()}}e.exports=t.default})(Xg,Xg.exports);var p8=Xg.exports,yr={},g8=function(){},m8=g8,dr={},sS={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),i={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=i:window.ExecutionEnvironment=i})()})(sS);var v8=sS.exports;Object.defineProperty(dr,"__esModule",{value:!0});dr.canUseDOM=dr.SafeNodeList=dr.SafeHTMLCollection=void 0;var b8=v8,C8=y8(b8);function y8(e){return e&&e.__esModule?e:{default:e}}var vf=C8.default,w8=vf.canUseDOM?window.HTMLElement:{};dr.SafeHTMLCollection=vf.canUseDOM?window.HTMLCollection:{};dr.SafeNodeList=vf.canUseDOM?window.NodeList:{};dr.canUseDOM=vf.canUseDOM;dr.default=w8;Object.defineProperty(yr,"__esModule",{value:!0});yr.resetState=F8;yr.log=x8;yr.assertNodeList=rS;yr.setElement=_8;yr.validateElement=vv;yr.hide=E8;yr.show=M8;yr.documentNotReadyOrSSRTesting=k8;var S8=m8,R8=I8(S8),A8=dr;function I8(e){return e&&e.__esModule?e:{default:e}}var Ps=null;function F8(){Ps&&(Ps.removeAttribute?Ps.removeAttribute("aria-hidden"):Ps.length!=null?Ps.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(Ps).forEach(function(e){return e.removeAttribute("aria-hidden")})),Ps=null}function x8(){}function rS(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function _8(e){var t=e;if(typeof t=="string"&&A8.canUseDOM){var i=document.querySelectorAll(t);rS(i,t),t=i}return Ps=t||Ps,Ps}function vv(e){var t=e||Ps;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,R8.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function E8(e){var t=!0,i=!1,s=void 0;try{for(var r=vv(e)[Symbol.iterator](),n;!(t=(n=r.next()).done);t=!0){var o=n.value;o.setAttribute("aria-hidden","true")}}catch(a){i=!0,s=a}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}}function M8(e){var t=!0,i=!1,s=void 0;try{for(var r=vv(e)[Symbol.iterator](),n;!(t=(n=r.next()).done);t=!0){var o=n.value;o.removeAttribute("aria-hidden")}}catch(a){i=!0,s=a}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}}function k8(){Ps=null}var gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.resetState=D8;gc.log=G8;var Uc={},qc={};function oy(e,t){e.classList.remove(t)}function D8(){var e=document.getElementsByTagName("html")[0];for(var t in Uc)oy(e,Uc[t]);var i=document.body;for(var s in qc)oy(i,qc[s]);Uc={},qc={}}function G8(){}var P8=function(t,i){return t[i]||(t[i]=0),t[i]+=1,i},O8=function(t,i){return t[i]&&(t[i]-=1),i},B8=function(t,i,s){s.forEach(function(r){P8(i,r),t.add(r)})},W8=function(t,i,s){s.forEach(function(r){O8(i,r),i[r]===0&&t.remove(r)})};gc.add=function(t,i){return B8(t.classList,t.nodeName.toLowerCase()=="html"?Uc:qc,i.split(" "))};gc.remove=function(t,i){return W8(t.classList,t.nodeName.toLowerCase()=="html"?Uc:qc,i.split(" "))};var mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.log=L8;mc.resetState=N8;function T8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var nS=function e(){var t=this;T8(this,e),this.register=function(i){t.openInstances.indexOf(i)===-1&&(t.openInstances.push(i),t.emit("register"))},this.deregister=function(i){var s=t.openInstances.indexOf(i);s!==-1&&(t.openInstances.splice(s,1),t.emit("deregister"))},this.subscribe=function(i){t.subscribers.push(i)},this.emit=function(i){t.subscribers.forEach(function(s){return s(i,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Rh=new nS;function L8(){console.log("portalOpenInstances ----------"),console.log(Rh.openInstances.length),Rh.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function N8(){Rh=new nS}mc.default=Rh;var bv={};Object.defineProperty(bv,"__esModule",{value:!0});bv.resetState=Y8;bv.log=z8;var V8=mc,H8=Z8(V8);function Z8(e){return e&&e.__esModule?e:{default:e}}var Ti=void 0,nr=void 0,sa=[];function Y8(){for(var e=[Ti,nr],t=0;t<e.length;t++){var i=e[t];i&&i.parentNode&&i.parentNode.removeChild(i)}Ti=nr=null,sa=[]}function z8(){console.log("bodyTrap ----------"),console.log(sa.length);for(var e=[Ti,nr],t=0;t<e.length;t++){var i=e[t],s=i||{};console.log(s.nodeName,s.className,s.id)}console.log("edn bodyTrap ----------")}function ay(){sa.length!==0&&sa[sa.length-1].focusContent()}function j8(e,t){!Ti&&!nr&&(Ti=document.createElement("div"),Ti.setAttribute("data-react-modal-body-trap",""),Ti.style.position="absolute",Ti.style.opacity="0",Ti.setAttribute("tabindex","0"),Ti.addEventListener("focus",ay),nr=Ti.cloneNode(),nr.addEventListener("focus",ay)),sa=t,sa.length>0?(document.body.firstChild!==Ti&&document.body.insertBefore(Ti,document.body.firstChild),document.body.lastChild!==nr&&document.body.appendChild(nr)):(Ti.parentElement&&Ti.parentElement.removeChild(Ti),nr.parentElement&&nr.parentElement.removeChild(nr))}H8.default.subscribe(j8);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(R){for(var A=1;A<arguments.length;A++){var M=arguments[A];for(var x in M)Object.prototype.hasOwnProperty.call(M,x)&&(R[x]=M[x])}return R},s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},r=function(){function R(A,M){for(var x=0;x<M.length;x++){var G=M[x];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(A,G.key,G)}}return function(A,M,x){return M&&R(A.prototype,M),x&&R(A,x),A}}(),n=mv,o=tS,a=V(o),l=Cr,c=D(l),d=p8,u=V(d),f=yr,g=D(f),m=gc,y=D(m),b=dr,S=V(b),I=mc,F=V(I);function D(R){if(R&&R.__esModule)return R;var A={};if(R!=null)for(var M in R)Object.prototype.hasOwnProperty.call(R,M)&&(A[M]=R[M]);return A.default=R,A}function V(R){return R&&R.__esModule?R:{default:R}}function O(R,A){if(!(R instanceof A))throw new TypeError("Cannot call a class as a function")}function L(R,A){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:R}function q(R,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);R.prototype=Object.create(A&&A.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(R,A):R.__proto__=A)}var T={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},X=function(A){return A.code==="Tab"||A.keyCode===9},_=function(A){return A.code==="Escape"||A.keyCode===27},v=0,w=function(R){q(A,R);function A(M){O(this,A);var x=L(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,M));return x.setOverlayRef=function(G){x.overlay=G,x.props.overlayRef&&x.props.overlayRef(G)},x.setContentRef=function(G){x.content=G,x.props.contentRef&&x.props.contentRef(G)},x.afterClose=function(){var G=x.props,E=G.appElement,C=G.ariaHideApp,k=G.htmlOpenClassName,ce=G.bodyOpenClassName,de=G.parentSelector,ue=de&&de().ownerDocument||document;ce&&y.remove(ue.body,ce),k&&y.remove(ue.getElementsByTagName("html")[0],k),C&&v>0&&(v-=1,v===0&&g.show(E)),x.props.shouldFocusAfterRender&&(x.props.shouldReturnFocusAfterClose?(c.returnFocus(x.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),x.props.onAfterClose&&x.props.onAfterClose(),F.default.deregister(x)},x.open=function(){x.beforeOpen(),x.state.afterOpen&&x.state.beforeClose?(clearTimeout(x.closeTimer),x.setState({beforeClose:!1})):(x.props.shouldFocusAfterRender&&(c.setupScopedFocus(x.node),c.markForFocusLater()),x.setState({isOpen:!0},function(){x.openAnimationFrame=requestAnimationFrame(function(){x.setState({afterOpen:!0}),x.props.isOpen&&x.props.onAfterOpen&&x.props.onAfterOpen({overlayEl:x.overlay,contentEl:x.content})})}))},x.close=function(){x.props.closeTimeoutMS>0?x.closeWithTimeout():x.closeWithoutTimeout()},x.focusContent=function(){return x.content&&!x.contentHasFocus()&&x.content.focus({preventScroll:!0})},x.closeWithTimeout=function(){var G=Date.now()+x.props.closeTimeoutMS;x.setState({beforeClose:!0,closesAt:G},function(){x.closeTimer=setTimeout(x.closeWithoutTimeout,x.state.closesAt-Date.now())})},x.closeWithoutTimeout=function(){x.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},x.afterClose)},x.handleKeyDown=function(G){X(G)&&(0,u.default)(x.content,G),x.props.shouldCloseOnEsc&&_(G)&&(G.stopPropagation(),x.requestClose(G))},x.handleOverlayOnClick=function(G){x.shouldClose===null&&(x.shouldClose=!0),x.shouldClose&&x.props.shouldCloseOnOverlayClick&&(x.ownerHandlesClose()?x.requestClose(G):x.focusContent()),x.shouldClose=null},x.handleContentOnMouseUp=function(){x.shouldClose=!1},x.handleOverlayOnMouseDown=function(G){!x.props.shouldCloseOnOverlayClick&&G.target==x.overlay&&G.preventDefault()},x.handleContentOnClick=function(){x.shouldClose=!1},x.handleContentOnMouseDown=function(){x.shouldClose=!1},x.requestClose=function(G){return x.ownerHandlesClose()&&x.props.onRequestClose(G)},x.ownerHandlesClose=function(){return x.props.onRequestClose},x.shouldBeClosed=function(){return!x.state.isOpen&&!x.state.beforeClose},x.contentHasFocus=function(){return document.activeElement===x.content||x.content.contains(document.activeElement)},x.buildClassName=function(G,E){var C=(typeof E>"u"?"undefined":s(E))==="object"?E:{base:T[G],afterOpen:T[G]+"--after-open",beforeClose:T[G]+"--before-close"},k=C.base;return x.state.afterOpen&&(k=k+" "+C.afterOpen),x.state.beforeClose&&(k=k+" "+C.beforeClose),typeof E=="string"&&E?k+" "+E:k},x.attributesFromObject=function(G,E){return Object.keys(E).reduce(function(C,k){return C[G+"-"+k]=E[k],C},{})},x.state={afterOpen:!1,beforeClose:!1},x.shouldClose=null,x.moveFromContentToOverlay=null,x}return r(A,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(x,G){this.props.isOpen&&!x.isOpen?this.open():!this.props.isOpen&&x.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!G.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var x=this.props,G=x.appElement,E=x.ariaHideApp,C=x.htmlOpenClassName,k=x.bodyOpenClassName,ce=x.parentSelector,de=ce&&ce().ownerDocument||document;k&&y.add(de.body,k),C&&y.add(de.getElementsByTagName("html")[0],C),E&&(v+=1,g.hide(G)),F.default.register(this)}},{key:"render",value:function(){var x=this.props,G=x.id,E=x.className,C=x.overlayClassName,k=x.defaultStyles,ce=x.children,de=E?{}:k.content,ue=C?{}:k.overlay;if(this.shouldBeClosed())return null;var we={ref:this.setOverlayRef,className:this.buildClassName("overlay",C),style:i({},ue,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Me=i({id:G,ref:this.setContentRef,style:i({},de,this.props.style.content),className:this.buildClassName("content",E),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",i({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),We=this.props.contentElement(Me,ce);return this.props.overlayElement(we,We)}}]),A}(n.Component);w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(S.default),a.default.instanceOf(b.SafeHTMLCollection),a.default.instanceOf(b.SafeNodeList),a.default.arrayOf(a.default.instanceOf(S.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=w,e.exports=t.default})(Yg,Yg.exports);var X8=Yg.exports;function oS(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function aS(e){function t(i){var s=this.constructor.getDerivedStateFromProps(e,i);return s??null}this.setState(t.bind(this))}function lS(e,t){try{var i=this.props,s=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(i,s)}finally{this.props=i,this.state=s}}oS.__suppressDeprecationWarning=!0;aS.__suppressDeprecationWarning=!0;lS.__suppressDeprecationWarning=!0;function J8(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var i=null,s=null,r=null;if(typeof t.componentWillMount=="function"?i="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(i="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?s="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(s="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?r="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),i!==null||s!==null||r!==null){var n=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+n+" uses "+o+" but also contains the following legacy lifecycles:"+(i!==null?`
  `+i:"")+(s!==null?`
  `+s:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=oS,t.componentWillReceiveProps=aS),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=lS;var a=t.componentDidUpdate;t.componentDidUpdate=function(c,d,u){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:u;a.call(this,c,d,f)}}return e}const U8=Object.freeze(Object.defineProperty({__proto__:null,polyfill:J8},Symbol.toStringTag,{value:"Module"})),q8=Em(U8);Object.defineProperty(ka,"__esModule",{value:!0});ka.bodyOpenClassName=ka.portalClassName=void 0;var ly=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},K8=function(){function e(t,i){for(var s=0;s<i.length;s++){var r=i[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),cS=mv,Ah=gu(cS),Q8=mv,Ih=gu(Q8),$8=tS,xe=gu($8),eP=X8,cy=gu(eP),tP=yr,iP=rP(tP),ao=dr,dy=gu(ao),sP=q8;function rP(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function gu(e){return e&&e.__esModule?e:{default:e}}function nP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uy(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function oP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var aP=ka.portalClassName="ReactModalPortal",lP=ka.bodyOpenClassName="ReactModal__Body--open",Yo=ao.canUseDOM&&Ih.default.createPortal!==void 0,hy=function(t){return document.createElement(t)},fy=function(){return Yo?Ih.default.createPortal:Ih.default.unstable_renderSubtreeIntoContainer};function Mu(e){return e()}var mu=function(e){oP(t,e);function t(){var i,s,r,n;nP(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=(s=(r=uy(this,(i=t.__proto__||Object.getPrototypeOf(t)).call.apply(i,[this].concat(a))),r),r.removePortal=function(){!Yo&&Ih.default.unmountComponentAtNode(r.node);var c=Mu(r.props.parentSelector);c&&c.contains(r.node)?c.removeChild(r.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},r.portalRef=function(c){r.portal=c},r.renderPortal=function(c){var d=fy(),u=d(r,Ah.default.createElement(cy.default,ly({defaultStyles:t.defaultStyles},c)),r.node);r.portalRef(u)},s),uy(r,n)}return K8(t,[{key:"componentDidMount",value:function(){if(ao.canUseDOM){Yo||(this.node=hy("div")),this.node.className=this.props.portalClassName;var s=Mu(this.props.parentSelector);s.appendChild(this.node),!Yo&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(s){var r=Mu(s.parentSelector),n=Mu(this.props.parentSelector);return{prevParent:r,nextParent:n}}},{key:"componentDidUpdate",value:function(s,r,n){if(ao.canUseDOM){var o=this.props,a=o.isOpen,l=o.portalClassName;s.portalClassName!==l&&(this.node.className=l);var c=n.prevParent,d=n.nextParent;d!==c&&(c.removeChild(this.node),d.appendChild(this.node)),!(!s.isOpen&&!a)&&!Yo&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!ao.canUseDOM||!this.node||!this.portal)){var s=this.portal.state,r=Date.now(),n=s.isOpen&&this.props.closeTimeoutMS&&(s.closesAt||r+this.props.closeTimeoutMS);n?(s.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-r)):this.removePortal()}}},{key:"render",value:function(){if(!ao.canUseDOM||!Yo)return null;!this.node&&Yo&&(this.node=hy("div"));var s=fy();return s(Ah.default.createElement(cy.default,ly({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(s){iP.setElement(s)}}]),t}(cS.Component);mu.propTypes={isOpen:xe.default.bool.isRequired,style:xe.default.shape({content:xe.default.object,overlay:xe.default.object}),portalClassName:xe.default.string,bodyOpenClassName:xe.default.string,htmlOpenClassName:xe.default.string,className:xe.default.oneOfType([xe.default.string,xe.default.shape({base:xe.default.string.isRequired,afterOpen:xe.default.string.isRequired,beforeClose:xe.default.string.isRequired})]),overlayClassName:xe.default.oneOfType([xe.default.string,xe.default.shape({base:xe.default.string.isRequired,afterOpen:xe.default.string.isRequired,beforeClose:xe.default.string.isRequired})]),appElement:xe.default.oneOfType([xe.default.instanceOf(dy.default),xe.default.instanceOf(ao.SafeHTMLCollection),xe.default.instanceOf(ao.SafeNodeList),xe.default.arrayOf(xe.default.instanceOf(dy.default))]),onAfterOpen:xe.default.func,onRequestClose:xe.default.func,closeTimeoutMS:xe.default.number,ariaHideApp:xe.default.bool,shouldFocusAfterRender:xe.default.bool,shouldCloseOnOverlayClick:xe.default.bool,shouldReturnFocusAfterClose:xe.default.bool,preventScroll:xe.default.bool,parentSelector:xe.default.func,aria:xe.default.object,data:xe.default.object,role:xe.default.string,contentLabel:xe.default.string,shouldCloseOnEsc:xe.default.bool,overlayRef:xe.default.func,contentRef:xe.default.func,id:xe.default.string,overlayElement:xe.default.func,contentElement:xe.default.func};mu.defaultProps={isOpen:!1,portalClassName:aP,bodyOpenClassName:lP,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,i){return Ah.default.createElement("div",t,i)},contentElement:function(t,i){return Ah.default.createElement("div",t,i)}};mu.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,sP.polyfill)(mu);ka.default=mu;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=ka,s=r(i);function r(n){return n&&n.__esModule?n:{default:n}}t.default=s.default,e.exports=t.default})(Zg,Zg.exports);var cP=Zg.exports;const dP=Yh(cP),uP=({afterOpenModal:e,afterCloseModal:t,closeModal:i})=>{const{isRDRInfoModalOpen:s}=fu(),r=()=>{pu.getState().stake(Number(l))},[n,o]=Zr(86400),a=c=>{o(c)},l=(n/86400).toFixed(4);return ee(dP,{ariaHideApp:!1,isOpen:s,overlayClassName:"custom-overlay",onAfterOpen:e,onAfterClose:t,onRequestClose:i,shouldCloseOnEsc:!0,style:{overlay:{zIndex:30}},contentLabel:"Example Modal",className:"modal-base",children:ee("div",{className:"modal-content",children:[ee("div",{className:"modal-header flex items-center justify-between",children:[ee("h2",{className:"modal-title text-3xl font-bold",children:"Understanding the Radar Station"}),ee("span",{className:"modal-close cursor-pointer text-xl",onClick:i,children:""})]}),ee("div",{className:"mt-6",children:[ee("h3",{className:"text-xl font-bold mt-4 mb-2",children:"RDR Entitlements"}),ee("p",{children:"Having RDR Entitlements means you have access to the unobfuscated feed."}),ee("ul",{className:"list-disc ml-6",children:[ee("li",{children:"1 EOS grants you 86,400 RDR entitlements (the number of seconds in 24 hours)."}),ee("li",{children:"Mine RDR by observing coin movements (the unobfuscated feed)."}),ee("li",{children:"Each tracked coin mines 1 RDR per second and consumes 1 RDR entitlement (1 mining second)."}),ee("li",{children:"RDR tokens are distributed every 10 minutes based on your usage."})]}),ee("h3",{className:"text-xl font-bold mt-4 mb-2",children:"Mining RDR Tokens"}),ee("p",{children:"Mining RDR is an investment in eos-radar-station.com. By transferring EOS to acquire RDR entitlements, and using the unobfuscated feed, you directly support this project's growth and shape its future."}),ee("div",{className:"disclaimer-section",children:[" ",ee("p",{className:"text-sm text-gray-600",children:[ee("strong",{className:"text-red-500",children:"Note:"})," RDR is exclusive to eos-radar-station.com. A new platform with expanded features and exclusive RDR utility will be launched soon."]}),ee("p",{className:"text-sm text-gray-600 mt-2",children:[ee("strong",{className:"text-red-500",children:"Disclaimer:"})," RDR mining rates are subject to change. New features will be added after the alpha version based on community feedback and RDR-weighted voting. Your RDR holdings will give you a voice in shaping the future of eos-radar-station.com!"]}),ee("p",{className:"text-sm text-red-500 mt-2",children:"Note: eos-radar-station.com is in Alpha. Service disruptions may occur."})]}),ee("div",{className:"mt-6",children:[ee("label",{className:"block font-bold mb-2",children:"Select RDR amount:"}),ee("div",{className:"flex gap-4",children:[ee("button",{className:`border border-gray-400 rounded px-4 py-2 ${n===86400?"bg-blue-500 text-white":""}`,onClick:()=>a(86400),children:"86400 RDR"}),ee("button",{className:`border border-gray-400 rounded px-4 py-2 ${n===3*86400?"bg-blue-500 text-white":""}`,onClick:()=>a(3*86400),children:[3*86400," RDR"]}),ee("button",{className:`border border-gray-400 rounded px-4 py-2 ${n===5*86400?"bg-blue-500 text-white":""}`,onClick:()=>a(5*86400),children:[5*86400," RDR"]})]}),ee("label",{htmlFor:"eos-amount",className:"block font-bold mt-4 mb-2",children:"Calculated EOS amount:"}),ee("input",{type:"text",id:"eos-amount",className:"modal-input w-full border border-gray-400 rounded px-3 py-2",value:`${l} EOS`,disabled:!0}),ee("button",{className:"mt-4 w-full text-white bg-blue-500 hover:bg-blue-700 font-bold py-2 px-4 rounded",onClick:r,children:"Start Mining RDR with EOS"})]})]})]})})},hP=()=>{const{openRDRInfoModal:e}=fu(),{isConnected:t,isUpgraded:i}=Fr();return ee(hs,{children:[ee("div",{className:"flex flex-col w-full items-center gap-1",children:[ee("p",{class:"text-lg font-bold mb-4",children:"Experience real-time EOS mainnet transaction monitoring."}),ee("div",{class:"flex w-full",children:[ee("div",{class:"w-1/5 mr-2 mt-6",children:ee("button",{id:"sateliteButton",className:"",onClick:async()=>{e()},children:ee("svg",{className:`${t&&i?"rotating-svg":""}`,width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[ee("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2Z",stroke:t&&i||t?"green":"gray","stroke-width":"2"}),ee("path",{d:"M17 17L12 12M12 12L7 7M12 12V20",stroke:t&&i||t?"green":"gray","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",transform:t?"":"rotate(45 12 12)"})]})})}),ee("div",{class:"w-4/5 h-12 flex flex-col items-start",children:ee("p",{class:"mb-4",children:"Stay informed about specific EOS transactions as they happen."})})]})]}),ee("div",{children:ee("span",{class:"bg-blue-400",children:["JUNGLE4 TESTNET: ",ee("span",{children:"logged out"})]})}),ee("div",{className:"flex",children:ee("button",{id:"login",className:"text-green-800 border-none inline cursor-pointer transition-colors duration-200 rounded h-7 p-1",onClick:async()=>{await Er.getState().loginMainnet(),await Fr.getState().connectWebSocket()},children:"CONNECT WALLET"})})]})},fP=()=>{let e;e=Er.getState().sessionMainnet;const{isConnected:t,isUpgraded:i,socket:s}=Fr(),{openRDRInfoModal:r}=fu(),[n,o]=Zr(new Set),[a,l]=Zr([]),{refreshUser:c,uiUser:d}=pu(),u=async()=>{i&&s&&JSON.stringify(s.currentlyUpgradedCoins)!==JSON.stringify(s.currentlySelectedCoins)&&s.currentlySelectedCoins&&s.currentlySelectedCoins.length!==0?Fr.getState().upgradeToSubscription(Array.from(n)):s&&i?(await Fr.getState().connectWebSocket(),o(new Set)):s&&t&&s.currentlySelectedCoins&&s.currentlySelectedCoins.length?Fr.getState().upgradeToSubscription(Array.from(n)):s&&t&&(!s.currentlySelectedCoins||!s.currentlySelectedCoins.length)?ui({message:"Already connected to free feed. Select some coins and click again to Upgrade!",type:"is-success",duration:7*1e3}):(!s||!t)&&await Fr.getState().connectWebSocket()},f=y=>{o(b=>{const S=new Set(b);return S.has(y)?S.delete(y):S.add(y),Fr.getState().socket&&(Fr.getState().socket.currentlySelectedCoins=Array.from(S)),S})},g=async()=>{r()},m=Kl(async()=>{const b=await(await fetch("https://watch-eos.fly.dev/coins")).json();return await Qt(c()),b},[e]);return pn(()=>{m.then(y=>l(y))},[m]),pn(()=>{},[d]),pn(()=>{const y=async()=>{const F=await(await fetch("https://watch-eos.fly.dev/coins")).json();JSON.stringify(F)!==JSON.stringify(a)&&(l(F),console.log("setting coins"))},S=setInterval(async()=>{await Qt(c()),await y()},25e3);return()=>clearInterval(S)},[e]),pn(()=>{o(new Set)},[t]),ee(hs,{children:ee("div",{class:"flex w-full",children:[ee("div",{class:"w-4/5  flex flex-col items-start",children:[ee("button",{id:"sateliteButton",className:"",onClick:g,children:ee("svg",{className:`${t&&i?"rotating-svg":""}`,width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[ee("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2Z",stroke:t&&i||t?"green":"gray","stroke-width":"2"}),ee("path",{d:"M17 17L12 12M12 12L7 7M12 12V20",stroke:t&&i||t?"green":"gray","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",transform:t?"":"rotate(45 12 12)"})]})}),ee("div",{class:"consumption-rate mt-4",children:[ee("div",{class:`text-sm ${n.size===0?"text-gray-400":""}`,children:!i&&n.size>0?`Will mine ${n.size} RDR / second`:i?ee("strong",{class:"text-lime-600",children:["Mining ",s.currentlyUpgradedCoins.length," RDR / second"]}):"0 RDR / second"}),ee("span",{class:"text-xs text-gray-500",children:"Issued every 10 minutes based on usage of unlocked feed"})]}),ee("div",{class:"mt-6",children:ee("span",{id:"rdrEntitlements",class:"text-yellow-700",children:[`${(d==null?void 0:d.redeemable)??"uninitialized"}`," RDR Entitlements"]})}),ee("div",{children:ee("span",{id:"rdrBalance",class:"text-green-700",children:[`${(d==null?void 0:d.balance)??"uninitialized"}`," RDR Balance"]})}),ee("span",{class:"text-xs text-gray-500"}),ee("div",{class:"mt-2",children:ee("button",{onClick:u,class:"mt-4 relative inline-flex items-right justify-center p-0.5 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-teal-300 to-lime-300 group-hover:from-pink-500 group-hover:to-orange-400 hover:text-white dark:text-white focus:ring-2 focus:outline-none focus:ring-lime-200 dark:focus:ring-lime-800",children:ee("span",{class:"relative px-3 py-1.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0",children:i&&JSON.stringify(s.currentlyUpgradedCoins)!==JSON.stringify(s.currentlySelectedCoins)&&s.currentlySelectedCoins&&s.currentlySelectedCoins.length!==0?"Update Feed":i?"Stop Mining":t?"Unlock Selected":"Connect"})})})]}),ee("div",{class:"w-1/5  items-start mb-2",children:a.map(y=>ee("div",{class:"flex items-center mb-1",children:[ee("label",{htmlFor:y,class:"mr-2 whitespace-nowrap flex items-center",children:ee("img",{src:`/img/logos/${y}.png`,alt:"Coin Logo",class:"mr-2 inline-block h-6 w-6"})}),ee("input",{type:"checkbox",id:y,checked:n.has(y),className:"form-checkbox h-5 w-5 ",onChange:()=>f(y)})]},y))})]})})},pP=()=>{const{session:e,account:t,logout:i}=un(),{closeRDRInfoModal:s}=fu(),{connectWebSocket:r,disconnectWebSocket:n}=Fr(),o=async()=>{await n(),await i()};return pn(()=>{(async()=>{await Er.getState().initialize(),await pu.getState().initialize(),await r()})()},[]),ee("div",{className:"overflow-y-auto max-h-18",children:[ee(uP,{closeModal:s,afterOpenModal:()=>console.log("after stake Open"),afterCloseModal:()=>console.log("after close stake modal")}),e&&t&&ee(hs,{children:[ee("div",{children:ee("span",{class:"bg-blue-400",children:[""," ",ee("span",{children:`${t.accountName}`})]})}),ee("button",{id:"logout",className:"text-red-800 border-none inline cursor-pointer transition-colors duration-200 rounded h-7 p-1",onClick:o,children:"DISCONNECT WALLET"})]}),!e&&ee(hP,{}),e&&ee(fP,{})]})};document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("app");e?ca(ee(pP,{}),e):console.error("Could not find the auth container element.")});document.addEventListener("DOMContentLoaded",function(){document.getElementById("donations-top")||console.error("Could not find the donations-top container element.")});function gP(){Er();const e=Zh(null),[t,i]=Zr(""),[s,r]=Zr(5);return ee(hs,{children:[ee("ul",{children:[ee("li",{children:[ee("span",{style:{color:"blue"},children:""})," A POC project showcasing",ee("ul",{style:{marginLeft:"20px",listStyleType:"none"},children:[ee("li",{children:[ee("span",{style:{color:"green"},children:""})," Charging users per seconds of usage"]}),ee("li",{children:[ee("span",{style:{color:"blue"},children:""})," Attention token(s) mining "]}),ee("li",{children:[ee("span",{style:{color:"blue"},children:""})," Blockchain Indexing"]})]})]}),ee("li",{children:[ee("span",{style:{color:"green"},children:""})," Websocket connection to a free realtime feed of EOS mainnet coin transfers"]}),ee("li",{children:[ee("span",{style:{color:"blue"},children:""})," Connect to unobfuscated feed to start mining RDR"]}),ee("li",{children:[ee("span",{style:{color:"green"},children:""})," The POC is still in testnet, and you can ",ee("strong",{style:{color:"green"},children:ee("a",{href:"https://eos-radar-station.com/test/",children:"try it out without spending any real EOS"})})]}),"","",""]}),ee("div",{className:"flex flex-col w-full gap-1",children:[ee("div",{class:"mb-1 pt-10",children:ee("input",{id:"donatememo",value:t,onChange:o=>i(o.currentTarget.value),type:"text",class:"border border-gray-400 rounded px-4 py-2 w-full",maxLength:150,placeholder:"Send us a message"})}),ee("div",{className:"w-full flex gap-1 items-center",children:[ee("input",{type:"number",id:"donationAmount",value:s,onChange:o=>r(parseFloat(o.currentTarget.value)),className:"w-3/6 rounded h-7 px-2 border border-gray-300"}),ee("button",{id:"donate",ref:e,className:"w-3/6 text-white border-none cursor-pointer btn-bg-color transition-colors duration-200 login-color rounded h-7",onClick:()=>{pu.getState().donate(s,t)},children:"Donate"})]})]})]})}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("donations");e?ca(ee(gP,{}),e):console.error("Could not find the appinfo container element.")});var vc=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const s=t?this.allAsyncListeners:this.allSyncListeners;let r=s.get(e);return!r&&i&&(r=new Set,s.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const s=this.getListeners(e,i,!1);s&&(s.delete(t),s.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const s=(a,l)=>a.forEach(c=>{if(!l.has(c))return;const d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(d):d()}),r=this.getListeners(i,t,!1)??new Set,n=new Set(r);n.size>0&&s(n,r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,e)):()=>a(i,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},vu=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(vu||{}),py={};function Cv(e,t){py[t]||(e(),py[t]=!0)}function Cn(e,...t){console.log("AG Grid: "+e,...t)}function j(e,...t){Cv(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function $e(e,...t){Cv(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function yv(e){return!!(e&&e.constructor&&e.call&&e.apply)}function mP(e){vP(e,400)}var Cp=[],yp=!1;function gy(e){Cp.push(e),!yp&&(yp=!0,window.setTimeout(()=>{const t=Cp.slice();Cp.length=0,yp=!1,t.forEach(i=>i())},0))}function vP(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(i=>i()),t)}function ls(e,t){let i;return function(...s){const r=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(r,s)},t)}}function my(e,t){let i=0;return function(...s){const r=this,n=new Date().getTime();n-i<t||(i=n,e.apply(r,s))}}function bP(e,t,i=100,s){const r=new Date().getTime();let n=null,o=!1;const a=()=>{const l=new Date().getTime()-r>i;(e()||l)&&(t(),o=!0,n!=null&&(window.clearInterval(n),n=null),l&&s&&j(s))};a(),o||(n=window.setInterval(a,10))}function wn(e){return e==null||e===""?null:e}function te(e,t=!1){return e!=null&&(e!==""||t)}function Ne(e){return!te(e)}function xs(e){return e==null||e.length===0}function Jg(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function ra(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Ug(e){if(e!==void 0)return e===null||e===""?!1:qg(e)}function qg(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function Fh(e,t){const i=e?JSON.stringify(e):null,s=t?JSON.stringify(t):null;return i===s}function CP(e,t,i=!1){const s=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),s&&r)return 0;if(s)return-1;if(r)return 1;function n(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!i)return n(e,t);try{return e.localeCompare(t)}catch{return n(e,t)}}function Xu(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(i=>t.push(i)),t}return Object.values(e)}function dS(e,t){return e.get("rowModelType")===t}function ti(e){return dS(e,"clientSide")}function bc(e){return dS(e,"serverSide")}function Oi(e,t){return e.get("domLayout")===t}function xh(e){return Mh(e)!==void 0}function _h(e){return!e.get("suppressAsyncEvents")}function uS(e){return typeof e.get("getRowHeight")=="function"}function yP(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function ko(e,t,i=!1,s){if(s==null&&(s=e.environment.getDefaultRowHeight()),uS(e)){if(i)return{height:s,estimated:!0};const o={node:t,data:t.data},a=e.getCallback("getRowHeight")(o);if(Kg(a))return a===0&&j("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&e.get("masterDetail"))return wP(e);const r=e.get("rowHeight");return{height:r&&Kg(r)?r:s,estimated:!1}}function wP(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return Kg(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function bf(e){const{environment:t}=e,i=e.get("rowHeight");if(!i||Ne(i))return t.getDefaultRowHeight();const s=t.refreshRowHeightVariable();return s!==-1?s:(j("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function Kg(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Zd(e,t,i){const s=t[e.getDomDataKey()];return s?s[i]:void 0}function Da(e,t,i,s){const r=e.getDomDataKey();let n=t[r];Ne(n)&&(n={},t[r]=n),n[i]=s}function ri(e){let t=null;const i=e.get("getDocument");return i&&te(i)?t=i():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&te(t)?t:document}function hS(e){return ri(e).defaultView||window}function Yd(e){return e.eGridDiv.getRootNode()}function Vt(e){return Yd(e).activeElement}function fS(e){const t=ri(e),i=Vt(e);return i===null||i===t.body}function fl(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function Cf(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Oi(e,"print"))}function Dr(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function Qg(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function pS(e){const t=e.get("grandTotalRow");if(t)return t;if(e.get("groupIncludeTotalFooter"))return"bottom"}function gS(e){const t=e.get("groupTotalRow");if(typeof t=="function")return e.getCallback("groupTotalRow");if(t)return()=>t;const i=e.get("groupIncludeFooter");if(typeof i=="function"){const s=e.getCallback("groupIncludeFooter");return r=>s(r)?"bottom":void 0}return()=>i?"bottom":void 0}function SP(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function wv(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function bu(e){const t=e.getCallback("getRowId");return t===void 0?t:i=>{let s=t(i);return typeof s!="string"&&(j("The getRowId callback must return a string. The ID ",s," is being cast to a string."),s=String(s)),s}}function Xl(e){return(e==null?void 0:e.checkboxes)??!0}function Eh(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function RP(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function AP(e){return typeof e.get("rowSelection")!="string"}function IP(e){return e.get("cellSelection")!==void 0}function FP(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?(t==null?void 0:t.suppressMultiRanges)??!1:!1:e.get("suppressMultiRangeSelection")}function $r(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function xP(e){var s;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((s=t.handle)==null?void 0:s.mode)==="range":!1:e.get("enableRangeHandle")}function vy(e){var s;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((s=t.handle)==null?void 0:s.mode)==="fill":!1:e.get("enableFillHandle")}function mS(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const i=e.get("suppressRowClickSelection"),s=e.get("suppressRowDeselection");return i&&s?!1:i?"enableDeselection":s?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function _P(e){const t=mS(e);return t===!0||t==="enableSelection"}function by(e){const t=mS(e);return t===!0||t==="enableDeselection"}function Sv(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function Mh(e){const t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t==null?void 0:t.mode}function Rv(e){return Mh(e)==="multiRow"}function EP(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function Av(e){const t=e.get("rowSelection");if(typeof t=="string"){const i=e.get("groupSelectsChildren"),s=e.get("groupSelectsFiltered");return i&&s?"filteredDescendants":i?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function Ga(e){const t=Av(e);return t==="descendants"||t==="filteredDescendants"}function wp(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function je(e){if(!(!e||!e.length))return e[e.length-1]}function Oo(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((s,r)=>i?i(s,t[r]):t[r]===s)}function MP(e){return e.sort((t,i)=>t-i)}function vS(e,t){const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function cs(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function kP(e,t){for(let i=0;i<t.length;i++)vS(e,t[i])}function DP(e,t){for(let i=0;i<t.length;i++)cs(e,t[i])}function kh(e,t,i){e.splice(i,0,t)}function bS(e,t,i){DP(e,t),t.slice().reverse().forEach(s=>kh(e,s,i))}function na(e,t){return e.indexOf(t)>-1}function GP(e){return(e==null?void 0:e.flatMap(t=>t))??[]}function Cy(e,t){t==null||e==null||t.forEach(i=>e.push(i))}var CS="__ag_Grid_Stop_Propagation",PP=["touchstart","touchend","touchmove","touchcancel","scroll"],Sp={};function Jl(e){e[CS]=!0}function Sn(e){return e[CS]===!0}var yS=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof Sp[i]=="boolean")return Sp[i];const s=document.createElement(e[i]||"div");return i="on"+i,Sp[i]=i in s}})();function $g(e,t,i){let s=t;for(;s;){const r=Zd(e,s,i);if(r)return r;s=s.parentElement}return null}function OP(e,t){return!t||!e?!1:WP(t).indexOf(e)>=0}function BP(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function WP(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():BP(t)}function TP(e,t,i,s){const n=na(PP,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,s,n)}var Y=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new vc),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService&&this.localEventService.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const s in t){const r=t[s];r&&i.push(this._setupListener(e,s,r))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;e instanceof HTMLElement?TP(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);const s=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==s),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const i=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,s=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=r.changeSet.id}const n={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(n)};e.forEach(r=>this.setupGridOptionListener(r,s))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function $i(e){return e instanceof Ju}var Ju=class extends Y{constructor(e,t,i,s){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=RS(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=s}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{Do(t)?e.push(t):$i(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const s=this.findChildrenRemovingPadding();for(let n=0,o=s.length;n<o;n++){const a=s[n];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,i=!0):l==="closed"?(t=!0,i=!0):(e=!0,t=!0)}const r=e&&t&&i;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach(s=>{$i(s)&&s.isPadding()?t(s.children):e.push(s)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},wS="ag-Grid-ControlsColumn",LP=class extends Y{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const{gos:e}=this,t=e.get("rowSelection");if(!t||typeof t!="object")return[];const i=Xl(t),s=Eh(t);if(i||s){const r=e.get("selectionColumnDef"),o={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(l,c,d,u){const f=d.isSelected(),g=u.isSelected();return f&&g?0:f?1:-1},editable:!1,suppressFillHandle:!0,...r,colId:`${wS}`},a=new _v(o,null,o.colId,!1);return this.createBean(a),[a]}return[]}},yf="ag-Grid-AutoColumn";function Iv(e){const t=[],i=s=>{for(let r=0;r<s.length;r++){const n=s[r];Do(n)?t.push(n):$i(n)&&i(n.getChildren())}};return i(e),t}function dn(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function Qn(e,t,i){const s={};if(!t)return;Pn(null,t,n=>{s[n.getInstanceId()]=n}),i&&Pn(null,i,n=>{s[n.getInstanceId()]=null});const r=Object.values(s).filter(n=>n!=null);e.destroyBeans(r)}function yy(e){return e.getId().startsWith(yf)}function wf(e){return e.getColId().startsWith(wS)}function Uu(e){let t=[];return e instanceof Array?e.some(s=>typeof s!="string")?j("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):j("colDef.type should be of type 'string' | 'string[]'"),t}var Fv=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=i=>{this.frameworkOverrides.wrapOutgoing(()=>e(i))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(i,s)=>{this.frameworkOverrides.wrapOutgoing(()=>e(i,s))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},xv=new Set(["__proto__","constructor","prototype"]);function ar(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const[i,s]of Object.entries(e))t(i,s)}}function SS(e){const t={},i=Object.keys(e);for(let s=0;s<i.length;s++){if(xv.has(i[s]))continue;const r=i[s],n=e[r];t[r]=n}return t}function em(e,t){if(!e)return;const i=e,s={};return Object.keys(i).forEach(r=>{if(t&&t.indexOf(r)>=0||xv.has(r))return;const n=i[r];tm(n)&&n.constructor===Object?s[r]=em(n):s[r]=n}),s}function Pa(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const i=[];for(const s in e)e.hasOwnProperty(s)&&e.propertyIsEnumerable(s)&&i.push(e[s]);return i}function es(e,t,i=!0,s=!1){te(t)&&ar(t,(r,n)=>{if(xv.has(r))return;let o=e[r];o!==n&&(s&&o==null&&n!=null&&typeof n=="object"&&n.constructor===Object&&(o={},e[r]=o),tm(n)&&tm(o)&&!Array.isArray(o)?es(o,n,i,s):(i||n!==void 0)&&(e[r]=n))})}function Kc(e,t,i){if(!t||!e)return;if(!i)return e[t];const s=t.split(".");let r=e;for(let n=0;n<s.length;n++){if(r==null)return;r=r[s[n]]}return r}function tm(e){return typeof e=="object"&&e!==null}var NP={resizable:!0,sortable:!0},VP=0;function RS(){return VP++}function Do(e){return e instanceof _v}var _v=class extends Y{constructor(e,t,i,s){super(),this.isColumn=!0,this.instanceId=RS(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new vc,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=s,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=e.sortIndex,i=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):i!==null&&(this.sortIndex=i);const s=e.hide,r=e.initialHide;s!==void 0?this.visible=!s:this.visible=!r,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const n=e.flex,o=e.initialFlex;n!==void 0?this.flex=n:o!==void 0&&(this.flex=o)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=te(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=te(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=te(this.colDef.tooltipField)||te(this.colDef.tooltipValueGetter)||te(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=ra(e.width),s=ra(e.initialWidth);return i!=null?t=i:s!=null?t=s:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(Ne(this.colDef)||Ne(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===e;return t||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){var s;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new Fv(this.frameworkOverrides));const i=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(t))??t;this.columnEventService.addEventListener(e,i)}removeEventListener(e,t){var s;const i=((s=this.frameworkEventListenerService)==null?void 0:s.unwrap(t))??t;this.columnEventService.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),i=this.colDef.suppressNavigable;return i(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&typeof t!="string"){const i=wf(this)&&Xl(t);return this.isColumnFunc(e,i)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??NP[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Ne(this.sort)}isSorting(){return te(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const s=this.createColumnEvent("filterChanged",t);i&&es(s,i),this.columnEventService.dispatchEvent(s)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const i=e===!0;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Ne(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(Ne(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},HP={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},ZP=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Jg(e);let i=0;for(;;){let s;if(e?(s=e,i!==0&&(s+="_"+i)):t?(s=t,i!==0&&(s+="_"+i)):s=i,!this.existingKeys[s])return this.existingKeys[s]=!0,String(s);i++}}},YP=class extends Y{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,i,s){const r=new ZP,{existingCols:n,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(i);r.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,n,r,o,s),c=this.findMaxDept(l,0),d=this.balanceColumnTree(l,0,c,r);return Pn(null,d,(f,g)=>{$i(f)&&f.setupExpandable(),f.setOriginalParent(g)}),{columnTree:d,treeDept:c}}extractExistingTreeData(e){const t=[],i=[],s=[];return e&&Pn(null,e,r=>{if($i(r)){const n=r;i.push(n)}else{const n=r;s.push(n.getId()),t.push(n)}}),{existingCols:t,existingGroups:i,existingColKeys:s}}balanceTreeForAutoCols(e,t){const i=[],s=this.findDepth(t);return e.forEach(r=>{let n=r;for(let o=s-1;o>=0;o--){const a=new Ju(null,`FAKE_PATH_${r.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([n]),n.setOriginalParent(a),n=a}s===0&&r.setOriginalParent(null),i.push(n)}),[i,s]}findDepth(e){let t=0,i=e;for(;i&&i[0]&&$i(i[0]);)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,s){const r=[];for(let n=0;n<e.length;n++){const o=e[n];if($i(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,i,s);a.setChildren(l),r.push(a)}else{let a,l;for(let c=i-1;c>=t;c--){const d=s.getUniqueKey(null,null),u=this.createMergedColGroupDef(null),f=new Ju(u,d,!0,t);this.createBean(f),l&&l.setChildren([f]),l=f,a||(a=l)}if(a&&l)if(r.push(a),e.some(d=>$i(d))){l.setChildren([o]);continue}else{l.setChildren(e);break}r.push(o)}}return r}findMaxDept(e,t){let i=t;for(let s=0;s<e.length;s++){const r=e[s];if($i(r)){const n=r,o=this.findMaxDept(n.getChildren(),t+1);i<o&&(i=o)}}return i}recursivelyCreateColumns(e,t,i,s,r,n,o){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const c=e[l];this.isColumnGroup(c)?a[l]=this.createColumnGroup(i,c,t,s,r,n,o):a[l]=this.createColumn(i,c,s,r,o)}return a}createColumnGroup(e,t,i,s,r,n,o){const a=this.createMergedColGroupDef(t),l=r.getUniqueKey(a.groupId||null,null),c=new Ju(a,l,!1,i);this.createBean(c);const d=this.findExistingGroup(t,n);d&&n.splice(d.idx,1);const u=d==null?void 0:d.group;u&&c.setExpanded(u.isExpanded());const f=this.recursivelyCreateColumns(a.children,i+1,e,s,r,n,o);return c.setChildren(f),c}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,s,r){var a;const n=this.findExistingColumn(t,i);n&&(i==null||i.splice(n.idx,1));let o=n==null?void 0:n.column;if(o){const l=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(l,t,r),this.applyColumnState(o,l,r)}else{const l=s.getUniqueKey(t.colId,t.field),c=this.addColumnDefaultAndTypes(t,l);o=new _v(c,t,l,e),this.createBean(o)}return(a=this.dataTypeService)==null||a.addColumnListeners(o),o}applyColumnState(e,t,i){const s=ra(t.flex);if(s!==void 0&&e.setFlex(s),e.getFlex()<=0){const a=ra(t.width);if(a!=null)e.setActualWidth(a,i);else{const l=e.getActualWidth();e.setActualWidth(l,i)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,i):e.setSort(void 0,i));const n=ra(t.sortIndex);n!==void 0&&e.setSortIndex(n);const o=Ug(t.hide);o!==void 0&&e.setVisible(!o,i),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){const s=t[i].getUserProvidedColDef();if(!s)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(s.field===e.field)return{idx:i,column:t[i]};continue}if(s===e)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let s=0;s<t.length;s++){const r=t[s];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:s,group:r}}}addColumnDefaultAndTypes(e,t){var a;const i={},s=this.gos.get("defaultColDef");es(i,s,!1,!0);const r=this.updateColDefAndGetColumnType(i,e,t);r&&this.assignColumnTypes(r,i),es(i,e,!1,!0);const n=this.gos.get("autoGroupColumnDef"),o=Dr(this.gos);return e.rowGroup&&n&&o&&es(i,{sort:n.sort,initialSort:n.initialSort},!1,!0),(a=this.dataTypeService)==null||a.validateColDef(i),i}updateColDefAndGetColumnType(e,t,i){var n;const s=(n=this.dataTypeService)==null?void 0:n.updateColDefAndGetColumnType(e,t,i),r=t.type??s??e.type;return e.type=r,r?Uu(r):void 0}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},HP),s=this.gos.get("columnTypes")||{};ar(s,(r,n)=>{r in i?j(`the column type '${r}' is a default column type and cannot be overridden.`):(n.type&&j("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[r]=n)}),e.forEach(r=>{const n=i[r.trim()];n?es(t,n,!1,!0):j("colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function Pn(e,t,i){if(t)for(let s=0;s<t.length;s++){const r=t[s];$i(r)&&Pn(r,r.getChildren(),i),i(r,e)}}var zP=class extends Y{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(qo(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,qo(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(qo(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(qo(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),qo(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){var c,d,u;const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const i=(c=this.colDefCols)==null?void 0:c.list,s=(d=this.colDefCols)==null?void 0:d.tree,r=this.columnFactory.createColumnTree(this.colDefs,!0,s,e);Qn(this.context,(u=this.colDefCols)==null?void 0:u.tree,r.columnTree);const n=r.columnTree,o=r.treeDept,a=Iv(n),l={};a.forEach(f=>l[f.getId()]=f),this.colDefCols={tree:n,treeDepth:o,list:a,map:l},this.funcColsService.extractCols(e,i),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){var r,n,o;if(!this.colDefCols)return;const t=(r=this.cols)==null?void 0:r.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const i=yP(this.gos,this.showingPivotResult);(!e||i)&&this.restoreColOrder(),this.positionLockedCols(),(n=this.showRowGroupColsService)==null||n.refresh(),(o=this.quickFilterService)==null||o.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Oo(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:t,list:i,tree:s,treeDepth:r}=e;this.cols={list:i.slice(),map:{...t},tree:s.slice(),treeDepth:r},e.list.some(o=>{var a;return((a=this.cols)==null?void 0:a.map[o.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:t,list:i,tree:s,treeDepth:r}=this.colDefCols;this.cols={list:i.slice(),map:{...t},tree:s.slice(),treeDepth:r}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(s=>{const r=yy(s);if(e){const n=t&&na(t,s);return r||n}else return r||s.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),wy(this.cols))}createAutoCols(){var m;const e=wv(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),i=this.funcColsService.getRowGroupColumns(),r=!(i.length>0||this.gos.get("treeData"))||t||e,n=()=>{this.autoCols&&(Qn(this.context,this.autoCols.tree),this.autoCols=null)};if(r||!this.autoColService){n();return}const o=this.autoColService.createAutoCols(i)??[],a=Ry(o,((m=this.autoCols)==null?void 0:m.list)||null),l=this.cols.treeDepth,d=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&d)return;n();const[u,f]=this.columnFactory.balanceTreeForAutoCols(o,this.cols.tree);this.autoCols={list:o,tree:u,treeDepth:f,map:{}};const g=y=>{if(!y)return null;const b=y.filter(S=>!yy(S));return[...o,...b]};this.lastOrder=g(this.lastOrder),this.lastPivotOrder=g(this.lastPivotOrder)}createControlsCols(){var c,d,u;const e=()=>{var f;Qn(this.context,(f=this.controlsCols)==null?void 0:f.tree),this.controlsCols=null};this.controlsColService||e();const t=this.cols.treeDepth,s=(((c=this.controlsCols)==null?void 0:c.treeDepth)??-1)==t,r=((d=this.controlsColService)==null?void 0:d.createControlsCols())??[];if(Ry(r,((u=this.controlsCols)==null?void 0:u.list)??[])&&s)return;e();const[o,a]=this.columnFactory.balanceTreeForAutoCols(r,this.cols.tree);this.controlsCols={list:r,tree:o,treeDepth:a,map:{}};const l=f=>{if(!f)return null;const g=f.filter(m=>!wf(m));return[...r,...g]};this.lastOrder=l(this.lastOrder),this.lastPivotOrder=l(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),wy(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,i){this.columnApplyStateService.applyColumnState({state:e.map(s=>({colId:typeof s=="string"?s:s.getColId(),hide:!t}))},i)}setColsPinned(e,t,i){if(!this.cols||xs(e))return;if(Oi(this.gos,"print")){j("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let s;t===!0||t==="left"?s="left":t==="right"?s="right":s=null;const r=[];e.forEach(n=>{if(!n)return;const o=this.getCol(n);o&&o.getPinned()!==s&&(o.setPinned(s),r.push(o))}),r.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(r,i)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let s;$i(e)?s=e.getId():s=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:s,open:t}],i)}getProvidedColGroup(e){var i;let t=null;return Pn(null,(i=this.cols)==null?void 0:i.tree,s=>{$i(s)&&s.getId()===e&&(t=s)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const s=this.funcColsService.getRowGroupColumns().findIndex(r=>r.getColId()===e.getColId());return t>s}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,ti(this.gos)||bc(this.gos)||j("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((l,c)=>[l,c]));if(!this.cols.list.some(l=>t.has(l)))return;const s=new Map(this.cols.list.map(l=>[l,!0])),r=e.filter(l=>s.has(l)),n=new Map(r.map(l=>[l,!0])),o=this.cols.list.filter(l=>!n.has(l)),a=r.slice();o.forEach(l=>{let c=l.getOriginalParent();if(!c){a.push(l);return}const d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(m=>{const y=a.indexOf(m)>=0,b=d.indexOf(m)<0;y&&b&&d.push(m)}),c=c.getOriginalParent();if(!d.length){a.push(l);return}const u=d.map(g=>a.indexOf(g)),f=Math.max(...u);kh(a,l,f+1)}),this.cols.list=a}sortColsLikeKeys(e){if(this.cols==null)return;let t=[];const i={};e.forEach(r=>{if(i[r])return;const n=this.cols.map[r];n&&(t.push(n),i[r]=!0)});let s=0;if(this.cols.list.forEach(r=>{const n=r.getColId();if(i[n]!=null)return;n.startsWith(yf)?kh(t,r,s++):t.push(r)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){j("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(i=>this.cols.list.indexOf(i)<0).length>0||e.sort((i,s)=>{const r=this.cols.list.indexOf(i),n=this.cols.list.indexOf(s);return r-n})}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const s=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(s,i,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,i){var s;bS((s=this.cols)==null?void 0:s.list,e,t),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=(e=this.cols)==null?void 0:e.list:this.lastOrder=(t=this.cols)==null?void 0:t.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((s,r)=>this.lastOrder.indexOf(s)-this.lastOrder.indexOf(r)):this.lastOrder&&e.sort((s,r)=>this.cols.list.indexOf(s)-this.cols.list.indexOf(r));const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return((e=this.colDefCols)==null?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(j("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!xs(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e,t,i;Qn(this.context,(e=this.colDefCols)==null?void 0:e.tree),Qn(this.context,(t=this.autoCols)==null?void 0:t.tree),Qn(this.context,(i=this.controlsCols)==null?void 0:i.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return(e=this.colDefCols)!=null&&e.list?this.colDefCols.list:null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var i,s,r;const e=this.pivotResultColsService.getPivotResultCols(),t=e==null?void 0:e.list;return[((i=this.colDefCols)==null?void 0:i.list)??[],((s=this.autoCols)==null?void 0:s.list)??[],((r=this.controlsCols)==null?void 0:r.list)??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;const{map:i,list:s}=t;if(typeof e=="string"&&i[e])return i[e];for(let r=0;r<s.length;r++)if(Sy(s[r],e))return s[r];return this.getAutoCol(e)}getAutoCol(e){var t;return((t=this.autoCols)==null?void 0:t.list.find(i=>Sy(i,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const i of t){if(!i)continue;const s=i.getGroupRowCount()||0;for(let r=0;r<s;r++){const n=i.getGroupRowCtrlAtIndex(r),o=e[r];if(n){const a=this.getColumnGroupHeaderRowHeight(n);(o==null||a>o)&&(e[r]=a)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let i=0;const s=e.getHeaderCtrls();for(const r of s){const n=r.getColumn();if(n.isAutoHeaderHeight()){const o=n.getAutoHeaderHeight();o!=null&&o>i&&(i=o)}}return Math.max(t,i)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.visibleColsService.getAllCols().filter(s=>s.isAutoHeaderHeight()).map(s=>s.getAutoHeaderHeight()||0);return Math.max(e,...i)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,i){const s=t&&typeof t!="string"?Xl(t):void 0,r=e&&typeof e!="string"?Xl(e):void 0,n=s!==r,o=t&&typeof t!="string"?Eh(t):void 0,a=e&&typeof e!="string"?Eh(e):void 0;(n||o!==a)&&this.refreshAll(i)}};function qo(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function wy(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Sy(e,t){const i=e===t,s=e.getColDef()===t,r=e.getColId()==t;return i||s||r}function Ry(e,t){return Oo(e,t,(i,s)=>i.getColId()===s.getColId())}var jP=class extends Y{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:i,skipHeaderGroups:s,stopAtGroup:r,source:n="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const o=[];let a=-1;const l=i??this.gos.get("skipHeaderOnAutoSize"),c=s??l;for(;a!==0;){a=0;const d=[];t.forEach(u=>{if(!u)return;const f=this.columnModel.getCol(u);if(!f||o.indexOf(f)>=0)return;const g=this.autoWidthCalculator.getPreferredWidthForColumn(f,l);if(g>0){const m=this.normaliseColumnWidth(f,g);f.setActualWidth(m,n),o.push(f),a++}d.push(f)}),d.length&&this.visibleColsService.refresh(n)}c||this.autoSizeColumnGroupsByColumns(t,n,r),this.eventDispatcher.columnResized(o,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const s=new Set;this.columnModel.getColsForKeys(e).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||s.add(l),l=l.getParent()});let n;const o=[];for(const a of s){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(n=l.getHeaderCtrlForColumn(a),n)break;n&&n.resizeLeafColumnsToFit(t)}return o}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const i=e.getMinWidth();t<i&&(t=i);const s=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=s),t}},XP=class extends Y{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>cs(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>cs(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>cs(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);const i=this.columnModel.getColDefCol(t);return i?[i]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return xs(this.rowGroupCols)}setColumnAggFunc(e,t,i){if(!e)return;const s=this.columnModel.getColDefCol(e);s&&(s.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[s],i))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(i,s)=>this.setRowGroupActive(i,s,t),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,i),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,i))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,i=>this.setRowGroupActive(!0,i,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,i=>this.setRowGroupActive(!1,i,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,i=>i.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(i,s)=>{s.setPivotActive(i,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,i=>i.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(i,s)=>this.setValueActive(i,s,t),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){const s=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(s)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,i=>this.setValueActive(!0,i,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,i=>this.setValueActive(!1,i,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;const s=this.rowGroupCols[e],r=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,s),this.eventDispatcher.rowGroupChanged(r,i)}setColList(e,t,i,s,r,n,o){if(!this.columnModel.getCols())return;const a=new Map;t.forEach((c,d)=>a.set(c,d)),t.length=0,te(e)&&e.forEach(c=>{const d=this.columnModel.getColDefCol(c);d&&t.push(d)}),t.forEach((c,d)=>{const u=a.get(c);if(u===void 0){a.set(c,0);return}s&&u!==d||a.delete(c)}),(this.columnModel.getColDefCols()||[]).forEach(c=>{const d=t.indexOf(c)>=0;n(d,c)}),r&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.columnChanged(i,[...a.keys()],o)}updateColList(e,t,i,s,r,n,o){if(!e||xs(e))return;let a=!1;const l=new Set;e.forEach(c=>{if(!c)return;const d=this.columnModel.getColDefCol(c);if(d){if(l.add(d),i){if(t.indexOf(d)>=0)return;t.push(d)}else{const u=t.indexOf(d);if(u<0)return;for(let f=u+1;f<t.length;f++)l.add(t[f]);cs(t,d)}r(d),a=!0}}),a&&(s&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.genericColumnEvent(n,Array.from(l),o))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(i,s)=>i.setValueActive(s,e),()=>{},()=>{},i=>{const s=i.aggFunc;if(s===null||s==="")return null;if(s!==void 0)return!!s},i=>i.initialAggFunc!=null&&i.initialAggFunc!=""),this.valueCols.forEach(i=>{const s=i.getColDef();s.aggFunc!=null&&s.aggFunc!=""?i.setAggFunc(s.aggFunc):i.getAggFunc()||i.setAggFunc(s.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(i,s)=>i.setRowGroupActive(s,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(i,s)=>i.setPivotActive(s,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}extractColsCommon(e=[],t=[],i,s,r,n,o){const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(f=>{const g=e.indexOf(f)<0,m=f.getColDef(),y=Ug(n(m)),b=Ug(o(m)),S=ra(s(m)),I=ra(r(m));let F;y!==void 0?F=y:S!==void 0?S===null?F=!1:F=S>=0:g?b!==void 0?F=b:I!==void 0?F=I!=null&&I>=0:F=!1:F=t.indexOf(f)>=0,F&&((g?S!=null||I!=null:S!=null)?a.push(f):l.push(f))});const d=f=>{const g=s(f.getColDef()),m=r(f.getColDef());return g??m};a.sort((f,g)=>{const m=d(f),y=d(g);return m===y?0:m<y?-1:1});const u=[].concat(a);return t.forEach(f=>{l.indexOf(f)>=0&&u.push(f)}),l.forEach(f=>{u.indexOf(f)<0&&u.push(f)}),t.forEach(f=>{u.indexOf(f)<0&&i(f,!1)}),u.forEach(f=>{t.indexOf(f)<0&&i(f,!0)}),u}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},s=(r,n,o,a,l,c)=>{const d=this.columnModel.getColDefCols();if(!n.length||!d)return[];const u=Object.keys(r),f=new Set(u),g=new Set(u),m=new Set(n.map(O=>{const L=O.getColId();return g.delete(L),L}).concat(u)),y=[],b={};let S=0;for(let O=0;O<d.length;O++){const L=d[O].getColId();m.has(L)&&(y.push(L),b[L]=S++)}let I=1e3,F=!1,D=0;const V=O=>{const L=b[O];for(let q=D;q<L;q++){const T=y[q];g.has(T)&&(r[T][l]=I++,g.delete(T))}D=L};n.forEach(O=>{const L=O.getColId();if(f.has(L))V(L),r[L][l]=I++;else{const q=O.getColDef();(q[l]===null||q[l]===void 0&&q[c]==null)&&(F||(q[o]||q[o]===void 0&&q[a]?V(L):(g.forEach(_=>{r[_][l]=I+b[_]}),I+=y.length,F=!0)),i[L]||(i[L]={colId:L}),i[L][l]=I++)}})};return s(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},JP=class extends Y{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const i=this.columnModel.getColDefCols()||[];if(xs(i))return!1;if(e&&e.state&&!e.state.forEach)return j("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const s=this.funcColsService.getModifyColumnsNoEventsCallbacks(),r=(a,l,c)=>{const d=this.compareColumnStatesAndDispatchEvents(t),u=l.slice(),f={},g={},m=[],y=[];let b=0;const S=this.funcColsService.getRowGroupColumns().slice(),I=this.funcColsService.getPivotColumns().slice();a.forEach(O=>{const L=O.colId||"";if(L.startsWith(yf)){m.push(O),y.push(O);return}const T=c(L);T?(this.syncColumnWithStateItem(T,O,e.defaultState,f,g,!1,t,s),cs(u,T)):(y.push(O),b+=1)});const F=O=>this.syncColumnWithStateItem(O,null,e.defaultState,f,g,!1,t,s);u.forEach(F),this.funcColsService.sortRowGroupColumns(Ay.bind(this,f,S)),this.funcColsService.sortPivotColumns(Ay.bind(this,g,I)),this.columnModel.refreshCols(!1);const V=(this.columnModel.getAutoCols()||[]).slice();return m.forEach(O=>{const L=this.columnModel.getAutoCol(O.colId);cs(V,L),this.syncColumnWithStateItem(L,O,e.defaultState,null,null,!0,t,s)}),V.forEach(F),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),d(),{unmatchedAndAutoStates:y,unmatchedCount:b}};this.columnAnimationService.start();let{unmatchedAndAutoStates:n,unmatchedCount:o}=r(e.state||[],i,a=>this.columnModel.getColDefCol(a));if(n.length>0||te(e.defaultState)){const a=this.pivotResultColsService.getPivotResultCols(),l=a==null?void 0:a.list;o=r(n,l||[],c=>this.pivotResultColsService.getPivotResultCol(c)).unmatchedCount}return this.columnAnimationService.finish(),o===0}resetColumnState(e){const t=this.columnModel.getColDefCols();if(xs(t))return;const i=this.columnModel.getColDefColTree(),s=Iv(i),r=[];let n=1e3,o=1e3,a=[];const l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),s&&(a=a.concat(s)),a.forEach(c=>{const d=this.getColumnStateFromColDef(c);Ne(d.rowGroupIndex)&&d.rowGroup&&(d.rowGroupIndex=n++),Ne(d.pivotIndex)&&d.pivot&&(d.pivotIndex=o++),r.push(d)}),this.applyColumnState({state:r,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(m,y)=>m??y??null,i=e.getColDef(),s=t(i.sort,i.initialSort),r=t(i.sortIndex,i.initialSortIndex),n=t(i.hide,i.initialHide),o=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let c=t(i.rowGroupIndex,i.initialRowGroupIndex),d=t(i.rowGroup,i.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let u=t(i.pivotIndex,i.initialPivotIndex),f=t(i.pivot,i.initialPivot);u==null&&(f==null||f==!1)&&(u=null,f=null);const g=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:s,sortIndex:r,hide:n,pinned:o,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:f,pivotIndex:u,aggFunc:g}}syncColumnWithStateItem(e,t,i,s,r,n,o,a){if(!e)return;const l=(D,V)=>{const O={value1:void 0,value2:void 0};let L=!1;return t&&(t[D]!==void 0&&(O.value1=t[D],L=!0),te(V)&&t[V]!==void 0&&(O.value2=t[V],L=!0)),!L&&i&&(i[D]!==void 0&&(O.value1=i[D]),te(V)&&i[V]!==void 0&&(O.value2=i[V])),O},c=l("hide").value1;c!==void 0&&e.setVisible(!c,o);const d=l("pinned").value1;d!==void 0&&e.setPinned(d);const u=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),f=l("flex").value1;if(f!==void 0&&e.setFlex(f),f==null){const D=l("width").value1;D!=null&&u!=null&&D>=u&&e.setActualWidth(D,o)}const g=l("sort").value1;g!==void 0&&(g==="desc"||g==="asc"?e.setSort(g,o):e.setSort(void 0,o));const m=l("sortIndex").value1;if(m!==void 0&&e.setSortIndex(m),n||!e.isPrimary())return;const y=l("aggFunc").value1;y!==void 0&&(typeof y=="string"?(e.setAggFunc(y),e.isValueActive()||(e.setValueActive(!0,o),a.addValueCol(e))):(te(y)&&j("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),a.removeValueCol(e))));const{value1:b,value2:S}=l("rowGroup","rowGroupIndex");(b!==void 0||S!==void 0)&&(typeof S=="number"||b?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),a.addGroupCol(e)),s&&typeof S=="number"&&(s[e.getId()]=S)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),a.removeGroupCol(e)));const{value1:I,value2:F}=l("pivot","pivotIndex");(I!==void 0||F!==void 0)&&(typeof F=="number"||I?(e.isPivotActive()||(e.setPivotActive(!0,o),a.addPivotCol(e)),r&&typeof F=="number"&&(r[e.getId()]=F)):e.isPivotActive()&&(e.setPivotActive(!1,o),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(i=>{i.colId!=null&&t.push(i.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),s={};return i.forEach(r=>{s[r.colId]=r}),()=>{const r=this.columnModel.getAllCols(),n=(y,b,S,I)=>{const F=b.map(I),D=S.map(I);if(Oo(F,D))return;const O=new Set(b);S.forEach(q=>{O.delete(q)||O.add(q)});const L=[...O];this.eventService.dispatchEvent({type:y,columns:L,column:L.length===1?L[0]:null,source:e})},o=y=>{const b=[];return r.forEach(S=>{const I=s[S.getColId()];I&&y(I,S)&&b.push(S)}),b},a=y=>y.getColId();n("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),n("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const c=o((y,b)=>{const S=y.aggFunc!=null,I=S!=b.isValueActive(),F=S&&y.aggFunc!=b.getAggFunc();return I||F});c.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",c,e);const d=(y,b)=>y.width!=b.getActualWidth();this.eventDispatcher.columnResized(o(d),!0,e);const u=(y,b)=>y.pinned!=b.getPinned();this.eventDispatcher.columnPinned(o(u),e);const f=(y,b)=>y.hide==b.isVisible();this.eventDispatcher.columnVisible(o(f),e);const m=o((y,b)=>y.sort!=b.getSort()||y.sortIndex!=b.getSortIndex());m.length>0&&this.sortController.dispatchSortChangedEvents(e,m),this.normaliseColumnMovedEventForColumnState(i,e)}}normaliseColumnMovedEventForColumnState(e,t){const i=this.columnGetStateService.getColumnState(),s={};i.forEach(l=>s[l.colId]=l);const r={};e.forEach(l=>{s[l.colId]&&(r[l.colId]=!0)});const n=e.filter(l=>r[l.colId]),o=i.filter(l=>r[l.colId]),a=[];o.forEach((l,c)=>{const d=n&&n[c];if(d&&d.colId!==l.colId){const u=this.columnModel.getCol(d.colId);u&&a.push(u)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},Ay=(e,t,i,s)=>{const r=e[i.getId()],n=e[s.getId()],o=r!=null,a=n!=null;if(o&&a)return r-n;if(o)return-1;if(a)return 1;const l=t.indexOf(i),c=t.indexOf(s),d=l>=0,u=c>=0;return d&&u?l-c:d?-1:1},UP=class extends Y{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,i){const s=this.columnModel.getCols();if(!s)return;const r=s[e];this.moveColumns([r],t,i)}moveColumns(e,t,i,s=!0){const r=this.columnModel.getCols();if(!r)return;if(t>r.length-e.length){j("tried to insert columns in invalid location, toIndex = ",t),j("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const n=this.columnModel.getColsForKeys(e);this.doesMovePassRules(n,t)&&(this.columnModel.moveInCols(n,t,i),this.eventDispatcher.columnMoved({movedColumns:n,source:i,toIndex:t,finished:s})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const s=this.columnModel.getCols().slice();return bS(s,e,t),s}doesMovePassLockedPositions(e){const t=n=>n?n==="left"||n===!0?-1:1:0,i=this.gos.get("enableRtl");let s=i?1:-1,r=!0;return e.forEach(n=>{const o=t(n.getColDef().lockPosition);i?o>s&&(r=!1):o<s&&(r=!1),s=o}),r}doesMovePassMarryChildren(e){let t=!0;const i=this.columnModel.getColTree();return Pn(null,i,s=>{if(!$i(s))return;const r=s,n=r.getColGroupDef();if(!(n&&n.marryChildren))return;const a=[];r.getLeafColumns().forEach(f=>{const g=e.indexOf(f);a.push(g)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,u=r.getLeafColumns().length-1;d>u&&(t=!1)}),t}placeLockedColumns(e){const t=[],i=[],s=[];return e.forEach(n=>{const o=n.getColDef().lockPosition;o==="right"?s.push(n):o==="left"||o===!0?t.push(n):i.push(n)}),this.gos.get("enableRtl")?[...s,...i,...t]:[...t,...i,...s]}},qP=/[&<>"']/g,KP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Vr(e,t){if(e==null)return null;const i=e.toString().toString();return t?i:i.replace(qP,s=>KP[s])}function QP(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}function $P(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var eO=class extends Y{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const s=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,s):s}getDisplayNameForProvidedColumnGroup(e,t,i){const s=t?t.getColGroupDef():null;return s?this.getHeaderName(s,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,s,r){const n=e.headerValueGetter;if(n){const o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:s,location:r});return typeof n=="function"?n(o):typeof n=="string"?this.expressionService.evaluate(n,o):(j("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return QP(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn,s=te(i);let r=null,n;if(s){const o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&o.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return t;r=i?i.getAggFunc():null,n=!0}else{const o=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();o&&a?(r=e.getAggFunc(),n=!0):n=!1}if(n){const o=typeof r=="string"?r:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}},tO=class extends Y{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;Qn(this.context,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;const i=this.columnModel.getColDefCol(t);let s=null;return this.pivotResultCols.list.forEach(r=>{const n=r.getColDef().pivotKeys,o=r.getColDef().pivotValueColumn;Oo(n,e)&&o===i&&(s=r)}),s}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){var i,s;if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const r=this.columnFactory.createColumnTree(e,!1,((i=this.pivotResultCols)==null?void 0:i.tree)||this.previousPivotResultCols||void 0,t);Qn(this.context,(s=this.pivotResultCols)==null?void 0:s.tree,r.columnTree);const n=r.columnTree,o=r.treeDept,a=Iv(n),l={};this.pivotResultCols={tree:n,treeDepth:o,list:a,map:l},this.pivotResultCols.list.forEach(d=>this.pivotResultCols.map[d.getId()]=d);const c=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!c)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;const s=r=>{r.forEach(n=>{if(te(n.children)){const a=n;i&&i(a),s(a.children)}else t&&t(n)})};e&&s(e)}},iO=class extends Y{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,i,s){const r=[];e.forEach(n=>{const o=this.columnModel.getColDefCol(n.key)||this.columnModel.getCol(n.key);if(!o)return;if(r.push({width:n.newWidth,ratios:[1],columns:[o]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const l=this.visibleColsService.getColAfter(o);if(!l)return;const c=o.getActualWidth()-n.newWidth,d=l.getActualWidth()+c;r.push({width:d,ratios:[1],columns:[l]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:i,source:s})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:s}=e;if(!(!t||t.every(d=>this.checkMinAndMaxWidthsForSet(d)))){if(i){const d=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(d,i,s)}return}const n=[],o=[];t.forEach(d=>{const{width:u,columns:f,ratios:g}=d,m={},y={};f.forEach(I=>o.push(I));let b=!0,S=0;for(;b;){if(S++,S>1e3){$e("infinite loop in resizeColumnSets");break}b=!1;const I=[];let F=0,D=u;f.forEach((O,L)=>{if(y[O.getId()])D-=m[O.getId()];else{I.push(O);const T=g[L];F+=T}});const V=1/F;I.forEach((O,L)=>{const q=L===I.length-1;let T;q?T=D:(T=Math.round(g[L]*u*V),D-=T);const X=O.getMinWidth(),_=O.getMaxWidth();T<X?(T=X,y[O.getId()]=!0,b=!0):_>0&&T>_&&(T=_,y[O.getId()]=!0,b=!0),m[O.getId()]=T})}f.forEach(I=>{const F=m[I.getId()];I.getActualWidth()!==F&&(I.setActualWidth(F,s),n.push(I))})});const a=n.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(s),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const c=o.concat(l);(a||i)&&this.eventDispatcher.columnResized(c,i,s,l)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let s=0,r=0,n=!0;t.forEach(l=>{const c=l.getMinWidth();s+=c||0;const d=l.getMaxWidth();d>0?r+=d:n=!1});const o=i>=s,a=!n||i<=r;return o&&a}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const i=this.visibleColsService.getCenterCols();let s=-1;if(e.resizingCols){const f=new Set(e.resizingCols);for(let g=i.length-1;g>=0;g--)if(f.has(i[g])){s=g;break}}let r=0,n=[],o=0,a=0;for(let f=0;f<i.length;f++)i[f].getFlex()&&f>s?(n.push(i[f]),a+=i[f].getFlex(),o+=i[f].getMinWidth()):r+=i[f].getActualWidth();if(!n.length)return[];let l=[];r+o>this.flexViewportWidth&&(n.forEach(f=>f.setActualWidth(f.getMinWidth(),t)),l=n,n=[]);const c=[];let d;e:for(;;){d=this.flexViewportWidth-r;const f=d/a;for(let g=0;g<n.length;g++){const m=n[g],y=f*m.getFlex();let b=0;const S=m.getMinWidth(),I=m.getMaxWidth();if(y<S?b=S:y>I&&(b=I),b){m.setActualWidth(b,t),vS(n,m),a-=m.getFlex(),l.push(m),r+=m.getActualWidth();continue e}c[g]=Math.floor(y)}break}let u=d;return n.forEach((f,g)=>{const m=g<n.length-1?Math.min(c[g],u):Math.max(c[g],u);f.setActualWidth(m,t),l.push(f),u-=c[g]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,n),n}sizeColumnsToFit(e,t="sizeColumnsToFit",i,s){var f;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,s));return}const r={};s&&((f=s==null?void 0:s.columnLimits)==null||f.forEach(({key:g,...m})=>{r[typeof g=="string"?g:g.getColId()]=m}));const n=this.visibleColsService.getAllCols(),o=e===dn(n);if(e<=0||!n.length||o)return;const a=[],l=[];n.forEach(g=>{g.getColDef().suppressSizeToFit===!0?l.push(g):a.push(g)});const c=a.slice(0);let d=!1;const u=g=>{cs(a,g),l.push(g)};for(a.forEach(g=>{g.resetActualWidth(t);const m=r==null?void 0:r[g.getId()],y=(m==null?void 0:m.minWidth)??(s==null?void 0:s.defaultMinWidth),b=(m==null?void 0:m.maxWidth)??(s==null?void 0:s.defaultMaxWidth),S=g.getActualWidth();typeof y=="number"&&S<y?g.setActualWidth(y,t,!0):typeof b=="number"&&S>b&&g.setActualWidth(b,t,!0)});!d;){d=!0;const g=e-dn(l);if(g<=0)a.forEach(m=>{var b;const y=((b=r==null?void 0:r[m.getId()])==null?void 0:b.minWidth)??(s==null?void 0:s.defaultMinWidth);if(typeof y=="number"){m.setActualWidth(y,t,!0);return}m.setMinimum(t)});else{const m=g/dn(a);let y=g;for(let b=a.length-1;b>=0;b--){const S=a[b],I=r==null?void 0:r[S.getId()],F=(I==null?void 0:I.minWidth)??(s==null?void 0:s.defaultMinWidth),D=(I==null?void 0:I.maxWidth)??(s==null?void 0:s.defaultMaxWidth),V=S.getMinWidth(),O=S.getMaxWidth(),L=typeof F=="number"&&F>V?F:V,q=typeof D=="number"&&D<O?D:O;let T=Math.round(S.getActualWidth()*m);T<L?(T=L,u(S),d=!1):T>q?(T=q,u(S),d=!1):b===0&&(T=y),S.setActualWidth(T,t,!0),y-=T}}}c.forEach(g=>{g.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!i&&this.eventDispatcher.columnResized(c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:s,defaultMaxWidth:r}=e,n=i==null?void 0:i.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:s,defaultMaxWidth:r,columnLimits:n})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function AS(e,t){return e+"_"+t}function hi(e){return e instanceof IS}var IS=class extends Y{constructor(e,t,i,s){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=s}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return AS(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{hi(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=je(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Do(t)?e.push(t):hi(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Do(t)?e.push(t):hi(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(hi(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},sO=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}},rO=class extends Y{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=Rp(this.treeLeft),this.columnsCenter=Rp(this.treeCenter),this.columnsRight=Rp(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(i=>i.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=dn(this.columnsCenter),t=dn(this.columnsLeft),i=dn(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?je(this.columnsRight):null):(t=this.columnsLeft?je(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(s=>{s.setLastLeftPinned(s===t,e),s.setFirstRightPinned(s===i,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(n=>n.getPinned()=="left"),i=e.filter(n=>n.getPinned()=="right"),s=e.filter(n=>n.getPinned()!="left"&&n.getPinned()!="right"),r=new sO;this.treeLeft=this.createGroups({columns:t,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:s,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],i=[],s=[];for(const r of e){const n=r.getPinned();n?n===!0||n==="left"?t.push(r):s.push(r):i.push(r)}this.ariaOrderColumns=t.concat(i).concat(s)}getAriaColIndex(e){let t;return hi(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{hi(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const i=this.columnModel.getCols().slice(0),s=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(r=>{if(s){let n=dn(r);r.forEach(o=>{n-=o.getActualWidth(),o.setLeft(n,e)})}else{let n=0;r.forEach(o=>{o.setLeft(n,e),n+=o.getActualWidth()})}kP(i,r)}),i.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,i,s){const r=[];let n=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){const f=c-1;for(let g=1;g<=f;g++)d.push(t[o+g]);o+=f}let u;i?(u=!1,d.forEach(f=>{i(f)&&(u=!0)})):u=!0,u&&(r.length===0&&n&&(s&&s(a))&&r.push(n),r.push(a)),n=a}return r}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),i=t.indexOf(e);return i>0?t[i-1]:null}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),r=t==="After"?je(s):s[0],n=`getCol${t}`;for(;;){const o=this[n](r);if(!o)return null;const a=this.getColGroupAtLevel(o,i);if(a!==e)return a}}getColGroupAtLevel(e,t){let i=e.getParent(),s,r;for(;s=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),!(s+r<=t);)i=i.getParent();return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Ko(this.treeCenter,!1,e),Ko(this.treeLeft,!1,e),Ko(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();Ko(e,!1,t=>{hi(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const s=this[t[i]]();if(s.length)return e?je(s):s[0]}return null}getColumnGroup(e,t){if(!e)return null;if(hi(e))return e;const i=this.getAllTrees(),s=typeof t=="number";let r=null;return Ko(i,!1,n=>{if(hi(n)){const o=n;let a;s?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(r=o)}}),r}getColAfter(e){const t=this.getAllCols(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return dn(this.columnsLeft)}getDisplayedColumnsRightWidth(){return dn(this.columnsRight)}isColAtEdge(e,t){const i=this.getAllCols();if(!i.length)return!1;const s=t==="first";let r;if(hi(e)){const n=e.getDisplayedLeafColumns();if(!n.length)return!1;r=s?n[0]:je(n)}else r=e;return(s?i[0]:je(i))===r}createGroups(e){const{columns:t,idCreator:i,pinned:s,oldDisplayedGroups:r,isStandaloneStructure:n}=e,o=this.mapOldGroupsById(r),a=[];let l=t;for(;l.length;){const c=l;l=[];let d=0;const u=f=>{const g=d;d=f;const m=c[g],b=(hi(m)?m.getProvidedColumnGroup():m).getOriginalParent();if(b==null){for(let I=g;I<f;I++)a.push(c[I]);return}const S=this.createColGroup(b,i,o,s,n);for(let I=g;I<f;I++)S.addChild(c[I]);l.push(S)};for(let f=1;f<c.length;f++){const g=c[f],y=(hi(g)?g.getProvidedColumnGroup():g).getOriginalParent(),b=c[d],I=(hi(b)?b.getProvidedColumnGroup():b).getOriginalParent();y!==I&&u(f)}d<c.length&&u(c.length)}return n||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,i,s,r){const n=e.getGroupId(),o=t.getInstanceIdForKey(n),a=AS(n,o);let l=i[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),te(l)?l.reset():(l=new IS(e,n,o,s),r||this.createBean(l)),l}mapOldGroupsById(e){const t={},i=s=>{s.forEach(r=>{if(hi(r)){const n=r;t[r.getUniqueId()]=n,i(n.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.setParent(t),hi(i)){const s=i;this.setupParentsIntoCols(s.getChildren(),s)}})}};function Ko(e,t,i){if(e)for(let s=0;s<e.length;s++){const r=e[s];if(hi(r)){const n=t?r.getDisplayedChildren():r.getChildren();Ko(n,t,i)}i(r)}}function Rp(e){const t=[];return Ko(e,!0,i=>{Do(i)&&t.push(i)}),t}var FS=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],nO=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],oO=[...FS,...nO],aO={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},Ni=class{};Ni.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];Ni.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];Ni.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];Ni.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];Ni.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];Ni.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];Ni.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];Ni.ALL_PROPERTIES=[...Ni.ARRAY_PROPERTIES,...Ni.OBJECT_PROPERTIES,...Ni.STRING_PROPERTIES,...Ni.NUMBER_PROPERTIES,...Ni.FUNCTION_PROPERTIES,...Ni.BOOLEAN_PROPERTIES,...Ni.OTHER_PROPERTIES];var zd=Ni,Hs=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};Hs.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Hs.PUBLIC_EVENTS=FS;Hs.EVENT_CALLBACKS=oO.map(e=>Hs.getCallbackForEvent(e));Hs.BOOLEAN_PROPERTIES=zd.BOOLEAN_PROPERTIES;Hs.ALL_PROPERTIES=zd.ALL_PROPERTIES;Hs.ALL_PROPERTIES_AND_CALLBACKS=[...Hs.ALL_PROPERTIES,...Hs.EVENT_CALLBACKS];Hs.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Hs.ALL_PROPERTIES_AND_CALLBACKS);var xS=Hs;function Cu(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var lO=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(s=>this.addCssClass(s));return}if(this.cssClassStates[e]!==!0&&e.length){const s=this.getGui();s&&s.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(s=>this.removeCssClass(s));return}if(this.cssClassStates[e]!==!1&&e.length){const s=this.getGui();s&&s.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const s=(e||"").split(" ");if(s.length>1){s.forEach(r=>this.addOrRemoveCssClass(r,t));return}}if(this.cssClassStates[e]!==t&&e.length){const s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}};function Nn(e,t,i){i==null||typeof i=="string"&&i==""?_S(e,t):wr(e,t,i)}function wr(e,t,i){e.setAttribute(ES(t),i.toString())}function _S(e,t){e.removeAttribute(ES(t))}function ES(e){return`aria-${e}`}function vs(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function cO(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function dO(e){return e.getAttribute("aria-label")}function Ul(e,t){Nn(e,"label",t)}function jd(e,t){Nn(e,"labelledby",t)}function MS(e,t){Nn(e,"live",t)}function uO(e,t){Nn(e,"atomic",t)}function hO(e,t){Nn(e,"relevant",t)}function fO(e,t){Nn(e,"disabled",t)}function kS(e,t){Nn(e,"hidden",t)}function Dh(e,t){wr(e,"expanded",t)}function pO(e,t){wr(e,"setsize",t)}function gO(e,t){wr(e,"posinset",t)}function mO(e,t){wr(e,"multiselectable",t)}function vO(e,t){wr(e,"rowcount",t)}function DS(e,t){wr(e,"rowindex",t)}function bO(e,t){wr(e,"colcount",t)}function GS(e,t){wr(e,"colindex",t)}function CO(e,t){wr(e,"colspan",t)}function yO(e,t){wr(e,"sort",t)}function wO(e){_S(e,"sort")}function Gh(e,t){Nn(e,"selected",t)}function SO(e,t){Nn(e,"controls",t.id),jd(t,e.id)}function Ev(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Ap,ku,Ip,Fp,xp,_p,im,sm,Ep;function en(){return Ap===void 0&&(Ap=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Ap}function PS(){if(ku===void 0)if(en()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(ku=e[1]!=null?parseFloat(e[1]):0)}else ku=0;return ku}function Mv(){if(Ip===void 0){const e=window;Ip=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Ip}function kv(){return Fp===void 0&&(Fp=/(firefox)/i.test(navigator.userAgent)),Fp}function OS(){return xp===void 0&&(xp=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),xp}function Bo(){return _p===void 0&&(_p=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),_p}function rm(){return!en()||PS()>=15}function nm(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!kv())?null:t.toString()}function RO(){if(Ep!==void 0)return Ep;if(!document.body)return-1;let e=1e6;const t=kv()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const s=e*2;if(i.style.height=s+"px",s>t||i.clientHeight!==s)break;e=s}return document.body.removeChild(i),Ep=e,e}function AO(){var e,t;return((e=document.body)==null?void 0:e.clientWidth)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1)}function IO(){var e,t;return((e=document.body)==null?void 0:e.clientHeight)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1)}function FO(){return sm==null&&BS(),sm}function BS(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(sm=i,im=i===0)}function WS(){return im==null&&BS(),im}var Du,xO="[tabindex], input, select, button, textarea, [href]",TS="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Dv(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,s=t.call(e,"input, select, button, textarea"),r=t.call(e,TS),n=mr(e);return s&&!r&&n}function Nt(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-hidden",!t),s||kS(e,!t)}function _O(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-invisible",!t),s||kS(e,!t)}function Xd(e,t){const i="disabled",s=t?r=>r.setAttribute(i,""):r=>r.removeAttribute(i);s(e),zS(e.querySelectorAll("input"),r=>s(r))}function pl(e,t,i){let s=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++s>i)break}else if(e===i)break}return!1}function Va(e){const{height:t,width:i,borderTopWidth:s,borderRightWidth:r,borderBottomWidth:n,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:f,marginBottom:g,marginLeft:m,boxSizing:y}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(n||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(f||"0"),marginBottom:parseFloat(g||"0"),marginLeft:parseFloat(m||"0"),boxSizing:y}}function Gv(e){const t=Va(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function yu(e){const t=Va(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function LS(e){const{height:t,marginBottom:i,marginTop:s}=Va(e);return Math.floor(t+i+s)}function Ph(e){const{width:t,marginLeft:i,marginRight:s}=Va(e);return Math.floor(t+i+s)}function NS(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:s,borderRightWidth:r,borderBottomWidth:n}=Va(e);return{top:t.top+(i||0),left:t.left+(s||0),right:t.right+(r||0),bottom:t.bottom+(n||0)}}function Oh(){if(typeof Du=="boolean")return Du;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,Du=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),Du}function Bh(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),Mv()&&!Oh()&&(i=e.scrollWidth-e.getBoundingClientRect().width-i)),i}function Wh(e,t,i){i&&(Oh()?t*=-1:(en()||Mv())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function Yi(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Pr(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function VS(e){return!!e.offsetParent}function mr(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!VS(e)||window.getComputedStyle(e).visibility!=="visible")}function Jd(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function HS(e,t,i){i&&i.nextSibling===t||(i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function ZS(e,t){for(let i=0;i<t.length;i++){const s=t[i],r=e.children[i];r!==s&&e.insertBefore(s,r)}}function EO(e,t,i){i?i.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function YS(e,t){if(t)for(const[i,s]of Object.entries(t)){if(!i||!i.length||s==null)continue;const r=$P(i),n=s.toString(),o=n.replace(/\s*!important/g,""),a=o.length!=n.length?"important":void 0;e.style.setProperty(r,o,a)}}function MO(e){return e.clientWidth<e.scrollWidth}function kO(e){return e.clientHeight<e.scrollHeight}function Th(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):ur(e,t)}function ur(e,t){t=Pv(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Qc(e,t){t=Pv(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Pv(e){return typeof e=="number"?`${e}px`:e}function Ov(e){return e instanceof Node||e instanceof HTMLElement}function DO(e){if(e==null)return[];const t=[];return zS(e,i=>t.push(i)),t}function GO(e,t){if(e)for(let i=0;i<e.length;i++){const s=e[i];t(s.name,s.value)}}function Zs(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function zS(e,t){if(e!=null)for(let i=0;i<e.length;i++)t(e[i])}var Bv=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},PO=1e3,OO=1e3,Iy=100,jS=class zo extends Y{constructor(t,i,s,r){super(),this.parentComp=t,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=s,this.shouldDisplayTooltip=r,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const i=this.gos.get(t);return i<0&&j(`${t} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(t){return t==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Bo()&&(zo.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},Iy):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var n;const i=t.relatedTarget,s=this.parentComp.getGui(),r=(n=this.tooltipComp)==null?void 0:n.getGui();this.isInteractingWithTooltip||s.contains(i)||this.interactionEnabled&&(r!=null&&r.contains(i))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||zo.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),i=zo.lastTooltipHideTime;return t-i<PO}setToDoNothing(t){!t&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!te(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(i)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),zo.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,i){if(this.state!==2||this.tooltipInstanceCount!==t){this.destroyBean(i);return}const r=i.getGui();this.tooltipComp=i,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const n=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:r,ariaLabel:n("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(ri(this.gos),{keydown:a=>{r.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var s;const t=(s=this.tooltipComp)==null?void 0:s.getGui(),i=Vt(this.gos);return!!t&&t.contains(i)}onTooltipFocusOut(t){const i=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,i.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,i=this.tooltipComp,s=this.tooltipTrigger===0?OO:0;window.setTimeout(()=>{t(),this.destroyBean(i)},s),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){zo.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},Iy)}unlockService(){zo.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};jS.isLocked=!1;var BO=jS,Cc=class extends Y{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(e!=null&&e!=""?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,i,s,r;if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new BO(e,(i=(t=this.ctrl).getTooltipShowDelayOverride)==null?void 0:i.call(t),(r=(s=this.ctrl).getTooltipHideDelayOverride)==null?void 0:r.call(s),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var r,n,o,a,l;const e=this.ctrl,t=(r=e.getColumn)==null?void 0:r.call(e),i=(n=e.getColDef)==null?void 0:n.call(e),s=(o=e.getRowNode)==null?void 0:o.call(e);return{location:e.getLocation(),colDef:i,column:t,rowIndex:(a=e.getRowIndex)==null?void 0:a.call(e),node:s,data:s==null?void 0:s.data,value:this.getTooltipText(),valueFormatted:(l=e.getValueFormatted)==null?void 0:l.call(e),hideTooltipCallback:()=>{var c;return(c=this.tooltipManager)==null?void 0:c.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},WO=new Bv,le=null,Xe=class XS extends Y{constructor(t,i){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=WO.next(),this.cssClassManager=new lO(()=>this.eGui),this.componentSelectors=new Map((i??[]).map(s=>[s.selector,s])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,i){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,i))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:i,showDelayOverride:s,hideDelayOverride:r,location:n,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);const a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new Cc({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>n??"UNKNOWN",getColDef:t==null?void 0:t.getColDef,getColumn:t==null?void 0:t.getColumn,getTooltipShowDelayOverride:s!=null?()=>s:void 0,getTooltipHideDelayOverride:r!=null?()=>r:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,i,s,r=null){if(i===void 0&&(i=this.getDataRefAttribute(t)),i){const n=this[i];if(n===le)this[i]=r??t;else{const o=s&&s[i];!this.suppressDataRefValidation&&!o&&j(`Issue with data-ref: ${i} on ${this.constructor.name} with ${n}`)}}}createChildComponentsFromTags(t,i){DO(t.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const n=this.createComponentFromElement(r,o=>{o.getGui()&&this.copyAttributesFromNode(r,o.getGui())},i);if(n){if(n.addItems&&r.children.length){this.createChildComponentsFromTags(r,i);const o=Array.prototype.slice.call(r.children);n.addItems(o)}this.swapComponentForNode(n,t,r)}else r.childNodes&&this.createChildComponentsFromTags(r,i)})}createComponentFromElement(t,i,s){const r=t.nodeName,n=this.getDataRefAttribute(t),o=r.indexOf("AG-")===0,a=o?this.componentSelectors.get(r):null;let l=null;if(a){XS.elementGettingCreated=t;const c=s&&n?s[n]:void 0;l=new a.component(c),l.setParentComponent(this),this.createBean(l,null,i)}else o&&j(`Missing selector: ${r}`);return this.applyElementsToComponent(t,n,s,l),l}copyAttributesFromNode(t,i){GO(t.attributes,(s,r)=>i.setAttribute(s,r))}swapComponentForNode(t,i,s){const r=t.getGui();i.replaceChild(r,s),i.insertBefore(document.createComment(s.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const i=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(s=>s.setAttribute("tabindex",i.toString()))}setTemplate(t,i,s){const r=Jd(t);this.setTemplateFromElement(r,i,s)}setTemplateFromElement(t,i,s,r=!1){if(this.eGui=t,this.suppressDataRefValidation=r,i)for(let n=0;n<i.length;n++){const o=i[n];this.componentSelectors.set(o.selector,o)}this.wireTemplate(t,s)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,i){let s=i;return t==null?null:(s||(s=this.eGui),Ov(t)?{element:t,parent:s}:{element:t.getGui(),parent:s})}prependChild(t,i){const{element:s,parent:r}=this.getContainerAndElement(t,i)||{};!s||!r||r.insertAdjacentElement("afterbegin",s)}appendChild(t,i){const{element:s,parent:r}=this.getContainerAndElement(t,i)||{};!s||!r||r.appendChild(s)}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:s}=i;_O(this.eGui,t,{skipAriaHidden:s})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:s}=i;Nt(this.eGui,t,{skipAriaHidden:s});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,i,s){this.eGui.addEventListener(t,i,s),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}},JS={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},TO=(()=>{const e=new Set(Object.values(JS));return e.add("eye"),e})();function LO(e,t,i){const s=Fs(e,t,i);if(s){const{className:n}=s;if(typeof n=="string"&&n.indexOf("ag-icon")>-1||typeof n=="object"&&n["ag-icon"])return s}const r=document.createElement("span");return r.appendChild(s),r}function Fs(e,t,i,s){let r=null;const n=i&&i.getColDef().icons;if(n&&(r=n[e]),t&&!r){const o=t.get("icons");o&&(r=o[e])}if(r){let o;if(typeof r=="function")o=r();else if(typeof r=="string")o=r;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return Jd(o);if(Ov(o))return o;j("iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=JS[e]??(TO.has(e)?e:void 0);return a||(j(`Did not find icon ${e}`),a=""),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),vs(o,"presentation"),o}}var NO=class extends Xe{constructor(){super(...arguments),this.dragSource=null,this.eIcon=le,this.eLabel=le}postConstruct(){const e=t=>LO(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){var s,r;Yi(this.eIcon);let i=null;e||(e=(s=this.dragSource)!=null&&s.getDefaultIconName?(r=this.dragSource)==null?void 0:r.getDefaultIconName():"notAllowed"),i=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),!(i===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eIcon.appendChild(i)}setLabel(e){this.eLabel.textContent=Vr(e)}};function US(e,t,i){if(i===0)return!1;const s=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(s,r)<=i}var po=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new vc,this.eElement=e,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",s,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",s,{passive:!0}),this.eElement.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;const s={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(s)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!US(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function _c(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var VO=`<span class="ag-sort-indicator-container">
        ${_c("Order","order")}
        ${_c("Asc","ascending-icon")}
        ${_c("Desc","descending-icon")}
        ${_c("Mixed","mixed-icon")}
        ${_c("None","none-icon")}
    </span>`,Wv=class extends Xe{constructor(e){super(),this.eSortOrder=le,this.eSortAsc=le,this.eSortDesc=le,this.eSortMixed=le,this.eSortNone=le,e||this.setTemplate(VO)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,i,s,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=s,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const i=this.updateIcons.bind(this),s=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:s,columnRowGroupChanged:s}),this.onSortChanged()}addInIcon(e,t,i){if(t==null)return;const s=Fs(e,this.gos,i);s&&t.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";Nt(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";Nt(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),i=e==null;Nt(this.eSortNone,!t&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;Dr(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Nt(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,i=e.some(r=>this.sortController.getDisplaySortIndexForColumn(r)??!1),s=t>=0&&i;Nt(this.eSortOrder,s,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():Yi(this.eSortOrder)}},HO={selector:"AG-SORT-INDICATOR",component:Wv},ZO=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,om=class extends Xe{constructor(){super(...arguments),this.eFilter=le,this.eFilterButton=le,this.eSortIndicator=le,this.eMenu=le,this.eLabel=le,this.eText=le,this.eSortOrder=le,this.eSortAsc=le,this.eSortDesc=le,this.eSortMixed=le,this.eSortNone=le,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??ZO;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[HO]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=Vr(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(t==null)return;const s=Fs(e,this.gos,i);s&&t.appendChild(s)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new po(this.getGui(),!0),i=this.shouldSuppressMenuHide(),s=i&&te(this.eMenu),r=s?new po(this.eMenu,!0):t;if(this.params.enableMenu){const n=s?"tap":"longTap",o=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(r,{[n]:o})}if(this.params.enableSorting){const n=o=>{var l,c;const a=o.touchStart.target;i&&((l=this.eMenu)!=null&&l.contains(a)||(c=this.eFilterButton)!=null&&c.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:n})}if(this.params.enableFilterButton){const n=new po(this.eFilterButton,!0);this.addManagedListeners(n,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>n.destroy())}this.addDestroyFunc(()=>t.destroy()),s&&this.addDestroyFunc(()=>r.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Pr(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,i=this.menuService.isLegacyMenuEnabled();if(e&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new Wv(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{const i=this.params.column.isMoving(),r=new Date().getTime()-this.lastMovingChanged<50;if(!(i||r)){const a=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const i=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),r=!(i==null?void 0:i.every(n=>this.params.column.getSort()==n.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",r)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,i){if(!e)return Pr(t),!1;const s=this.params.column;return this.addInIcon("filter",t,s),this.addManagedListeners(s,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Nt(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},YO=class extends Xe{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=le,this.agClosed=le,this.agLabel=le}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&j("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=r=>{if(Sn(r))return;const n=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),n,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=r=>{Jl(r)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup(),s=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:s,expandableChanged:s})}addTouchAndClickListeners(e,t){const i=new po(e,!0);this.addManagedListeners(i,{tap:t}),this.addDestroyFunc(()=>i.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();Nt(this.agOpened,t),Nt(this.agClosed,!t)}else Nt(this.agOpened,!1),Nt(this.agClosed,!1)}addInIcon(e,t){const i=Fs(e,this.gos,null);i&&t.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Nt(this.agOpened,!1),Nt(this.agClosed,!1);return}}setupLabel(){var i;const{displayName:e,columnGroup:t}=this.params;if(te(e)){const s=Vr(e,!0);this.agLabel.textContent=s}this.addOrRemoveCssClass("ag-sticky-label",!((i=t.getColGroupDef())!=null&&i.suppressStickyLabel))}},zO="",jO="",XO=class extends Xe{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),s=e.formatValue(i),r=te(s)?s:i,n=t>=0;n?this.eDelta.textContent=zO+r:this.eDelta.textContent=jO+r,this.eDelta.classList.toggle("ag-value-change-delta-up",n),this.eDelta.classList.toggle("ag-value-change-delta-down",!n)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Yi(this.eDelta)}refresh(e,t=!1){var s;const i=e.value;if(i===this.lastValue||(te(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:te(e.value)?this.eValue.textContent=i:Yi(this.eValue),(s=this.filterManager)!=null&&s.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){const r=i-this.lastValue;this.showDelta(e,r)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},JO=class extends Xe{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var s;let i=e.value;return Ne(i)&&(i=""),i===this.lastValue||(s=this.filterManager)!=null&&s.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=i,te(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:te(e.value)?this.eCurrent.textContent=i:Yi(this.eCurrent),!0)}},H=class{};H.BACKSPACE="Backspace";H.TAB="Tab";H.ENTER="Enter";H.ESCAPE="Escape";H.SPACE=" ";H.LEFT="ArrowLeft";H.UP="ArrowUp";H.RIGHT="ArrowRight";H.DOWN="ArrowDown";H.DELETE="Delete";H.F2="F2";H.PAGE_UP="PageUp";H.PAGE_DOWN="PageDown";H.PAGE_HOME="Home";H.PAGE_END="End";H.A="KeyA";H.C="KeyC";H.D="KeyD";H.V="KeyV";H.X="KeyX";H.Y="KeyY";H.Z="KeyZ";var UO=class extends Xe{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:s,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){Yi(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Nt(this.eLabel,!1),vs(this.eLabel,"presentation")):(Nt(this.eLabel,!0),vs(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Th(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Xd(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},qS=class extends UO{constructor(e,t,i,s){super(e,t,i),this.className=s}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||dO(e)!==null?jd(e,""):jd(e,t??"")}setAriaLabel(e){return Ul(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return ur(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},ta=class extends qS{constructor(e,t,i="text",s="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${s} data-ref="eInput" class="ag-input-field-input"></${s}>
                </div>
            </div>`,[],t),this.inputType=i,this.displayFieldTag=s,this.eLabel=le,this.eWrapper=le,this.eInput=le}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Th(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Zs(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Ul(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Xd(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Zs(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Zs(this.eInput,"autocomplete",t)}return this}},Tv=class extends ta{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const s=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:s.id,name:s.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},Lv={selector:"AG-CHECKBOX",component:Tv},qO=class extends Xe{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Lv]),this.eCheckbox=le}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),MS(t,"polite"),this.addManagedListeners(t,{click:i=>{if(Jl(i),this.eCheckbox.isDisabled())return;const s=this.eCheckbox.getValue();this.onCheckboxChanged(s)},dblclick:i=>{Jl(i)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:i=>{if(i.key===H.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Vt(this.gos)&&this.eCheckbox.toggle();const s=this.eCheckbox.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var a;let t,i=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")t=e.value;else{const l=e.column.getColId();l.startsWith(yf)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?t=e.value??void 0:i=!1}else t=e.value??void 0;if(!i){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);const s=e.disabled!=null?e.disabled:!((a=e.column)!=null&&a.isCellEditable(e.node));this.eCheckbox.setDisabled(s);const r=this.localeService.getLocaleTextFunc(),n=Ev(r,t),o=s?n:`${r("ariaToggleCellValue","Press SPACE to toggle cell value")} (${n})`;this.eCheckbox.setInputAriaLabel(o)}onCheckboxChanged(e){const{column:t,node:i,value:s}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t==null?void 0:t.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s});const r=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t==null?void 0:t.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:r}),r||this.updateCheckbox(this.params)}},KO=class extends Xe{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=le,this.eLoadingText=le}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=Fs("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},QO=class extends Xe{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>jd(e.eParentOfValue)),jd(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Ul(this.getGui(),t)}setupLoading(e){const i=ri(this.gos).createElement("div");i.classList.add("ag-skeleton-effect");const s=e.node.rowIndex;if(s!=null){const o=75+25*(s%2===0?Math.sin(s):Math.cos(s));i.style.width=`${o}%`}this.getGui().appendChild(i);const n=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Ul(this.getGui(),n)}refresh(e){return!1}destroy(){super.destroy()}},KS=class extends Xe{constructor(){super()}destroy(){super.destroy()}},$O=class extends KS{init(){var t;const e=wn((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}},eB=class extends KS{init(){var t;const e=wn((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}},yc=class extends Xe{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},tB=class extends yc{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Vr(t,!0)}};function QS(e){const{inputValue:t,allSuggestions:i,hideIrrelevant:s,filterByPercentageOfBestMatch:r,addSequentialWeight:n}=e;let o=i.map((c,d)=>({value:c,relevance:sB(t.toLowerCase(),c.toLocaleLowerCase(),n),idx:d}));if(o.sort((c,d)=>d.relevance-c.relevance),s&&(o=o.filter(c=>c.relevance!==0)),o.length>0&&r&&r>0){const d=o[0].relevance*r;o=o.filter(u=>d-u.relevance<0)}const a=[],l=[];for(const c of o)a.push(c.value),l.push(c.idx);return{values:a,indices:l}}function iB(e){const t=[],i=e.length;for(let s=1;s<=i;s++)for(let r=0;r<=i-s;r++){const n=r+s-1;t.push(e.slice(r,n+1))}return t}function sB(e,t,i=!1){const s=e.replace(/\s/g,""),r=t.replace(/\s/g,""),n=s.length,o=r.length,a=new Array(n+1).fill(null).map(()=>new Array(o+1).fill(0));for(let u=0;u<=n;u+=1)a[u][0]=u;for(let u=0;u<=o;u+=1)a[0][u]=u;for(let u=1;u<=n;u++)for(let f=1;f<=o;f++)s[u-1]===r[f-1]?a[u][f]=a[u-1][f-1]:a[u][f]=1+Math.min(a[u][f-1],Math.min(a[u-1][f],a[u-1][f-1]));const l=a[n][o];let d=Math.max(n,o)-l;if(i){const u=iB(s);for(let f=0;f<u.length;f++){const g=u[f];r.indexOf(g)!==-1&&(d+=1,d*=g.length)}}return d}var rB=class extends Y{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:NO,agColumnHeader:om,agColumnGroupHeader:YO,agSortIndicator:Wv,agAnimateShowChangeCellRenderer:XO,agAnimateSlideCellRenderer:JO,agLoadingCellRenderer:KO,agSkeletonCellRenderer:QO,agCheckboxCellRenderer:qO,agLoadingOverlay:$O,agNoRowsOverlay:eB,agTooltipComponent:tB},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&ar(e,(t,i)=>this.registerJsComponent(t,i))}registerDefaultComponent(e,t,i){this.agGridDefaults[e]=t,i&&(this.agGridDefaultParams[e]=i)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(a,l,c)=>({componentFromFramework:l,component:a,params:c}),s=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(s!=null)return i(s,!0);const r=this.jsComps[t];if(r){const a=this.getFrameworkOverrides().isFrameworkComponent(r);return i(r,a)}const n=this.agGridDefaults[t];if(n)return i(n,!1,this.agGridDefaultParams[t]);const o=this.enterpriseAgDefaultCompsModule[t];return o?this.gos.assertModuleRegistered(o,`AG Grid '${e}' component: ${t}`):Cv(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const i=[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],s=QS({inputValue:t,allSuggestions:i,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;j(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),s.length>0&&j(`         Did you mean: [${s.slice(0,3)}]?`),j(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},As=class Wc{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new Wc(i=>{let s=t.length;const r=new Array(s);t.forEach((n,o)=>{n.then(a=>{r[o]=a,s--,s===0&&i(r)})})}):Wc.resolve()}static resolve(t=null){return new Wc(i=>i(t))}then(t){return new Wc(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(s=>i(t(s)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}},nB={propertyName:"dateComponent",cellRenderer:!1},oB={propertyName:"dragAndDropImageComponent",cellRenderer:!1},aB={propertyName:"headerComponent",cellRenderer:!1},lB={propertyName:"headerGroupComponent",cellRenderer:!1},Fy={propertyName:"cellRenderer",cellRenderer:!0},cB={propertyName:"cellRenderer",cellRenderer:!1},dB={propertyName:"loadingCellRenderer",cellRenderer:!0},uB={propertyName:"cellEditor",cellRenderer:!1},xy={propertyName:"innerRenderer",cellRenderer:!0},hB={propertyName:"loadingOverlayComponent",cellRenderer:!1},fB={propertyName:"noRowsOverlayComponent",cellRenderer:!1},pB={propertyName:"tooltipComponent",cellRenderer:!1},Nv={propertyName:"filter",cellRenderer:!1},gB={propertyName:"floatingFilterComponent",cellRenderer:!1},mB={propertyName:"toolPanel",cellRenderer:!1},vB={propertyName:"statusPanel",cellRenderer:!1},bB={propertyName:"fullWidthCellRenderer",cellRenderer:!0},CB={propertyName:"loadingCellRenderer",cellRenderer:!0},yB={propertyName:"groupRowRenderer",cellRenderer:!0},wB={propertyName:"detailCellRenderer",cellRenderer:!0},SB={propertyName:"menuItem",cellRenderer:!1},$S=class eR extends Y{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,oB,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,i){return this.getCompDetails(t,aB,"agColumnHeader",i)}getHeaderGroupCompDetails(t){const i=t.columnGroup.getColGroupDef();return this.getCompDetails(i,lB,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,bB,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,CB,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,yB,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,wB,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,i){return this.getCompDetails(t,xy,null,i)}getFullWidthGroupRowInnerCellRenderer(t,i){return this.getCompDetails(t,xy,null,i)}getCellRendererDetails(t,i){return this.getCompDetails(t,Fy,null,i)}getEditorRendererDetails(t,i){return this.getCompDetails(t,cB,null,i)}getLoadingCellRendererDetails(t,i){return this.getCompDetails(t,dB,"agSkeletonCellRenderer",i,!0)}getCellEditorDetails(t,i){return this.getCompDetails(t,uB,"agCellEditor",i,!0)}getFilterDetails(t,i,s){return this.getCompDetails(t,Nv,s,i,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,nB,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,hB,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,fB,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,pB,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,i){return this.getCompDetails(t,Fy,null,i)}getFloatingFilterCompDetails(t,i,s){return this.getCompDetails(t,gB,s,i)}getToolPanelCompDetails(t,i){return this.getCompDetails(t,mB,null,i,!0)}getStatusPanelCompDetails(t,i){return this.getCompDetails(t,vB,null,i,!0)}getMenuItemCompDetails(t,i){return this.getCompDetails(t,SB,"agMenuItem",i,!0)}getCompDetails(t,i,s,r,n=!1){const{propertyName:o,cellRenderer:a}=i;let{compName:l,jsComp:c,fwComp:d,paramsFromSelector:u,popupFromSelector:f,popupPositionFromSelector:g}=eR.getCompKeys(this.frameworkOverrides,t,i,r),m;const y=F=>{const D=this.userComponentRegistry.retrieve(o,F);D&&(c=D.componentFromFramework?void 0:D.component,d=D.componentFromFramework?D.component:void 0,m=D.params)};if(l!=null&&y(l),c==null&&d==null&&s!=null&&y(s),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(o,c)),!c&&!d){n&&$e(`Could not find component ${l}, did you forget to configure this component?`);return}const b=this.mergeParamsWithApplicationProvidedParams(t,i,r,u,m),S=c==null,I=c||d;return{componentFromFramework:S,componentClass:I,params:b,type:i,popupFromSelector:f,popupPositionFromSelector:g,newAgStackInstance:()=>this.newAgStackInstance(I,S,b,i)}}static getCompKeys(t,i,s,r){const{propertyName:n}=s;let o,a,l,c,d,u;if(i){const f=i,g=f[n+"Selector"],m=g?g(r):null,y=b=>{typeof b=="string"?o=b:b!=null&&b!==!0&&(t.isFrameworkComponent(b)?l=b:a=b)};m?(y(m.component),c=m.params,d=m.popup,u=m.popupPosition):y(f[n])}return{compName:o,jsComp:a,fwComp:l,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:u}}newAgStackInstance(t,i,s,r){const n=r.propertyName,o=!i;let a;if(o)a=new t;else{const c=this.componentMetadataProvider.retrieve(n);a=this.frameworkComponentWrapper.wrap(t,c.mandatoryMethodList,c.optionalMethodList,r)}const l=this.initComponent(a,s);return l==null?As.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,i,s,r=null,n){const o=this.gos.getGridCommonParams();es(o,s),n&&es(o,n);const a=t,l=a&&a[i.propertyName+"Params"];if(typeof l=="function"){const c=l(s);es(o,c)}else typeof l=="object"&&es(o,l);return es(o,r),o}initComponent(t,i){if(this.createBean(t),t.init!=null)return t.init(i)}};function $c(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var Sf=class rt{static register(t){rt.__register(t,!0,void 0)}static registerModules(t){rt.__registerModules(t,!0,void 0)}static __register(t,i,s){rt.runVersionChecks(t),s!==void 0?(rt.areGridScopedModules=!0,rt.gridModulesMap[s]===void 0&&(rt.gridModulesMap[s]={}),rt.gridModulesMap[s][t.moduleName]=t):rt.globalModulesMap[t.moduleName]=t,rt.setModuleBased(i)}static __unRegisterGridModules(t){delete rt.gridModulesMap[t]}static __registerModules(t,i,s){rt.setModuleBased(i),t&&t.forEach(r=>rt.__register(r,i,s))}static isValidModuleVersion(t){const[i,s]=t.version.split(".")||[],[r,n]=rt.currentModuleVersion.split(".")||[];return i===r&&s===n}static runVersionChecks(t){rt.currentModuleVersion||(rt.currentModuleVersion=t.version);const i=s=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${s} Please update all modules to the same version.`;if(t.version?rt.isValidModuleVersion(t)||$e(i(`'${t.moduleName}' is version ${t.version} but the other modules are version ${rt.currentModuleVersion}.`)):$e(i(`'${t.moduleName}' is incompatible.`)),t.validate){const s=t.validate();s.isValid||$e(`${s.message}`)}}static setModuleBased(t){rt.moduleBased===void 0?rt.moduleBased=t:rt.moduleBased!==t&&($e("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),$e("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){rt.isBundled=!0}static __assertRegistered(t,i,s){var n;if(this.__isRegistered(t,s))return!0;let r;if(rt.isBundled)r=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(rt.moduleBased||rt.moduleBased===void 0){const o=(n=Object.entries(vu).find(([a,l])=>l===t))==null?void 0:n[0];r=`AG Grid: unable to use ${i} as the ${o} is not registered${rt.areGridScopedModules?` for gridId: ${s}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${o} } from '${t}';
    
    ModuleRegistry.registerModules([ ${o} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else r=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return $e(r),!1}static __isRegistered(t,i){var s;return!!rt.globalModulesMap[t]||!!((s=rt.gridModulesMap[i])!=null&&s[t])}static __getRegisteredModules(t){return[...Xu(rt.globalModulesMap),...Xu(rt.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return Xu(rt.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!rt.moduleBased}};Sf.globalModulesMap={};Sf.gridModulesMap={};Sf.areGridScopedModules=!1;var hn=Sf,RB=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach(([i,s])=>{this.beans[i]=s}),e.beanClasses.forEach(i=>{const s=new i;s.beanName?this.beans[s.beanName]=s:console.error(`Bean ${i.name} is missing beanName`),this.createdBeans.push(s)}),(t=e.derivedBeans)==null||t.forEach(i=>{const{beanName:s,bean:r}=i(this);this.beans[s]=r,this.createdBeans.push(r)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{var s,r;(s=i.preWireBeans)==null||s.call(i,this.beans),(r=i.wireBeans)==null||r.call(i,this.beans)}),e.forEach(i=>{var s;return(s=i.preConstruct)==null?void 0:s.call(i)}),t&&e.forEach(t),e.forEach(i=>{var s;return(s=i.postConstruct)==null?void 0:s.call(i)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},AB=class extends RB{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),hn.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},tR=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(tR||{}),IB=class extends Y{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),cs(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var i,s;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),(s=(i=this.dragSource).onDragStarted)==null||s.call(i),this.createDragAndDropImageComponent()}onDragStop(e){var t,i,s;if((i=(t=this.dragSource)==null?void 0:t.onDragStopped)==null||i.call(t),(s=this.lastDropTarget)!=null&&s.onDragStop){const r=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(r)}this.clearDragAndDropProperties()}onDragCancel(){var e,t,i;(t=(e=this.dragSource)==null?void 0:e.onDragCancelled)==null||t.call(e),(i=this.lastDropTarget)!=null&&i.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var o,a,l,c;const i=this.getHorizontalDirection(e),s=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const r=this.dropTargets.filter(d=>this.isMouseOnDropTarget(e,d)),n=this.findCurrentDropTarget(e,r);if(n!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,i,s,t),this.lastDropTarget!==null&&n===null&&((a=(o=this.dragSource)==null?void 0:o.onGridExit)==null||a.call(o,this.dragItem)),this.lastDropTarget===null&&n!==null&&((c=(l=this.dragSource)==null?void 0:l.onGridEnter)==null||c.call(l,this.dragItem)),this.enterDragTargetIfExists(n,e,i,s,t),n&&this.dragAndDropImageComp){const{comp:d,promise:u}=this.dragAndDropImageComp;d?d.setIcon(n.getIconName?n.getIconName():null):u.then(f=>{f&&f.setIcon(n.getIconName?n.getIconName():null)})}this.lastDropTarget=n}else if(n&&n.onDragging){const d=this.createDropTargetEvent(n,e,i,s,t);n.onDragging(d)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const{width:s,height:r,left:n,right:o,top:a,bottom:l}=i.getBoundingClientRect();if(s===0||r===0)return!1;const c=e.clientX>=n&&e.clientX<o,d=e.clientY>=a&&e.clientY<l;if(!c||!d)return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let s=!1;for(const o of i)if(this.allContainersIntersect(e,o)){s=!0;break}const{eElement:r,type:n}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(r)?!1:s&&t.isInterestedIn(n,r)}findCurrentDropTarget(e,t){const i=t.length;if(i===0)return null;if(i===1)return t[0];const r=Yd(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const n of r)for(const o of t)if(GP(this.getAllContainersFromDropTarget(o)).indexOf(n)!==-1)return o;return null}enterDragTargetIfExists(e,t,i,s,r){if(e&&e.onDragEnter){const n=this.createDropTargetEvent(e,t,i,s,r);e.onDragEnter(n)}}leaveLastTargetIfExists(e,t,i,s){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const n=this.createDropTargetEvent(this.lastDropTarget,e,t,i,s);this.lastDropTarget.onDragLeave(n)}const r=this.getDragAndDropImageComponent();r&&r.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:s}=e;return i.contains(s)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,s,r){const n=e.getContainer(),o=n.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,c=t.clientX-o.left,d=t.clientY-o.top;return this.gos.addGridCommonParams({event:t,x:c,y:d,vDirection:s,hDirection:i,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:n})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const i=t.getGui(),r=i.getBoundingClientRect().height,n=AO()-2,o=IO()-2;if(!i.offsetParent)return;const l=NS(i.offsetParent),{clientY:c,clientX:d}=e;let u=c-l.top-r/2,f=d-l.left-10;const g=ri(this.gos),m=g.defaultView||window,y=m.pageYOffset||g.documentElement.scrollTop,b=m.pageXOffset||g.documentElement.scrollLeft;n>0&&f+i.clientWidth>n+b&&(f=n+b-i.clientWidth),f<0&&(f=0),o>0&&u+i.clientHeight>o+y&&(u=o+y-i.clientHeight),u<0&&(u=0),i.style.left=`${f}px`,i.style.top=`${u}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const i=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:i,environment:s}=this;if(!t)return;const r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),i.stampTopLevelGridCompWithGridInstance(r),s.applyThemeClasses(r),e.setIcon(null);let{dragItemName:n}=t;yv(n)&&(n=n()),e.setLabel(n||""),r.style.top="20px",r.style.left="20px";const o=ri(this.gos);let a=null,l=null;try{a=o.fullscreenElement}catch{}finally{a||(a=Yd(this.gos));const c=a.querySelector("body");c?l=c:a instanceof ShadowRoot?l=a:a instanceof Document?l=a==null?void 0:a.documentElement:l=a}this.dragAndDropImageParent=l,l?l.appendChild(r):j("Could not find document body, it is needed for drag and drop.")}},FB=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const s=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<s.left+r,this.tickRight=e.clientX>s.right-r,this.tickUp=e.clientY<s.top+r&&!i,this.tickDown=e.clientY>s.bottom-r&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Tc=(e=>(e[e.Above=0]="Above",e[e.Below=1]="Below",e))(Tc||{}),xB=class extends Y{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){ti(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new FB({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var s;return!!(this.funcColsService.getRowGroupColumns().length||((s=this.filterManager)==null?void 0:s.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const s=[...this.selectionService.getSelectedNodes()].sort((r,n)=>r.rowIndex==null||n.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(n));if(s.indexOf(t)!==-1)return s}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),s=this.gos.get("rowDragManaged"),r=e.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(je(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&t.highlighted===1,s=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes;let n=i?1:0;if(this.isFromThisGrid(e))r.forEach(o=>{o.rowTop<s&&(n-=1)}),this.moveRows(r,s,n);else{const o=bu(this.gos);let a=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===0&&a--,this.clientSideRowModel.updateRowData({add:r.filter(l=>!this.clientSideRowModel.getRowNode((o==null?void 0:o({data:l.data,level:0,rowPinned:l.rowPinned}))??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){var r;this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),(r=this.rangeService)==null||r.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){j("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){j("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=s=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",s))}),e.onDragLeave&&(t.onDragLeave=s=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",s))}),e.onDragging&&(t.onDragging=s=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",s))}),e.onDragStop&&(t.onDragStop=s=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",s))}),e.onDragCancel&&(t.onDragCancel=s=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",s))}));const i={isInterestedIn:s=>s===2,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(i),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),r=this.onDragging.bind(this),n=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{i(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:i,onDragLeave:e.onDragLeave?l=>{s(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:s,onDragging:e.onDragging?l=>{r(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:r,onDragStop:e.onDragStop?l=>{n(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:n,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:i,onDragLeave:s,onDragging:r,onDragStop:n,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y,s=i>this.pageBoundsService.getCurrentPageHeight();let r=-1,n;s||(r=this.rowModel.getRowIndexAtPixel(i),n=this.rowModel.getRow(r));let o;switch(t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:n,y:i,vDirection:o})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},_B=class extends Y{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const s=e.touchStartListener;t.removeEventListener("touchstart",s,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),cs(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:s,stopPropagationForTouch:r}=e;i.addEventListener("mousedown",t);let n=null;const o=this.gos.get("suppressTouch");s&&!o&&(n=a=>{Dv(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a))},i.addEventListener("touchstart",n,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:n,touchEnabled:!!s})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const s=l=>this.onTouchMove(l,e.eElement),r=l=>this.onTouchUp(l,e.eElement),n=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Yd(this.gos),type:"touchmove",listener:n,options:{passive:!1}},{target:o,type:"touchmove",listener:s,options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const s=c=>this.onMouseMove(c,e.eElement),r=c=>this.onMouseUp(c,e.eElement),n=c=>c.preventDefault(),o=c=>{c.key===H.ESCAPE&&this.cancelDrag(e.eElement)},a=Yd(this.gos),l=[{target:a,type:"mousemove",listener:s},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:n},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:s,listener:r,options:n}=t;i.addEventListener(s,r,n)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:s,listener:r,options:n}=t;i.removeEventListener(s,r,n)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams,s=te(i)?i:4;return US(e,t,s)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){var s;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(s=this.currentDragParams)==null||s.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){var i;en()&&((i=ri(this.gos).getSelection())==null||i.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),i=e.type==="mousemove";return t&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,i=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,i;this.eventService.dispatchEvent({type:"dragCancelled",target:e}),(i=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||i.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},am=class extends Xe{constructor(e,t,i,s,r,n){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=s,this.dragStartPixels=r,this.suppressVisibilityChange=n,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Fs("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new MB(this,this.beans,this.rowNode,this.column):new EB(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&j("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:s=>{s==null||s.preventDefault()}})[0]);const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const s=this.getDragItem(),r=((o=s.rowNodes)==null?void 0:o.length)||1,n=this.getRowDragText(this.column);return n?n(s,r):r===1?this.cellValueFn():`${r} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},iR=class extends Y{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,s=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),s=yv(this.column.getColDef().rowDrag)),s?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}},EB=class extends iR{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},MB=class extends iR{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),s=this.gos.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones(),n=i&&!r||s;this.setDisplayedOrVisible(n)}},kB=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),wu=class Un{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Un.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,i){var n;const s=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(t,s,i);(n=this.localEventService)==null||n.dispatchEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,s){return{type:"dataChanged",node:this,oldData:i,newData:t,update:s}}getRowIndexString(){return this.rowIndex==null?($e("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?Un.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?Un.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new Un(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,i){var o;const s=te(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,s);const n=this.createDataChangedEvent(t,r,!1);(o=this.localEventService)==null||o.dispatchEvent(n)}checkRowSelectable(){const t=Sv(this.beans.gos);this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,i){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),i)return;if(Ga(this.beans.gos)){const r=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:r??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){var s;const i=bu(this.beans.gos);if(i)if(this.data){const r=((s=this.parent)==null?void 0:s.getRoute())??[];this.id=i({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Un.ID_PREFIX_ROW_GROUP)&&$e(`Row IDs cannot start with ${Un.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,i=!1){this.rowHeight=t,this.rowHeightEstimated=i,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=ls(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var a;let t=!1,i=!0,s=0;const r=this.__autoHeights;if(r==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let c=r[l.getId()];if(c==null)if(this.beans.columnModel.isColSpanActive()){let d=[];switch(l.getPinned()){case"left":d=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":d=this.beans.visibleColsService.getRightColsForRow(this);break;case null:d=this.beans.columnViewportService.getColsWithinViewport(this);break}if(d.includes(l)){t=!0;return}c=-1}else{t=!0;return}else i=!1;c>s&&(s=c)}),t)||((i||s<10)&&(s=ko(this.beans.gos,this).height),s==this.rowHeight))return;this.setRowHeight(s);const o=this.beans.rowModel;(a=o.onRowHeightChangedDebounced)==null||a.call(o)}setExpanded(t,i,s){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const r={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:i||null};this.beans.rowNodeEventThrottle.dispatchExpanded(r,s),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,i,s){const n=typeof t!="string"?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t),o=this.beans.valueService.getValueForDisplay(n,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:n,colDef:n.getColDef(),data:this.data,node:this,oldValue:o,newValue:i,value:i,source:s}),!1;const a=this.beans.valueService.setValue(this,n,i,s);return this.dispatchCellChangedEvent(n,i,o),this.checkRowSelectable(),a}setGroupValue(t,i){const s=this.beans.columnModel.getCol(t);Ne(this.groupData)&&(this.groupData={});const r=s.getColId(),n=this.groupData[r];n!==i&&(this.groupData[r]=i,this.dispatchCellChangedEvent(s,i,n))}setAggData(t){const i=this.aggData;if(this.aggData=t,this.localEventService){const s=r=>{const n=this.aggData?this.aggData[r]:void 0,o=i?i[r]:void 0;if(n===o)return;const a=this.beans.columnModel.getCol(r);a&&this.dispatchCellChangedEvent(a,n,o)};for(const r in i)s(r);for(const r in t)(!i||!(r in i))&&s(r)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(bc(this.beans.gos)){const s=this.beans.gos.get("treeData"),r=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(s?!!r&&r(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(t,i,s){var n;const r={type:"cellChanged",node:this,column:t,newValue:i,oldValue:s};(n=this.localEventService)==null||n.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var s;let t=!1,i=!1;if(!((s=this.childrenAfterGroup)!=null&&s.length))return this.selectable?this.selected:null;for(let r=0;r<this.childrenAfterGroup.length;r++){const n=this.childrenAfterGroup[r];let o=n.isSelected();if(!n.selectable){const a=n.calculateSelectedFromChildren();if(a===null)continue;o=a}switch(o){case!0:t=!0;break;case!1:i=!0;break;default:return}}if(!(t&&i))return t?!0:i?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){var i;(i=this.localEventService)==null||i.dispatchEvent({type:t,node:this})}selectThisNode(t,i,s="api"){const r=!this.selectable&&t,n=this.selected===t;if(r||n)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:i||null,source:s}),!0}setSelected(t,i=!1,s="api"){if(typeof s=="boolean"){j("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:i,rangeSelect:!1,source:s})}setSelectedParams(t){return this.rowPinned?(j("cannot select pinned rows"),0):this.id===void 0?(j("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,i){var r;this.localEventService||(this.localEventService=new vc),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new Fv(this.beans.frameworkOverrides));const s=((r=this.frameworkEventListenerService)==null?void 0:r.wrap(i))??i;this.localEventService.addEventListener(t,s)}removeEventListener(t,i){var r;if(!this.localEventService)return;const s=((r=this.frameworkEventListenerService)==null?void 0:r.unwrap(i))??i;this.localEventService.removeEventListener(t,s),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(j("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const t=[];let i=this;for(;i&&i.key!=null;)t.push(i.key),i=i.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Un(this.beans);Object.keys(this).forEach(i=>{kB.has(i)||(t[i]=this[i])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.dispatchRowEvent("firstChildChanged"))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.dispatchRowEvent("draggingChanged"))}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.dispatchRowEvent("uiLevelChanged"))}};wu.ID_PREFIX_ROW_GROUP="row-group-";wu.ID_PREFIX_TOP_PINNED="t-";wu.ID_PREFIX_BOTTOM_PINNED="b-";wu.OBJECT_ID_SEQUENCE=0;var oa=wu,DB=class extends Y{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvancedFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){var i;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(i=this.columnFilterService)==null||i.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.columnFilterService)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t,i;e?(t=this.columnFilterService)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(i=this.advancedFilterService)!=null&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;(e=this.quickFilterService)==null||e.resetQuickFilterCache()}refreshFiltersForAggregations(){Qg(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:i,columns:s=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):As.resolve()).then(()=>{var n;const r={source:t,type:"filterChanged",columns:s};i&&es(r,i),this.eventService.dispatchEvent(r),(n=this.columnFilterService)==null||n.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.columnFilterService)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilterService)!=null&&e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!Qg(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){var t;return!!((t=this.columnFilterService)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.columnFilterService)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvancedFilterEnabled()?!1:!!((t=this.columnFilterService)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var i;return(i=this.columnFilterService)==null?void 0:i.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var i;(i=this.columnFilterService)==null||i.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var i;return!!((i=this.columnFilterService)!=null&&i.areFilterCompsDifferent(e,t))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var t;if(this.isAdvancedFilterEnabled()){if((t=this.dataTypeService)!=null&&t.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.hasFloatingFilters())}getFilterInstance(e,t){var i;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(i=this.columnFilterService)==null?void 0:i.getFilterInstance(e,t)}getColumnFilterInstance(e){var t;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((t=this.columnFilterService)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvancedFilters(){j("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var i;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((i=this.columnFilterService)==null?void 0:i.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,i){var s;(s=this.columnFilterService)==null||s.setColDefPropertiesForDataType(e,t,i)}},GB=class extends Xe{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??As.resolve()}afterGuiAttached(e){var t,i;(i=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||i.then(s=>{var r;(r=s==null?void 0:s.afterGuiAttached)==null||r.call(s,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(i=>{var s;(s=i==null?void 0:i.afterGuiDetached)==null||s.call(i)})}createFilter(e){var s,r;const{column:t,source:i}=this;this.filterWrapper=((s=this.filterManager)==null?void 0:s.getOrCreateFilterWrapper(t))??null,(r=this.filterWrapper)!=null&&r.filterPromise&&this.filterWrapper.filterPromise.then(n=>{const o=n.getGui();te(o)||j(`getGui method from filter returned ${o}; it should be a DOM element.`),this.appendChild(o),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(Yi(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},sR="ag-resizer-wrapper",Xn=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,PB=`<div class="${sR}">
        ${Xn("eTopLeft","topLeft")}
        ${Xn("eTop","top")}
        ${Xn("eTopRight","topRight")}
        ${Xn("eRight","right")}
        ${Xn("eBottomRight","bottomRight")}
        ${Xn("eBottom","bottom")}
        ${Xn("eBottomLeft","bottomLeft")}
        ${Xn("eLeft","left")}
    </div>`,OB=class extends Y{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,s=e/2-this.getHeight()/2;this.offsetElement(i,s)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:s,minHeight:r,height:n,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const d=mr(this.element);if(d){const u=this.findBoundaryElement(),f=window.getComputedStyle(u);if(f.minWidth!=null){const g=u.offsetWidth-this.element.offsetWidth;c=parseInt(f.minWidth,10)-g}if(f.minHeight!=null){const g=u.offsetHeight-this.element.offsetHeight;l=parseInt(f.minHeight,10)-g}}if(this.minHeight=r||l,this.minWidth=i||c,s&&this.setWidth(s),n&&this.setHeight(n),(!s||!n)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(d&&t){let u=this.boundaryEl,f=!0;if(u||(u=this.findBoundaryElement(),f=!1),u){const g=parseFloat(u.style.top),m=parseFloat(u.style.left);f?this.offsetElement(isNaN(m)?0:m,isNaN(g)?0:g):this.setPosition(m,g)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const s=!!e[t],r=this.getResizerElement(t),n={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(s||!this.isAlive()&&!s)&&(s?(this.dragService.addDragSource(n),this.resizeListeners.push(n),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=s)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Qc(i,e),e=LS(i),s=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(s?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?Qc(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),n=e?this.position.y:s.top,o=e?0:r.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();a=d-s.bottom}}return i+o-n-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ur(t,e),e=Ph(t),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,n=i?this.position.x:this.element.getBoundingClientRect().left;r&&e+n>r&&(e=r-n)}this.getWidth()!==e&&(s?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?ur(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:i}=this.config,s=i?this.boundaryEl:this.element;s&&(this.popupService.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:s,anywhereWithin:r,topBuffer:n}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!i,!!r,o)?0:o,c=this.shouldSkipY(t,!!s,n,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,i,s){const r=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;let l=a<=0&&n.left>=e.clientX||n.right<=e.clientX&&n.right<=o.right;return l?!0:(t?l=s<0&&e.clientX>a+n.left||s>0&&e.clientX<a+n.left:i?l=s<0&&e.clientX>o.right||s>0&&e.clientX<a+n.left:l=s<0&&e.clientX>o.right||s>0&&e.clientX<o.right,l)}shouldSkipY(e,t,i=0,s){const r=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;let l=a<=0&&n.top>=e.clientY||n.bottom<=e.clientY&&n.bottom<=o.bottom;return l?!0:(t?l=s<0&&e.clientY>a+n.top+i||s>0&&e.clientY<a+n.top:l=s<0&&e.clientY>o.bottom||s>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=new DOMParser().parseFromString(PB,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${sR}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:s}=this.config;!i&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let s=0;s<e.length;s++){const r=e[s],n=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(n){const l=window.getComputedStyle(r);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=r.offsetHeight,a=r.offsetWidth;t+=o,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let s=0;s<i.length;s++){const r=i[s];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=i[s+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:s,isRight:r,isBottom:n,isLeft:o}=this.currentResizer,a=r||o,l=n||s,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:o,isTop:s}),u=this.position.x,f=this.position.y;let g=0,m=0;if(a&&c){const y=o?-1:1,b=this.getWidth(),S=b+c*y;let I=!1;o&&(g=b-S,(u+g<=0||S<=this.minWidth)&&(I=!0,g=0)),I||this.setWidth(S)}if(l&&d){const y=s?-1:1,b=this.getHeight(),S=b+d*y;let I=!1;s?(m=b-S,(f+m<=0||S<=this.minHeight)&&(I=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&b<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(I=!0),I||this.setHeight(S)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&g||m)&&this.offsetElement(u+g,f+m)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());const{movementX:r,movementY:n}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(t+r,i+n),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},rR=class nR extends Y{constructor(t,i={}){super(),this.eFocusableElement=t,this.callbacks=i,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:s=>{if(s.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,s.shiftKey);r&&(r.focus(),s.preventDefault())},...i}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(nR.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:i=>{if(!(i.defaultPrevented||Sn(i))){if(this.callbacks.shouldStopEventPropagation(i)){Jl(i);return}i.key===H.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}}})}};rR.FOCUS_MANAGED_CLASS="ag-focus-managed";var Ha=rR,oR={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function Vv(e,t){return Lh(e)?(e.debounceMs!=null&&j("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function Lh(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var BB=class extends Xe{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=le,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new Ha(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new OB(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Lh(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=Lh(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:i,readOnly:s}=t??{},{buttons:r,readOnly:n}=e;if(s===n&&Fh(i,r))return;const o=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Yi(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&Pr(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=c=>{let d,u;switch(c){case"apply":d=this.translate("applyFilter"),u=m=>this.onBtApply(!1,!1,m);break;case"clear":d=this.translate("clearFilter"),u=()=>this.onBtClear();break;case"reset":d=this.translate("resetFilter"),u=()=>this.onBtReset();break;case"cancel":d=this.translate("cancelFilter"),u=m=>{this.onBtCancel(m)};break;default:j("Unknown button type specified");return}const g=Jd(`<button
                    type="${c==="apply"?"submit":"button"}"
                    data-ref="${c}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${d}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(g,{click:u})),a.append(g)};r.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=Vv(this.providedFilterParams,this.getDefaultDebounceMs()),t=ls(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:s}=this.providedFilterParams;s&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,i=t&&t.key;let s;(i==="Enter"||i==="Space")&&(s={keyboardEvent:t}),this.hidePopup(s),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),s=this.queryForHtmlElement('[data-ref="applyFilterButton"]');s&&Xd(s,!i)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:i,gos:s}=this;t?(i.restoreLastSize(),i.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,oR[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},WB=class extends Tv{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},TB=class extends Xe{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case H.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case H.DOWN:case H.UP:e.preventDefault(),this.navigate(t);break;case H.PAGE_DOWN:case H.PAGE_UP:case H.PAGE_HOME:case H.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===H.DOWN;let i;if(!this.highlightedEl)i=this.itemEls[t?0:this.itemEls.length-1];else{let r=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),i=this.itemEls[r]}this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,s=this.itemEls[0].clientHeight,r=Math.floor(this.getGui().clientHeight/s);let n=-1;e===H.PAGE_HOME?n=0:e===H.PAGE_END?n=i:e===H.PAGE_DOWN?n=Math.min(t+r,i):e===H.PAGE_UP&&(n=Math.max(t-r,0)),n!==-1&&this.highlightItem(this.itemEls[n])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:i}=e,s=i||t;return this.options.push({value:t,text:s}),this.renderOption(t,s),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Pr(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{gO(t,i+1),pO(t,e.length)})}renderOption(e,t){const i=ri(this.gos),s=i.createElement("div");vs(s,"option"),s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const r=i.createElement("span");s.appendChild(r),r.textContent=t,this.unFocusable||(s.tabIndex=-1),this.itemEls.push(s),this.addManagedListeners(s,{mouseover:()=>this.highlightItem(s),mousedown:n=>{n.preventDefault(),n.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new Cc({getTooltipValue:()=>t,getGui:()=>s,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(s)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const i=this.options.findIndex(s=>s.value===e);if(i!==-1){const s=this.options[i];this.value=s.value,this.displayValue=s.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!mr(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),Gh(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:i,clientHeight:s}=t,{offsetTop:r,offsetHeight:n}=e;(r+n>i+s||r<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!mr(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),Gh(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},LB=class extends qS{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=le,this.eWrapper=le,this.eDisplayField=le,this.eIcon=le,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:s,minPickerWidth:r,maxPickerWidth:n}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!s,i!=null&&this.setPickerMaxHeight(i),r!=null&&this.setPickerMinWidth(r),n!=null&&this.setPickerMaxWidth(n)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:s}=this.config;if(i){const r=Fs(i,this.gos);r&&this.eIcon.appendChild(r)}s!=null&&this.setInputWidth(s)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Dh(e,!1),this.ariaRole&&vs(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case H.UP:case H.DOWN:case H.ENTER:case H.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case H.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:s,modalPicker:r=!0}=this.config,n={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const f=fS(this.gos);this.beforeHidePicker(),f&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,s),anchorToElement:this.eWrapper};e.style.position="absolute";const o=this.popupService.addPopup(n),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:c,variableWidth:d}=this;d?(l&&(e.style.minWidth=l),e.style.width=Pv(Ph(this.eWrapper)),c&&(e.style.maxWidth=c)):Th(e,c??Ph(this.eWrapper));const u=a??`${Gv(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",u),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Dh(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Th(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Hv=class extends LB{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),i&&t==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new TB("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),SO(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var i;const{key:t}=e;switch(t===H.TAB&&this.hidePicker(),t){case H.ENTER:case H.UP:case H.DOWN:case H.PAGE_UP:case H.PAGE_DOWN:case H.PAGE_HOME:case H.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(i=this.listComponent)==null||i.handleKeyDown(e):super.onKeyDown(e);break;case H.ESCAPE:super.onKeyDown(e);break;case H.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let r=this.listComponent.getDisplayValue();return r==null&&this.config.placeholder&&(r=this.config.placeholder),this.eDisplayField.textContent=r,this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},NB={selector:"AG-SELECT",component:Hv},aR=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],i=s=>s.some(r=>e[r]!=null)?!0:(j(`ignoring FilterOptionDef as it doesn't contain one of '${s}'`),!1);if(!t.every(i)){this.filterOptions=this.filterOptions.filter(s=>s===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:j("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else j("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},lR=class extends BB{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:s}=t;return s??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{i===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,s=!t.operator;if(!i&&s||i&&!s)return!1;let n;if(i){const o=e,a=t;n=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;n=o.operator===a.operator&&Oo(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return n}shouldRefresh(e){var n;const t=this.getModel(),i=t?t.conditions??[t]:null,s=((n=e.filterOptions)==null?void 0:n.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!i||i.every(o=>s.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&i&&i.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const i=e;let s=i.conditions;s==null&&(s=[],j("Filter model is missing 'conditions'"));const r=this.validateAndUpdateConditions(s),n=this.getNumConditions();if(r<n)this.removeConditionsAndOperators(r);else if(r>n)for(let a=n;a<r;a++)this.createJoinOperatorPanel(),this.createOption();const o=i.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),s.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),As.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),j('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:i}=t,s=[];if(i){const n=t;s.push(...n.conditions??[])}else s.push(t);return s[i&&i==="OR"?"some":"every"](n=>this.individualConditionPasses(e,n))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new aR,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(j('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(j('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(j('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new Hv);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,s=>this.resetInput(s)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const s=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,s,r),this.resetJoinOperatorOr(i,s,r),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const s=this.createManagedBean(new WB);return e.push(s),s.addCssClass("ag-filter-condition-operator"),s.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(s.getGui()),s}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);const s=e+1,r=i-s;r>0&&this.removeConditionsAndOperators(s,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((s,r)=>{const n=this.isConditionDisabled(r,e);s.setDisabled(n||this.filterListOptions.length<=1),r===1&&(Xd(this.eJoinOperatorPanels[0],n),this.eJoinOperatorsAnd[0].setDisabled(n),this.eJoinOperatorsOr[0].setDisabled(n))}),this.eConditionBodies.forEach((s,r)=>{Nt(s,this.isConditionBodyVisible(r))});const i=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(s=>{s.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(s=>{s.setValue(i,!0)}),this.forEachInput((s,r,n,o)=>{this.setElementDisplayed(s,r<o),this.setElementDisabled(s,this.isConditionDisabled(n,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach(r=>Pr(r))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach(r=>{Pr(r.getGui()),this.destroyBean(r)})}removeItems(e,t,i){return i==null?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof ta&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,s=!1;const r=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,i=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),s=!0,l&&i--)}let n=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),n=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),n=!0),n&&this.updateConditionStatusesAndValues(i,r),s&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(yv(this.filterPlaceholder)){const s=this.filterPlaceholder,r=this.eTypes[t].getValue(),n=this.translate(r);i=s({filterOptionKey:r,filterOption:n,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,i,s,r)=>{if(!(t instanceof ta))return;const n=i===0&&r>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",o=i===0&&r>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(n,s)),t.setInputAriaLabel(o)})}setElementValue(e,t,i){e instanceof ta&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Xe&&Nt(e.getGui(),t)}setElementDisabled(e,t){e instanceof Xe&&Xd(e.getGui(),t)}attachElementOnChange(e,t){e instanceof ta&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const s=this.getNumberOfInputs(t),r=this.getInputs(e);for(let n=0;n<r.length;n++){const o=r[n];o!=null&&i(o,n,e,s)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),As.resolve()}resetType(e){const i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,s,r){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(s),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput((s,r,n)=>{n===t&&this.setElementValue(s,i[r]!=null?i[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,s)=>{this.setElementValue(t,i===0&&s===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),s=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type),n=this.evaluateCustomFilter(r,s,i);return n??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(s,i,t,e))}evaluateCustomFilter(e,t,i){if(e==null)return;const{predicate:s}=e;if(s!=null&&!t.some(r=>r==null))return s(t,i)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},cR=class extends lR{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){const s=this.comparator(),r=e[0]!=null?s(e[0],t):0;switch(i.type){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const n=s(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&n<=0:r>0&&n<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return j('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},VB=65,HB=67,ZB=86,YB=68,zB=90,jB=89;function dR(e){var i;return e.altKey||e.ctrlKey||e.metaKey?!1:((i=e.key)==null?void 0:i.length)===1}function lm(e,t,i,s,r){const n=s?s.getColDef().suppressKeyboardEvent:void 0;if(!n)return!1;const o=e.addGridCommonParams({event:t,editing:r,column:s,node:i,data:i.data,colDef:s.getColDef()});return!!(n&&n(o))}function XB(e,t,i,s){const r=s.getDefinition(),n=r&&r.suppressHeaderKeyboardEvent;if(!te(n))return!1;const o=e.addGridCommonParams({colDef:r,column:s,headerRowIndex:i,event:t});return!!n(o)}function JB(e){const{keyCode:t}=e;let i;switch(t){case VB:i=H.A;break;case HB:i=H.C;break;case ZB:i=H.V;break;case YB:i=H.D;break;case zB:i=H.Z;break;case jB:i=H.Y;break;default:i=e.code}return i}function UB(e,t=!1){return e===H.DELETE?!0:!t&&e===H.BACKSPACE?OS():!1}var Za=class extends ta{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=te(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{dR(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{var r;const s=(r=i.clipboardData)==null?void 0:r.getData("text");s&&s.split("").some(n=>!e.test(n))&&i.preventDefault()}})}},Rf={selector:"AG-INPUT-TEXT-FIELD",component:Za},Zv=class extends Za{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const r=parseFloat(this.eInput.value),n=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==n&&this.setValue(n)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:i,step:s}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof i=="number"&&this.setMax(i),typeof s=="number"&&this.setStep(s)}onWheel(e){Vt(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const s=parseFloat(e).toFixed(this.precision);return parseFloat(s).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,Zs(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Zs(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Zs(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(te(i)){let s=this.isScientificNotation(i);if(s&&this.eInput.validity.valid)return e(i);if(!s){i=this.adjustPrecision(i);const r=this.normalizeValue(i);s=i!=r}if(s)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},qB={selector:"AG-INPUT-NUMBER-FIELD",component:Zv},uR=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Yv=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=e.operator!=null,i=this.localeService.getLocaleTextFunc();if(t){const s=e,n=(s.conditions??[]).map(a=>this.getModelAsString(a)),o=s.operator==="AND"?"andCondition":"orCondition";return n.join(` ${i(o,oR[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return i(e.type,e.type);{const s=e,r=this.optionsFactory.getCustomOption(s.type),{displayKey:n,displayName:o,numberOfInputs:a}=r||{};return n&&o&&a===0?(i(n,o),o):this.conditionToString(s,r)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},hR=class extends Yv{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function cm(e){const{allowedCharPattern:t}=e??{};return t??null}var KB=class extends cR{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(s))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new hR(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return uR}setElementValue(e,t,i){const s=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,s)}createValueElement(){const e=cm(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),vs(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,s){const r=this.createManagedBean(s?new Za({allowedCharPattern:s}):new Zv);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,r,n)=>{s<n&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=wn(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValues(e);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},fR=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],pR=class extends Yv{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function gR(e){const t=e&&e.trim();return t===""?e:t}var QB=class extends lR{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return t.indexOf(i)===0;case"endsWith":{const s=t.lastIndexOf(i);return s>=0&&s===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new pR(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(j("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:i,filterText:s})=>e(t,i,s)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValuesWithSideEffects(e,!0);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const i=[];return this.forEachPositionInput(e,(s,r,n,o)=>{if(r<o){let a=wn(s.getValue());t&&this.textFilterParams.trimInput&&(a=gR(a)??null,s.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return fR}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),vs(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const s=this.createManagedBean(new Za);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,s){const r=e.map(f=>this.formatter(f))||[],n=this.formatter(t),{api:o,colDef:a,column:l,context:c,textFormatter:d}=this.textFilterParams;if(i.type==="blank")return this.isBlank(t);if(i.type==="notBlank")return!this.isBlank(t);const u={api:o,colDef:a,column:l,context:c,node:s.node,data:s.data,filterOption:i.type,value:n,textFormatter:d};return r.some(f=>this.matcher({...u,filterText:f}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function mR(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}function Ir(e,t=Number.MAX_VALUE){return i=>{const s=mR(i);if(!(s==null||s<e||s>t))return s}}function ed(e,t){return e.toString().padStart(t,"0")}function $B(e,t){const i=[];for(let s=e;s<=t;s++)i.push(s);return i}function eW(e,t,i){return typeof e!="number"?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function Ys(e,t=!0,i="-"){if(!e)return null;let s=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>ed(r,2)).join(i);return t&&(s+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>ed(r,2)).join(":")),s}var Mp=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function td(e,t="YYYY-MM-DD"){const i=ed(e.getFullYear(),4),s=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>s[e.getMonth()],MMM:()=>s[e.getMonth()].slice(0,3),MM:()=>ed(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Mp(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Mp(e.getDate())}`,DD:()=>ed(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Mp(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(n).join("|"),"g");return t.replace(o,a=>a in n?n[a]():a)}function ds(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const s=t.split("-").map(u=>parseInt(u,10));if(s.filter(u=>!isNaN(u)).length!==3)return null;const[r,n,o]=s,a=new Date(r,n-1,o);if(a.getFullYear()!==r||a.getMonth()!==n-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;const[l,c,d]=i.split(":").map(u=>parseInt(u,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),d>=0&&d<60&&a.setSeconds(d),a}var vR=class{constructor(e,t,i,s,r){this.alive=!0,this.context=e,this.eParent=s,t.getDateCompDetails(i).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(s.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),r==null||r(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Nt(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var i,s;let t=!1;(i=this.dateComp)!=null&&i.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&((s=this.dateComp)!=null&&s.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&j("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},bR=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],CR=class extends Yv{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:s}=t||{},r=i=="inRange"||s===2,n=ds(e.dateFrom),o=ds(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){const l=n!==null?td(n,a):"null",c=o!==null?td(o,a):"null";return`${l}-${c}`}return n!=null?td(n,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},_y=1e3,Ey=1/0,tW=class extends cR{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=_y,this.maxValidYear=Ey,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:s}=e||{};return[t&&ds(t)||null,i&&ds(i)||null].slice(0,this.getNumberOfInputs(s))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const i=t;return t==null||i<e?-1:i>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(i,s)=>{if(e[i]!=null)if(isNaN(e[i]))j(`DateFilter ${i} is not a number`);else return e[i]==null?s:Number(e[i]);return s};this.minValidYear=t("minValidYear",_y),this.maxValidYear=t("maxValidYear",Ey),this.minValidYear>this.maxValidYear&&j("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:ds(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:ds(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&j("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new CR(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new vR(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return bR}createValueElement(){const t=ri(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,s){const n=ri(this.gos).createElement("div");n.classList.add(`ag-filter-${s}`),n.classList.add(`ag-filter-date-${s}`),t.push(n),e.appendChild(n),i.push(this.createDateCompWrapper(n))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,s,r,n)=>{r!==e||!t||s>=n||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},s=this.getValues(e);return s.length>0&&(i.dateFrom=Ys(s[0])),s.length>1&&(i.dateTo=Ys(s[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...i}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(s=>{s.setInputPlaceholder(t),s.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,r,n)=>{s<n&&t.push(i.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},zv=class extends Y{constructor(e,t,i,s){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=s,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?je(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=te(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),s=this.modifyLeftForPrintLayout(e,i),r=this.modifyLeftForPrintLayout(e,t);this.setLeft(s),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!Oi(this.beans.gos,"print")||e.getPinned()==="left")return t;const s=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const r=this.beans.visibleColsService.getBodyContainerWidth();return s+r+t}return s+t}setLeft(e){if(te(e)&&(this.eCell.style.left=`${e}px`),hi(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&CO(this.ariaEl,t.length)}}},iW="ag-column-first",sW="ag-column-last";function yR(e,t,i,s){return Ne(e)?[]:nW(e.headerClass,e,t,i,s)}function wR(e,t,i){e.addOrRemoveCssClass(iW,i.isColAtEdge(t,"first")),e.addOrRemoveCssClass(sW,i.isColAtEdge(t,"last"))}function rW(e,t,i,s){return t.addGridCommonParams({colDef:e,column:i,columnGroup:s})}function nW(e,t,i,s,r){if(Ne(e))return[];let n;if(typeof e=="function"){const o=rW(t,i,s,r);n=e(o)}else n=e;return typeof n=="string"?[n]:Array.isArray(n)?[...n]:[]}var oW=0,SR=class RR extends Y{constructor(t,i,s){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=s,this.beans=i,this.instanceId=t.getUniqueId()+"-"+oW++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:i,column:s}=this.focusService.getFocusedHeader();return XB(this.gos,t,i,s)}getWrapperHasFocus(){return Vt(this.gos)===this.eGui}setGui(t,i){this.eGui=t,this.addDomData(i),i.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),i.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:i,checkMeasuringCallback:s,compBean:r}=t,{animationFrameService:n,resizeObserverService:o,columnModel:a,gos:l}=this.beans,c=y=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:b,paddingBottom:S,borderBottomWidth:I,borderTopWidth:F}=Va(this.getGui()),D=b+S+I+F,O=i.offsetHeight+D;if(y<5){const L=ri(l),q=!L||!L.contains(i),T=O==0;if(q||T){n.requestAnimationFrame(()=>c(y+1));return}}a.setColHeaderHeight(this.column,O)};let d=!1,u;const f=()=>{const y=this.column.isAutoHeaderHeight();y&&!d&&g(),!y&&d&&m()},g=()=>{d=!0,c(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),u=o.observeResize(i,()=>c(0))},m=()=>{d=!1,u&&u(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),u=void 0};f(),r.addDestroyFunc(()=>m()),r.addManagedListeners(this.column,{widthChanged:()=>d&&c(0)}),r.addManagedEventListeners({sortChanged:()=>{d&&window.setTimeout(()=>c(0))}}),s&&s(f)}onDisplayedColumnsChanged(){const{comp:t,column:i,beans:s,eGui:r}=this;!t||!i||!r||(wR(t,i,s.visibleColsService),GS(r,s.visibleColsService.getAriaColIndex(i)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&Zs(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){var o;const i=Vt(this.gos),s=t.key===H.LEFT||t.key===H.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),i!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||s)&&(t.preventDefault(),t.stopImmediatePropagation()),!s))return;const r=t.key===H.LEFT!==this.gos.get("enableRtl"),n=tR[r?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(a,t.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(n)}getViewportAdjustedResizeDiff(t){let i=this.getResizeDiff(t);if(this.column.getPinned()){const r=this.pinnedWidthService.getPinnedLeftWidth(),n=this.pinnedWidthService.getPinnedRightWidth(),o=yu(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(r+n+i>o)if(o>r+n)i=o-r-n;else return 0}return i}getResizeDiff(t){let i=t.key===H.LEFT!==this.gos.get("enableRtl");const s=this.column.getPinned(),r=this.gos.get("enableRtl");return s&&r!==(s==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const i=this.getWrapperHasFocus();switch(t.key){case H.PAGE_DOWN:case H.PAGE_UP:case H.PAGE_HOME:case H.PAGE_END:i&&t.preventDefault()}}addDomData(t){const i=RR.DOM_DATA_KEY_HEADER_CTRL;Da(this.gos,this.eGui,i,this),t.addDestroyFunc(()=>Da(this.gos,this.eGui,i,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,i,s){const r=t??i;this.gos.get("preventDefaultOnContextMenu")&&r.preventDefault(),this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,t,i),this.dispatchColumnMouseEvent("columnHeaderContextMenu",s)}dispatchColumnMouseEvent(t,i){this.eventService.dispatchEvent({type:t,column:i})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};SR.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var Af=SR,jv=class extends Y{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},aW=class extends Af{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,s,r){this.comp=e,r=Cu(this,this.beans.context,r),this.eButtonShowMainFilter=i,this.eFloatingFilterBody=s,this.setGui(t,r),this.setupActive(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r),r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Fs("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Ha(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Ul(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Vt(this.gos)===this.eGui)return;const s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),s.focus();return}const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let i=this.column;do if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case H.UP:case H.DOWN:t||e.preventDefault();case H.LEFT:case H.RIGHT:if(t)return;e.stopPropagation();case H.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case H.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),s=!!e.relatedTarget&&pl(e.relatedTarget,"ag-floating-filter");if(i&&s&&e.target===this.eGui){const n=this.lastFocusEvent,o=!!(n&&n.key===H.TAB);if(n&&o){const a=n.shiftKey;this.focusService.focusInto(this.eGui,a)}}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(e){e.createManagedBean(new jv([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new zv(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,i=s=>{if((s==null?void 0:s.source)==="filterDestroyed"&&!this.isAlive())return;const r=this.comp.getFloatingFilterComp();r&&r.then(n=>{if(n){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;n.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:i}),t!=null&&t.isFilterActive(this.column)&&i(null)}setupWidth(e){const t=()=>{const i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var n;const t=this.active;this.setupActive();const i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const s=this.active?(n=this.beans.filterManager)==null?void 0:n.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!s?this.updateCompDetails(e,s,i):r.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,s)?this.updateCompDetails(e,s,i):this.updateFloatingFilterParams(s)})}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var i;if(!e)return;const t=e.params;(i=this.comp.getFloatingFilterComp())==null||i.then(s=>{let r=!1;s!=null&&s.refresh&&typeof s.refresh=="function"&&s.refresh(t)!==null&&(r=!0),!r&&(s!=null&&s.onParamsUpdated)&&typeof s.onParamsUpdated=="function"&&s.onParamsUpdated(t)!==null&&j("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var Ae="32.3.3";function lW(e){var t,i;return!!((t=e.filterManager)!=null&&t.isColumnFilterPresent())||!!((i=e.filterManager)!=null&&i.isAggregateFilterPresent())}function cW(e,t,i){var s;return(s=e.filterManager)==null?void 0:s.getFilterInstance(t,i)}function dW(e,t){var i;return((i=e.filterManager)==null?void 0:i.getColumnFilterInstance(t))??Promise.resolve(void 0)}function uW(e,t){var s;const i=e.columnModel.getColDefCol(t);if(i)return(s=e.filterManager)==null?void 0:s.destroyFilter(i,"api")}function hW(e,t){e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=e.filterManager)==null?void 0:i.setFilterModel(t)})}function fW(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function pW(e,t){var i;return((i=e.filterManager)==null?void 0:i.getColumnFilterModel(t))??null}function gW(e,t,i){var s;return((s=e.filterManager)==null?void 0:s.setColumnFilterModel(t,i))??Promise.resolve()}function mW(e,t){const i=e.columnModel.getCol(t);if(!i){$e(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}function vW(e,t,i){if(t==null)return null;let s=null;const{compName:r,jsComp:n,fwComp:o}=$S.getCompKeys(e,t,Nv);return r?s={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:n==null&&o==null&&t.filter===!0&&(s=i()),s}var My={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},ky=["january","february","march","april","may","june","july","august","september","october","november","december"],bW=class extends Y{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){var r;if((r=this.dataTypeService)!=null&&r.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const i=[],s=this.getFilterModel(!0);if(e){const n=new Set(Object.keys(e));this.allColumnFilters.forEach((o,a)=>{const l=e[a];i.push(this.setModelOnFilterWrapper(o.filterPromise,l)),n.delete(a)}),n.forEach(o=>{const a=this.columnModel.getColDefCol(o)||this.columnModel.getCol(o);if(!a){j("setFilterModel() - no column found for colId: "+o);return}if(!a.isFilterAllowed()){j("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(a);if(!l){j("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}i.push(this.setModelOnFilterWrapper(l.filterPromise,e[o]))})}else this.allColumnFilters.forEach(n=>{i.push(this.setModelOnFilterWrapper(n.filterPromise,null))});As.all(i).then(()=>{var a;const n=this.getFilterModel(!0),o=[];this.allColumnFilters.forEach((l,c)=>{const d=s?s[c]:null,u=n?n[c]:null;Fh(d,u)||o.push(l.column)}),o.length>0&&((a=this.filterManager)==null||a.onFilterChanged({columns:o,source:t}))})}setModelOnFilterWrapper(e,t){return new As(i=>{e.then(s=>{typeof s.setModel!="function"&&(j("filter missing setModel method, which is needed for setFilterModel"),i()),(s.setModel(t)||As.resolve()).then(()=>i())})})}getFilterModel(e){const t={},{allColumnFilters:i,initialFilterModel:s}=this;return i.forEach((r,n)=>{const o=this.getModelFromFilterWrapper(r);te(o)&&(t[n]=o)}),e||Object.entries(s).forEach(([r,n])=>{var o;te(n)&&!i.has(r)&&((o=this.columnModel.getCol(r))!=null&&o.isFilterAllowed())&&(t[r]=n)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(j("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=n=>n?n.isFilterActive?n.isFilterActive():(j("Filter is missing isFilterActive() method"),!1):!1,t=!!Qg(this.gos),i=n=>{if(!n.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!n.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:t},s=[],r=[];return this.forEachColumnFilter((n,o)=>{e(n)&&(i(o.column)?s.push(n):r.push(n))}).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,s)=>s.column.setFilterActive(i.isFilterActive(),e,t))}forEachColumnFilter(e){return As.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(i=>e(i,t))))}doColumnFiltersPass(e,t,i){const{data:s,aggData:r}=e,n=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?r:s;for(let a=0;a<n.length;a++){const l=n[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>{var i;return(i=this.filterManager)==null?void 0:i.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(s=>{s.filterPromise&&s.filterPromise.then(r=>{r&&r!==t&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{const s=i?this.columnModel.getCol(i):e;return s?this.valueService.getValue(s,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){var i;let t;if(wp(this.gos))t="agSetColumnFilter";else{const s=(i=this.dataTypeService)==null?void 0:i.getBaseDataType(e);s==="number"?t="agNumberColumnFilter":s==="date"||s==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){var i;let t;if(wp(this.gos))t="agSetColumnFloatingFilter";else{const s=(i=this.dataTypeService)==null?void 0:i.getBaseDataType(e);s==="number"?t="agNumberColumnFloatingFilter":s==="date"||s==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const i=this.getDefaultFilter(e),s=e.getColDef();let r;const n={...this.createFilterParams(e,s),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(r,e)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(r,a):!0},o=this.userComponentFactory.getFilterDetails(s,n,i);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a!=null&&a.then(l=>{r=l,t&&(t.filter=l)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:SS(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:s}=this.createFilterInstance(e,t);return t.filterPromise=(i==null?void 0:i())??null,t.compDetails=s,t}onColumnsChanged(){var i;const e=[];this.allColumnFilters.forEach((s,r)=>{let n;s.column.isPrimary()?n=this.columnModel.getColDefCol(r):n=this.columnModel.getCol(r),!(n&&n===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(r))});const t=e.every(s=>s.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?(i=this.filterManager)==null||i.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:i}=this.allColumnFilters.get(e.getColId())??{};return i&&typeof(i==null?void 0:i.isFilterAllowed)=="function"?i.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const i=l=>{var d;const c=(d=this.getOrCreateFilterWrapper(e))==null?void 0:d.filterPromise;c!=null&&c.then(u=>{l($c(u))})},s=e.getColDef(),r={...this.createFilterParams(e,s),filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,e)())},n=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,Nv,r);let o=vW(this.frameworkOverrides,s,()=>this.getDefaultFloatingFilter(e));o==null&&(o="agReadOnlyFloatingFilter");const a={column:e,filterParams:n,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(s,a,o)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){var r;const i=e.getColId(),s=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],s&&(this.disposeFilterWrapper(s,t),(r=this.filterManager)==null||r.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{const s=(i==null?void 0:i.source)??"columnFilter",r={filter:e,additionalEventAttributes:i,columns:[t],source:s};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:s}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,s)){this.destroyFilter(i,"paramsUpdated");return}const r=i.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(i,"paramsUpdated");return}t.filterPromise.then(n=>{(n!=null&&n.refresh?n.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(n,i),filterChangedCallback:this.filterChangedCallbackFactory(n,i),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(n,a):!0,...r}):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:s}=t;return!(i===s||(i==null?void 0:i.render)&&(s==null?void 0:s.render)&&i.render===s.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(i=>{const s=$c(i);t(s)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t($c(i))})})}getFilterInstanceImpl(e){var s;const t=this.columnModel.getColDefCol(e);return t?((s=this.getOrCreateFilterWrapper(t))==null?void 0:s.filterPromise)??As.resolve(null):As.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){var n;if((n=this.dataTypeService)!=null&&n.isPendingInference()){let o=()=>{};const a=new Promise(l=>{o=l});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:o}),a}const i=this.columnModel.getColDefCol(e),s=i?this.getOrCreateFilterWrapper(i):null;return s?(o=>new Promise(a=>{o.then(l=>a(l))}))(this.setModelOnFilterWrapper(s.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,i){const s=wp(this.gos),r=this.localeService.getLocaleTextFunc(),n=o=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...o}:o};switch(t.baseDataType){case"number":{s&&n({comparator:(o,a)=>{const l=o==null?0:parseInt(o),c=a==null?0:parseInt(a);return l===c?0:l>c?1:-1}});break}case"boolean":{n(s?{valueFormatter:o=>te(o.value)?r(String(o.value),o.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{s&&n({valueFormatter:o=>{const a=i(o);return te(a)?a:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(a===1&&o!=null){const l=ky[Number(o)-1];return r(l,My[l])}return o??r("blanks","(Blanks)")}});break}case"dateString":{const o=t.dateParser;n(s?{valueFormatter:a=>{const l=i(a);return te(l)?l:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const c=ky[Number(a)-1];return r(c,My[c])}return a??r("blanks","(Blanks)")}}:{comparator:(a,l)=>{const c=o(l);return l==null||c<a?-1:c>a?1:0}});break}case"object":{s?n({valueFormatter:o=>{const a=i(o);return te(a)?a:r("blanks","(Blanks)")}}):e.filterValueGetter=o=>i({column:o.column,node:o.node,value:this.valueService.getValue(o.column,o.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function CW(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function yW(e,t="api"){var i;(i=e.filterManager)==null||i.onFilterChanged({source:t})}var wW=class extends Xe{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[Rf]),this.eFloatingFilterText=le}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},AR=class extends Xe{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const i=e;return this.isTypeEditable(i.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new aR,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return i==null||i==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${t} ${i("ariaFilterInput","Filter Input")}`}},SW=class extends AR{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[Rf]),this.eReadOnlyText=le,this.eDateWrapper=le}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return bR}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new CR(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const i=e;this.dateComp.setDate(ds(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Nt(this.eDateWrapper,e),Nt(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=Ys(e);this.params.parentFilterInstance(i=>{if(i){const s=ds(t);i.onFloatingFilterChanged(this.getLastType()||null,s)}})}getDateComponentParams(){const e=Vv(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:ls(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new vR(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},RW=class extends Xe{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[Rf]),this.eDateInput=le}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:i=>{i.target===Vt(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&en(),t.type=i?"date":"text";const{minValidYear:s,maxValidYear:r,minValidDate:n,maxValidDate:o}=e.filterParams||{};if(n&&s&&j("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&r&&j("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),n&&o){const[a,l]=[n,o].map(c=>c instanceof Date?c:ds(c));a&&l&&a.getTime()>l.getTime()&&j("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}n?n instanceof Date?t.min=td(n):t.min=n:s&&(t.min=`${s}-01-01`),o?o instanceof Date?t.max=td(o):t.max=o:r&&(t.max=`${r}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return ds(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Ys(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:Mv()||kv()||en()&&PS()>=14.1}},IR=class extends Y{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=le,this.valueChangedListener=()=>{}}setupGui(e){var s;this.eFloatingFilterTextInput=this.createManagedBean(new Za((s=this.params)==null?void 0:s.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const i=r=>this.valueChangedListener(r);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},FR=class extends AR{constructor(){super(...arguments),this.eFloatingFilterInputContainer=le}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Lh(this.params.filterParams),!this.isReadOnly()){const i=Vv(this.params.filterParams,this.getDefaultDebounceMs()),s=ls(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(s)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();Yi(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===H.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=gR(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(s=>{s&&s.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},AW=class extends Y{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Zv),this.eFloatingFilterTextInput=this.createManagedBean(new Za),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,s=>this.valueChangedListener(s)),this.setupListeners(i,s=>this.valueChangedListener(s))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},IW=class extends FR{init(e){var t;super.init(e),this.filterModelFormatter=new hR(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){cm(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return uR}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=cm(e.filterParams),this.allowedCharPattern?this.createManagedBean(new IR({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new AW)}},FW=class extends FR{init(e){super.init(e),this.filterModelFormatter=new pR(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return fR}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new IR)}};function xW(e){var t;return!!((t=e.filterManager)!=null&&t.isQuickFilterPresent())}function _W(e){return e.gos.get("quickFilterText")}function EW(e){var t;(t=e.filterManager)==null||t.resetQuickFilterCache()}var MW=class extends Y{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var r;const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols();let s=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(r=this.pivotResultColsService.getPivotResultCols())==null?void 0:r.list:i)??[];t&&(s=s.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?s:s.filter(n=>n.isVisible()||n.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return te(e)?ti(this.gos)?e.toUpperCase():(j("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){j(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(i=>{const s=this.getQuickFilterTextForColumn(i,e);return te(s)&&s.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);const{quickFilterParts:s,matcher:r}=this;return r(s,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const s=e.getColDef();if(s.getQuickFilterText){const r=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:s});i=s.getQuickFilterText(r)}return te(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(i=>{const s=this.getQuickFilterTextForColumn(i,e);te(s)&&t.push(s)}),t.join(`
`)}},Xv={version:Ae,moduleName:"@ag-grid-community/filter-core",beans:[DB]},kW={version:Ae,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:CW,onFilterChanged:yW},dependantModules:[Xv]},Jv={version:Ae,moduleName:"@ag-grid-community/column-filter",beans:[bW],dependantModules:[Xv]},DW={version:Ae,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:lW,getFilterInstance:cW,getColumnFilterInstance:dW,destroyFilter:uW,setFilterModel:hW,getFilterModel:fW,getColumnFilterModel:pW,setColumnFilterModel:gW,showColumnFilter:mW},dependantModules:[Jv,kW]},xR={version:Ae,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:aW}],dependantModules:[Jv]},GW={version:Ae,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:wW}],dependantModules:[xR]},PW={version:Ae,moduleName:"@ag-grid-community/simple-filter",dependantModules:[Jv],userComponents:[{name:"agTextColumnFilter",classImp:QB},{name:"agNumberColumnFilter",classImp:KB},{name:"agDateColumnFilter",classImp:tW},{name:"agDateInput",classImp:RW}]},OW={version:Ae,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[PW,xR],userComponents:[{name:"agTextColumnFloatingFilter",classImp:FW},{name:"agNumberColumnFloatingFilter",classImp:IW},{name:"agDateColumnFloatingFilter",classImp:SW}]},_R={version:Ae,moduleName:"@ag-grid-community/quick-filter-core",beans:[MW],dependantModules:[Xv]},BW={version:Ae,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:xW,getQuickFilter:_W,resetQuickFilter:EW},dependantModules:[_R]},WW={version:Ae,moduleName:"@ag-grid-community/quick-filter",dependantModules:[_R,BW]},TW={version:Ae,moduleName:"@ag-grid-community/filter",dependantModules:[OW,GW,WW,DW]},Uv=class extends Xe{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},LW=class extends Uv{constructor(e){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div data-ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,e),this.eFloatingFilterBody=le,this.eButtonWrapper=le,this.eButtonShowMainFilter=le}postConstruct(){const e=this.getGui(),t={addOrRemoveCssClass:(i,s)=>this.addOrRemoveCssClass(i,s),addOrRemoveBodyCssClass:(i,s)=>this.eFloatingFilterBody.classList.toggle(i,s),setButtonWrapperDisplayed:i=>Nt(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},NW=class extends Uv{constructor(e){super(`<div class="ag-header-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,e),this.eResize=le,this.eHeaderCompWrapper=le,this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();((r,n)=>{n!=null&&n!=""?e.setAttribute(r,n):e.removeAttribute(r)})("col-id",this.column.getColId());const i={setWidth:r=>e.style.width=r,addOrRemoveCssClass:(r,n)=>this.addOrRemoveCssClass(r,n),setAriaSort:r=>r?yO(e,r):wO(e),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);const s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const t=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(t,i))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},VW=class extends Uv{constructor(e){super(`<div class="ag-header-group-cell" role="columnheader">
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,e),this.eResize=le,this.eHeaderCompWrapper=le}postConstruct(){const e=this.getGui(),t=(s,r)=>r!=null?e.setAttribute(s,r):e.removeAttribute(s);e.setAttribute("col-id",this.ctrl.getColId());const i={addOrRemoveCssClass:(s,r)=>this.addOrRemoveCssClass(s,r),setHeaderWrapperHidden:s=>{s?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:s=>{s!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${s}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",s!=null)},setResizableDisplayed:s=>Nt(this.eResize,s),setWidth:s=>e.style.width=s,setAriaExpanded:s=>t("aria-expanded",s),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(i,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){const t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}const i=this.getGui(),s=e.getGui();this.eHeaderCompWrapper.appendChild(s),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(i)}addOrRemoveHeaderWrapperStyle(e,t){const{eHeaderCompWrapper:i}=this;t?i.style.setProperty(e,t):i.style.removeProperty(e)}},HW=class extends Xe{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){DS(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,i)=>this.setHeaderCtrls(t,i),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;const i=this.headerComps;if(this.headerComps={},e.forEach(s=>{const r=s.instanceId;let n=i[r];delete i[r],n==null&&(n=this.createHeaderComp(s),this.getGui().appendChild(n.getGui())),this.headerComps[r]=n}),ar(i,(s,r)=>{this.getGui().removeChild(r.getGui()),this.destroyBean(r)}),t){const s=Pa(this.headerComps);s.sort((n,o)=>{const a=n.getCtrl().getColumnGroupChild().getLeft(),l=o.getCtrl().getColumnGroupChild().getLeft();return a-l});const r=s.map(n=>n.getGui());ZS(this.getGui(),r)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new VW(e);break;case"filter":t=new LW(e);break;default:t=new NW(e);break}return this.createBean(t),t.setParentComponent(this),t}},ZW=class extends Y{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});const e=ri(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var e;return((e=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:e.getRowCount())??0}getHeaderPositionForColumn(e,t){let i;if(typeof e=="string"?(i=this.columnModel.getCol(e),i||(i=this.visibleColService.getColumnGroup(e))):i=e,!i)return null;const s=this.ctrlsService.getHeaderRowContainerCtrl(),r=s==null?void 0:s.getAllCtrls(),n=je(r||[]).getType()==="filter",o=this.getHeaderRowCount()-1;let a=-1,l=i;for(;l;)a++,l=l.getParent();let c=a;return t&&n&&c===o-1&&c++,c===-1?null:{headerRowIndex:c,column:i}}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:s}=t,r=t.column,n=this.getHeaderRowCount(),o=e===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=o?this.headerPositionUtils.getColumnVisibleParent(r,s):this.headerPositionUtils.getColumnVisibleChild(r,s),d=!1;return a<0&&(a=0,l=r,d=!0),a>=n?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!d&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,i){const s=this.focusService.getFocusedHeader(),r=e===2,n=this.gos.get("enableRtl");let o,a;if(this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,r!==n?(a="Before",o=this.headerPositionUtils.findHeader(s,a)):(a="After",o=this.headerPositionUtils.findHeader(s,a)),o||!t)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(s,a,i)}focusNextHeaderRow(e,t,i){const s=e.headerRowIndex;let r=null,n;if(t==="Before"?s>0&&(n=s-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"end")):(n=s+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"start")),!r)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r==null?void 0:r.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(hi(e)){const s=e.getDisplayedLeafColumns();i=t==="Before"?je(s):s[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},YW=class extends Y{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new Ha(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const s=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:s}),this.mockContextMenuForIPad(s),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var n;const{columnModel:e}=this;let t=0;const i=this.columnModel.getGroupRowsHeight().reduce((o,a)=>o+a,0),s=this.columnModel.getColumnHeaderRowHeight();if((n=this.filterManager)!=null&&n.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=i,t+=s,this.headerHeight===t)return;this.headerHeight=t;const r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey,s=i!==t?2:3;(this.headerNavigationService.navigateHorizontally(s,!0,e)||!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case H.LEFT:t=2;case H.RIGHT:{te(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case H.UP:t=0;case H.DOWN:{te(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(Vt(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){var r;if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===((r=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:r.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!Bo())return;const t=new po(this.eGui),i=s=>{e(void 0,s.touchStart,s.touchEvent)};this.addManagedListeners(t,{longTap:i}),this.addDestroyFunc(()=>t.destroy())}},qv=class extends Y{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Oi(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),s=this.visibleColsService.getDisplayedColumnsRightWidth();let r;e?r=t+i+s:(r=t,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.scrollVisibleService.getScrollbarWidth())),this.callback(r)}},zW=class extends Y{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function ER(e){const{isFromHeader:t,fromLeft:i,xPosition:s,fromEnter:r,fakeEvent:n,pinned:o,gos:a,columnModel:l,columnMoveService:c,visibleColsService:d}=e;let{allMovingColumns:u}=e;if(t){const V=[];u.forEach(O=>{var T;let L=null,q=O.getParent();for(;q!=null&&q.getDisplayedLeafColumns().length===1;)L=q,q=q.getParent();L!=null?(!!((T=L.getColGroupDef())!=null&&T.marryChildren)?L.getProvidedColumnGroup().getLeafColumns():L.getLeafColumns()).forEach(v=>{V.includes(v)||V.push(v)}):V.includes(O)||V.push(O)}),u=V}const f=u.slice();l.sortColsLikeCols(f);const g=UW({movingCols:f,draggingRight:i,xPosition:s,pinned:o,gos:a,columnModel:l,visibleColsService:d}),m=jW(f,l);if(g.length===0)return;const y=g[0];let b=m!==null&&!r;if(t&&(b=m!==null),b&&!n&&(!i&&y>=m||i&&y<=m))return;const S=d.getAllCols(),I=[];let F=null;for(let V=0;V<g.length;V++){const O=g[V],L=c.getProposedColumnOrder(f,O);if(!c.doesOrderPassRules(L))continue;const q=L.filter(X=>S.includes(X));if(F===null)F=q;else if(!Oo(q,F))break;const T=XW(L);I.push({move:O,fragCount:T})}if(I.length===0)return;I.sort((V,O)=>V.fragCount-O.fragCount);const D=I[0].move;if(!(D>l.getCols().length-u.length))return{columns:u,toIndex:D}}function Kv(e){const{columns:t,toIndex:i}=ER(e)||{},{finished:s,columnMoveService:r}=e;return!t||i==null?null:(r.moveColumns(t,i,"uiColumnMoved",s),s?null:{columns:t,toIndex:i})}function jW(e,t){const i=t.getCols(),s=MP(e.map(l=>i.indexOf(l))),r=s[0];return je(s)-r!==s.length-1?null:r}function XW(e){function t(s){const r=[];let n=s.getOriginalParent();for(;n!=null;)r.push(n),n=n.getOriginalParent();return r}let i=0;for(let s=0;s<e.length-1;s++){let r=t(e[s]),n=t(e[s+1]);[r,n]=r.length>n.length?[r,n]:[n,r],r.forEach(o=>{n.indexOf(o)===-1&&i++})}return i}function JW(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function UW(e){const{movingCols:t,draggingRight:i,xPosition:s,pinned:r,gos:n,columnModel:o,visibleColsService:a}=e;if(n.get("suppressMovableColumns")||t.some(F=>F.getColDef().suppressMovable))return[];const c=JW(a,r),d=o.getCols(),u=c.filter(F=>na(t,F)),f=c.filter(F=>!na(t,F)),g=d.filter(F=>!na(t,F));let m=0,y=s;if(i){let F=0;u.forEach(D=>F+=D.getActualWidth()),y-=F}if(y>0){for(let F=0;F<f.length;F++){const D=f[F];if(y-=D.getActualWidth(),y<0)break;m++}i&&m++}let b;if(m>0){const F=f[m-1];b=g.indexOf(F)+1}else b=g.indexOf(f[0]),b===-1&&(b=0);const S=[b],I=(F,D)=>F-D;if(i){let F=b+1;const D=d.length-1;for(;F<=D;)S.push(F),F++;S.sort(I)}else{let F=b;const D=d.length-1;let V=d[F];for(;F<=D&&c.indexOf(V)<0;)F++,S.push(F),V=d[F];F=b-1;const O=0;for(;F>=O;)S.push(F),F--;S.sort(I).reverse()}return S}function Nh(e){var c;const{pinned:t,fromKeyboard:i,gos:s,ctrlsService:r,useHeaderRow:n,skipScrollPadding:o}=e;let a=(c=r.getHeaderRowContainerCtrl(t))==null?void 0:c.getViewportElement(),{x:l}=e;return a?(i&&(l-=a.getBoundingClientRect().left),s.get("enableRtl")&&(n&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0}function gl(e,t){for(const i of e)i.setMoving(t,"uiColumnMoved")}var Dy=7,dm=100,Gu=dm/2,qW=5,KW=100,QW=class extends Y{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!te(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){var t;const e=((t=this.lastDraggingEvent)==null?void 0:t.dragItem.columns)??[];for(const i of e){const s=i.getPinned();if(i.getColDef().lockPinned){if(s==this.pinned)return"move";continue}if(s===this.pinned||!this.pinned)return"move";if(!s&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const s=e.dragItem.visibleState,r=(t||[]).filter(n=>s[n.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,s=!1){const r=this.gos.get("suppressMoveWhenColumnDragging");if(s&&!r){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!s&&Ne(e.hDirection))return;const{pinned:n,gos:o,ctrlsService:a}=this,l=Nh({x:e.x,pinned:n,gos:o,ctrlsService:a});t||this.checkCenterForScrolling(l),r?this.handleColumnDragWhileSuppressingMovement(e,t,i,l,s):this.handleColumnDragWhileAllowingMovement(e,t,i,l,s)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;const s=e.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColsVisible(s,t,i)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,s,r){const n=this.getAllMovingColumns(e,!0);if(r){const o=this.isAttemptingToPin(n);o&&this.attemptToPinColumns(n,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(n,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:n,xPosition:l,fromEnter:t,fakeEvent:i,fromLeft:a})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(n,s)}}handleColumnDragWhileAllowingMovement(e,t,i,s,r){const n=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)===1,a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:n,isFromHeader:a,xPosition:s,fromLeft:o,fromEnter:t,fakeEvent:i}),c=Kv({...l,finished:r});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const i=e.dragSource.getDragItem();let s=null;t?(s=i.columnsInSplit,s||(s=i.columns)):s=i.columns;const r=n=>n.getColDef().lockPinned?n.getPinned()==this.pinned:!0;return s?s.filter(r):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:i,xPosition:s,fromLeft:r,fromEnter:n,fakeEvent:o}=e,{pinned:a,gos:l,columnModel:c,columnMoveService:d,visibleColsService:u}=this;return{allMovingColumns:t,isFromHeader:i,fromLeft:r,xPosition:s,pinned:a,fromEnter:n,fakeEvent:o,gos:l,columnModel:c,columnMoveService:d,visibleColsService:u}}findFirstAndLastMovingColumns(e){const t=e.length;let i,s;for(let r=0;r<=t;r++){if(!i){const n=e[r];n.getLeft()!=null&&(i=n)}if(!s){const n=e[t-1-r];n.getLeft()!=null&&(s=n)}if(i&&s)break}return{firstMovingCol:i,lastMovingCol:s}}highlightHoveredColumn(e,t){var d;const{gos:i,columnModel:s}=this,r=i.get("enableRtl"),n=s.getCols().filter(u=>u.isVisible()&&u.getPinned()===this.pinned);let o=null,a=null,l=null;for(const u of n){if(a=u.getActualWidth(),o=this.getNormalisedColumnLeft(u,0,r),o!=null){const f=o+a;if(o<=t&&f>=t){l=u;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let u=n.length-1;u>=0;u--){const f=n[u],g=n[u].getParent();if(!g){l=f;break}const m=g==null?void 0:g.getDisplayedLeafColumns();if(m.length){l=je(m);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth()}if(((d=this.lastHighlightedColumn)==null?void 0:d.column)!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;t-o<a/2!==r?c=0:c=1,l.setHighlighted(c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){const{gos:i,visibleColsService:s}=this,r=i.get("enableRtl"),{firstMovingCol:n,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!n||!o||a==null)return;const l=s.getAllCols(),c=l.indexOf(n),d=l.indexOf(o),u=a===0!==r,f=c<d||c===d&&!u;let g=0;if(u?f&&(g-=1):f||(g+=1),d+g===c)return;const m=l[d+g];if(!m)return;const y=this.getNormalisedColumnLeft(m,20,r);return{fromLeft:f,xPosition:y}}getColumnMoveAndTargetInfo(e,t,i){const s=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:n}=this.findFirstAndLastMovingColumns(e);if(!r||!n||s.column||!t)return{firstMovingCol:r,...s};const a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==i?r:n}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,i){const{gos:s,ctrlsService:r}=this,n=e.getLeft();if(n==null)return null;const o=e.getActualWidth();return Nh({x:i?n+o-t:n+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:s,ctrlsService:r})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>Dy;return t&&i||e.some(s=>s.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:i,fromEnter:s,fakeEvent:r,fromLeft:n}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:n,fromEnter:s,fakeEvent:r}),{columns:a,toIndex:l}=ER(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),s=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+Gu,this.needToMoveLeft=e>s-Gu):(this.needToMoveLeft=e<i+Gu,this.needToMoveRight=e>s-Gu),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),KW),(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName()))}moveInterval(){var s,r;let e;this.intervalCount++,e=10+this.intervalCount*qW,e>dm&&(e=dm);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=Dy+1)return;if((s=this.dragAndDropService.getDragAndDropImageComponent())==null||s.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const n=(r=this.lastDraggingEvent)==null?void 0:r.dragItem.columns;this.attemptToPinColumns(n,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,i=!1){const s=(e||[]).filter(r=>!r.getColDef().lockPinned);return s.length?(i&&(t=this.getPinDirection()),this.columnModel.setColsPinned(s,t,"uiColumnDragged"),i&&this.dragAndDropService.nudge(),s.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},$W=class extends Y{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new QW(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new zW(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},eT=class extends Y{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,s,r){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=s,this.ctrl=r}postConstruct(){const e=[];let t,i;const s=()=>{if(Nt(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),i){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const c=new po(this.eResize);c.addEventListener("doubleTap",l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),c.removeEventListener("doubleTap",l),c.destroy()})}},r=()=>{e.forEach(o=>o()),e.length=0},n=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==i)&&(t=o,i=a,r(),s())};n(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",n)}onResizing(e,t){const{column:i,lastResizeAmount:s,resizeStartWidth:r}=this,n=this.normaliseResizeAmount(t),o=r+n,a=[{key:i,newWidth:o}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),d=yu(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+c+(n-s)>d)return}this.lastResizeAmount=n,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i=this.pinned!=="left",s=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):s&&(t*=-1),t}},tT=class extends Y{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Vt(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Tv),this.cbSelectAll.addCssClass("ag-header-select-all"),vs(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),s=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${s} (${i})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return Rv(this.gos)?!0:(j(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return ti(this.gos)||bc(this.gos)?!0:(j(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly();let s="uiSelectAll";i?s="uiSelectAllCurrentPage":t&&(s="uiSelectAllFiltered");const r={source:s,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),t=typeof e=="object"&&Eh(e)&&wf(this.column),i=this.column.getColDef().headerCheckboxSelection;let s=!1;return t?s=!0:typeof i=="function"?s=i(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):s=!!i,s&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},iT=class extends Af{constructor(e,t,i){super(e,t,i),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,s,r){this.comp=e,r=Cu(this,this.beans.context,r),this.setGui(t,r),this.updateState(),this.setupWidth(r),this.setupMovingCss(r),this.setupMenuClass(r),this.setupSortableClass(r),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:s,checkMeasuringCallback:o=>this.setRefreshFunction("measuring",o),compBean:r}),this.addColumnHoverListener(r),this.setupFilterClass(r),this.setupClassesFromColDef(),this.setupTooltip(r),this.addActiveHeaderMouseListeners(r),this.setupSelectAll(r),this.setupUserComp(r),this.refreshAria(),this.resizeFeature=r.createManagedBean(new eT(this.getPinned(),this.column,i,e,this)),r.createManagedBean(new jv([this.column],t)),r.createManagedBean(new zv(this.column,t,this.beans)),r.createManagedBean(new Ha(t,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(r),r.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(r)),r.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(r)}),r.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const n=()=>this.checkDisplayName(r);r.addManagedEventListeners({columnValueChanged:n,columnRowGroupChanged:n,columnPivotChanged:n,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),r.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;const i=this.column.getActualWidth(),s=this.column.getMinWidth(),r=this.column.getMaxWidth(),n=Math.min(Math.max(i+e,s),r);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:n}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:i,column:s,ctrlsService:r}=this,{gos:n,columnModel:o,columnMoveService:a,visibleColsService:l}=i,c=this.getPinned(),d=t.getBoundingClientRect().left,u=s.getActualWidth(),f=n.get("enableRtl"),m=Nh({x:e===0!==f?d-20:d+u+20,pinned:c,fromKeyboard:!0,gos:n,ctrlsService:r}),y=this.focusService.getFocusedHeader();Kv({allMovingColumns:[s],isFromHeader:!0,fromLeft:e===1,xPosition:m,pinned:c,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&y&&this.restoreFocus(y)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:i=>{this.menuService.showColumnMenu({column:this.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:i=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:i,positionBy:"mouse"})},showFilter:i=>{this.menuService.showFilterMenu({column:this.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:i=>{this.beans.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,s)=>{this.beans.sortController.setSortForColumn(this.column,i,!!s,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(i,s)=>{this.setupTooltip(e,i,s)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new tT(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===H.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===H.ENTER&&this.onEnterKeyDown(e),e.key===H.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();!i||!(i instanceof om)||i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s=this.gos.get("tooltipShowMode")==="whenTruncated",r=this.eGui,n=this.column.getColDef();!i&&s&&!n.headerComponent&&(i=()=>{const l=r.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:i},a=e.createManagedBean(new Cc(o));this.setRefreshFunction("tooltip",()=>a.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=yR(t,this.gos,this.column,null),s=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(r=>{s.has(r)?s.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),s.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:i,displayName:s,dragAndDropService:r,gos:n}=this,{columnModel:o}=i;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:s,onDragStarted:()=>{a=!n.get("suppressDragLeaveHidesColumns"),gl([t],!0)},onDragStopped:()=>gl([t],!1),onDragCancelled:()=>gl([t],!1),onGridEnter:c=>{var d;if(a){const u=((d=c==null?void 0:c.columns)==null?void 0:d.filter(f=>!f.getColDef().lockVisible))||[];o.setColsVisible(u,!0,"uiColumnMoved")}},onGridExit:c=>{var d;if(a){const u=((d=c==null?void 0:c.columns)==null?void 0:d.filter(f=>!f.getColDef().lockVisible))||[];o.setColsVisible(u,!1,"uiColumnMoved")}}};r.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,i=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:s}=this,r=this.beans.columnModel.getGroupRowsHeight(),n=r.reduce((u,f)=>u+=f,0)===0;if(i.addOrRemoveCssClass("ag-header-parent-hidden",n),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",o>0);const{columnModel:l}=s,c=l.getColumnHeaderRowHeight();if(o===0){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${c}px`);return}i.addOrRemoveCssClass("ag-header-span-total",a);let d=0;for(let u=0;u<o;u++)d+=r[r.length-1-u];e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${c+d}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(cO(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Vt(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>t==="filter"?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),s=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:i,contextmenu:s})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof om?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},sT=class extends Y{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,s){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||i.push(r.getColId())}),i.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const s=this.normaliseDragChange(t),r=this.resizeStartWidth+s;this.resizeColumnsFromLocalValues(r,i,e)}getInitialValues(e){const t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),s=this.getSizeRatiosOfColumns(t,i),r={columnsToResize:t,resizeStartWidth:i,resizeRatios:s};let n=null;if(e&&(n=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),n){const o=n.getDisplayedLeafColumns(),a=r.groupAfterColumns=o.filter(c=>c.isResizable()),l=r.groupAfterStartWidth=this.getInitialSizeOfColumns(a);r.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:s,groupAfterColumns:r,groupAfterStartWidth:n,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=s,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=n,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;const s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(s,e,t,i)}resizeColumns(e,t,i,s=!0){const{columnsToResize:r,resizeStartWidth:n,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:r,ratios:o,width:t}),a){const u=t-n;d.push({columns:a,ratios:c,width:l-u})}this.columnSizeService.resizeColumnSets({resizeSets:d,finished:s,source:i}),s&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(i=>i.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},rT=class extends Y{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},nT=class extends Af{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const s=this.getGui();this.setDragSource(s)}},this.column=e}setComp(e,t,i,s,r){this.comp=e,r=Cu(this,this.beans.context,r),this.setGui(t,r),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(r),this.setupAutoHeight({wrapperElement:s,compBean:r}),this.setupUserComp(r),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const n=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();r.createManagedBean(new jv(o,t)),r.createManagedBean(new zv(this.column,t,this.beans)),r.createManagedBean(new rT(e,this.column)),this.resizeFeature=r.createManagedBean(new sT(e,i,n,this.column)),r.createManagedBean(new Ha(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,o),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,i=e.get("groupHeaderHeight");i!=null?i===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(i):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),i=t[0]===e,s=je(t)===e;if(!i&&!s)return;const r=e.getHighlighted(),n=!!this.getParentRowCtrl().findHeaderCellCtrl(l=>l.getColumnGroupChild().isMoving());let o=!1,a=!1;if(n){const l=this.beans.gos.get("enableRtl"),c=r===1,d=r===0;i&&(l?a=c:o=d),s&&(l?o=d:a=c)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:i,column:s,ctrlsService:r}=this,{gos:n,columnModel:o,columnMoveService:a,visibleColsService:l}=t,c=n.get("enableRtl"),d=e===0,u=this.getPinned(),f=i.getBoundingClientRect(),g=f.left,m=f.width,y=Nh({x:d!==c?g-20:g+m+20,pinned:u,fromKeyboard:!0,gos:n,ctrlsService:r}),b=s.getGroupId(),S=this.focusService.getFocusedHeader();Kv({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:y,pinned:u,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0});const I=s.getDisplayedLeafColumns(),F=d?I[0]:je(I);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(F,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&S&&this.restoreFocus(b,s,S)}restoreFocus(e,t,i){const s=t.getLeafColumns();if(!s.length)return;const r=s[0].getParent();if(!r)return;const n=this.findGroupWidthId(r,e);n&&this.focusService.focusHeaderPosition({headerPosition:{...i,column:n}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:s=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),s,"gridInitializing")},setTooltip:(s,r)=>{this.setupTooltip(e,s,r)}}),i=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),s=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:i,contextmenu:s})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s=this.column.getColGroupDef(),r=this.gos.get("tooltipShowMode")==="whenTruncated",n=this.eGui;!i&&r&&!(s!=null&&s.headerGroupComponent)&&(i=()=>{const a=n.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});const o={getColumn:()=>this.column,getGui:()=>n,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(s&&s.headerTooltip),shouldDisplayTooltip:i};s&&(o.getColDef=()=>s),e.createManagedBean(new Cc(o))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=yR(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e!=null&&e.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(e){const i=this.column.getProvidedColumnGroup().getLeafColumns(),s=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());i.forEach(r=>{e.addManagedListeners(r,{movingChanged:s})}),s()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===H.ENTER){const i=this.column,s=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),s,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:i,displayName:s,gos:r,dragAndDropService:n}=this,{columnModel:o}=t,a=i.getProvidedColumnGroup().getLeafColumns();let l=!r.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:s,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!r.get("suppressDragLeaveHidesColumns"),gl(a,!0)},onDragStopped:()=>gl(a,!1),onDragCancelled:()=>gl(a,!1),onGridEnter:d=>{if(l){const{columns:u=[],visibleState:f}=d??{},g=u.filter(m=>!m.getColDef().lockVisible&&(!f||f[m.getColId()]));o.setColsVisible(g,!0,"uiColumnMoved")}},onGridExit:d=>{var u;if(l){const f=((u=d==null?void 0:d.columns)==null?void 0:u.filter(g=>!g.getColDef().lockVisible))||[];o.setColsVisible(f,!1,"uiColumnMoved")}}};n.addDragSource(c,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(o=>i[o.getId()]=o.isVisible());const s=[];this.beans.visibleColsService.getAllCols().forEach(o=>{t.indexOf(o)>=0&&(s.push(o),cs(t,o))}),t.forEach(o=>s.push(o));const r=[],n=e.getLeafColumns();for(const o of s)n.indexOf(o)!==-1&&r.push(o);return{columns:s,columnsInSplit:r,visibleState:i}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},oT=0,kp=class extends Y{constructor(e,t,i){super(),this.instanceId=oT++,this.rowIndex=e,this.pinned=t,this.type=i;const s=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${s}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=Oi(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t,i=!0){this.comp=e,t=Cu(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Xu(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=Oi(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,i=[],s=e.getGroupRowsHeight(),r=e.getColumnHeaderRowHeight();i.push(...s),i.push(r),t!=null&&t.hasFloatingFilters()&&i.push(e.getFloatingFiltersHeight());let n=0;for(let a=0;a<this.rowIndex;a++)n+=i[a];const o=i[this.rowIndex];return{topOffset:n,rowHeight:o}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const s of t)this.recycleAndCreateHeaderCtrls(s,e);const i=s=>{const{focusService:r,visibleColsService:n}=this.beans;return r.isHeaderWrapperFocused(s)?n.isVisible(s.getColumnGroupChild()):!1};if(e)for(const[s,r]of e)i(r)?this.headerCellCtrls.set(s,r):this.destroyBean(r);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const i=e.getUniqueId();let s;if(t&&(s=t.get(i),t.delete(i)),s&&s.getColumnGroupChild()!=e&&(this.destroyBean(s),s=void 0),s==null)switch(this.type){case"filter":{s=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":s=this.createBean(new nT(e,this.beans,this));break;default:s=this.createBean(new iT(e,this.beans,this));break}this.headerCellCtrls.set(i,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach(s=>{const r=i.getHeadersToRender(s,t);e=e.concat(r)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let i;return typeof e=="function"?i=t.find(e):i=t.find(s=>s.getColumnGroupChild()==e),i}focusHeader(e,t){const i=this.findHeaderCellCtrl(e);return i?i.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},aT=class extends Y{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i});const s=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(s,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new Bv,i=this.focusService.getFocusHeaderToUseAfterRefresh(),s=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const c=this.createBean(new kp(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},r=()=>{const a=t.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new kp(a,this.pinned,"column")))},n=()=>{var c;this.includeFloatingFilter=!!((c=this.filterManager)!=null&&c.hasFloatingFilters())&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=t.next();if(this.filtersRowCtrl){const d=this.filtersRowCtrl.getRowIndex()!==l;(!e||d)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new kp(l,this.pinned,"filter")))};s(),r(),n();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(e){var t;if(Do(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){const s=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(s)return s}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){const r=this.getAllCtrls()[e];return r?r.focusHeader(t,i):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new $W(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var t;const e=((t=this.filterManager)==null?void 0:t.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new qv(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const i=()=>{const s=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(s==null)return;const r=s==0,n=this.hidden!==r,o=this.gos.get("enableRtl"),a=this.scrollVisibleService.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?s+a:s;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!r),n&&(this.hidden=r,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},lT='<div class="ag-pinned-left-header" role="rowgroup"></div>',cT='<div class="ag-pinned-right-header" role="rowgroup"></div>',dT=`<div class="ag-header-viewport" role="presentation">
        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>
    </div>`,Dp=class extends Xe{constructor(e){super(),this.eCenterContainer=le,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();const e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{const s=this.getGui();s.style.width=i,s.style.maxWidth=i,s.style.minWidth=i}};this.createManagedBean(new aT(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const e=this.pinned=="left",t=this.pinned=="right",i=e?lT:t?cT:dT;this.setTemplate(i),this.eRowContainer=this.eCenterContainer!==le?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let i;const s=r=>{const n=r.getGui();n.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(n),i&&HS(this.eRowContainer,n,i),i=n};e.forEach(r=>{const n=r.instanceId,o=t[n];delete t[n];const a=o||this.createBean(new HW(r));this.headerRowComps[n]=a,this.rowCompsList.push(a),s(a)}),Pa(t).forEach(r=>this.destroyRowComp(r))}},uT=class extends Xe{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){const e={addOrRemoveCssClass:(s,r)=>this.addOrRemoveCssClass(s,r),setHeightAndMinHeight:s=>{this.getGui().style.height=s,this.getGui().style.minHeight=s}};this.createManagedBean(new YW).setComp(e,this.getGui(),this.getFocusableElement());const i=s=>{this.createManagedBean(s),this.appendChild(s)};i(new Dp("left")),i(new Dp(null)),i(new Dp("right"))}},hT={selector:"AG-HEADER-ROOT",component:uT},Qv=class extends Y{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(j(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},fT=class extends Xe{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=le,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==H.TAB||e.defaultPrevented||Sn(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=this.focusService.focusGridView(je(this.visibleColsService.getAllCols()),!0,!1):i=this.focusService.focusNextGridCoreContainer(!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new Qv(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,s){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.focusService.isGridFocused()){const r=Vt(this.gos);r&&!fS(this.gos)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!r)return;if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,s)){const o=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(s,({currentValue:a})=>{var l;(l=o.refresh)==null||l.call(o,this.gos.addGridCommonParams({...a??{}}))})}const n=this.focusService;i&&n.isGridFocused()&&n.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var s;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Yi(this.eOverlayWrapper),(s=t==null?void 0:t.focus)==null||s.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},pT={selector:"AG-OVERLAY-WRAPPER",component:fT},MR=class extends Xe{constructor(e,t){super(),this.direction=t,this.eViewport=le,this.eContainer=le,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",OS()||Bo())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=WS(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();bP(()=>mr(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},gT=class extends MR{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=le,this.eRightSpacer=le}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new qv(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,s=this.scrollVisibleService.getScrollbarWidth();i&&(t+=s),ur(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=s);let r=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(r+=s),ur(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=s)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),s=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=i?0:s===0&&t?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Qc(this.getGui(),n),Qc(this.eViewport,n),Qc(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return Bh(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){mr(this.getViewportElement())||this.attemptSettingScrollPosition(e),Wh(this.getViewportElement(),e,this.enableRtl)}},mT={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:gT},kR=class extends Y{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},vT=class extends MR{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new kR(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.scrollVisibleService.getScrollbarWidth()||0,s=i===0&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),ur(this.getGui(),s),ur(this.eViewport,s),ur(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,i=e.getGridBodyCtrl().getBodyViewportElement(),s=this.getScrollPosition(),r=i.scrollTop;s!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!mr(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},bT={selector:"AG-FAKE-VERTICAL-SCROLL",component:vT},um=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(um||{}),CT=class extends Y{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=ls(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=ls(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(um)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?ls(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),s=t?ls(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,s)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(um),"Viewport"]){if(this.lastScrollSource[1]===t)continue;const i=this.getViewportForSource(t);Wh(i,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;const s=Bh(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(s),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;e==="Viewport"?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!Bo()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Gv(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Oh()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const s=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Oh()?e=e>0?0:s:e=Math.min(Math.max(e,0),s)),Wh(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const i=this.rowModel.getRowCount();let s=-1;for(let r=0;r<i;r++){const n=this.rowModel.getRow(r);if(typeof e=="function"){if(n&&e(n)){s=r;break}}else if(e===n||e===n.data){s=r;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t){if(Oi(this.gos,"print"))return;const i=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=i){j("Invalid row index for ensureIndexVisible: "+e);return}const r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var d;r||(d=this.paginationService)==null||d.goToPageWithIndex(e);const n=this.ctrlsService.getGridBodyCtrl(),o=n.getStickyTopHeight(),a=n.getStickyBottomHeight(),l=this.rowModel.getRow(e);let c;do{const u=l.rowTop,f=l.rowHeight,g=this.pageBoundsService.getPixelOffset(),m=l.rowTop-g,y=m+l.rowHeight,b=this.getVScrollPosition(),S=this.heightScaler.getDivStretchOffset(),I=b.top+S,F=b.bottom+S,D=F-I,V=this.heightScaler.getScrollPositionForPixel(m),O=this.heightScaler.getScrollPositionForPixel(y-D),L=Math.min((V+O)/2,m),q=I+o>m,T=F-a<y;let X=null;t==="top"?X=V:t==="bottom"?X=O:t==="middle"?X=L:q?X=V-o:T&&(X=O+a),X!==null&&(this.setVerticalScrollPosition(X),this.rowRenderer.redraw({afterScroll:!0})),c=u!==l.rowTop||f!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const i=this.columnModel.getCol(e);if(!i||i.isPinned()||!this.visibleColsService.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),n=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:s)||r,l=o?s:i;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:d,colMiddle:u,colRight:f}=this.getColumnBounds(e);return c?u-n/2:a?o?f:d:o?d-n:f-n}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:s,colRight:r}=this.getColumnBounds(e),n=this.enableRtl,o=n?t>r:i<r,a=n?i<s:t>s;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),s=e.getActualWidth(),r=e.getLeft(),n=t?-1:1,o=t?i-r:r,a=o+s*n,l=o+s/2*n;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,s=e+t;return{start:i,end:s,width:e}}},yT=class extends Y{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=yu(e);if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50);const s=this.gos.getCallback("processUnpinnedColumns");i.length&&(s&&(i=s({columns:i,viewportWidth:t})),this.columnModel.setColsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),s=t+i;if(s<e)return[];const r=[...this.visibleColsService.getLeftCols()],n=[...this.visibleColsService.getRightCols()];let o=0,a=0;const l=0,c=[];let d=s-l-e;for(;(a<r.length||o<n.length)&&d>0;){if(o<n.length){const u=n[o++];d-=u.getActualWidth(),c.push(u)}if(a<r.length&&d>0){const u=r[a++];d-=u.getActualWidth(),c.push(u)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Gv(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},wT=class extends Y{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{$r(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),$r(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},ST=class extends Xe{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Lv]),this.eCheckbox=le}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=Ev(e,t),[s,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],n=e(s,r);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:s=>Jl(s),click:s=>{Jl(s);const r=Av(this.gos)==="filteredDescendants",n=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(n,r)?this.onClicked(!0,r,s||{})===0&&this.onClicked(!1,r,s):n?this.onClicked(!1,r,s):this.onClicked(!0,r,s||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),Sv(this.gos)||typeof this.getIsVisible()=="function"){const s=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:s}),this.addManagedListeners(this.rowNode,{dataChanged:s,cellChanged:s}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&ti(this.gos)}showOrHideSelect(){var r,n,o;let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if(typeof t=="function"){const a=(r=this.overrides)==null?void 0:r.callbackParams;if(!this.column)e=t({...a,node:this.rowNode,data:this.rowNode.data});else{const l=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...a,...l})}}else e=t??!1;const i=this.gos.get("rowSelection");if(i&&typeof i!="string"?!RP(i):(n=this.column)==null?void 0:n.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if((o=this.overrides)!=null&&o.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){var t,i;if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&typeof e!="string"?Xl(e):(i=(t=this.column)==null?void 0:t.getColDef())==null?void 0:i.checkboxSelection}},RT=class extends Xe{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(Fs("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const s=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}};if(t){const s=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(s)}else i()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},AT=class extends Y{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,s=>this.cellComp.addOrRemoveCssClass(s,!0),s=>this.cellComp.addOrRemoveCssClass(s,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),s=e.cellStyle;t=s(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},IT=class extends Y{constructor(e,t,i,s,r){super(),this.cellCtrl=e,this.beans=t,this.rowNode=s,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case H.ENTER:this.onEnterKeyDown(e);break;case H.F2:this.onF2KeyDown(e);break;case H.ESCAPE:this.onEscapeKeyDown(e);break;case H.TAB:this.onTabKeyDown(e);break;case H.BACKSPACE:case H.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case H.DOWN:case H.UP:case H.RIGHT:case H.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:s,rowNode:r}=this,{gos:n,rangeService:o,eventService:a}=s;if(!i.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),UB(e,n.get("enableCellEditingOnBackspace"))){if(o&&$r(n))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const l=i.getColumn(),c=this.beans.valueService.getDeleteValue(l,r);r.setDataValue(l,c,"cellClear")}}else i.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?H.UP:H.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(H.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(H.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const s=e.key;s===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(s,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&xh(t)){const i=this.rowNode.isSelected(),s=!i,r=Av(t)==="filteredDescendants",n=this.rowNode.setSelectedParams({newValue:s,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});i===void 0&&n===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},FT=class extends Y{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!Sn(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:i,gos:s}=this.beans,r=e.ctrlKey||e.metaKey;i&&r&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const n=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(n);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(n)})},0),(s.get("singleClickEdit")||o.singleClickEdit)&&!s.get("suppressClickEdit")&&!(e.shiftKey&&(i==null?void 0:i.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Bo()||yS("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:s}=this,{eventService:r,frameworkOverrides:n,gos:o}=i,a=t.getColDef(),l=s.createEvent(e,"cellDoubleClicked");r.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{n.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&s.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:s}=e,r=e.target,{cellCtrl:n,beans:o}=this,{eventService:a,rangeService:l,focusService:c,gos:d}=o;if(this.isRightClickInExistingRange(e))return;const u=l&&l.getCellRanges().length!=0;if(!s||!u){const g=d.get("enableCellTextSelection")&&e.defaultPrevented,m=(en()||g)&&!n.isEditing()&&!Dv(r);n.focusCell(m)}if(s&&u&&!c.isCellFocused(n.getCellPosition())){e.preventDefault();const f=c.getFocusedCell();if(f){const{column:g,rowIndex:m,rowPinned:y}=f,b=o.rowRenderer.getRowByPosition({rowIndex:m,rowPinned:y}),S=b==null?void 0:b.getCellCtrl(g);S!=null&&S.isEditing()&&S.stopEditing(),c.setFocusedCell({column:g,rowIndex:m,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(l){const f=this.cellCtrl.getCellPosition();if(s)l.extendLatestRangeToCell(f);else{const g=t||i;l.setRangeToCell(f,g)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),s=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&s)return!0}return!1}containsWidget(e){return pl(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),s=t.contains(e.relatedTarget);return i&&s}destroy(){super.destroy()}},xT=class extends Y{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Oo(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let i=this.column;const s=this.column.getPinned();for(let r=0;i&&r<e&&(t.push(i),i=this.beans.visibleColsService.getColAfter(i),!(!i||Ne(i)||s!==i.getPinned()));r++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=je(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=this.beans.visibleColsService.getBodyContainerWidth();return t+i+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const i=bf(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},Ec="ag-cell-range-selected",_T="ag-cell-range-chart",ET="ag-cell-range-single-cell",MT="ag-cell-range-chart-category",kT="ag-cell-range-handle",DT="ag-cell-range-top",GT="ag-cell-range-right",PT="ag-cell-range-bottom",OT="ag-cell-range-left",BT=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Ec,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${Ec}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${Ec}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${Ec}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${Ec}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(_T,this.hasChartRange),Gh(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(ET,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,s=!t&&e.right,r=!t&&e.bottom,n=!t&&e.left;this.cellComp.addOrRemoveCssClass(DT,i),this.cellComp.addOrRemoveCssClass(GT,s),this.cellComp.addOrRemoveCssClass(PT,r),this.cellComp.addOrRemoveCssClass(OT,n)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(i=>na([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,i=!1,s=!1,r=!1;const n=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService;let a,l;e?(a=o.getColAfter(n),l=o.getColBefore(n)):(a=o.getColBefore(n),l=o.getColAfter(n));const c=this.rangeService.getCellRanges().filter(d=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),d));a||(r=!0),l||(i=!0);for(let d=0;d<c.length&&!(t&&i&&s&&r);d++){const u=c[d],f=this.rangeService.getRangeStartRow(u),g=this.rangeService.getRangeEndRow(u);!t&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(t=!0),!s&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(s=!0),!r&&a&&u.columns.indexOf(a)<0&&(r=!0),!i&&l&&u.columns.indexOf(l)<0&&(i=!0)}return{top:t,right:i,bottom:s,left:r}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(kT,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;const s=je(t),r=this.cellCtrl.getCellPosition(),n=vy(e)&&!this.cellCtrl.isSuppressFillHandle(),o=xP(e);let a=i===1&&!this.cellCtrl.isEditing()&&(n||o);if(this.hasChartRange){const c=t[0].type===1&&this.rangeService.isCellInSpecificRange(r,t[0]);this.cellComp.addOrRemoveCssClass(MT,c),a=s.type===0}return a&&s.endRow!=null&&this.rangeService.isContiguousRange(s)&&this.rangeService.isBottomRightCell(s,r)}addSelectionHandle(){const e=je(this.rangeService.getCellRanges()).type,i=vy(this.beans.gos)&&Ne(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},WT="ag-cell",TT="ag-cell-auto-height",LT="ag-cell-normal-height",NT="ag-cell-focus",VT="ag-cell-first-right-pinned",HT="ag-cell-last-left-pinned",ZT="ag-cell-not-inline-editing",YT="ag-column-hover",zT="ag-cell-wrap-text",jT=0,DR=class hm extends Y{constructor(t,i,s,r){super(),this.column=t,this.rowNode=i,this.beans=s,this.rowCtrl=r,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=t.getId()+"-"+jT++,this.colIdSanitised=Vr(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new xT(this,this.beans),this.cellCustomStyleFeature=new AT(this,this.beans),this.cellMouseListenerFeature=new FT(this,this.beans,this.column),this.cellKeyboardListenerFeature=new IT(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&$r(this.beans.gos)&&(this.cellRangeFeature=new BT(this.beans,this))}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=t.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(t,i){const s=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&te(a))return Kc(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},r=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!i&&r&&!this.isCellRenderer()&&(i=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const n={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:s,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i};this.tooltipFeature=new Cc(n,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,i,s,r,n,o){var a,l,c,d;this.cellComp=t,this.eGui=i,this.printLayout=r,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(s,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)==null||a.setComp(i),(l=this.cellCustomStyleFeature)==null||l.setComp(t),(c=this.tooltipFeature)==null||c.refreshToolTip(),(d=this.cellKeyboardListenerFeature)==null||d.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),n&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(u=>u()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t,i){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const s=t.parentElement,r=ko(this.beans.gos,this.rowNode).height,n=l=>{if(this.editing||!this.isAlive()||!i.isAlive())return;const{paddingTop:c,paddingBottom:d,borderBottomWidth:u,borderTopWidth:f}=Va(s),g=c+d+u+f,y=t.offsetHeight+g;if(l<5){const S=ri(this.beans.gos),I=!S||!S.contains(t),F=y==0;if(I||F){window.setTimeout(()=>n(l+1),0);return}}const b=Math.max(y,r);this.rowNode.setRowAutoHeight(b,this.column)},o=()=>n(0);o();const a=this.beans.resizeObserverService.observeResize(t,o);i.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){var f;const{beans:i,column:s,rowNode:r,cellRangeFeature:n,cellComp:o}=this,{userComponentFactory:a,animationFrameService:l}=i,c=this.getValueToDisplay();let d;if(r.stub&&((f=r.groupData)==null?void 0:f[this.column.getId()])==null){const g=this.createCellRendererParams();d=a.getLoadingCellRendererDetails(s.getColDef(),g)}else if(this.isCellRenderer()){const g=this.createCellRendererParams();d=a.getCellRendererDetails(s.getColDef(),g)}o.setRenderDetails(d,c,t),l.requestAnimationFrame(()=>n==null?void 0:n.refreshHandle())}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t)),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}isCheckboxSelection(t){const{rowSelection:i}=this.beans.gridOptions;return t.checkboxSelection||wf(this.column)&&i&&typeof i!="string"&&Xl(i)}refreshShouldDestroy(){const t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t)),s=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),r=this.includeDndSource!=this.isIncludeControl(t.dndSource),n=this.isAutoHeight!=this.column.isAutoHeight();return i||s||r||n}startEditing(t=null,i=!1,s=null){const{editService:r}=this.beans;return!this.isCellEditable()||this.editing||!r?!0:this.cellComp?r.startEditing(this,t,i,s):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,i,s)}),!0)}setEditing(t,i){this.editCompDetails=i,this.editing!==t&&(this.editing=t)}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){this.onCellEditorAttachedFuncs=[];const{editService:i}=this.beans;return!this.editing||!i?!1:i.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,s,r,n)=>this.registerRowDragger(i,s,n),setTooltip:(i,s)=>{var r;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,s),(r=this.tooltipFeature)==null||r.refreshToolTip()}})}setFocusOutOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusOutOnEditor(this))}setFocusInOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusInOnEditor(this))}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var i;this.refreshShouldDestroy()?(i=this.rowCtrl)==null||i.recreateCell(this):this.refreshCell(t)}refreshCell(t){var d,u,f,g,m;if(this.suppressRefreshCell||this.editing)return;const i=this.column.getColDef(),s=t!=null&&!!t.newData,r=t!=null&&!!t.suppressFlash||!!i.suppressCellFlash,n=i.field==null&&i.valueGetter==null&&i.showRowGroup==null,o=t&&t.forceRefresh||n||s,a=!!this.cellComp,l=this.updateAndFormatValue(a),c=o||l;if(a){if(c){this.showValue(s);const y=(d=this.beans.filterManager)==null?void 0:d.isSuppressFlashingCellsBecauseFiltering();!r&&!y&&(this.beans.gos.get("enableCellChangeFlash")||i.enableCellChangeFlash)&&this.flashCell(),(u=this.cellCustomStyleFeature)==null||u.applyUserStyles(),(f=this.cellCustomStyleFeature)==null||f.applyClassesFromColDef()}(g=this.tooltipFeature)==null||g.refreshToolTip(),(m=this.cellCustomStyleFeature)==null||m.applyCellClassRules()}}stopEditingAndFocus(t=!1,i=!1){var s;(s=this.beans.editService)==null||s.stopEditingAndFocus(this,t,i)}flashCell(t){const i=(t==null?void 0:t.flashDuration)??(t==null?void 0:t.flashDelay),s=(t==null?void 0:t.fadeDuration)??(t==null?void 0:t.fadeDelay);this.animateCell("data-changed",i,s)}animateCell(t,i,s){if(!this.cellComp)return;const{gos:r}=this.beans;if(i||(i=r.get("cellFlashDuration")),i===0)return;te(s)||(s=r.get("cellFadeDuration"));const n=`ag-cell-${t}`,o=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(n,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${s}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},s))},i)})}onFlashCells(t){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const i=this.value,s=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(i,this.value)||this.valueFormatted!=s:!0}valuesAreEqual(t,i){const s=this.column.getColDef();return s.equals?s.equals(t,i):t===i}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const i=this.getGui();Da(this.beans.gos,i,hm.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc(()=>Da(this.beans.gos,i,hm.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,i){return this.beans.gos.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var i;(i=this.cellKeyboardListenerFeature)==null||i.processCharacter(t)}onKeyDown(t){var i;(i=this.cellKeyboardListenerFeature)==null||i.onKeyDown(t)}onMouseEvent(t,i){var s;(s=this.cellMouseListenerFeature)==null||s.onMouseEvent(t,i)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:i,beans:s}=this;wR(t,i,s.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);GS(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,i=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,i):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,i)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&Zs(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(VT,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(HT,t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){i&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(NT,i),i&&t&&t.forceBrowserFocus){let r=this.cellComp.getFocusableElement();if(this.editing){const n=this.beans.focusService.findFocusableElements(r,null,!0);n.length&&(r=n[0])}r.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const s=this.beans.gos.get("editType")==="fullRow";!i&&!s&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:wn(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(WT,!0),this.cellComp.addOrRemoveCssClass(ZT,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(TT,t),this.cellComp.addOrRemoveCssClass(LT,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(YT,t)}onColDefChanged(){var i;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(i=this.beans.editService)==null||i.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(zT,t)}dispatchCellContextMenuEvent(t){const i=this.column.getColDef(),s=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(s),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(s)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new ST;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new RT(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,i,s){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,i);return}const r=this.createRowDragComp(t,i,s);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(t,i,s){const r=this.beans.gos.get("pagination"),n=this.beans.gos.get("rowDragManaged"),o=ti(this.beans.gos);if(n){if(!o){j("managed row dragging is only allowed in the Client Side Row Model");return}if(r){j("managed row dragging is not possible when doing pagination");return}}const a=new am(()=>this.value,this.rowNode,this.column,t,i,s);return this.beans.context.createBean(a),a}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(t=>t()),this.onCellEditorAttachedFuncs=[]}};DR.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var aa=DR,XT=0,GR=class fm extends Y{constructor(t,i,s,r,n){var o;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gos=i.gos,this.rowNode=t,this.paginationPage=((o=i.paginationService)==null?void 0:o.getCurrentPage())??0,this.useAnimationFrameForCreate=r,this.printLayout=n,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+XT++,this.rowId=Vr(t.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(s),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Vr(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,i){t==="left"?this.leftGui=i:t==="right"?this.rightGui=i:t==="fullWidth"?this.fullWidthGui=i:this.centerGui=i}setComp(t,i,s,r){r=Cu(this,this.beans.context,r);const n={rowComp:t,element:i,containerType:s,compBean:r};this.allRowGuis.push(n),this.updateGui(s,n),this.initialiseRowComp(n),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const i=t?"none":"";this.allRowGuis.forEach(s=>s.element.style.display=i)}initialiseRowComp(t){const i=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),xh(i)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const s=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(n=>s.addOrRemoveCssClass(n,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Dh(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(s),this.setRowCompRowBusinessKey(s),Da(i,t.element,fm.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc(()=>Da(i,t.element,fm.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=Vr(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:i}=t;this.slideInAnimation[i]&&(gy(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(gy(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(t){if($r(this.gos)){j("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const i=this.beans.localeService.getLocaleTextFunc(),s=new am(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),r=this.createBean(s,this.beans.context);this.rowDragComps.push(r),t.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(n=>n!==r),this.destroyBean(r,this.beans.context)})}setupFullWidth(t){const i=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const s=this.createFullWidthCompDetails(t.element,i);t.rowComp.showFullWidth(s)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,i;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(s=>{var r;return(r=s==null?void 0:s.rowComp)==null?void 0:r.getFullWidthCellRenderer()}):[(i=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:i.getFullWidthCellRenderer()]}getCellElement(t){const i=this.getCellCtrl(t);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const i={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(i)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),i=!!this.centerGui,s=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&i&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this.rowNode}):!1}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),i=this.isNodeFullWidthCell(),s=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&wv(this.gos,r);t?this.rowType="FullWidthLoading":s?this.rowType="FullWidthDetail":i?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,i=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(i);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,i,s=null){const r={list:[],map:{}},n=(o,a)=>{r.list.push(a),r.map[o]=a};return i.forEach(o=>{const a=o.getInstanceId();let l=t.map[a];l||(l=new aa(o,this.rowNode,this.beans,this)),n(a,l)}),t.list.forEach(o=>{const a=o.getColumn().getInstanceId();if(r.map[a]!=null)return;if(!this.isCellEligibleToBeRemoved(o,s)){n(a,o);return}o.destroy()}),r}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(i=>{const s=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(s,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,i=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const s=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s);const r=i.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const n=i.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(t,i){if(t.getColumn().getPinned()!=i)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const c=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(c)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Oi(this.gos,"print")}listenOnDomOrder(t){const i=()=>{t.rowComp.setDomOrder(this.getDomOrder())};t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],i)}setAnimateFlags(t){if(this.isSticky()||!t)return;const i=te(this.rowNode.oldRowTop),s=this.beans.visibleColsService.isPinningLeft(),r=this.beans.visibleColsService.isPinningRight();if(i){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=s,this.slideInAnimation.right=r}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=s,this.fadeInAnimation.right=r}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,i=t(this.fullWidthGui,null),s=t(this.centerGui,null),r=t(this.leftGui,"left"),n=t(this.rightGui,"right");return i&&s&&r&&n}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(t))}})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(s=>s.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(s=>{this.setRowCompRowId(s.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const s=t===0,r=t===1;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",s),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),i=this.rowNode.expanded==!0;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass("ag-row-group",t),s.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),s.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),Dh(s.element,t&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:wn(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find(i=>i.element.contains(t))}onKeyboardNavigate(t){const i=this.findFullWidthRowGui(t.target);if(!((i?i.element:null)===t.target))return;const n=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:(o==null?void 0:o.column)??this.getColumnForFullWidth(i)};this.beans.navigationService.navigateToNextCell(t,t.key,a,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Sn(t))return;const i=this.allRowGuis.find(l=>l.element.contains(t.target)),s=i?i.element:null,r=s===t.target,n=Vt(this.gos);let o=!1;s&&n&&(o=s.contains(n)&&n.classList.contains("ag-cell"));let a=null;!r&&!o&&(a=this.beans.focusService.findNextFocusableElement(s,!1,t.shiftKey)),(this.isFullWidth()&&r||!a)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var i;const t=(i=this.allRowGuis.find(s=>mr(s.element)))==null?void 0:i.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const i=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(s=>{Zs(s.element,"tabindex",i)})}onFullWidthRowFocused(t){var n;const i=this.rowNode,s=t?this.isFullWidth()&&t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned:!1,r=this.fullWidthGui?this.fullWidthGui.element:(n=this.centerGui)==null?void 0:n.element;r&&(r.classList.toggle("ag-full-width-focus",s),s&&(t!=null&&t.forceBrowserFocus)&&r.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,i){const s={list:[],map:{}};return t.list.forEach(r=>{r!==i&&(s.list.push(r),s.map[r.getColumn().getInstanceId()]=r)}),s}onMouseEvent(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i);break}}createRowEvent(t,i){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(t,i){const s=this.createRowEvent(t,i);return s.source=this,s}onRowDblClick(t){Sn(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:i}=this.beans;switch(t==null?void 0:t.containerType){case"center":return i.getCenterCols()[0];case"left":return i.getLeftCols()[0];case"right":return i.getRightCols()[0];default:return i.getAllCols()[0]}}onRowMouseDown(t){if(this.lastMouseDownOnDragger=pl(t.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const s=this.findFullWidthRowGui(t.target),r=s==null?void 0:s.element,n=t.target;let o=!0;r&&r.contains(n)&&Dv(n)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:this.getColumnForFullWidth(s),rowPinned:i.rowPinned,forceBrowserFocus:o})}onRowClick(t){if(Sn(t)||this.lastMouseDownOnDragger)return;const{gos:s}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const r=t.ctrlKey||t.metaKey,n=t.shiftKey,o=this.rowNode.isSelected(),a=Ga(s),l=by(s),c=_P(s);if(a&&this.rowNode.group||this.isRowSelectionBlocked()||!c&&!o||!l&&o)return;const d=EP(s),u="rowClicked";if(o)d?this.rowNode.setSelectedParams({newValue:!1,event:t,source:u}):r?l&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:u}):c&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n,rangeSelect:n,event:t,source:u});else{const f=d?!1:!r;this.rowNode.setSelectedParams({newValue:!0,clearSelection:f,rangeSelect:n,event:t,source:u})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!xh(this.gos)}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const i=()=>{const r=t.clientHeight;if(r!=null&&r>0){const n=()=>{this.rowNode.setRowHeight(r),(ti(this.gos)||bc(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(n,0)}},s=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(s),i()}createFullWidthCompDetails(t,i){const{gos:s,rowNode:r}=this,n=s.addGridCommonParams({fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,l,c,d)=>this.addFullWidthRowDragging(a,l,c,d),setTooltip:(a,l)=>this.refreshRowTooltip(a,l)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(n);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(n);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(n);default:return o.getFullWidthCellRendererDetails(n)}}refreshRowTooltip(t,i){if(!this.fullWidthGui)return;const s={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Cc(s,this.beans))}addFullWidthRowDragging(t,i,s="",r){if(!this.isFullWidth())return;const n=new am(()=>s,this.rowNode,void 0,t,i,r);this.createBean(n,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(n,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const i="ag-row-level-"+t,s="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(i,!0),r.rowComp.addOrRemoveCssClass(s,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(t=!1){var i;this.stoppingRowEdit||(i=this.beans.rowEditService)==null||i.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(i=>i.isEditing());this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,i=null,s=null){var r;return this.editingRow?!0:((r=this.beans.rowEditService)==null?void 0:r.startEditing(this,t,i,s))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(i=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,i){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,s=>s.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"||t==="right"?t:null}getInitialRowClasses(t){const i=this.getPinnedForContainer(t),s={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(s)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){j("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const i=this.gos.getCallback("getRowStyle");let s;if(i){const r={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};s=i(r)}return s||t?Object.assign({},t,s):this.emptyStyle}onRowSelected(t){const i=!!this.rowNode.isSelected();this.forEachGui(t,s=>{s.rowComp.addOrRemoveCssClass("ag-row-selected",i),Gh(s.element,i),s.element.contains(Vt(this.gos))&&(s===this.centerGui||s===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&!by(this.gos))return;const s=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(s,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{element:i,compBean:s}=t,{rowNode:r,beans:n,gos:o}=this;s.addManagedListeners(i,{mouseenter:()=>r.onMouseEnter(),mouseleave:()=>r.onMouseLeave()}),s.addManagedListeners(r,{mouseEnter:()=>{!n.dragService.isDragging()&&!o.get("suppressRowHoverHighlight")&&(i.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{i.classList.remove("ag-row-hover"),r.setHovered(!1)}})}roundRowTopToBounds(t){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),s=this.applyPaginationOffset(i.top,!0)-100,r=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(s,t),r)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,i){t?i(t):this.allRowGuis.forEach(i)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const i=this.rowNode.rowHeight,s=this.beans.environment.getDefaultRowHeight(),n=uS(this.gos)?ko(this.gos,this.rowNode).height:void 0,o=n?`${Math.min(s,n)-2}px`:void 0;this.forEachGui(t,a=>{a.element.style.height=`${i}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,i){super.addEventListener(t,i)}removeEventListener(t,i){super.removeEventListener(t,i)}destroyFirstPass(t=!1){if(this.active=!1,!t&&fl(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=i=>(i.list.forEach(s=>s.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var i;const t=((i=this.beans.paginationService)==null?void 0:i.getCurrentPage())??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,i=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const s=this.beans.pageBoundsService.getPixelOffset();return t+s*(i?1:-1)}setRowTop(t){if(!this.printLayout&&te(t)){const i=this.applyPaginationOffset(t),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(n)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const i=this.rowNode;let s;if(this.isSticky())s=i.stickyRowTop;else{const r=this.slideInAnimation[t]?this.roundRowTopToBounds(i.oldRowTop):i.rowTop,n=this.applyPaginationOffset(r);s=i.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return s+"px"}setRowTopStyle(t){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(t):i.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let i=null;return this.getAllCellCtrls().forEach(s=>{s.getColumn()==t&&(i=s)}),i!=null||this.getAllCellCtrls().forEach(s=>{s.getColSpanningList().indexOf(t)>=0&&(i=s)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){var o;const i=this.rowNode.getRowIndexString();if(i===null)return;const s=this.beans.headerNavigationService.getHeaderRowCount()+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),r=this.rowNode.rowIndex%2===0,n=s+this.rowNode.rowIndex+1;this.forEachGui(t,a=>{a.rowComp.setRowIndex(i),a.rowComp.addOrRemoveCssClass("ag-row-even",r),a.rowComp.addOrRemoveCssClass("ag-row-odd",!r),DS(a.element,n)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};GR.DOM_DATA_KEY_ROW_CTRL="renderedRow";var la=GR,JT=class extends Y{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",yS("touchstart")?"touchstart":"mousedown"].forEach(i=>{const s=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:s})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Sn(t))return;const i=this.getRowForEvent(t),s=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,i,s):(s&&s.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Bo())return;const e=new po(this.element),t=i=>{const s=this.getRowForEvent(i.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,s,r)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const i=Zd(this.gos,t,la.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,s){const r=i?i.getRowNode():null,n=s?s.getColumn():null;let o=null;if(n){const c=e||t;s.dispatchCellContextMenuEvent(c??null),o=this.valueService.getValue(n,r)}const a=this.ctrlsService.getGridBodyCtrl(),l=s?s.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:r,column:n,value:o,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:$g(this.gos,e,aa.DOM_DATA_KEY_CELL_CTRL),rowCtrl:$g(this.gos,e,la.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,t))}processCellKeyboardEvent(e,t,i){const s=e.getRowNode(),r=e.getColumn(),n=e.isEditing();!lm(this.gos,i,s,r,n)&&t==="keydown"&&(!n&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),dR(i)&&e.processCharacter(i)),t==="keydown"&&this.eventService.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){const s=e.getRowNode(),r=this.focusService.getFocusedCell(),n=r&&r.column;if(!lm(this.gos,i,s,n,!1)){const a=i.key;if(t==="keydown")switch(a){case H.PAGE_HOME:case H.PAGE_END:case H.PAGE_UP:case H.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case H.UP:case H.DOWN:e.onKeyboardNavigate(i);break;case H.TAB:e.onTabKeyDown(i);break}}t==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const i=JB(e);if(i===H.A)return this.onCtrlAndA(e);if(i===H.C)return this.onCtrlAndC(e);if(i===H.D)return this.onCtrlAndD(e);if(i===H.V)return this.onCtrlAndV(e);if(i===H.X)return this.onCtrlAndX(e);if(i===H.Y)return this.onCtrlAndY();if(i===H.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:i,rangeService:s}=this;if(s&&i.isRowsToRender()){const[r,n]=[t.isEmpty("top"),t.isEmpty("bottom")],o=r?null:"top";let a,l;n?(a=null,l=i.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowCount()-1);const c=this.visibleColsService.getAllCols();if(xs(c))return;s.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:c[0],columnEnd:je(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;(e=this.undoRedoService)==null||e.redo("ui")}},UT=class extends Y{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Nt(this.element,t),ur(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},qT=class extends Y{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Nt(this.element,t),ur(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},Pu=e=>e.getTopRowCtrls(),Ou=e=>e.getStickyTopRowCtrls(),Bu=e=>e.getStickyBottomRowCtrls(),Wu=e=>e.getBottomRowCtrls(),Tu=e=>e.getCentreRowCtrls(),KT={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Tu},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Tu},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Tu},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Tu},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:Pu},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Pu},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Pu},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:Pu},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:Ou},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Ou},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Ou},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:Ou},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:Bu},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Bu},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Bu},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:Bu},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Wu},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Wu},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Wu},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Wu}};function al(e){return KT[e]}var QT=["topCenter","topLeft","topRight"],$T=["bottomCenter","bottomLeft","bottomRight"],eL=["center","left","right"],tL=["center","left","right","fullWidth"],iL=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],sL=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],rL=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],PR=["stickyTopCenter","stickyTopLeft","stickyTopRight"],OR=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],nL=[...PR,"stickyTopFullWidth",...OR,"stickyBottomFullWidth"],oL=[...QT,...$T,...eL,...PR,...OR],aL=class extends Y{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=al(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new yT(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new JT(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const s=()=>this.onPinnedWidthChanged();this.forContainers(sL,()=>{this.pinnedWidthFeature=this.createManagedBean(new UT(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers(rL,()=>{this.pinnedWidthFeature=this.createManagedBean(new qT(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(tL,()=>this.createManagedBean(new kR(this.eContainer,this.name==="center"?i:void 0))),this.forContainers(oL,()=>this.createManagedBean(new wT(this.eContainer))),this.forContainers(iL,()=>this.createManagedBean(new qv(r=>this.comp.setContainerWidth(`${r}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(nL.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const i=this.gos.get("ensureDomOrder"),s=Oi(this.gos,"print");this.comp.setDomOrder(i||s)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return yu(this.eViewport)}getCenterViewportScrollLeft(){return Bh(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return VS(this.eViewport)}getViewportScrollLeft(){return Bh(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||MO(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Wh(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=Oi(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||i,n=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:n,useFlushSync:e})}},BR="ag-force-vertical-scroll",lL="ag-selectable",cL="ag-column-moving",dL=class extends Y{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,s,r,n,o){var a;this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=s,this.eBottom=r,this.eStickyTop=n,this.eStickyBottom=o,this.eCenterColsViewport=i.querySelector(`.${al("center").viewport}`),this.eFullWidthContainer=i.querySelector(`.${al("fullWidth").container}`),this.eStickyTopFullWidthContainer=n.querySelector(`.${al("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${al("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new Qv(this.comp)),this.bodyScrollFeature=this.createManagedBean(new CT(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,i,r,n,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(a=this.filterManager)==null||a.setupAdvancedFilterHeaderComp(s),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{const{target:s}=i,r=pl(s,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:i=>{const{target:s,relatedTarget:r}=i,n=t.contains(r),o=pl(r,"ag-root",t);pl(s,"ag-root",t)||(!n||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(cL,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(lL,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.scrollVisibleService.getScrollbarWidth()||0,i=WS()?16:0,s=`calc(100% + ${t+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(s)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=i=>{const s=i.relatedTarget;if(nm(s)===null){this.rowRenderer.stopEditing();return}let r=t.some(n=>n.contains(s))&&this.mouseEventService.isElementInThisGrid(s);if(!r){const n=this.popupService;r=n.getActivePopups().some(o=>o.contains(s))||n.isElementWithinCustomPopup(s)}r||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(i=>this.addManagedElementListeners(i,{focusout:e}))}updateRowCount(){var s;const e=this.headerNavigationService.getHeaderRowCount()+(((s=this.filterManager)==null?void 0:s.getHeaderRowCount())??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=t===-1?-1:e+t;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?BR:null,i=Oi(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&kO(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const i=e&&fl(this.gos)&&!this.rowContainerHeightService.isStretching(),s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e;(s||Math.abs(t)>Math.abs(i))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e,r=s||Math.abs(t)>Math.abs(i),n=e.target;r?(this.eStickyTopFullWidthContainer.contains(n)||this.eStickyBottomFullWidthContainer.contains(n))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:s}=e||t;(s===this.eBodyViewport||s===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Bo())return;const t=new po(this.eBodyViewport),i=s=>{e(void 0,s.touchStart,s.touchEvent)};this.addManagedListeners(t,{longTap:i}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new xB(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var r;const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((r=this.filterManager)==null?void 0:r.getHeaderHeight())??0),i=this.pinnedRowModel.getPinnedTopTotalHeight();let s=0;t>0&&(s+=t),i>0&&(s+=i),s>0&&(s+=1),this.comp.setStickyTopTop(`${s}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,s=e+i;this.comp.setStickyBottomBottom(`${s}px`)}sizeColumnsToFit(e,t){const s=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,n=yu(this.eGridBody)-s;if(n>0){this.columnSizeService.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):j("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},uL=class extends Xe{constructor(e,t,i,s,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=s,this.cellCtrl=t;const n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(n);const o=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1),vs(o,t.getCellAriaRole()),o.setAttribute("col-id",t.colIdSanitised);const a={addOrRemoveCssClass:(l,c)=>this.addOrRemoveCssClass(l,c),setUserStyles:l=>YS(o,l),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:l=>this.includeSelection=l,setIncludeRowDrag:l=>this.includeRowDrag=l,setIncludeDndSource:l=>this.includeDndSource=l,setRenderDetails:(l,c,d)=>this.setRenderDetails(l,c,d),setEditDetails:(l,c,d)=>this.setEditDetails(l,c,d),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(a,this.getGui(),this.eCellWrapper,i,r,void 0)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(i||r)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,s=i&&this.eCellWrapper==null;if(s){const c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}const r=!i&&this.eCellWrapper!=null;r&&(Pr(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const n=!e&&i,o=n&&this.eCellValue==null;if(o){const c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}const a=!n&&this.eCellValue!=null;a&&(Pr(this.eCellValue),this.eCellValue=void 0);const l=s||r||o||a;return l&&this.removeControls(),e||t&&this.addControls(),l}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){const s=this.editorVersion,r=e.newAgStackInstance();if(r==null)return;const{params:n}=e;r.then(a=>this.afterCellEditorCreated(s,a,n,t,i)),Ne(this.cellEditor)&&n.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();Yi(t);const i=e!=null?Vr(e,!0):null;i!=null&&(t.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Pr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Pr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){const i=!this.beans.gos.get("suppressAnimationFrame"),s=this.rendererVersion,{componentClass:r}=e,n=()=>{if(this.rendererVersion!==s||!this.isAlive())return;const a=e.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,s,r);a&&a.then(l)};i&&this.firstRender?this.beans.animationFrameService.createTask(n,this.rowNode.rowIndex,"createTasksP2"):n()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const r=this.getParentOfValue();Yi(r),r.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,i,s,r){if(e!==this.editorVersion){this.beans.context.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){j(`cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();const a=s||t.isPopup!==void 0&&t.isPopup();a?this.addPopupCellEditor(i,r):this.addInCellEditor(),this.refreshEditStyles(!0,a),t.afterGuiAttached&&t.afterGuiAttached(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),(i=this.rowCtrl)==null||i.setInlineEditingCss()}addInCellEditor(){const e=this.getGui();e.contains(Vt(this.beans.gos))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){var f;this.beans.gos.get("editType")==="fullRow"&&j("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(e));const s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);const r=this.beans.popupService,n=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),o=t??((f=i.getPopupPosition)==null?void 0:f.call(i))??"over",a=this.beans.gos.get("enableRtl"),l={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:o,alignSide:a?"right":"left",keepWithinBounds:!0},c=r.positionPopupByComponent.bind(r,l),d=this.beans.localeService.getLocaleTextFunc(),u=r.addPopup({modal:n,eChild:s,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});u&&(this.hideEditorPopup=u.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui();e.contains(Vt(this.beans.gos))&&rm()&&e.focus({preventScroll:!0}),Yi(this.getParentOfValue())}},hL=class extends Xe{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;const s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),s.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(s);const r=this.getGui(),n=r.style;this.domOrder=this.rowCtrl.getDomOrder(),vs(r,"row");const o={setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(a,l)=>this.addOrRemoveCssClass(a,l),setUserStyles:a=>YS(r,a),setTop:a=>n.top=a,setTransform:a=>n.transform=a,setRowIndex:a=>r.setAttribute("row-index",a),setRowId:a=>r.setAttribute("row-id",a),setRowBusinessKey:a=>r.setAttribute("row-business-key",a),refreshFullWidth:a=>{var l,c;return((c=(l=this.fullWidthCellRenderer)==null?void 0:l.refresh)==null?void 0:c.call(l,a()))??!1}};e.setComp(o,this.getGui(),i,void 0),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){const t=s=>{if(this.isAlive()){const r=s.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(s)}else this.beans.context.destroyBean(s)},i=e.newAgStackInstance();i!=null&&i.then(t)}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(s=>{const r=s.instanceId;this.cellComps[r]==null?this.newCellComp(s):t[r]=null});const i=Pa(t).filter(s=>s!=null);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(i=>{const s=this.cellComps[i.instanceId];s&&t.push(s.getGui())}),ZS(this.getGui(),t)}newCellComp(e){const t=new uL(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.instanceId]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=Pa(this.cellComps).filter(t=>t!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&$e("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){e.forEach(t=>{if(!t)return;const i=t.getCtrl().instanceId;this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}};function fL(e){let t;return e.type==="center"?t=`<div class="${e.viewport}" data-ref="eViewport" role="presentation">
                <div class="${e.container}" data-ref="eContainer"></div>
            </div>`:t=`<div class="${e.container}" data-ref="eContainer"></div>`,t}var pL=class extends Xe{constructor(){super(),this.eViewport=le,this.eContainer=le,this.rowComps={},this.name=Xe.elementGettingCreated.getAttribute("name"),this.options=al(this.name),this.setTemplate(fL(this.options))}wireBeans(e){this.beans=e}postConstruct(){const e={setHorizontalScroll:i=>this.eViewport.scrollLeft=i,setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i,setOffsetTop:i=>this.eContainer.style.transform=`translateY(${i})`};this.createManagedBean(new aL(this.name)).setComp(e,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy()}setRowCtrls(e){const t={...this.rowComps};this.rowComps={},this.lastPlacedElement=null;const i=s=>{const r=s.instanceId,n=t[r];if(n)this.rowComps[r]=n,delete t[r],this.ensureDomOrder(n.getGui());else{if(!s.getRowNode().displayed)return;const o=new hL(s,this.beans,this.options.type);this.rowComps[r]=o,this.appendRow(o.getGui())}};e.forEach(i),Pa(t).forEach(s=>{this.eContainer.removeChild(s.getGui()),s.destroy()}),vs(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?EO(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(HS(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}},gL={selector:"AG-ROW-CONTAINER",component:pL};function Mc(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}var mL=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${Mc(["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${Mc(["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${Mc(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${Mc(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${Mc(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,vL=class extends Xe{constructor(){super(mL,[pT,mT,bT,hT,gL]),this.eBodyViewport=le,this.eStickyTop=le,this.eStickyBottom=le,this.eTop=le,this.eBottom=le,this.eBody=le}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.rangeService=e.rangeService}postConstruct(){const e=(i,s)=>{const r=`${i}px`;s.style.minHeight=r,s.style.height=r},t={setRowAnimationCssOnBodyViewport:(i,s)=>this.setRowAnimationCssOnBodyViewport(i,s),setColumnCount:i=>bO(this.getGui(),i),setRowCount:i=>vO(this.getGui(),i),setTopHeight:i=>e(i,this.eTop),setBottomHeight:i=>e(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setStickyBottomHeight:i=>{this.eStickyBottom.style.height=i,this.eStickyBottom.classList.toggle("ag-hidden",i==="0px")},setStickyBottomBottom:i=>this.eStickyBottom.style.bottom=i,setStickyBottomWidth:i=>this.eStickyBottom.style.width=i,setColumnMovingCss:(i,s)=>this.addOrRemoveCssClass(i,s),updateLayoutClasses:(i,s)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(n=>{n.toggle("ag-layout-auto-height",s.autoHeight),n.toggle("ag-layout-normal",s.normal),n.toggle("ag-layout-print",s.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",s.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",s.normal),this.addOrRemoveCssClass("ag-layout-print",s.print)},setAlwaysVerticalScrollClass:(i,s)=>this.eBodyViewport.classList.toggle(BR,s),registerBodyViewportResizeListener:i=>{const s=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>s())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,s)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(i,s))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new dL),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&$r(this.gos)||Rv(this.gos))&&mO(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}},bL={selector:"AG-GRID-BODY",component:vL},CL=class extends Y{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),i=typeof e=="number"&&e>=0?e:FO();i!=null&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Gy="__ag_grid_instance",WR=class TR extends Y{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=TR.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[Gy]=this.gridInstanceId}getRenderedCellForEvent(t){return $g(this.gos,t.target,aa.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let i=t;for(;i;){const s=i[Gy];if(te(s))return s===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(t){const i=this.getRenderedCellForEvent(t);return i?i.getCellPosition():null}getNormalisedPosition(t){const i=Oi(this.gos,"normal"),s=t;let r,n;if(s.clientX!=null||s.clientY!=null?(r=s.clientX,n=s.clientY):(r=s.x,n=s.y),i){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();r+=l.left,n+=a.top}return{x:r,y:n}}};WR.gridInstanceSequence=new Bv;var yL=WR,wL=class extends Y{constructor(){super(),this.beanName="navigationService",this.onPageDown=my(this.onPageDown,100),this.onPageUp=my(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,s=e.altKey,r=e.ctrlKey||e.metaKey,n=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(i){case H.PAGE_HOME:case H.PAGE_END:!r&&!s&&(this.onHomeOrEndKey(i),a=!0);break;case H.LEFT:case H.RIGHT:case H.UP:case H.DOWN:if(!o)return!1;r&&!s&&!n&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case H.PAGE_DOWN:case H.PAGE_UP:!r&&!s&&(a=this.handlePageUpDown(i,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),t?(e===H.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){var o;const{scrollIndex:t,scrollType:i,scrollColumn:s,focusIndex:r,focusColumn:n}=e;te(s)&&!s.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(s),te(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:n,rowPinned:null,forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:r,rowPinned:null,column:n})}onPageDown(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.getViewportHeight(),r=this.pageBoundsService.getPixelOffset(),n=i.top+s,o=this.rowModel.getRowIndexAtPixel(n+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.pageBoundsService.getPixelOffset(),r=i.top,n=this.rowModel.getRowIndexAtPixel(r+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,n,!0):this.navigateToNextPage(e,n,!0)}navigateToNextPage(e,t,i=!1){const s=this.getViewportHeight(),r=this.pageBoundsService.getFirstRow(),n=this.pageBoundsService.getLastRow(),o=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=i?(a==null?void 0:a.rowHeight)-s-o:s-o,c=(a==null?void 0:a.rowTop)+l;let d=this.rowModel.getRowIndexAtPixel(c+o);if(d===e.rowIndex){const f=i?-1:1;t=d=e.rowIndex+f}let u;i?(u="bottom",d<r&&(d=r),t<r&&(t=r)):(u="top",d>n&&(d=n),t>n&&(t=n)),this.isRowTallerThanView(d)&&(t=d,u="top"),this.navigateTo({scrollIndex:t,scrollType:u,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const s=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const i=t?-1:1,s=this.getViewportHeight(),r=this.pageBoundsService.getLastRow();let n=0,o=e.rowIndex;for(;o>=0&&o<=r;){const a=this.rowModel.getRow(o);if(a){const l=a.rowHeight??0;if(n+l>s)break;n+=l}o+=i}return Math.max(0,Math.min(o,r))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let i=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(i-=t),i}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const i=t.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:s}=i,r=i.column;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:r,focusIndex:s,focusColumn:r})}onHomeOrEndKey(e){const t=e===H.PAGE_HOME,i=this.visibleColsService.getAllCols(),s=t?i[0]:je(i),r=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:s,focusIndex:r,focusColumn:s})}onTabKeyDown(e,t){const i=t.shiftKey,s=this.tabToNextCellCommon(e,i,t);if(s!==!1){s?t.preventDefault():s===null&&this.focusService.allowFocusForNextGridCoreContainer(i);return}if(i){const{rowIndex:r,rowPinned:n}=e.getRowPosition();(n?r===0:r===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof aa&&e.focusCell(!0),(!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&t.preventDefault()}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let s=this.getCellByPosition(i);return!s&&(s=this.rowRenderer.getRowByPosition(i),!s||!s.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t)}tabToNextCellCommon(e,t,i){let s=e.isEditing();if(!s&&e instanceof aa){const o=e.getRowCtrl();o&&(s=o.isEditing())}let r;return s?this.gos.get("editType")==="fullRow"?r=this.moveToNextEditingRow(e,t,i):r=this.moveToNextEditingCell(e,t,i):r=this.moveToNextCellNotEditing(e,t),r===null?r:r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){const s=e.getCellPosition();e.getGui().focus(),e.stopEditing();const r=this.findNextCellToFocusOn(s,t,!0);return r===!1?null:r==null?!1:(r.startEditing(null,!0,i),r.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const s=e.getCellPosition(),r=this.findNextCellToFocusOn(s,t,!0);if(r===!1)return null;if(r==null)return!1;const n=r.getCellPosition(),o=this.isCellEditable(s),a=this.isCellEditable(n),l=n&&s.rowIndex===n.rowIndex&&s.rowPinned===n.rowPinned;return o&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.visibleColsService.getAllCols();let s;e instanceof la?s={...e.getRowPosition(),column:t?i[0]:je(i)}:s=e.getCellPosition();const r=this.findNextCellToFocusOn(s,t,!1);if(r===!1)return null;if(r instanceof aa)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return te(r)}findNextCellToFocusOn(e,t,i){var r;let s=e;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextTabbedCell(s,t);const n=this.gos.getCallback("tabToNextCell");if(te(n)){const c=n({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:s||null});if(c===!0||c===null)c===null&&j("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),s=e;else{if(c===!1)return!1;s={rowIndex:c.rowIndex,column:c.column,rowPinned:c.rowPinned}}}if(!s)return null;if(s.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+s.rowIndex,column:s.column},fromCell:!0}),null}const o=this.gos.get("editType")==="fullRow";if(i&&!o&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);const a=this.getCellByPosition(s);if(!a){const l=this.rowRenderer.getRowByPosition(s);if(!l||!l.isFullWidth()||i)continue;return l}if(!a.isSuppressNavigable())return(r=this.rangeService)==null||r.setRangeToCell(s),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,i,s){let r=i,n=!1;for(;r&&(r===i||!this.isValidNavigateCell(r));)this.gos.get("enableRtl")?t===H.LEFT&&(r=this.getLastCellOfColSpan(r)):t===H.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(t,r),n=Ne(r);if(n&&e&&e.key===H.UP&&(r={rowIndex:-1,rowPinned:null,column:i.column}),s){const a=this.gos.getCallback("navigateToNextCell");if(te(a)){const c=a({key:t,previousCellPosition:i,nextCellPosition:r||null,event:e});te(c)?r={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}:r=null}}if(!r)return;if(r.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+r.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(r);o?this.focusPosition(o):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const i=this.visibleColsService.getAllCols(),s=this.rowRenderer.getRowByPosition(e);if(!s||!s.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),n={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?je(i):i[0])};this.focusPosition(n);const o=t??(r!=null&&this.rowPositionUtils.before(n,r));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:n.column,isFullWidthCell:!0,fromBelow:o}),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:je(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=Cf(this.gos),i=this.rowModel.getRow(e.rowIndex);!(t&&(i==null?void 0:i.sticky))&&Ne(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},SL=class extends Y{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},RL=class extends Y{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,s=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:s})},i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let s=-1,r="left";const n=this.menuService.isLegacyMenuEnabled();!n&&this.gos.get("enableRtl")&&(s=1,r="right");const o=n?void 0:4*s,a=n?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:l,nudgeX:o,nudgeY:a,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},i,t,n)}showPopup(e,t,i,s,r){const n=e?this.createBean(new GB(e,"COLUMN_MENU")):void 0;if(this.activeMenu=n,!(n!=null&&n.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");vs(o,"presentation"),o.classList.add("ag-menu"),r||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:m=>this.trapFocusWithin(m,o)}),o.appendChild(n==null?void 0:n.getGui());let a;const l=()=>n==null?void 0:n.afterGuiDetached(),c=this.menuService.isColumnMenuAnchoringEnabled()?s??this.ctrlsService.getGridBodyCtrl().getGui():void 0,d=m=>{e.setMenuVisible(!1,"contextMenu");const y=m instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),y&&s&&mr(s)){const b=this.focusService.findTabbableParent(s);b&&b.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},u=this.localeService.getLocaleTextFunc(),f=r&&i!=="columnFilter"?u("ariaLabelColumnMenu","Column Menu"):u("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:d,positionCallback:()=>t(o),anchorToElement:c,ariaLabel:f});g&&(this.hidePopup=a=g.hideFunc),n.afterInit().then(()=>{t(o),n.afterGuiAttached({container:i,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==H.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},AL=class extends Y{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const s=hS(this.gos).ResizeObserver,r=s?new s(t):null;return r==null||r.observe(e),()=>r==null?void 0:r.disconnect()}},IL=class extends Y{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){var i;const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const s=((i=this.paginationService)==null?void 0:i.getCurrentPage())??0;s!==this.lastPage&&(this.lastPage=s,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&j(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const s={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],s),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,s)=>i.index!==s.index?t*(s.index-i.index):s.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,s=this.createTasksP2,r=s.list,n=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let u;if(i.length)this.sortTaskList(t),u=i.pop().task;else if(r.length)this.sortTaskList(s),u=r.pop().task;else if(n.length)u=n.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(u)||u()}a=new Date().getTime()-o}i.length||r.length||n.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=hS(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}},Ge=(e=>(e.EVERYTHING="group",e.FILTER="filter",e.SORT="sort",e.MAP="map",e.AGGREGATE="aggregate",e.FILTER_AGGREGATES="filter_aggregates",e.PIVOT="pivot",e.NOTHING="nothing",e))(Ge||{}),FL=class extends Y{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=ti(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(i=>{i.id&&t.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:i})=>{t&&i&&e.push(i)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,s){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,i,s),e.setExpanded(t,void 0,s))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},xL=class extends Y{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){const i=this.getRowCtrl(e),s=this.getCellGui(i,t);if(!s)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};const r=s.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(e){var n;const t=e.rowNode,i=e.column;let{anchorToElement:s,value:r}=e;t&&i&&r==null&&(r=this.valueService.getValueForDisplay(i,t)),s==null&&(s=this.getContextMenuAnchorElement(t,i)),(n=this.contextMenuFactory)==null||n.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,i??null,r,s)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(i??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&Do(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Bo()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var s;const t=e.getColDef(),i=(s=t.floatingFilterComponentParams)==null?void 0:s.suppressFilterButton;return i!=null&&j("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!i:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,i,s){const{positionBy:r}=t,n=t.column;if(r==="button"){const{buttonElement:o}=t;e.showMenuAfterButtonClick(n,o,i,s)}else if(r==="mouse"){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(n,o,i,s)}else n&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var a;const o=(a=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()))==null?void 0:a.getHeaderCtrlForColumn(n);o&&e.showMenuAfterButtonClick(n,o.getAnchorElementForMenu(s),i,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:i}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){if(!e||!t)return;const i=e.getCellCtrl(t);return(i==null?void 0:i.getGui())||void 0}getContextMenuAnchorElement(e,t){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),s=this.getRowCtrl(e);if(!s)return i;const r=this.getCellGui(s,t);return r||(s.isFullWidth()?s.getFullWidthElement():i)}},_L=class extends ta{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},EL={selector:"AG-INPUT-TEXT-AREA",component:_L},ML=class extends yc{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[EL]),this.eTextArea=le}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),te(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===H.LEFT||t===H.UP||t===H.RIGHT||t===H.DOWN||e.shiftKey&&t===H.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!te(e)&&!te(this.params.value)?this.params.value:this.params.parseValue(e)}},kL=class extends yc{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Da(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,i=s=>{lm(this.gos,s,t.node,t.column,!0)||t.onKeyDown(s)};this.addManagedElementListeners(e,{keydown:i})}},DL=class extends yc{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[NB]),this.eSelect=le,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:i,gos:s}=this,{values:r,value:n,eventKey:o}=e;if(Ne(r)){j("no values found for select cellEditor");return}this.startedByEnter=o!=null?o===H.ENTER:!1;let a=!1;r.forEach(u=>{const f={value:u},g=i.formatValue(e.column,null,u),m=g!=null;f.text=m?g:u,t.addOption(f),a=a||n===u}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),s.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},If=class extends yc{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=le}init(e){this.params=e;const{cellStartedEdit:t,eventKey:i,suppressPreventDefault:s}=e,r=this.eInput;this.cellEditorInput.init(r,e);let n,o=!0;t?(this.focusAfterAttached=!0,i===H.BACKSPACE||i===H.DELETE?n="":i&&i.length===1?s?o=!1:n=i:(n=this.cellEditorInput.getStartValue(),i!==H.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,n=this.cellEditorInput.getStartValue()),o&&n!=null&&r.setStartValue(n),this.addManagedElementListeners(r.getGui(),{keydown:a=>{const{key:l}=a;(l===H.PAGE_UP||l===H.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var s,r;const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;en()||t.getFocusableElement().focus();const i=t.getInputElement();this.highlightAllOnFocus?i.select():(r=(s=this.cellEditorInput).setCaret)==null||r.call(s)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},GL=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[Rf]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!te(e)&&!te(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=te(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},LR=class extends If{constructor(){super(new GL)}},PL=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[qB]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===H.UP||e.key===H.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!te(e)&&!te(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){en()&&this.eInput.getInputElement().focus({preventScroll:!0})}},OL=class extends If{constructor(){super(new PL)}},BL=class extends Za{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=en();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Vt(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Ys(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Zs(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Ys(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Zs(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Zs(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return ds(this.getValue())??void 0}setDate(e,t){this.setValue(Ys(e??null,!1),t)}},NR={selector:"AG-INPUT-DATE-FIELD",component:BL},WL=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[NR]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!te(e)&&!te(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Ys(e,!1)}},TL=class extends If{constructor(){super(new WL)}},LL=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[NR]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!te(e)&&!te(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return Ys(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):ds(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Ys(e??null,!1)??void 0}},NL=class extends If{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new LL(()=>this.dataTypeService))}},VL=class extends yc{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Lv]),this.eCheckbox=le}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:s=>this.setAriaLabel(s.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=Ev(t,e),s=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}},Lc=class{constructor(e){this.cellValueChanges=e}},Gp=class extends Lc{constructor(e,t,i,s){super(e),this.initialRange=t,this.finalRange=i,this.ranges=s}},HL=10,Py=class{constructor(e){this.actionStack=[],this.maxStackSize=e||HL,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},ZL=class extends Y{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),s=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||s||this.isPasting||this.isRangeInAction))return;const{rowPinned:n,rowIndex:o,column:a,oldValue:l,value:c}=e,d={rowPinned:n,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new Py(e),this.redoStack=new Py(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,i,s,r){if(!e)return!1;const n=e.pop();return!n||!n.cellValueChanges?!1:(this.processAction(n,o=>o[s],r),n instanceof Gp?this.processRange(this.rangeService,n.ranges||[n[i]]):this.processCell(n.cellValueChanges),t.push(n),!0)}processAction(e,t,i){e.cellValueChanges.forEach(s=>{const{rowIndex:r,rowPinned:n,columnId:o}=s,a={rowIndex:r,rowPinned:n},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(o,t(s),i)})}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach((s,r)=>{if(!s)return;const n=s.startRow,o=s.endRow;r===t.length-1&&(i={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(i));const a={rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:s.startColumn,columns:s.columns};e.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:s}=t,r={rowIndex:i,rowPinned:s},n=this.rowPositionUtils.getRowNode(r),o={rowPinned:t.rowPinned,rowIndex:n.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:s,rowPinned:r}=e,n=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(s);if(!o)return;n.ensureIndexVisible(i),n.ensureColumnVisible(o);const a={rowIndex:i,column:o,rowPinned:r};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t==null||t.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Lc(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new Lc(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Lc(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Gp(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&$r(this.gos)?e=new Gp(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new Lc(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function YL(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function zL(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function VR(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function HR(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}function jL(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}function XL(e){var t;(t=e.undoRedoService)==null||t.undo("api")}function JL(e){var t;(t=e.undoRedoService)==null||t.redo("api")}function UL(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map($c)}function qL(e){return e.rowRenderer.getEditingCells()}function KL(e,t=!1){e.rowRenderer.stopEditing(t)}function QL(e,t){const i=e.columnModel.getCol(t.colKey);if(!i){j(`no column found for ${t.colKey}`);return}const s={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};t.rowPinned==null&&HR(e,t.rowIndex),VR(e,t.colKey);const n=e.navigationService.getCellByPosition(s);if(!n)return;const{focusService:o,gos:a}=e,l=()=>{const d=Vt(a),u=n.getGui();return d!==u&&!!(u!=null&&u.contains(d))},c=a.get("stopEditingWhenCellsLoseFocus")&&l();(c||!o.isCellFocused(s))&&o.setFocusedCell({...s,forceBrowserFocus:c,preventScrollOnBrowserFocus:!0}),n.startRowOrCellEdit(t.key)}function $L(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentUndoStackSize())??0}function eN(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentRedoStackSize())??0}var tN=class extends Y{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,i=!1,s=null){var c;const r=this.createCellEditorParams(e,t,i),n=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(n,r),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!n.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:n.cellEditorPopupPosition;return e.setEditing(!0,o),e.getComp().setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(s,"cellEditingStarted")),!((c=o==null?void 0:o.params)!=null&&c.suppressPreventDefault)}stopEditing(e,t){const i=e.getComp(),{newValue:s,newValueExists:r}=this.takeValueFromCellEditor(t,i),n=e.getRowNode(),o=e.getColumn(),a=this.valueService.getValueForDisplay(o,n);let l=!1;return r&&(l=this.saveNewValue(e,a,s,n,o)),e.setEditing(!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:s,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t!=null&&t.refresh){const{eventKey:i,cellStartedEdit:s}=e.getEditCompDetails().params,r=this.createCellEditorParams(e,i,s),n=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(n,r);t.refresh(o.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),i=t.getCellEditor();i!=null&&i.focusIn?i.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>{var s,r;return(r=(s=t.getCellEditor())==null?void 0:s.focusIn)==null?void 0:r.call(s)}))}stopEditingAndFocus(e,t=!1,i=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(i,e.getCellPosition())}createPopupEditorWrapper(e){return new kL(e)}takeValueFromCellEditor(e,t){const i={newValueExists:!1};if(e)return i;const s=t.getCellEditor();return!s||s.isCancelAfterEnd&&s.isCancelAfterEnd()?i:{newValue:s.getValue(),newValueExists:!0}}saveNewValue(e,t,i,s,r){if(i===t)return!1;e.setSuppressRefreshCell(!0);const n=s.setDataValue(r,i,"edit");return e.setSuppressRefreshCell(!1),n}createCellEditorParams(e,t,i){const s=e.getColumn(),r=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(s,r),eventKey:t,column:s,colDef:s.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:r,data:r.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:n=>this.valueService.parseValue(s,r,n,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const s=e?H.UP:H.DOWN;this.navigationService.navigateToNextCell(null,s,t,!1)}}},iN=class extends Y{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,i=null,s=null){let r=!0;return e.getAllCellCtrls().reduce((o,a)=>{const l=a===i;return l?r=a.startEditing(t,l,s):a.startEditing(null,l,s),o?!0:a.isEditing()},!1)&&this.setEditing(e,!0),r}stopEditing(e,t=!1){const i=e.getAllCellCtrls(),s=e.isEditing();e.setStoppingRowEdit(!0);let r=!1;for(const n of i){const o=n.stopEditing(t);s&&!t&&!r&&o&&(r=!0)}r&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),s&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,s=>s.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(i)}},Ya={version:Ae,moduleName:"@ag-grid-community/edit-core",beans:[tN]},sN={version:Ae,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:XL,redoCellEditing:JL,getCellEditorInstances:UL,getEditingCells:qL,stopEditing:KL,startEditingCell:QL,getCurrentUndoSize:$L,getCurrentRedoSize:eN},dependantModules:[Ya]},rN={version:Ae,moduleName:"@ag-grid-community/undo-redo-edit",beans:[ZL],dependantModules:[Ya]},nN={version:Ae,moduleName:"@ag-grid-community/full-row-edit",beans:[iN],dependantModules:[Ya]},ZR={version:Ae,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:LR}],dependantModules:[Ya]},oN={version:Ae,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:LR},{name:"agNumberCellEditor",classImp:OL,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:TL},{name:"agDateStringCellEditor",classImp:NL},{name:"agCheckboxCellEditor",classImp:VL}],dependantModules:[ZR]},aN={version:Ae,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:DL}],dependantModules:[Ya]},lN={version:Ae,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:ML}],dependantModules:[Ya]},cN={version:Ae,moduleName:"@ag-grid-community/all-editors",dependantModules:[ZR,oN,aN,lN]},dN={version:Ae,moduleName:"@ag-grid-community/editing",dependantModules:[Ya,rN,nN,cN,sN]},uN=class extends Y{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const s=this.rowRenderer.getAllCellsForColumn(e);return t||s.push(i),this.addElementsToContainerAndGetWidth(s)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach(n=>this.cloneItemIntoDummy(n,t)),i.appendChild(t);const s=t.offsetWidth;i.removeChild(t);const r=this.getAutoSizePadding();return s+r}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const s=i.getHtmlElementForColumnHeader(e);s!=null&&(t=s)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const s=document.createElement("div"),r=s.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(r.add("ag-header","ag-header-row"),s.style.position="static"):r.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&r.add(c)}break}o=o.parentElement}s.appendChild(i),t.appendChild(s)}},hN=class extends Y{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=ti(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,i;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let r=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(r=(i=e.sibling.childStore)==null?void 0:i.getStoreBounds()),((r==null?void 0:r.heightPx)??0)+((r==null?void 0:r.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let s=e.footer?e.sibling:e;for(;s.isExpandable()&&s.expanded;)if(s.master)s=s.detailNode;else if(s.childrenAfterSort){if(s.childrenAfterSort.length===0)break;s=je(s.childrenAfterSort)}return s.rowTop+s.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);const s=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,r=new Set,n=c=>{if(r.add(c),t){const d=this.getLastPixelOfGroup(c),u=s+i+c.rowHeight;d<u?c.stickyRowTop=i+(d-u):c.stickyRowTop=i}else{const d=this.getFirstPixelOfGroup(c),u=s-(i+c.rowHeight);d>u?c.stickyRowTop=i-(d-u):c.stickyRowTop=i}i=0,r.forEach(d=>{const u=d.stickyRowTop+d.rowHeight;i<u&&(i=u)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=c=>{if(!c.displayed)return!1;if(c.footer){if(o===!0||o==="grand"&&c.level===-1||o==="group"&&c.level>-1)return!1;const d=c.sibling.rowIndex?c.sibling.rowIndex+1===c.rowIndex:!1;return e==="bottom"&&d?!1:!r.has(c)}return c.isExpandable()?a===!0||e==="bottom"?!1:!r.has(c)&&c.expanded:!1};for(let c=0;c<100;c++){let d=s+i;t||(d=s-i);const u=this.rowModel.getRowIndexAtPixel(d),f=this.rowModel.getRow(u);if(f==null)break;const m=this.getStickyAncestors(f).find(b=>(t?b.rowIndex<u:b.rowIndex>u)&&l(b));if(m){n(m);continue}if((t?f.rowTop<d:f.rowTop+f.rowHeight>d)&&l(f)){n(f);continue}break}return t||r.forEach(c=>{c.stickyRowTop=i-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(e,r,i)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",i=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&i?!0:i?"grand":t?"group":!1}canRowsBeSticky(){const e=Cf(this.gos),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){const t=[];let i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(i=>i.getRowNode()===e)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const s=this.stickyTopRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const s=this.stickyBottomRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,i){const s=e==="top",r=s?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,n={},o=[];for(let f=0;f<r.length;f++){const g=r[f].getRowNode();if(!t.has(g)){n[g.id]=r[f],g.sticky=!1;continue}o.push(r[f])}const a=new Set;for(let f=0;f<o.length;f++)a.add(o[f].getRowNode());const l=[];t.forEach(f=>{a.has(f)||(f.sticky=!0,l.push(this.createRowCon(f,!1,!1)))});let c=!!l.length||o.length!==r.length;s?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),c=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),c=!0),this.destroyRowCtrls(n,!1);const d=[...o,...l];d.sort((f,g)=>g.getRowNode().rowIndex-f.getRowNode().rowIndex),s||d.reverse(),d.forEach(f=>f.setRowTop(f.getRowNode().stickyRowTop));let u=0;return s?(t.forEach(f=>{f.rowIndex<this.pageBoundsService.getFirstRow()&&(u+=f.rowHeight)}),u>this.topContainerHeight&&(u=this.topContainerHeight),this.setOffsetTop(u)):(t.forEach(f=>{f.rowIndex>this.pageBoundsService.getLastRow()&&(u+=f.rowHeight)}),u>this.bottomContainerHeight&&(u=this.bottomContainerHeight),this.setOffsetBottom(u)),c?(s?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0):!1}ensureRowHeightsValid(){let e=!1;const t=i=>{const s=i.getRowNode();if(s.rowHeightEstimated){const r=ko(this.gos,s);s.setRowHeight(r.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},fN=class extends Y{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(n=>n.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(n=>n.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},s=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>s()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{$r(this.gos)?i():s()}),$r(this.gos)&&i()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),Cf(this.gos)&&(ti(this.gos)||bc(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new hN(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Oi(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new pN(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=Pa(this.rowCtrlsByRowIndex),t=Pa(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const i=l=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===t&&l(c)})},s=()=>{i(l=>l.onLeftChanged())},r=()=>{i(l=>l.onWidthChanged())},n=()=>{i(l=>l.onFirstRightPinnedChanged())},o=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.addEventListener("leftChanged",s),t.addEventListener("widthChanged",r),t.addEventListener("firstRightPinnedChanged",n),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",s),t.removeEventListener("widthChanged",r),t.removeEventListener("firstRightPinnedChanged",n),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Oi(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const s=i.getCellElement(e);s&&t.push(s)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:i,beans:s,printLayout:r}=this,n=Object.fromEntries(e.map(a=>[a.getRowNode().id,a]));i.forEachPinnedRow(t,(a,l)=>{const c=e[l];c&&i.getPinnedRowById(c.getRowNode().id,t)===void 0&&(c.destroyFirstPass(),c.destroySecondPass()),a.id in n?(e[l]=n[a.id],delete n[a.id]):e[l]=new la(a,s,!1,!1,r)});const o=t==="top"?i.getPinnedTopRowCount():i.getPinnedBottomRowCount();e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var i;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((i=this.cachedRowCtrls)!=null&&i.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const s=r=>{const n=r[e.rowIndex];n&&n.getRowNode()===e&&(n.destroyFirstPass(),n.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":s(this.topRowCtrls);break;case"bottom":s(this.bottomRowCtrls);break;default:s(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const i=Vt(this.gos),s=Zd(this.gos,i,aa.DOM_DATA_KEY_CELL_CTRL),r=Zd(this.gos,i,la.DOM_DATA_KEY_ROW_CTRL);return s||r?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,s=e.animate&&fl(this.gos),r=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const n=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();n&&this.updateContainerHeights(n)}this.recycleRows(r,s),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var s;const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(s=this.stickyRowFeature)==null||s.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(t=(e=this.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let s=0;s<i;s++){const r=t[s].getAllCellCtrls(),n=r.length;for(let o=0;o<n;o++)e.push(r[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const s in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[s]);return i}addRenderedRowListener(e,t,i){const s=this.rowCtrlsByRowIndex[t];s&&s.addEventListener(e,i)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&rm()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){var r;const t=this.getCellCtrls(e.rowNodes,e.columns).map(n=>n.getCellRenderer()).filter(n=>n!=null);if((r=e.columns)!=null&&r.length)return t;const i=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(n=>{if(s&&!this.isRowInMap(n.getRowNode(),s)||!n.isFullWidth())return;const o=n.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&i.push(l)}}),[...i,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{const s=i.getCellEditor();s&&t.push(s)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const s=i.id;switch(i.rowPinned){case"top":t.top[s]=i;break;case"bottom":t.bottom[s]=i;break;default:t.normal[s]=i;break}}),t}isRowInMap(e,t){const i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(s=>{const r=s.getRowNode();return this.isRowInMap(r,t)})}getCellCtrls(e,t){let i;te(t)&&(i={},t.forEach(r=>{const n=this.columnModel.getCol(r);te(n)&&(i[n.getId()]=!0)}));const s=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(n=>{const o=n.getColumn().getId();i&&!i[o]||s.push(n)})}),s}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];ar(this.rowCtrlsByRowIndex,(i,s)=>{s.getRowNode().id==null&&e.push(i)}),this.removeRowCtrls(e);const t={};return ar(this.rowCtrlsByRowIndex,(i,s)=>{const r=s.getRowNode();t[r.id]=s}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const s=this.rowCtrlsByRowIndex[i];s&&(s.destroyFirstPass(t),s.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let i;this.stickyRowFeature&&rm()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const s=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let n=!1;if(this.stickyRowFeature){n=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}const o=this.firstRenderedRow!==s||this.lastRenderedRow!==r;if(!(t&&!n&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!n),i!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();i!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(n=>i[n]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(n=>!i[n]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){const t=$B(this.firstRenderedRow,this.lastRenderedRow),i=(r,n)=>{const o=n.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(n)&&t.push(o)};ar(this.rowCtrlsByRowIndex,i),ar(e,i),t.sort((r,n)=>r-n);const s=[];for(let r=0;r<t.length;r++){const n=t[r],o=this.rowModel.getRow(n);o&&!o.sticky&&s.push(n)}return s}recycleRows(e,t=!1,i=!1){const s=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(s,!t),s.forEach(r=>{this.createOrUpdateRowCtrl(r,e,t,i)}),e&&(i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const s=i.getRowNode();return!(t!=null&&!this.isRowInMap(s,t))})}createOrUpdateRowCtrl(e,t,i,s){let r,n=this.rowCtrlsByRowIndex[e];if(n||(r=this.rowModel.getRow(e),te(r)&&te(t)&&t[r.id]&&r.alreadyRendered&&(n=t[r.id],t[r.id]=null)),!n)if(r||(r=this.rowModel.getRow(e)),te(r))n=this.createRowCon(r,i,s);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=n,n}destroyRowCtrls(e,t){const i=[];ar(e,(s,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);return}if(r.destroyFirstPass(!t),t){const n=r.instanceId;this.zombieRowCtrls[n]=r,i.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[n]})}else r.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),mP(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=bf(this.gos);return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),c=this.gos.get("suppressRowVirtualisation");let d=!1,u,f;do{const S=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:I,pageLastPixel:F}=this.pageBoundsService.getCurrentPagePixelRange(),D=this.rowContainerHeightService.getDivStretchOffset(),V=l.getScrollFeature().getVScrollPosition(),O=V.top,L=V.bottom;c?(u=I+D,f=F+D):(u=Math.max(O+S-a,I)+D,f=Math.min(L+S+a,F)+D),this.firstVisibleVPixel=Math.max(O+S,I)+D,this.lastVisibleVPixel=Math.min(L+S,F)+D,d=this.ensureAllRowsInRangeHaveHeightsCalculated(u,f)}while(d);let g=this.rowModel.getRowIndexAtPixel(u),m=this.rowModel.getRowIndexAtPixel(f);const y=this.pageBoundsService.getFirstRow(),b=this.pageBoundsService.getLastRow();g<y&&(g=y),m>b&&(m=b),e=g,t=m}const i=Oi(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);i&&!s&&t-e>r&&(t=e+r);const n=e!==this.firstRenderedRow,o=t!==this.lastRenderedRow;(n||o)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var n,o;const i=(n=this.pinnedRowModel)==null?void 0:n.ensureRowHeightsValid(),s=(o=this.stickyRowFeature)==null?void 0:o.ensureRowHeightsValid(),r=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(r||s)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),s||r||i?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const s=e.getRowNode(),r=this.focusService.isRowNodeFocused(s),n=e.isEditing(),o=s.detail;return r||n||o?!!this.isRowPresent(s):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,i){const s=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(s)return s;const r=this.gos.get("suppressAnimationFrame"),n=i&&!r&&!this.printLayout;return new la(e,this.beans,t,n,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const s=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!s}},pN=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],cs(this.entriesList,i)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],cs(this.entriesList,e)}getEntries(){return this.entriesList}},gN=class extends Y{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new Oy,this.pinnedBottomRows=new Oy}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=i=>{i.setRowHeight(i.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){var s,r;let e=!1,t=0;const i=n=>{if(n.rowHeightEstimated){const o=ko(this.gos,n);n.setRowTop(t),n.setRowHeight(o.height),t+=o.height,e=!0}};return(s=this.pinnedBottomRows)==null||s.forEach(i),t=0,(r=this.pinnedTopRows)==null||r.forEach(i),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const i=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){i.clear();return}const s=bu(this.gos),r=t==="top"?oa.ID_PREFIX_TOP_PINNED:oa.ID_PREFIX_BOTTOM_PINNED,n=i.getIds(),o=[],a=new Set;let l=0,c=-1;for(const d of e){const u=(s==null?void 0:s({data:d,level:0,rowPinned:t}))??r+this.nextId++;if(a.has(u)){j("Duplicate ID",u,"found for pinned row with data",d,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}c++,a.add(u),o.push(u);const f=i.getById(u);if(f!==void 0)f.data!==d&&f.setData(d),l+=this.setRowTopAndRowIndex(f,l,c),n.delete(u);else{const g=new oa(this.beans);g.id=u,g.data=d,g.rowPinned=t,l+=this.setRowTopAndRowIndex(g,l,c),i.push(g)}}n.forEach(d=>{var u;(u=i.getById(d))==null||u.clearRowTopAndRowIndex()}),i.removeAllById(n),i.setOrder(o)}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(ko(this.gos,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return t==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return e==="top"?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(t===0)return 0;const i=e.getByIndex(t-1);return i===void 0?0:i.rowTop+i.rowHeight}},Oy=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,i)=>{const s=this.cache[t];s&&e(s,i)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},mN=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){var e;return this.root&&((e=this.root)==null?void 0:e.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var e;return this.end&&((e=this.end)==null?void 0:e.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const i=t[0].id===this.root.id,s=t.findIndex(r=>r.id===e.id);if(s>-1){const r=t.slice(0,s),n=t.slice(s+1);return this.setEndRange(e),i?{keep:r,discard:n}:{keep:n,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){const i=this.getRoot();if(i==null){const r=this.getRange().slice();return t&&e.depthFirstSearch(n=>!n.group&&r.push(n)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,e).find(r=>{var n;return r.id===((n=this.end)==null?void 0:n.id)}))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}},vN=class extends Y{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,i,s){this.processClassRules(void 0,e.cellClassRules,t,i,s),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,s,r){if(t==null&&e==null)return;const n={},o={},a=(l,c)=>{l.split(" ").forEach(d=>{d.trim()!=""&&c(d)})};if(t){const l=Object.keys(t);for(let c=0;c<l.length;c++){const d=l[c],u=t[d];let f;typeof u=="string"?f=this.expressionService.evaluate(u,i):typeof u=="function"&&(f=u(i)),a(d,g=>{f?n[g]=!0:o[g]=!0})}}e&&r&&Object.keys(e).forEach(l=>a(l,c=>{n[c]||(o[c]=!0)})),r&&Object.keys(o).forEach(r),Object.keys(n).forEach(s)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let s;return typeof i=="function"?s=i(t):s=i,typeof s=="string"&&(s=[s]),s||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(r=>{i(r)})}},bN=class extends Y{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:s,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:n,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:u,handleKeyDown:f,eFocusableElement:g}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=a,this.eFocusableElement=g,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!n,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=f}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new Ha(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){var l;const t=ri(this.gos),i=this.focusService.findFocusableElements(t.body,null,!0),s=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(s===-1)return;let r,n;e?(r=0,n=s):(r=s+1,n=i.length);const o=i.slice(r,n),a=this.gos.get("tabIndex");o.sort((c,d)=>{const u=parseInt(c.getAttribute("tabindex")||"0"),f=parseInt(d.getAttribute("tabindex")||"0");return f===a?1:u===a?-1:u===0?1:f===0?-1:u-f}),(l=o[e?o.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},CN=class extends Y{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:i,eFocusableElement:s}=this,r=[t,i],n={setTabIndex:y=>{r.forEach(b=>y!=null?b.setAttribute("tabindex",y):b.removeAttribute("tabindex"))}};this.addTabGuards(t,i);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:f,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:m}=e;this.tabGuardCtrl=this.createManagedBean(new bN({comp:n,focusTrapActive:o,eTopGuard:t,eBottomGuard:i,eFocusableElement:s,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:f,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:m}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=ri(this.gos).createElement("div"),i=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",i),vs(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Yi(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){Ov(t)||(t=t.getGui());const{eBottomGuard:s}=this;s?s.insertAdjacentElement("beforebegin",t):e(t,i)}},YR=class extends Xe{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new CN(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},yN=0,wN=200,SN=class extends Y{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i}=e,s=this.getPopupIndex(i);if(s!==-1){const g=this.popupList[s];g.alignedToElement=t}const r=t.getBoundingClientRect(),n=this.getParentRect(),o=this.keepXYWithinBounds(i,r.top-n.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;const c=n.right-n.left-a;let d;this.gos.get("enableRtl")?(d=f(),d<0&&(d=u(),this.setAlignedStyles(i,"left")),d>c&&(d=0,this.setAlignedStyles(i,"right"))):(d=u(),d>c&&(d=f(),this.setAlignedStyles(i,"right")),d<0&&(d=0,this.setAlignedStyles(i,"left"))),i.style.left=`${d}px`,i.style.top=`${o}px`;function u(){return r.right-n.left-2}function f(){return r.left-n.left-a}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:s,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:r,eventSource:n,alignSide:o="left",position:a="over",column:l,rowNode:c,type:d}=e,u=n.getBoundingClientRect(),f=this.getParentRect(),g=this.getPopupIndex(t);if(g!==-1){const y=this.popupList[g];y.alignedToElement=n}const m=()=>{let y=u.left-f.left;o==="right"&&(y-=t.offsetWidth-u.width);let b;return a==="over"?(b=u.top-f.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,u,f,e.nudgeY||0)==="under"?b=u.top-f.top+u.height:b=u.top-t.offsetHeight-(s||0)*2-f.top),{x:y,y:b}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:r,updatePosition:m,postProcessCallback:()=>this.callPostProcessPopup(d,t,n,null,l,c)})}shouldRenderUnderOrAbove(e,t,i,s){const r=i.bottom-t.bottom,n=t.top-i.top,o=e.offsetHeight+s;return r>o?"under":n>o||n>r?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const s=this.popupList[i],{alignedToElement:r}=s;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,i,s,r,n){const o=this.gos.getCallback("postProcessPopup");o&&o({column:r,rowNode:n,ePopup:t,type:e,eventSource:i,mouseEvent:s})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:s,nudgeY:r,skipObserver:n,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:u}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,s&&(d+=s),r&&(u+=r),i&&(d=this.keepXYWithinBounds(t,d,1),u=this.keepXYWithinBounds(t,u,0)),t.style.left=`${d}px`,t.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!n){const c=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>c(),wN)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=ri(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),NS(t)}keepXYWithinBounds(e,t,i){const s=i===0,r=s?"clientHeight":"clientWidth",n=s?"top":"left",o=s?"height":"width",a=s?"scrollTop":"scrollLeft",l=ri(this.gos),c=l.documentElement,d=this.getPopupParent(),u=e.getBoundingClientRect(),f=d.getBoundingClientRect(),g=l.documentElement.getBoundingClientRect(),m=d===l.body,y=Math.ceil(u[o]);let S=m?(s?LS:Ph)(c)+c[a]:d[r];m&&(S-=Math.abs(g[n]-f[n]));const I=S-y;return Math.min(Math.max(t,0),Math.abs(I))}addPopup(e){const t=ri(this.gos),{eChild:i,ariaLabel:s,alwaysOnTop:r,positionCallback:n,anchorToElement:o}=e;if(!t)return j("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,s,!!r),c=this.addEventListenersToPopup({...e,wrapperEl:l});return n&&n(),this.addPopupToPopupList(i,l,c,o),{hideFunc:c}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();te(e.style.top)||(e.style.top=`${i.top*-1}px`),te(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i){const s=this.getPopupParent(),r=document.createElement("div");return this.environment.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||vs(e,"dialog"),Ul(e,t),r.appendChild(e),s.appendChild(r),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=ri(this.gos),i=this.getPopupParent(),{wrapperEl:s,eChild:r,closedCallback:n,afterGuiAttached:o,closeOnEsc:a,modal:l}=e;let c=!1;const d=m=>{if(!s.contains(Vt(this.gos)))return;m.key===H.ESCAPE&&!Sn(m)&&g({keyboardEvent:m})},u=m=>g({mouseEvent:m}),f=m=>g({touchEvent:m}),g=(m={})=>{const{mouseEvent:y,touchEvent:b,keyboardEvent:S,forceHide:I}=m;!I&&(this.isEventFromCurrentPopup({mouseEvent:y,touchEvent:b},r)||c)||(c=!0,i.removeChild(s),t.removeEventListener("keydown",d),t.removeEventListener("mousedown",u),t.removeEventListener("touchstart",f),t.removeEventListener("contextmenu",u),this.eventService.removeEventListener("dragStarted",u),n&&n(y||b||S),this.removePopupFromPopupList(r))};return o&&o({hidePopup:g}),window.setTimeout(()=>{a&&t.addEventListener("keydown",d),l&&(t.addEventListener("mousedown",u),this.eventService.addEventListener("dragStarted",u),t.addEventListener("touchstart",f),t.addEventListener("contextmenu",u))},0),g}addPopupToPopupList(e,t,i,s){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:yN++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(e,s)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const s=this.popupList[i];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(n=>n&&n()),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:s.hideFunc});return s.stopAnchoringPromise=r,s.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:s,ePopup:r}=e,n=s.getBoundingClientRect(),o=u=>parseInt(u.substring(0,u.length-1),10),a=(u,f)=>{const g=i[u]-n[u],m=o(r.style[u]);return{initialDiff:g,lastDiff:g,initial:m,last:m,direction:f}},l=a("top",0),c=a("left",1),d=this.getFrameworkOverrides();return new As(u=>{d.wrapIncoming(()=>{d.setInterval(()=>{const f=t.getBoundingClientRect(),g=s.getBoundingClientRect();if(g.top==0&&g.left==0&&g.height==0&&g.width==0){e.hidePopup();return}const y=(b,S)=>{const I=o(r.style[S]);b.last!==I&&(b.initial=I,b.last=I);const F=f[S]-g[S];if(F!=b.lastDiff){const D=this.keepXYWithinBounds(r,b.initial+b.initialDiff-F,b.direction);r.style[S]=`${D}px`,b.last=D}b.lastDiff=F};y(l,"top"),y(c,"left")},200).then(f=>{u(()=>{f!=null&&window.clearInterval(f)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:s}=e,r=i||s;if(!r)return!1;const n=this.getPopupIndex(t);if(n===-1)return!1;for(let o=n;o<this.popupList.length;o++){const a=this.popupList[o];if(OP(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=ri(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),s=i.length,r=this.getWrapper(e);if(!r||s<=1||!t.contains(e))return;const n=[],o=[];for(const f of i)f!==r&&(f.classList.contains("ag-always-on-top")?o.push(f):n.push(f));const a=[],l=o.length,u=r.classList.contains("ag-always-on-top")||!l?[...n,...o,r]:[...n,r,...o];for(let f=0;f<=s;f++){const g=u[f];if(i[f]===u[f]||g===r)continue;g.querySelectorAll("div").forEach(y=>{y.scrollTop!==0&&a.push([y,y.scrollTop])}),f===0?t.insertAdjacentElement("afterbegin",g):u[f-1].insertAdjacentElement("afterend",g)}for(;a.length;){const f=a.pop();f[0].scrollTop=f[1]}}},RN=["touchstart","touchend","touchmove","touchcancel"],AN=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new As(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,s){const r=na(RN,t);e.addEventListener(t,i,{capture:!!s,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},IN=class extends Y{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===H.UP,s=e===H.DOWN,r=e===H.LEFT;let n,o;if(i||s)o=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),n=t.column;else{const a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");o=t.rowIndex,n=r!==l?a[0]:je(a)}return{rowIndex:o,rowPinned:null,column:n}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,s=!1;for(;!s;){switch(e){case H.UP:i=this.getCellAbove(i);break;case H.DOWN:i=this.getCellBelow(i);break;case H.RIGHT:this.gos.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case H.LEFT:this.gos.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,j("unknown key for navigation ",e);break}i?s=this.isCellGoodToFocusOn(i):s=!0}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}return i?!t.isSuppressNavigable(i):!1}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;let s=!1;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(s=!0);const r=this.rowModel.getRow(e.rowIndex),n=s?void 0:this.getNextStickyPosition(r);return n||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!Cf(this.gos)||!e||!e.sticky)return;const i=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex);let s=[];i?s=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):s=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const r=t?-1:1,n=s.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=s[n+r];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=i:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=i:this.pageBoundsService.getLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned,s=i?t===0:t===this.pageBoundsService.getFirstRow();let r=!1;if(s)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;i&&(r=!0);const n=this.rowModel.getRow(e.rowIndex),o=r?void 0:this.getNextStickyPosition(n,!0);return o||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){var n;const t=this.visibleColsService.getAllCols();let i=e.rowIndex,s=e.rowPinned,r=this.visibleColsService.getColAfter(e.column);if(!r){r=t[0];const o=this.getRowBelow(e);if(Ne(o)||!o.rowPinned&&!(((n=this.paginationService)==null?void 0:n.isRowInPage(o))??!0))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}getNextTabbedCellBackwards(e){var n;const t=this.visibleColsService.getAllCols();let i=e.rowIndex,s=e.rowPinned,r=this.visibleColsService.getColBefore(e.column);if(!r){r=je(t);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Ne(o)||!o.rowPinned&&!(((n=this.paginationService)==null?void 0:n.isRowInPage(o))??!0))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}},Ui=(e,t)=>{for(const i in t)t[i]=e;return t},By={...Ui("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Ui("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Ui("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...Ui("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Ui("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Ui("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Ui("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Ui("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Ui("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Ui("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...Ui("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Ui("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Ui("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Ui("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Ui("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},Pp={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},FN=(e,t)=>e.eventService.dispatchEvent(t),zR=class{};Reflect.defineProperty(zR,"name",{value:"GridApi"});var xN=class extends Y{constructor(){super(),this.beanName="apiFunctionService",this.api=new zR,this.fns={...Pp,dispatchEvent:FN},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in By)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var r;const{fns:i,beans:s}=this;i!==Pp&&(i[e]=((r=s==null?void 0:s.validationService)==null?void 0:r.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:i,fns:{[e]:s}}=this;return s?s(i,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:i,preDestroyLink:s}=this;if(!t)j(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${s}`);else{const r=By[e];i.assertModuleRegistered(r,`api.${e}`)&&j(`API function '${e}' not registered to module '${r}'`)}}destroy(){super.destroy(),this.fns=Pp,this.beans=null}};function _N(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var EN=class extends Y{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,i){const s=[],r={};return e.forEach(n=>{const o=this.createDefFromColumn(n,t,i);let a=!0,l=o,c=n.getOriginalParent(),d=null;for(;c;){let u=null;if(c.isPadding()){c=c.getOriginalParent();continue}const f=r[c.getGroupId()];if(f){f.children.push(l),a=!1;break}if(u=this.createDefFromGroup(c),u&&(u.children=[l],r[u.groupId]=u,l=u,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&s.push(l)}),s}createDefFromGroup(e){const t=em(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const s=em(e.getColDef());return s.colId=e.getColId(),s.width=e.getActualWidth(),s.rowGroup=e.isRowGroupActive(),s.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,s.pivot=e.isPivotActive(),s.pivotIndex=e.isPivotActive()?i.indexOf(e):null,s.aggFunc=e.isValueActive()?e.getAggFunc():null,s.hide=e.isVisible()?void 0:!0,s.pinned=e.isPinned()?e.getPinned():null,s.sort=e.getSort()?e.getSort():null,s.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,s}},MN=class extends Y{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t})}genericColumnEvent(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t.length===1?t[0]:null,source:i})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:i,toIndex:s,finished:r}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:s,finished:r,source:i})}columnPinned(e,t){if(!e.length)return;const i=e.length===1?e[0]:null,s=this.getCommonValue(e,r=>r.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:s??null,columns:e,column:i,source:t})}columnVisible(e,t){if(!e.length)return;const i=e.length===1?e[0]:null,s=this.getCommonValue(e,r=>r.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:s,columns:e,column:i,source:t})}getCommonValue(e,t){if(!e||e.length==0)return;const i=t(e[0]);for(let s=1;s<e.length;s++)if(i!==t(e[s]))return;return i}columnChanged(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t&&t.length==1?t[0]:null,source:i})}columnResized(e,t,i,s=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:s,finished:t,source:i})}},kN=class extends Y{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(Ne(e)||!this.columnModel.isAlive())return[];const i=this.columnModel.getAllCols().map(s=>this.createStateItemFromColumn(s));return this.orderColumnStateList(i),i}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),s=e.isRowGroupActive()?t.indexOf(e):null,r=e.isPivotActive()?i.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null,o=e.getSort()!=null?e.getSort():null,a=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:a,aggFunc:n,rowGroup:e.isRowGroupActive(),rowGroupIndex:s,pivot:e.isPivotActive(),pivotIndex:r,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),i=new Map(t.map((s,r)=>[s.getColId(),r]));e.sort((s,r)=>{const n=i.has(s.colId)?i.get(s.colId):-1,o=i.has(r.colId)?i.get(r.colId):-1;return n-o})}},DN=class extends Y{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],t=this.columnModel.getColTree();return Pn(null,t,i=>{$i(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const i=[];Pn(null,t,s=>{if($i(s)){const r=s.getColGroupDef(),n={groupId:s.getGroupId(),open:r?r.openByDefault:void 0};i.push(n)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const s=[];e.forEach(r=>{const n=r.groupId,o=r.open,a=this.columnModel.getProvidedColGroup(n);a&&a.isExpanded()!==o&&(a.setExpanded(o),s.push(a))}),this.visibleColsService.refresh(t,!0),s.length&&this.eventDispatcher.groupOpened(s),this.columnAnimationService.finish()}},GN=class extends Y{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){const s=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!s)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const n=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=n-this.scrollPosition-this.scrollWidth,this.viewportRight=n-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),s=this.viewportLeft-200,r=this.viewportRight+200,n=t<s&&i<s,o=t>r&&i>r;return!n&&!o}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=r=>{const n=r.getLeft();return te(n)&&n>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),s=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,s,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(i).forEach(n=>e[n.getId()]=!0);const r=(n,o,a)=>{let l=!1;for(let c=0;c<n.length;c++){const d=n[c];let u=!1;if(Do(d))u=e[d.getId()]===!0;else{const g=d.getDisplayedChildren();g&&(u=r(g,o,a+1))}u&&(l=!0,o[a]||(o[a]=[]),o[a].push(d))}return l};r(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),r(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),r(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=s=>`${s.getId()}-${s.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}},PN=class extends Y{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(s){const r=e(s),n=typeof r;if(n==="string"||n==="number"||n==="boolean"){this.eGui=Jd("<span>"+r+"</span>");return}if(r==null){this.eGui=Jd("<span></span>");return}this.eGui=r}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},ON=class extends Y{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},BN=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],Wy=Object.fromEntries(BN.map((e,t)=>[e,t]));function WN(e,t){const i=(e.beanName?Wy[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,s=(t.beanName?Wy[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-s}function TN(e,t){return(e==null?void 0:e.beanName)==="gridDestroyService"?-1:0}var LN=class extends Y{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const i=this.registry[e];if(i!=null)return new i(...t)}},NN=class extends Y{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){var t,i;this.runReadyCallbacksAsync=((i=(t=e.frameworkOverrides).runWhenReadyAsync)==null?void 0:i.call(t))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>(e==null?void 0:e.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},VN=class extends Y{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:i,column:s}=e;return this.createIdFromValues({rowIndex:t,column:s,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:s}=e;return`${t}.${i??"null"}.${s.getId()}`}equals(e,t){const i=e.column===t.column,s=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return i&&s&&r}},HN=class extends Y{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){ti(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(s=>this.eventService.dispatchEvent(s)),this.events=[]};t?i():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},ZN=class extends Y{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),s=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):s&&(t="top",e=s-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(te(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},Ty={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},Ly={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Ny={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},YN=class extends Y{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(Ty),this.getSizeEl(Ly),this.getSizeEl(Ny)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(Ty)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(Ly)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Ny)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var e;return((e=this.gridTheme)==null?void 0:e.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&!t.includes(i)&&e.classList.remove(i);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const i=t.offsetWidth;return i===Vy?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(i),this.eGridDiv.appendChild(i)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${Vy}px)`,i.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&j(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const r=this.resizeObserverService.observeResize(t,()=>{const n=this.measureSizeEl(e);n==="detached"||n==="no-styles"||(this.lastKnownValues.set(e,n),n!==s&&(s=n,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>r()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const i=this.readAncestorThemeClasses();zN(i,this.ancestorThemeClasses)||(this.ancestorThemeClasses=i,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const i=Array.from(e.classList).filter(s=>s.startsWith("ag-theme-"));for(const s of i)t.includes(s)||t.unshift(s);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:i}=this,s=e.get("theme")||null;s!==i&&(i==null||i.stopUse(),this.gridTheme=s,s==null||s.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var e;(e=this.gridTheme)==null||e.stopUse(),this.gridTheme=null}},zN=(e,t)=>e.length===t.length&&e.findIndex((i,s)=>e[s]!==t[s])===-1,Vy=15538,jN=class extends Y{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new vc}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=_h(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},$v=class Gs extends Y{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",Gs.toggleKeyboardMode),t.addEventListener("mousedown",Gs.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",Gs.toggleKeyboardMode),t.removeEventListener("mousedown",Gs.toggleKeyboardMode))}static toggleKeyboardMode(t){const i=Gs.keyboardModeActive,s=t.type==="keydown";s&&(t.ctrlKey||t.metaKey||t.altKey)||i!==s&&(Gs.keyboardModeActive=s)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,i=>{this.gridCtrl=i.gridCtrl})}registerKeyboardFocusEvents(){const t=ri(this.gos);Gs.addKeyboardModeEvents(t),Gs.instanceCount++,this.addDestroyFunc(()=>{Gs.instanceCount--,Gs.removeKeyboardModeEvents(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,i=this.columnModel.getCol(t.getId());t!==i&&this.clearFocusedCell()}isKeyboardMode(){return Gs.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Vt(this.gos),la.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Vt(this.gos),Af.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,i){let s=t;for(;s;){if(Zd(this.gos,s,i))return!1;s=s.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,i){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),i())})}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:i,rowPinned:s,column:r}=t,n={rowIndex:i,rowPinned:s,column:r,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:s});return o&&(n.isFullWidthCell=o.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:i,rowIndex:s,rowPinned:r,forceBrowserFocus:n=!1,preventScrollOnBrowserFocus:o=!1}=t,a=this.columnModel.getCol(i);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:s,rowPinned:wn(r),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:n,preventScrollOnBrowserFocus:o})}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const i=t.getColumnGroupChild(),s=t.getRowIndex(),r=t.getPinned(),{column:n,headerRowIndex:o}=this.focusedHeaderPosition;return i===n&&s===o&&r==n.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,i){this.focusedHeaderPosition={headerRowIndex:t,column:i}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){var c;if(this.isHeaderFocusSuppressed())return!1;const{direction:i,fromTab:s,allowUserOverride:r,event:n,fromCell:o,rowWithoutSpanValue:a}=t;let{headerPosition:l}=t;if(o&&((c=this.filterManager)!=null&&c.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter(l);if(r){const d=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount();if(s){const f=this.gos.getCallback("tabToNextHeader");f&&(l=this.getHeaderPositionFromUserFunc({userFunc:f,direction:i,currentPosition:d,headerPosition:l,headerRowCount:u}))}else{const f=this.gos.getCallback("navigateToNextHeader");if(f&&n){const g={key:n.key,previousHeaderPosition:d,nextHeaderPosition:l,headerRowCount:u,event:n};l=f(g)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:n,fromCell:o,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:i,headerPosition:s,direction:r,event:n}=t,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),l=this.getHeaderPositionFromUserFunc({userFunc:i,direction:r,currentPosition:o,headerPosition:s,headerRowCount:a});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:r,event:n})}getHeaderPositionFromUserFunc(t){const{userFunc:i,direction:s,currentPosition:r,headerPosition:n,headerRowCount:o}=t,l=i({backwards:s==="Before",previousHeaderPosition:r,nextHeaderPosition:n,headerRowCount:o});return l===!0||l===null?(l===null&&j("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),r):l===!1?null:l}focusProvidedHeaderPosition(t){var u;const{headerPosition:i,direction:s,fromCell:r,rowWithoutSpanValue:n,event:o}=t,{column:a,headerRowIndex:l}=i;if(l===-1)return(u=this.filterManager)!=null&&u.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(i):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,s);const c=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned()),d=(c==null?void 0:c.focusHeader(i.headerRowIndex,a,o))||!1;return d&&(n!=null||r)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(n??-1),d}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const i=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const i=this.headerNavigationService.getHeaderRowCount()-1,s=je(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:s},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){var i;return(i=this.filterManager)!=null&&i.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===wn(i)}findFocusableElements(t,i,s=!1){const r=xO;let n=TS;i&&(n+=", "+i),s&&(n+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(t.querySelectorAll(r)).filter(c=>mr(c)),a=Array.prototype.slice.apply(t.querySelectorAll(n));return a.length?((c,d)=>c.filter(u=>d.indexOf(u)===-1))(o,a):o}focusInto(t,i=!1,s=!1){const r=this.findFocusableElements(t,null,s),n=i?je(r):r[0];return n?(n.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,i){if(!i)return null;const s=this.findFocusableElements(t),r=s.indexOf(i);if(r===-1)return null;let n=-1;for(let o=r-1;o>=0;o--)if(s[o].classList.contains("ag-tab-guard-top")){n=o;break}return n<=0?null:s[n-1]}findNextFocusableElement(t=this.eGridDiv,i,s){const r=this.findFocusableElements(t,i?':not([tabindex="-1"])':null),n=Vt(this.gos);let o;i?o=r.findIndex(l=>l.contains(n)):o=r.indexOf(n);const a=o+(s?-1:1);return a<0||a>=r.length?null:r[a]}isTargetUnderManagedComponent(t,i){if(!i)return!1;const s=t.querySelectorAll(`.${Ha.FOCUS_MANAGED_CLASS}`);if(!s.length)return!1;for(let r=0;r<s.length;r++)if(s[r].contains(i))return!0;return!1}findTabbableParent(t,i=5){let s=0;for(;t&&nm(t)===null&&++s<=i;)t=t.parentElement;return nm(t)===null?null:t}focusOverlay(t){var s;const i=this.overlayService.isVisible()&&((s=this.overlayService.getOverlayWrapper())==null?void 0:s.getGui());return!!i&&this.focusInto(i,t)}focusGridViewFailed(t,i){return i&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,i=!1,s=!0){var n,o;if(this.overlayService.isExclusive())return s&&this.focusOverlay(i);if(this.isCellFocusSuppressed())return i&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():s&&this.focusOverlay(i)?!0:this.focusNextGridCoreContainer(!1);const r=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(r){const{rowIndex:a,rowPinned:l}=r;if(t??(t=(n=this.getFocusedHeader())==null?void 0:n.column),t&&a!==void 0&&a!==null){if(this.navigationService.ensureCellVisible({rowIndex:a,column:t,rowPinned:l}),i){const c=this.rowRenderer.getRowByPosition(r);if(c!=null&&c.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(r,i))return!0}return this.setFocusedCell({rowIndex:a,column:t,rowPinned:wn(l),forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:a,rowPinned:l,column:t}),!0}}return!!(s&&this.focusOverlay(i)||i&&this.focusLastHeader())}isGridFocused(){const t=Vt(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,i=!1){return!i&&this.gridCtrl.focusNextInnerContainer(t)?!0:((i||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){var i;return this.advancedFilterFocusColumn=t==null?void 0:t.column,((i=this.advancedFilterService)==null?void 0:i.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(t,i){var r;const s=(i?void 0:this.advancedFilterFocusColumn)??((r=this.visibleColsService.getAllCols())==null?void 0:r[0]);return t?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};$v.keyboardModeActive=!1;$v.instanceCount=0;var XN=$v,JN=class extends Y{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=Oi(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),i=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},UN=class extends Y{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:s,mouseEventService:r,ctrlsService:n,resizeObserverService:o}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:c=>c===1||c===0,getIconName:()=>"notAllowed"};s.addDropTarget(a),this.addDestroyFunc(()=>s.removeDropTarget(a)),r.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Qv(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=o.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>l()),n.register("gridCtrl",this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,i,s,r,n;const e=this.beans;return{paginationSelector:(t=e.paginationService)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:(i=e.columnDropZonesService)==null?void 0:i.getDropZoneSelector(),sideBarSelector:(s=e.sideBarService)==null?void 0:s.getSideBarSelector(),statusBarSelector:(r=e.statusBarService)==null?void 0:r.getStatusPanelSelector(),watermarkSelector:(n=e.licenseManager)==null?void 0:n.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:s}=this.getNextFocusableIndex(t,e);if(s<0||s>=t.length)return!1;if(s===0){if(i>0){const r=this.visibleColsService.getAllCols(),n=je(r);if(this.focusService.focusGridView(n,!0))return!0}return!1}return this.focusContainer(t[s],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const i=this.getFocusableContainers(),s=this.visibleColsService.getAllCols();if(e){if(i.length>1)return this.focusContainer(je(i),!0);const r=je(s);if(this.focusService.focusGridView(r,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(s[0]))return!0;for(let r=1;r<i.length;r++)if(this.focusService.focusInto(i[r].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var n;const t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:s}=this.getNextFocusableIndex(t,e);if(s===-1||i<0||i>=t.length)return;const r=t[i];(n=r.setAllowFocus)==null||n.call(r,!0),setTimeout(()=>{var o;(o=r.setAllowFocus)==null||o.call(r,!1)})}getNextFocusableIndex(e,t){const i=Vt(this.gos),s=e.findIndex(n=>n.getGui().contains(i)),r=s+(t?-1:1);return{indexWithFocus:s,nextIndex:r}}focusContainer(e,t){var s,r;(s=e.setAllowFocus)==null||s.call(e,!0);const i=this.focusService.focusInto(e.getGui(),t);return(r=e.setAllowFocus)==null||r.call(e,!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},qN=class extends YR{constructor(e){super(),this.gridBody=le,this.sideBar=le,this.pagination=le,this.rootWrapperBody=le,this.eGridDiv=e}postConstruct(){const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:n=>this.addCssClass(n),setGridThemeClass:n=>this.addCssClass(n),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:n=>{this.getGui().style.userSelect=n??"",this.getGui().style.webkitUserSelect=n??""},setCursor:n=>{this.getGui().style.cursor=n??""}},t=this.createManagedBean(new UN),i=t.getOptionalSelectors(),s=this.createTemplate(i),r=[bL,...Object.values(i).filter(n=>!!n)];this.setTemplate(s,r),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:n=>t.focusInnerElement(n),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.gos.get("debug")&&Cn("Grid removed from DOM")})}updateLayoutClasses(e,t){const i=this.rootWrapperBody.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(e){const t=e.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=e.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",s=e.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",r=e.watermarkSelector?"<ag-watermark></ag-watermark>":"",n=e.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";return`<div class="ag-root-wrapper" role="presentation">
                ${t}
                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">
                    <ag-grid-body data-ref="gridBody"></ag-grid-body>
                    ${i}
                </div>
                ${s}
                ${n}
                ${r}
            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){var t;if(!e&&((t=this.pagination)!=null&&t.isDisplayed())){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){const e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>mr(t.getGui()))}},KN=class extends Y{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";typeof e=="function"&&(e=e());const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(r=>{var o;if(!r){$e("alignedGrids contains an undefined option."),t||$e(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),$e(i());return}if(this.isGridApi(r))return r;const n=r;return"current"in n?(o=n.current)==null?void 0:o.api:(n.api||$e(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),n.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const i=[];return e.columns?e.columns.forEach(s=>{i.push(t(s))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":j("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(i=>{let s=null;i&&(s=t.getProvidedColGroup(i.getGroupId())),!(i&&!s)&&t.setColumnGroupOpened(s,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var c;const t=e.column;let i=null;if(t&&(i=this.columnModel.getColDefCol(t.getColId())),t&&!i)return;const s=this.getMasterColumns(e),{columnApplyStateService:r,columnSizeService:n,ctrlsService:o}=this;switch(e.type){case"columnMoved":{const u=e.api.getColumnState().map(f=>({colId:f.colId}));r.applyColumnState({state:u,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const u=e.api.getColumnState().map(f=>({colId:f.colId,hide:f.hide}));r.applyColumnState({state:u},"alignedGridChanged")}break;case"columnPinned":{const u=e.api.getColumnState().map(f=>({colId:f.colId,pinned:f.pinned}));r.applyColumnState({state:u},"alignedGridChanged")}break;case"columnResized":{const d=e,u={};s.forEach(f=>{u[f.getId()]={key:f.getColId(),newWidth:f.getActualWidth()}}),(c=d.flexColumns)==null||c.forEach(f=>{u[f.getId()]&&delete u[f.getId()]}),n.setColumnWidths(Object.values(u),!1,d.finished,"alignedGridChanged");break}}const l=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(d=>{d.setGridOption("alwaysShowVerticalScroll",l)})}},QN={version:Ae,moduleName:"@ag-grid-community/aligned-grid",beans:[KN]};function $N(e,t){const i=e.columnModel.getColDefCol(t);return i?i.getColDef():null}function eV(e){return e.columnModel.getColumnDefs()}function tV(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function iV(e,t,i){e.columnModel.setColumnGroupOpened(t,i,"api")}function sV(e,t,i){return e.visibleColsService.getColumnGroup(t,i)}function rV(e,t){return e.columnModel.getProvidedColGroup(t)}function nV(e,t,i){return e.columnNameService.getDisplayNameForColumn(t,i)||""}function oV(e,t,i){return e.columnNameService.getDisplayNameForColumnGroup(t,i)||""}function aV(e,t){return e.columnModel.getColDefCol(t)}function lV(e){return e.columnModel.getColDefCols()}function cV(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function dV(e){return e.columnGetStateService.getColumnState()}function uV(e){e.columnApplyStateService.resetColumnState("api")}function hV(e){return e.columnGroupStateService.getColumnGroupState()}function fV(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function pV(e){e.columnGroupStateService.resetColumnGroupState("api")}function gV(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function mV(e){return e.visibleColsService.isPinningLeft()}function vV(e){return e.visibleColsService.isPinningRight()}function bV(e,t){return e.visibleColsService.getColAfter(t)}function CV(e,t){return e.visibleColsService.getColBefore(t)}function yV(e,t,i){e.columnModel.setColsVisible([t],i,"api")}function wV(e,t,i){e.columnModel.setColsVisible(t,i,"api")}function SV(e,t,i){e.columnModel.setColsPinned([t],i,"api")}function RV(e,t,i){e.columnModel.setColsPinned(t,i,"api")}function AV(e){return e.columnModel.getCols()}function IV(e){return e.visibleColsService.getLeftCols()}function FV(e){return e.visibleColsService.getCenterCols()}function xV(e){return e.visibleColsService.getRightCols()}function _V(e){return e.visibleColsService.getAllCols()}function EV(e){return e.columnViewportService.getViewportColumns()}function MV(e,t,i){e.columnMoveService.moveColumns([t],i,"api")}function kV(e,t,i){e.columnMoveService.moveColumnByIndex(t,i,"api")}function DV(e,t,i){e.columnMoveService.moveColumns(t,i,"api")}function GV(e,t,i,s=!0,r="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:i}],!1,s,r)}function PV(e,t,i=!0,s="api"){e.columnSizeService.setColumnWidths(t,!1,i,s)}function OV(e){return e.visibleColsService.getTreeLeft()}function BV(e){return e.visibleColsService.getTreeCenter()}function WV(e){return e.visibleColsService.getTreeRight()}function TV(e){return e.visibleColsService.getAllTrees()}function LV(e,t,i){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:i,source:"api"})}function NV(e,t,i){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})}function VV(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var HV=class extends Y{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(qo(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=s=>r=>{const{column:n,node:o,value:a}=r;let l=n.getColDef().valueFormatter;return l===s.groupSafeValueFormatter&&(l=s.valueFormatter),this.valueService.formatValue(n,o,a,l)};Object.entries(e).forEach(([s,r])=>{const n={...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)};this.dataTypeDefinitions[s]=n,this.formatValueFuncs[s]=t(n)});const i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach(([s,r])=>{const n=this.processDataTypeDefinition(r,i,[s],e);n&&(this.dataTypeDefinitions[s]=n,r.dataTypeMatcher&&(this.dataTypeMatchers[s]=r.dataTypeMatcher),this.formatValueFuncs[s]=t(n))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(s=>{const r=this.dataTypeMatchers[s];r&&delete this.dataTypeMatchers[s],this.dataTypeMatchers[s]=r??e[s].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...Uu(e.columnTypes),...Uu(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,s){let r;const n=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=s[n];const a=t[n];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,n))return;r=this.mergeDataTypeDefinitions(o,e)}else{if(i.includes(n)){j('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=t[n];if(!this.validateDataTypeDefinition(e,o,n))return;const a=this.processDataTypeDefinition(o,t,[...i,n],s);if(!a)return;r=this.mergeDataTypeDefinitions(a,e)}return{...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)}}validateDataTypeDefinition(e,t,i){return t?t.baseDataType!==e.baseDataType?(j('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(j(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var i,s;if((i=t.node)!=null&&i.group){const r=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&r!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&typeof t.value=="string"&&!((s=e.dataTypeMatcher)!=null&&s.call(e,t.value)))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:s}=t;const{field:r}=t;if(s===void 0&&(s=e.cellDataType),(s==null||s===!0)&&(s=this.canInferCellDataType(e,t)?this.inferCellDataType(r,i):!1),!s){e.cellDataType=!1;return}const n=this.dataTypeDefinitions[s];if(!n){j(`Missing data type definition - "${s}"`);return}return e.cellDataType=s,n.groupSafeValueFormatter&&(e.valueFormatter=n.groupSafeValueFormatter),n.valueParser&&(e.valueParser=n.valueParser),n.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,n,i),n.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=s=>{t.add(s.key)};e.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){if(!ti(this.gos))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;const s=t.type===null?e.type:t.type;if(s){const r=this.gos.get("columnTypes")??{};if(Uu(s).some(o=>{const a=r[o.trim()];return a&&this.doColDefPropsPreventInference(a,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,s])=>this.doesColDefPropPreventInference(e,t,i,s))}doesColDefPropPreventInference(e,t,i,s){if(!t[i])return!1;const r=e[i];return r===null?(t[i]=!1,!1):s===void 0?!!r:r===s}inferCellDataType(e,t){if(!e)return;let i;const s=this.getInitialData();if(s){const n=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=Kc(s,e,n)}else this.initWaitForRowData(t);if(i==null)return;const[r]=Object.entries(this.dataTypeMatchers).find(([n,o])=>o(i))??["object"];return r}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:r}=s;r&&(i==null||i(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const s={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([n,o])=>{const a=this.columnModel.getCol(n);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const d=this.getUpdatedColumnState(a,o);d.rowGroup&&d.rowGroupIndex==null&&(s[n]=d),d.pivot&&d.pivotIndex==null&&(r[n]=d),i.push(d)}}),t&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(s,r)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(s=>{delete i[s],s==="rowGroup"?delete i.rowGroupIndex:s==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var s;if(t==null)return!0;const i=(s=this.getDataTypeDefinition(e))==null?void 0:s.dataTypeMatcher;return i?i(t):!0}validateColDef(e){const t=i=>j(`Cell data type is "object" but no Value ${i} has been provided. Please either provide an object data type definition with a Value ${i}, or set "colDef.value${i}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,i,s){var n;const r=this.formatValueFuncs[t];switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===H.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=r;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=r;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const l=this.columnModel.getColDefCol(s),c=l==null?void 0:l.getColDef();if(!l||!c)return 0;const d=o==null?"":r({column:l,node:null,value:o}),u=a==null?"":r({column:l,node:null,value:a});return d===u?0:d>u?1:-1},e.keyCreator=r;break}}(n=this.filterManager)==null||n.setColDefPropertiesForDataType(e,i,r)}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>{var s,r;return((r=(s=i.newValue)==null?void 0:s.trim)==null?void 0:r.call(s))===""?null:Number(i.newValue)},valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:Jg(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>{var s,r;return i.newValue==null?i.newValue:((r=(s=i.newValue)==null?void 0:s.trim)==null?void 0:r.call(s))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>ds(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):Ys(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>ds(i)??void 0,dateFormatter:i=>Ys(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>Jg(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},ZV={version:Ae,moduleName:"@ag-grid-community/data-type",beans:[HV]},YV={version:Ae,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:$N,getColumnDefs:eV,sizeColumnsToFit:tV,setColumnGroupOpened:iV,getColumnGroup:sV,getProvidedColumnGroup:rV,getDisplayNameForColumn:nV,getDisplayNameForColumnGroup:oV,getColumn:aV,getColumns:lV,applyColumnState:cV,getColumnState:dV,resetColumnState:uV,getColumnGroupState:hV,setColumnGroupState:fV,resetColumnGroupState:pV,isPinning:gV,isPinningLeft:mV,isPinningRight:vV,getDisplayedColAfter:bV,getDisplayedColBefore:CV,setColumnVisible:yV,setColumnsVisible:wV,setColumnPinned:SV,setColumnsPinned:RV,getAllGridColumns:AV,getDisplayedLeftColumns:IV,getDisplayedCenterColumns:FV,getDisplayedRightColumns:xV,getAllDisplayedColumns:_V,getAllDisplayedVirtualColumns:EV,moveColumn:MV,moveColumnByIndex:kV,moveColumns:DV,setColumnWidth:GV,setColumnWidths:PV,getLeftDisplayedColumnGroups:OV,getCenterDisplayedColumnGroups:BV,getRightDisplayedColumnGroups:WV,getAllDisplayedColumnGroups:TV,autoSizeColumn:LV,autoSizeColumns:NV,autoSizeAllColumns:VV}};function zV(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function jV(e,t){const i=e.dragAndDropService.findExternalZone(t);i&&e.dragAndDropService.removeDropTarget(i)}function XV(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var JV={version:Ae,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:zV,removeRowDropZone:jV,getRowDropZoneParams:XV}};function UV(e){return e.pinnedRowModel.getPinnedTopRowCount()}function qV(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function KV(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function QV(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var $V={version:Ae,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:UV,getPinnedBottomRowCount:qV,getPinnedTopRow:KV,getPinnedBottomRow:QV}};function eH(e){e.overlayService.showLoadingOverlay()}function tH(e){e.overlayService.showNoRowsOverlay()}function iH(e){e.overlayService.hideOverlay()}var sH={version:Ae,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:eH,showNoRowsOverlay:tH,hideOverlay:iH}};function rH(e,t,i){if(!t)return;const s=e.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${t}`;i===null?s.removeAttribute(r):s.setAttribute(r,i)}function nH(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function oH(e,t={}){const i=s=>j(`Since v31.1 api.flashCells parameter '${s}Delay' is deprecated. Please use '${s}Duration' instead.`);te(t.fadeDelay)&&i("fade"),te(t.flashDelay)&&i("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function aH(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function lH(e){return e.animationFrameService.isQueueEmpty()}function cH(e){e.animationFrameService.flushAllFrames()}function dH(e){return{rowHeight:bf(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function uH(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map($c)}var hH={version:Ae,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:rH,refreshCells:nH,flashCells:oH,refreshHeader:aH,isAnimationFrameQueueEmpty:lH,flushAllAnimationFrames:cH,getSizesForCurrentTheme:dH,getCellRendererInstances:uH}};function fH(e){e.valueCache.expire()}function pH(e,t,i){return jR(e,{colKey:t,rowNode:i})}function jR(e,t){const{colKey:i,rowNode:s,useFormatter:r}=t,n=e.columnModel.getColDefCol(i)??e.columnModel.getCol(i);if(Ne(n))return null;const o=e.valueService.getValueForDisplay(n,s);return r?e.valueService.formatValue(n,s,o)??Vr(o,!0):o}function gH(e){return e.context.getGridId()}function mH(e){e.gridDestroyService.destroy()}function vH(e){return e.gridDestroyService.isDestroyCalled()}function bH(e,t){return e.gos.get(t)}function CH(e,t,i){XR(e,{[t]:i})}function XR(e,t){e.gos.updateGridOptions({options:t})}function yH(e,t,i){e.apiEventService.addEventListener(t,i)}function wH(e,t,i){e.apiEventService.removeEventListener(t,i)}function SH(e,t){e.apiEventService.addGlobalListener(t)}function RH(e,t){e.apiEventService.removeGlobalListener(t)}function AH(e){return e.focusService.getFocusedCell()}function IH(e){return e.focusService.clearFocusedCell()}function FH(e,t,i,s){e.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:s,forceBrowserFocus:!0})}function xH(e,t){return e.navigationService.tabToNextCell(!1,t)}function _H(e,t){return e.navigationService.tabToNextCell(!0,t)}function EH(e,t,i=!1){const s=e.headerNavigationService.getHeaderPositionForColumn(t,i);s&&e.focusService.focusHeaderPosition({headerPosition:s})}function MH(e,t,i){const s=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:s,buttonElement:i,positionBy:"button"})}function kH(e,t,i){let s=e.columnModel.getCol(t);if(s||(s=e.columnModel.getColDefCol(t)),!s){$e(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:s,mouseEvent:i,positionBy:"mouse"})}function DH(e,t){const i=e.columnModel.getCol(t);if(!i){$e(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:i,positionBy:"auto"})}function GH(e){e.menuService.hidePopupMenu()}function PH(e,t={}){const i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))}function OH(e,t,i,s,r){e.expansionService.setRowNodeExpanded(t,i,s,r)}function BH(e,t){return e.rowModel.getRowNode(t)}function WH(e,t,i,s){e.rowRenderer.addRenderedRowListener(t,i,s)}function TH(e){return e.rowRenderer.getRenderedNodes()}function LH(e,t,i){e.rowModel.forEachNode(t,i)}function NH(e){return JR(e)}function JR(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function VH(e){return UR(e)}function UR(e){return e.rowRenderer.getLastVirtualRenderedRow()}function HH(e,t){return e.rowModel.getRow(t)}function ZH(e){return e.rowModel.getRowCount()}function YH(e){return e.rowModel}function zH(e,t){if(!t.nodes.every(a=>a.rowPinned?(j("cannot select pinned rows"),!1):a.id===void 0?(j("cannot select node until id for node is known"),!1):!0))return;const{nodes:s,source:r,newValue:n}=t,o=s;e.selectionService.setNodesSelected({nodes:o,source:r??"api",newValue:n})}function jH(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function XH(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function JH(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function UH(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function qH(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function KH(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function QH(e){return e.selectionService.getSelectedNodes()}function $H(e){return e.selectionService.getSelectedRows()}function eZ(e){e.sortController.onSortChanged("api")}var tZ={version:Ae,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:gH,destroy:mH,isDestroyed:vH,getGridOption:bH,setGridOption:CH,updateGridOptions:XR}},iZ={version:Ae,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:zH,selectAll:jH,deselectAll:XH,selectAllFiltered:JH,deselectAllFiltered:UH,selectAllOnCurrentPage:qH,deselectAllOnCurrentPage:KH,getSelectedNodes:QH,getSelectedRows:$H}},sZ={version:Ae,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:PH,setRowNodeExpanded:OH,getRowNode:BH,addRenderedRowListener:WH,getRenderedNodes:TH,forEachNode:LH,getFirstDisplayedRow:NH,getFirstDisplayedRowIndex:JR,getLastDisplayedRow:VH,getLastDisplayedRowIndex:UR,getDisplayedRowAtIndex:HH,getDisplayedRowCount:ZH,getModel:YH}},rZ={version:Ae,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:YL,getHorizontalPixelRange:zL,ensureColumnVisible:VR,ensureIndexVisible:HR,ensureNodeVisible:jL}},nZ={version:Ae,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:AH,clearFocusedCell:IH,setFocusedCell:FH,setFocusedHeader:EH,tabToNextCell:xH,tabToPreviousCell:_H}},oZ={version:Ae,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:yH,addGlobalListener:SH,removeEventListener:wH,removeGlobalListener:RH}},aZ={version:Ae,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:fH,getValue:pH,getCellValue:jR}},lZ={version:Ae,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:MH,showColumnMenuAfterMouseClick:kH,showColumnMenu:DH,hidePopupMenu:GH}},cZ={version:Ae,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:eZ}},dZ={version:Ae,moduleName:"@ag-grid-community/api",dependantModules:[tZ,$V,iZ,YV,sZ,JV,rZ,sH,nZ,oZ,hH,aZ,lZ,cZ]};function uZ(e){var t;return((t=e.stateService)==null?void 0:t.getState())??{}}function hZ(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=fZ(e)}return e}function fZ(e){return e.cellSelection=pZ(e,"rangeSelection"),e}function pZ(e,t){if(e&&typeof e=="object")return e[t]}var gZ=class extends Y{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=ls(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=ls(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=ls(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=ti(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Ae),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,i]=this.addManagedEventListeners({newColumnsLoaded:({source:s})=>{s==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i==null||i(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return hZ(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:s}=this.getInitialState(),r=this.gos.get("advancedFilterModel");(e||r)&&this.setFilterState(e,r),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),s&&this.setPaginationState(s),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const n=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{n()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:i,columnOrder:s}=this.getInitialState();i&&this.setFocusedCellState(i),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(s!=null&&s.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const r=this.getRangeSelectionState();this.updateCachedState("rangeSelection",r),this.updateCachedState("cellSelection",r),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){const o=this.getRangeSelectionState();this.updateCachedState("rangeSelection",o),this.updateCachedState("cellSelection",o)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],i=[],s=[],r=[],n=[],o=[],a=[],l=[],c=[];let d=0;const u=this.columnGetStateService.getColumnState();for(let f=0;f<u.length;f++){const{colId:g,sort:m,sortIndex:y,rowGroup:b,rowGroupIndex:S,aggFunc:I,pivot:F,pivotIndex:D,pinned:V,hide:O,width:L,flex:q}=u[f];c.push(g),m&&(t[y??d++]={colId:g,sort:m}),b&&(i[S??0]=g),typeof I=="string"&&s.push({colId:g,aggFunc:I}),F&&(r[D??0]=g),V&&(V==="right"?o:n).push(g),O&&a.push(g),(q||L)&&l.push({colId:g,flex:q??void 0,width:L})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:r.length||e?{pivotMode:e,pivotColIds:r}:void 0,columnPinning:n.length||o.length?{leftColIds:n,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:s,pivot:r,columnPinning:n,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:c}=e,d={},u=b=>{let S=d[b];return S||(S={colId:b},d[b]=S,S)},f=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:b,sort:S},I)=>{const F=u(b);F.sort=S,F.sortIndex=I}),f.sort=null,f.sortIndex=null),i&&(i.groupColIds.forEach((b,S)=>{const I=u(b);I.rowGroup=!0,I.rowGroupIndex=S}),f.rowGroup=null,f.rowGroupIndex=null),s&&(s.aggregationModel.forEach(({colId:b,aggFunc:S})=>{u(b).aggFunc=S}),f.aggFunc=null),r&&(r.pivotColIds.forEach((b,S)=>{const I=u(b);I.pivot=!0,I.pivotIndex=S}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),f.pivot=null,f.pivotIndex=null),n&&(n.leftColIds.forEach(b=>{u(b).pinned="left"}),n.rightColIds.forEach(b=>{u(b).pinned="right"}),f.pinned=null),o&&(o.hiddenColIds.forEach(b=>{u(b).hide=!0}),f.hide=null),a&&(a.columnSizingModel.forEach(({colId:b,flex:S,width:I})=>{const F=u(b);F.flex=S??null,F.width=I}),f.flex=null);const g=l==null?void 0:l.orderedColIds,m=!!(g!=null&&g.length),y=m?g.map(b=>u(b)):Object.values(d);y.length&&(this.columnStates=y,this.columnApplyStateService.applyColumnState({state:y,applyOrder:m,defaultState:f},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){const s=[];for(const r of t)this.pivotResultColsService.getPivotResultCol(r.colId)&&s.push(r);this.columnApplyStateService.applyColumnState({state:s,applyOrder:e},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:i,open:s})=>{s&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var r;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set((r=e.columnGroup)==null?void 0:r.openColumnGroupIds),s=this.columnGroupStateService.getColumnGroupState().map(({groupId:n})=>{const o=t.has(n);return o&&t.delete(n),{groupId:n,open:o}});t.forEach(n=>{s.push({groupId:n,open:!0})}),s.length&&(this.columnGroupStates=s),this.columnGroupStateService.setColumnGroupState(s,"gridInitializing")}getFilterState(){var i,s;let e=(i=this.filterManager)==null?void 0:i.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const t=((s=this.filterManager)==null?void 0:s.getAdvancedFilterModel())??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){var r,n;const{filterModel:i,advancedFilterModel:s}=e??{advancedFilterModel:t};i&&((r=this.filterManager)==null||r.setFilterModel(i,"columnFilter")),s&&((n=this.filterManager)==null||n.setAdvancedFilterModel(s))}getRangeSelectionState(){var t;const e=(t=this.rangeService)==null?void 0:t.getCellRanges().map(i=>{const{id:s,type:r,startRow:n,endRow:o,columns:a,startColumn:l}=i;return{id:s,type:r,startRow:n,endRow:o,colIds:a.map(c=>c.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:i,columnModel:s,visibleColsService:r}=this;if(!$r(t)||!i)return;const n=[];if(e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(c=>{const d=s.getCol(c);d&&a.push(d)}),!a.length)return;let l=s.getCol(o.startColId);if(!l){const c=r.getAllCols(),d=new Set(a);l=c.find(u=>d.has(u))}n.push({...o,columns:a,startColumn:l})}),IP(t)&&FP(t)&&n.length>1)return j("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");i.setCellRanges(n)}getScrollState(){var s;if(!this.isClientSideRowModel)return;const e=(s=this.ctrlsService.getGridBodyCtrl())==null?void 0:s.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:i}=(e==null?void 0:e.getVScrollPosition())??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){var s;if(!this.isClientSideRowModel)return;const{top:t,left:i}=e;(s=this.ctrlsService.getGridBodyCtrl())==null||s.getScrollFeature().setScrollPosition(t,i)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:s}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:s}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:s}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){var i;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((i=e==null?void 0:e.toggledNodes)!=null&&i.length)?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;Object.entries(t).forEach(([s,r])=>{Fh(r,this.cachedState[s])||(i=!0)}),this.cachedState={...this.cachedState,...t},i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),Fh(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},qR={version:Ae,moduleName:"@ag-grid-community/state-core",beans:[gZ]},mZ={version:Ae,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:uZ},dependantModules:[qR]},vZ={version:Ae,moduleName:"@ag-grid-community/state",dependantModules:[qR,mZ]};function bZ(e){return e.rowModel.isLastRowIndexKnown()}function CZ(e){var t;return((t=e.paginationService)==null?void 0:t.getPageSize())??100}function yZ(e){var t;return((t=e.paginationService)==null?void 0:t.getCurrentPage())??0}function wZ(e){var t;return((t=e.paginationService)==null?void 0:t.getTotalPages())??1}function SZ(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function RZ(e){var t;(t=e.paginationService)==null||t.goToNextPage()}function AZ(e){var t;(t=e.paginationService)==null||t.goToPreviousPage()}function IZ(e){var t;(t=e.paginationService)==null||t.goToFirstPage()}function FZ(e){var t;(t=e.paginationService)==null||t.goToLastPage()}function xZ(e,t){var i;(i=e.paginationService)==null||i.goToPage(t)}var _Z=class extends Y{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const i=Math.max(bf(this.gos),1),s=Math.floor(e/i);this.paginationService.setPageSize(s,"autoCalculated")};this.isBodyRendered?ls(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function EZ(e,t,i){e.addManagedElementListeners(t,{keydown:s=>{if(!s.defaultPrevented&&s.key===H.TAB){const r=s.shiftKey;i.findNextFocusableElement(t,!1,r)||i.focusNextGridCoreContainer(r)&&s.preventDefault()}}})}var kc="paginationPageSizeSelector",MZ=class extends Xe{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(kc,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Yi(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(kc)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),i=!t||!e.includes(t);if(i){const r=this.gos.exists("paginationPageSize"),n=this.gos.get(kc)!==!0;j(`'paginationPageSize=${t}'${r?"":" (default value)"}, but ${t} is not included in${n?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),n||j(`Either set '${kc}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const s=String(i?"":t);this.selectPageSizeComp?(Oo(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(s,!0)):this.createPageSizeSelectorComp(e,s),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const i=this.localeService.getLocaleTextFunc(),s=i("pageSizeSelectorLabel","Page Size:"),r=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Hv).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(s).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(kc);return!Array.isArray(t)||xs(t)?e:[...t].sort((i,s)=>i-s)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},kZ={selector:"AG-PAGE-SIZE-SELECTOR",component:MZ},DZ=class extends YR{constructor(){super(),this.btFirst=le,this.btPrevious=le,this.btNext=le,this.btLast=le,this.lbRecordCount=le,this.lbFirstRowOnPage=le,this.lbLastRowOnPage=le,this.lbCurrent=le,this.lbTotal=le,this.pageSizeComp=le,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[kZ]);const{btFirst:t,btPrevious:i,btNext:s,btLast:r}=this;this.activateTabIndex([t,i,s,r]),t.insertAdjacentElement("afterbegin",Fs(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",Fs(e?"next":"previous",this.gos)),s.insertAdjacentElement("afterbegin",Fs(e?"previous":"next",this.gos)),r.insertAdjacentElement("afterbegin",Fs(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:n=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(n):this.focusService.focusGridInnerElement(n)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:s=>{(s.key===H.ENTER||s.key===H.SPACE)&&(s.preventDefault(),i())}})}),EZ(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const i=this.localeService.getLocaleTextFunc(),s=i("thousandSeparator",","),r=i("decimalSeparator",".");return eW(e,s,r)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),s=e("of","of"),r=e("firstPage","First Page"),n=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${s}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${s}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const s=this.isZeroPagesToDisplay(),r=e===i-1;this.nextButtonDisabled=r||s,this.lastButtonDisabled=!t||s||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){fO(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),i=this.paginationService.getMasterRowCount(),s=e?i:null;if(s===1){const I=this.rowModel.getRow(0);if(I&&I.group&&!(I.groupData||I.aggData)){this.setTotalLabelsToZero();return}}const r=this.paginationService.getCurrentPage(),n=this.paginationService.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=n*r+1,a=o+n-1,e&&a>s&&(a=s));const l=o+n-1,c=!e&&i<l,d=this.formatNumber(o);this.lbFirstRowOnPage.textContent=d;let u;const f=this.localeService.getLocaleTextFunc();c?u=f("pageLastRowUnknown","?"):u=this.formatNumber(a),this.lbLastRowOnPage.textContent=u;const m=t>0?r+1:0,y=this.formatNumber(m);this.lbCurrent.textContent=y;let b,S;if(e)b=this.formatNumber(t),S=this.formatNumber(s);else{const I=f("more","more");b=I,S=I}this.lbTotal.textContent=b,this.lbRecordCount.textContent=S,this.announceAriaStatus(d,u,S,y,b)}announceAriaStatus(e,t,i,s,r){const n=this.localeService.getLocaleTextFunc(),o=n("page","Page"),a=n("to","to"),l=n("of","of"),c=`${e} ${a} ${t} ${l} ${i}`,d=`${o} ${s} ${l} ${r}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnouncementService.announceValue(d,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},GZ={selector:"AG-PAGINATION",component:DZ},PZ=class extends Y{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return GZ}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return te(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:te(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:te(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:te(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const s=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=s-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:s=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:s,keepRenderedRows:t})}},KR={version:Ae,moduleName:"@ag-grid-community/pagination-core",beans:[PZ,_Z]},OZ={version:Ae,moduleName:"@ag-grid-community/pagination-api",dependantModules:[KR],apiFunctions:{paginationIsLastPageFound:bZ,paginationGetPageSize:CZ,paginationGetCurrentPage:yZ,paginationGetTotalPages:wZ,paginationGetRowCount:SZ,paginationGoToNextPage:RZ,paginationGoToPreviousPage:AZ,paginationGoToFirstPage:IZ,paginationGoToLastPage:FZ,paginationGoToPage:xZ}},BZ={version:Ae,moduleName:"@ag-grid-community/pagination",dependantModules:[KR,OZ]},rs="clientSide",qi="serverSide",qa="infinite",WZ={onGroupExpandedOrCollapsed:[rs],refreshClientSideRowModel:[rs],isRowDataEmpty:[rs],forEachLeafNode:[rs],forEachNodeAfterFilter:[rs],forEachNodeAfterFilterAndSort:[rs],resetRowHeights:[rs],applyTransaction:[rs],applyTransactionAsync:[rs],flushAsyncTransactions:[rs],getBestCostNodeSelection:[rs],getServerSideSelectionState:[qi],setServerSideSelectionState:[qi],applyServerSideTransaction:[qi],applyServerSideTransactionAsync:[qi],applyServerSideRowData:[qi],retryServerSideLoads:[qi],flushServerSideAsyncTransactions:[qi],refreshServerSide:[qi],getServerSideGroupLevelState:[qi],refreshInfiniteCache:[qa],purgeInfiniteCache:[qa],getInfiniteRowCount:[qa],isLastRowIndexKnown:[qa,qi],expandAll:[rs,qi],collapseAll:[rs,qi],onRowHeightChanged:[rs,qi],setRowCount:[qa,qi],getCacheBlockState:[qa,qi]},TZ={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function LZ(e,t,i){const s=TZ[e];if(s){const{version:n,new:o,old:a,message:l}=s,c=a??e;return(...d)=>{const u=o?`Please use ${o} instead. `:"";return j(`Since ${n} api.${c} is deprecated. ${u}${l??""}`),t.apply(t,d)}}const r=WZ[e];return r?(...n)=>{const o=i.rowModel.getType();if(!r.includes(o)){$e(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,n)}:t}var NZ={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},Jn=(e,t)=>{const i=t.rowModelType??"clientSide";return i==="clientSide"||i==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},VZ={enableRowGroup:Jn,rowGroup:Jn,rowGroupIndex:Jn,enablePivot:Jn,enableValue:Jn,pivot:Jn,pivotIndex:Jn,aggFunc:Jn,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var i;const t=["columnsMenuTab","generalMenuTab"];return(i=e.menuTabs)!=null&&i.some(s=>t.includes(s))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>el},HZ={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},ZZ=Object.keys(HZ),el={objectName:"colDef",allProperties:ZZ,docsUrl:"column-properties/",deprecations:NZ,validations:VZ},YZ=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),zZ={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},jZ=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const i=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:i}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:i}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return typeof t=="boolean"||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>el,defaultColDef:()=>el,defaultColGroupDef:()=>el,autoGroupColumnDef:()=>el,selectionColumnDef:()=>el}),XZ=()=>({objectName:"gridOptions",allProperties:[...zd.ALL_PROPERTIES,...xS.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:YZ(),validations:jZ()}),JZ=class extends Y{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,XZ())}validateApiFunction(e,t){return LZ(e,t,this.beans)}processOptions(e,t){const{validations:i,deprecations:s,allProperties:r,propertyExceptions:n,objectName:o,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...n??[],...Object.keys(s)],r,o,a);const l=new Set;Object.keys(e).forEach(d=>{const u=s[d];if(u)if("renamed"in u){const{renamed:F,version:D}=u;l.add(`As of v${D}, ${String(d)} is deprecated. Please use ${String(F)} instead.`),e[F]=e[d]}else{const{message:F,version:D}=u;l.add(`As of v${D}, ${String(d)} is deprecated. ${F??""}`)}const f=e[d];if(f==null||f===!1)return;const g=i[d];let m;if(g)if(typeof g=="function"){const F=g(e,this.gridOptions);if(!F)return;if("objectName"in F){const D=e[d];if(Array.isArray(D)){D.forEach(V=>{this.processOptions(V,F)});return}this.processOptions(e[d],F);return}m=F}else m=g;else return;const{module:y,dependencies:b,validate:S,supportedRowModels:I}=m;if(I){const F=this.gridOptions.rowModelType??"clientSide";if(!I.includes(F)){l.add(`${String(d)} is not supported with the '${F}' row model.`);return}}if(y){const F=Array.isArray(y)?y:[y];let D=!0;if(F.forEach(V=>{this.gos.assertModuleRegistered(V,String(d))||(D=!1,l.add(`${String(d)} is only available when ${V} is loaded.`))}),!D)return}if(b){const F=this.checkForRequiredDependencies(d,b,e);if(F){l.add(F);return}}if(S){const F=S(e,this.gridOptions);if(F){l.add(F);return}}}),l.size>0&&l.forEach(d=>{j(d)})}checkForRequiredDependencies(e,t,i){const r=Object.entries(t).find(([a,l])=>{const c=i[a];return!l.includes(c)});if(!r)return null;const[n,o]=r;return o.length>1?`'${String(e)}' requires '${n}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${n}' to be ${o[0]}.`}checkProperties(e,t,i,s,r){const n=["__ob__","__v_skip","__metadata__"],o=UZ(Object.getOwnPropertyNames(e),[...n,...t,...i],i);if(ar(o,(a,l)=>{let c=`invalid ${s} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;i.includes("context")&&(c+=`
If you are trying to annotate ${s} with application data, use the '${s}.context' property instead.`),j(c)}),Object.keys(o).length>0&&r){const a=this.getFrameworkOverrides().getDocLink(r);j(`to see all the valid ${s} properties please check: ${a}`)}}};function UZ(e,t,i){const s={},r=e.filter(n=>!t.some(o=>o===n));return r.length>0&&r.forEach(n=>s[n]=QS({inputValue:n,allSuggestions:i}).values),s}var qZ={version:Ae,moduleName:"@ag-grid-community/core"},KZ={version:Ae,moduleName:"@ag-grid-community/core-validations",beans:[JZ]},QZ={version:Ae,moduleName:"@ag-grid-community/core-community-features",dependantModules:[qZ,KZ,dN,TW,vZ,ZV,QN,BZ,dZ]},$Z=class extends Y{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,t;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((e=this.beans.stateService)==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(t=this.beans.ctrlsService.get("gridCtrl"))==null||t.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},qu=new Set(["gridPreDestroyed","fillStart","pasteStart"]),eY=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",tY=new Map([...zd.BOOLEAN_PROPERTIES.map(e=>[e,qg]),...zd.NUMBER_PROPERTIES.map(e=>[e,mR]),["groupAggFiltering",e=>typeof e=="function"?e:qg(e)],["pageSize",Ir(1)],["autoSizePadding",Ir(0)],["keepDetailRowsCount",Ir(1)],["rowBuffer",Ir(0)],["infiniteInitialRowCount",Ir(1)],["cacheOverflowSize",Ir(1)],["cacheBlockSize",Ir(1)],["serverSideInitialRowCount",Ir(1)],["viewportRowModelPageSize",Ir(1)],["viewportRowModelBufferSize",Ir(0)]]);function QR(e,t){const i=tY.get(e);return i?i(t):t}function iY(e){const t={};return Object.entries(e).forEach(([i,s])=>{const r=QR(i,s);t[i]=r}),t}var $R=class e3 extends Y{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new vc,this.globalEventHandlerFactory=t=>(i,s)=>{if(!this.isAlive())return;const r=qu.has(i);if(r&&!t||!r&&t)return;const n=xS.getCallbackForEvent(i),o=this.gridOptions[n];typeof o=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{o(s)})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi,this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:i})=>{this.updateGridOptions({options:i,force:!0,source:"gridOptionsUpdated"})}})}get(t){return this.gridOptions[t]??zZ[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return te(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(s=>{const r=s;return r.api=this.api,r.context=this.gridOptionsContext,t(r)})}updateGridOptions({options:t,force:i,source:s="api"}){var o;const r={id:e3.changeSetId++,properties:[]},n=[];Object.entries(t).forEach(([a,l])=>{s==="api"&&aO[a]&&j(`${a} is an initial property and cannot be updated.`);const c=QR(a,l),d=i||typeof c=="object"&&s==="api",u=this.gridOptions[a];if(d||u!==c){this.gridOptions[a]=c;const f={type:a,currentValue:c,previousValue:u,changeSet:r,source:s};n.push(f)}}),(o=this.validationService)==null||o.processGridOptions(this.gridOptions),r.properties=n.map(a=>a.type),n.forEach(a=>{this.gridOptions.debug&&Cn(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(t,i){this.propertyEventService.addEventListener(t,i)}removePropertyEventListener(t,i){this.propertyEventService.removeEventListener(t,i)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const i=t;return i.api=this.api,i.context=this.gridOptionsContext,i}assertModuleRegistered(t,i){return hn.__assertRegistered(t,i,this.gridId)}isModuleRegistered(t){return hn.__isRegistered(t,this.gridId)}};$R.changeSetId=0;var sY=$R,rY=class extends Y{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let i,s;if(hi(e.column)?i=this.visibleColsService.getGroupAtDirection(e.column,t):(s=`getCol${t}`,i=this.visibleColsService[s](e.column)),!i)return;const{headerRowIndex:r}=e;if(this.getHeaderRowType(r)!=="filter"){const a=[i];for(;i.getParent();)i=i.getParent(),a.push(i);i=a[a.length-1-r]}const{column:n,headerRowIndex:o}=this.getHeaderIndexToFocus(i,r);return{column:n,headerRowIndex:o}}getHeaderIndexToFocus(e,t){let i;if(hi(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const s=e;i=s.getLeafColumns()[0];let r=i;for(;r!==s;)t++,r=r.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),s=i==="filter",r=i==="column";let n=s?e:e.getParent(),o=t-1,a=o;if(r&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;n&&n.isPadding();)n=n.getParent(),o--;a=o,o<0&&(n=e,o=t,a=void 0)}return{column:n,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,i="After"){const s=this.getHeaderRowType(t);let r=e,n=t+1;const o=n;if(s==="group"){const a=e.getDisplayedLeafColumns(),l=i==="After"?a[0]:je(a),c=[];let d=l;for(;d.getParent()!==e;)d=d.getParent(),c.push(d);if(r=l,l.isSpanHeaderHeight())for(let u=c.length-1;u>=0;u--){const f=c[u];if(!f.isPadding()){r=f;break}n++}else r=je(c),r||(r=l)}return{column:r,headerRowIndex:n,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.visibleColsService.getAllCols(),s=i[t==="start"?0:i.length-1];if(!s)return;const r=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()),n=r==null?void 0:r.getRowType(e);if(n=="group"){const o=this.visibleColsService.getColGroupAtLevel(s,e);return{headerRowIndex:e,column:o}}return{headerRowIndex:n==null?-1:e,column:s}}},nY=class extends Y{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(i,s,r)=>e({key:i,defaultValue:s,variableValues:r});const t=this.gos.get("localeText");return(i,s,r)=>{let n=t&&t[i];if(n&&r&&r.length){let o=0;for(;!(o>=r.length||n.indexOf("${variable}")===-1);)n=n.replace("${variable}",r[o++])}return n??s}}},oY=class extends Y{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new Fv(this.getFrameworkOverrides())}addEventListener(e,t){const i=this.frameworkEventWrappingService.wrap(t),s=_h(this.gos)&&!qu.has(e),r=s?this.asyncEventListeners:this.syncEventListeners;r.has(e)||r.set(e,new Set),r.get(e).add(i),this.eventService.addEventListener(e,i,s)}removeEventListener(e,t){var n;const i=this.frameworkEventWrappingService.unwrap(t),s=this.asyncEventListeners.get(e),r=!!(s!=null&&s.delete(i));r||(n=this.syncEventListeners.get(e))==null||n.delete(i),this.eventService.removeEventListener(e,i,r)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(_h(this.gos)){const s=(n,o)=>{qu.has(n)&&t(n,o)},r=(n,o)=>{qu.has(n)||t(n,o)};this.globalEventListenerPairs.set(e,{syncListener:s,asyncListener:r}),this.eventService.addGlobalListener(s,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:s,asyncListener:r}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(s,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((i,s)=>{i.forEach(r=>this.eventService.removeEventListener(s,r,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventService.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},aY=class extends Y{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},lY=class extends Y{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Ne(this.topRowBounds)||Ne(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=te(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},cY=class extends Y{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=ls(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=ri(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),MS(t,"polite"),hO(t,"additions text"),uO(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Yi(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},dY=class extends Y{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),t();return}const i=s=>{for(;s.length;){const r=s.pop();r&&r()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),i(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),i(this.executeLaterFuncs)},200)})}},uY=class extends Y{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},hY=class extends Y{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=ti(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){j("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){var r;const s=e.newAgStackInstance();(r=this.overlayWrapperComp)==null||r.showOverlay(s,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(this.state===2){const t=this.ctrlsService.get("gridHeaderCtrl");e=(t==null?void 0:t.getHeaderHeight())||0}else this.wrapperPadding!==0&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},fY=class extends Y{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return te(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Cy(t,this.processClassesFromGridOptions(e.rowNode)),Cy(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=n=>{typeof n=="string"?t.push(n):Array.isArray(n)&&n.forEach(o=>t.push(o))},s=this.gos.get("rowClass");if(s){if(typeof s=="function")return j("rowClass should not be a function, please use getRowClass instead"),[];i(s)}const r=this.gos.getCallback("getRowClass");if(r){const n={data:e.data,node:e,rowIndex:e.rowIndex},o=r(n);i(o)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,i=>{t.push(i)},()=>{}),t}processRowClassRules(e,t,i){const s=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),s,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},pY=class extends Y{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=RO(),this.gos.get("debug")&&Cn("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&Cn(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},gY=class extends Y{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=Dr(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Dr(this.gos))}doFullSort(e,t){const i=(r,n)=>({currentPos:n,rowNode:r}),s=e.map(i);return s.sort(this.compareRowNodes.bind(this,t)),s.map(r=>r.rowNode)}compareRowNodes(e,t,i){const s=t.rowNode,r=i.rowNode;for(let n=0,o=e.length;n<o;n++){const a=e[n],l=a.sort==="desc",c=this.getValue(s,a.column),d=this.getValue(r,a.column);let u;const f=this.getComparator(a,s);if(f?u=f(c,d,s,r,l):u=CP(c,d,this.isAccentedSort),!isNaN(u)&&u!==0)return a.sort==="asc"?u:u*-1}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,s=i.getColDef().comparator;if(s!=null)return s;if(!i.getColDef().showRowGroup)return;const r=!t.group&&i.getColDef().field;if(!r)return;const n=this.columnModel.getColDefCol(r);if(n)return n.getColDef().comparator}getValue(e,t){var s,r,n;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(wv(this.gos,this.columnModel.isPivotActive())){const l=(s=e.allLeafChildren)==null?void 0:s[0];return l?this.valueService.getValue(t,l,!1,!1):void 0}const a=(r=this.showRowGroupColsService)==null?void 0:r.getShowRowGroupCol(t.getId());return a?(n=e.groupData)==null?void 0:n[a.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},Ff=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let s=0;s<e.childrenAfterGroup.length;s++){const r=e.childrenAfterGroup[s];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[s],t,i):i&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const s={rowNode:t,children:null};this.mapToItems[t.id]=s,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(s=>this.nodeIdsToColumns[i.id][s.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let s=0;s<t;s++){const r=this.mapToItems[i.id],n=this.mapToItems[i.parent.id];n.children||(n.children=[]),n.children.push(r),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>i[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>!i[r.getId()])}},t3=class extends Y{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new mN,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:i}=this;this.selectionCtx.init(t),this.rowSelectionMode=Mh(e),this.groupSelectsChildren=Ga(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const s=Ga(e),r=Mh(e);(s!==this.groupSelectsChildren||r!==this.rowSelectionMode)&&(this.groupSelectsChildren=s,this.rowSelectionMode=r,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:i.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,t){if(!eY(t))return e;const i=this.selectionCtx.getRoot();return i?i.isSelected()??!1:!0}setNodesSelected(e){var u;const{newValue:t,clearSelection:i,suppressFinishActions:s,rangeSelect:r,nodes:n,event:o,source:a}=e;if(n.length===0)return 0;if(n.length>1&&!this.isMultiSelect())return j("cannot multi select unless selection mode is 'multiRow'"),0;const l=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,c=n.map(f=>f.footer?f.sibling:f);if(r){if(c.length>1)return j("cannot range select while selecting multiple rows"),0;const f=c[0],g=this.overrideSelectionValue(t,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(f)){const m=this.selectionCtx.truncate(f);return g&&this.selectRange(m.discard,!1,a),this.selectRange(m.keep,g,a)}else if(this.selectionCtx.getRoot()!==f){const b=this.selectionCtx.extend(f,this.groupSelectsChildren);return g&&this.selectRange(b.discard,!1,a),this.selectRange(b.keep,g,a)}}}s||this.selectionCtx.setRoot(c[0]);let d=0;for(let f=0;f<c.length;f++){const g=c[f];l&&g.group||g.selectThisNode(t,o,a)&&d++,this.groupSelectsChildren&&((u=g.childrenAfterGroup)!=null&&u.length)&&(d+=this.selectChildren(g,t,l,a))}return s||(t&&(i||!this.isMultiSelect())&&(d+=this.clearOtherNodes(c[0],a)),d>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),d}selectRange(e,t,i){let s=0;return e.forEach(r=>{if(r.group&&this.groupSelectsChildren)return;r.selectThisNode(t,void 0,i)&&s++}),s>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),s}selectChildren(e,t,i,s){const r=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return Ne(r)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:s,nodes:r})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((i,s)=>{i&&e(i)&&t.set(s,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!ti(this.gos))return!1;const s=this.rowModel.getRootNode();t||(t=new Ff(!0,s),t.setInactive());let r=!1;return t.forEachChangedNodeDepthFirst(n=>{if(n!==s){const o=n.calculateSelectedFromChildren();r=n.selectThisNode(o===null?!1:o,void 0,e)||r}}),r}clearOtherNodes(e,t){const i=new Map;let s=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==e.id){const n=this.selectedNodes.get(r.id);s+=n.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&r.parent&&i.set(r.parent.id,r.parent)}}),i.forEach(r=>{const n=r.calculateSelectedFromChildren();r.selectThisNode(n===null?!1:n,void 0,t)}),s}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(te(t)&&e.id!==t.id&&t){const s=t.id;this.selectedNodes.get(s)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(!ti(this.gos))return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const i=[];function s(r){for(let n=0,o=r.length;n<o;n++){const a=r[n];if(a.isSelected())i.push(a);else{const l=a;l.group&&l.children&&s(l.children)}}}return s(t),i}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=o=>o.selectThisNode(!1,void 0,s),i=ti(this.gos),{source:s,justFiltered:r,justCurrentPage:n}=e;if(n||r){if(!i){$e("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(r,n).forEach(t)}else this.selectedNodes.forEach(o=>{o&&t(o)}),this.reset(s);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s)}getSelectedCounts(e,t){let i=0,s=0;const r=n=>{this.groupSelectsChildren&&n.group||(n.isSelected()?i++:n.selectable&&s++)};return this.getNodesToSelect(e,t).forEach(r),{selectedCount:i,notSelectedCount:s}}getSelectAllState(e,t){const{selectedCount:i,notSelectedCount:s}=this.getSelectedCounts(e,t);return i===0&&s===0?!1:i>0&&s>0?null:i>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(i=>i.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();const i=[];if(t)return this.forEachNodeOnPage(r=>{if(!r.group){i.push(r);return}if(!r.expanded){const n=o=>{var a;i.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(n)};n(r);return}this.groupSelectsChildren||i.push(r)}),i;const s=this.rowModel;return e?(s.forEachNodeAfterFilter(r=>{i.push(r)}),i):(s.forEachNode(r=>{i.push(r)}),i)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let s=t;s<=i;s++){const r=this.rowModel.getRow(s);r&&e(r)}}selectAllRowNodes(e){if(AP(this.gos)&&!Rv(this.gos))return j("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:i,justCurrentPage:s}=e,r=this.getNodesToSelect(i,s);r.forEach(n=>n.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(r[0]??null),this.selectionCtx.setEndRange(je(r)??null),ti(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return $e("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const i=new Set(e),s=[];this.rowModel.forEachNode(r=>{i.has(r.id)&&s.push(r)}),this.setNodesSelected({newValue:!0,nodes:s,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!ti(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},mY=class extends Y{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:t}=this,i=xh(t),s=Sv(t);if(!i||!s)return;const r=Ga(t),n=ti(t)&&r,o=[],a=l=>{if(e&&!l.group)return;if(n&&l.group){const d=l.childrenAfterGroup.some(u=>u.selectable===!0);l.setRowSelectable(d,!0);return}const c=(s==null?void 0:s(l))??!0;l.setRowSelectable(c,!0),!c&&l.isSelected()&&o.push(l)};if(n){const l=this.rowModel;new Ff(!1,l.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),n&&this.selectionService instanceof t3&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},Hy=["asc","desc",null],vY=class extends Y{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,i){const s=this.getNextSortDirection(e);this.setSortForColumn(e,s,t,i)}setSortForColumn(e,t,i,s){t!=="asc"&&t!=="desc"&&(t=null);const r=Dr(this.gos);let n=[e];if(r&&e.getColDef().showRowGroup){const l=this.funcColsService.getSourceColumnsForGroupColumn(e),c=l==null?void 0:l.filter(d=>d.isSortable());c&&(n=[e,...c])}n.forEach(l=>l.setSort(t,s));const o=(i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!o){const l=this.clearSortBarTheseColumns(n,s);a.push(...l)}this.updateSortIndex(e),a.push(...n),this.dispatchSortChangedEvents(s,a)}updateSortIndex(e){var a;const t=Dr(this.gos),i=(a=this.showRowGroupColsService)==null?void 0:a.getShowRowGroupCol(e.getId()),s=t&&i||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(l=>l.setSortIndex(null));const n=r.filter(l=>t&&l.getColDef().showRowGroup?!1:l!==s);(s.getSort()?[...n,s]:n).forEach((l,c)=>{l.setSortIndex(c)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.columnModel.getAllCols().forEach(s=>{e.includes(s)||(s.getSort()&&i.push(s),s.setSort(void 0,t))}),i}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=Hy,!Array.isArray(t)||t.length<=0)return j(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort()),s=i<0,r=i==t.length-1;let n;return s||r?n=t[0]:n=t[i+1],Hy.indexOf(n)<0?(j("invalid sort type ",n),null):n}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(n=>!!n.getSort());if(this.columnModel.isPivotMode()){const n=Dr(this.gos);e=e.filter(o=>{var d;const a=!!o.getAggFunc(),l=!o.isPrimary(),c=n?(d=this.showRowGroupColsService)==null?void 0:d.getShowRowGroupCol(o.getId()):o.getColDef().showRowGroup;return a||l||c})}const t=this.funcColsService.getRowGroupColumns().filter(n=>!!n.getSort()),i={};e.forEach((n,o)=>i[n.getId()]=o),e.sort((n,o)=>{const a=n.getSortIndex(),l=o.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const c=i[n.getId()],d=i[o.getId()];return c>d?1:-1}else return l==null?-1:1});const s=Dr(this.gos)&&!!t.length;s&&(e=[...new Set(e.map(n=>{var o;return((o=this.showRowGroupColsService)==null?void 0:o.getShowRowGroupCol(n.getId()))??n}))]);const r=new Map;return e.forEach((n,o)=>r.set(n,o)),s&&t.forEach(n=>{const o=this.showRowGroupColsService.getShowRowGroupCol(n.getId());r.set(n,r.get(o))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,s])=>t-s).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Dr(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const s=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=s[0].getSort();return s.every(o=>o.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},bY=class extends Y{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&Cn(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,qo(e.source))}}},CY="paste",yY=class extends Y{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){ti(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==CY&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const s=this.gos.get("aggregateOnlyChangedColumns"),r=new Ff(s,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(n=>{i.push(n)})}this.rowRenderer.refreshCells({rowNodes:i})}},wY=class extends Y{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);$e("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return Cn("Processing of the expression failed"),Cn("Expression = ",e),Cn("Params = ",t),Cn("Exception = ",i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},SY=class extends Y{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},RY=class extends Y{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=bc(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=i=>this.callColumnCellValueChangedHandler(i),t=_h(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValueForDisplay(e,t){const i=t.leafGroup&&this.columnModel.isPivotMode(),s=t.group&&t.expanded&&!t.footer&&!i,r=this.gos.get("groupSuppressBlankHeader");if(!s||r)return this.getValue(e,t);let n=!1;const o=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof o!="function"?n=!!o:n=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const a=s&&n;return this.getValue(e,t,!1,a)}getValue(e,t,i=!1,s=!1){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),n=r.field,o=e.getColId(),a=t.data;let l;const c=t.groupData&&t.groupData[o]!==void 0,d=!s&&t.aggData&&t.aggData[o]!==void 0,u=this.isSsrm&&s&&!!e.getColDef().aggFunc,f=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(i&&r.filterValueGetter?l=this.executeFilterValueGetter(r.filterValueGetter,a,e,t):this.isTreeData&&d?l=t.aggData[o]:this.isTreeData&&r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,e,t):this.isTreeData&&n&&a?l=Kc(a,n,e.isFieldContainsDots()):c?l=t.groupData[o]:d?l=t.aggData[o]:r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,e,t):f?l=Kc(a,t.field,e.isFieldContainsDots()):n&&a&&!u&&(l=Kc(a,n,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const g=l.substring(1);l=this.executeValueGetter(g,a,e,t)}if(l==null){const g=this.getOpenedGroup(t,e);if(g!=null)return g}return l}parseValue(e,t,i,s){const r=e.getColDef(),n=r.valueParser;if(te(n)){const o=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:s,newValue:i,colDef:r,column:e});return typeof n=="function"?n(o):this.expressionService.evaluate(n,o)}return i}getDeleteValue(e,t){return te(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,s,r=!0){let n=null,o;const a=e.getColDef();if(s?o=s:r&&(o=a.valueFormatter),o){const l=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?n=o(l):n=this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[i]||"";return n==null&&Array.isArray(i)&&(n=i.join(", ")),n}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const s=t.getColDef().showRowGroup;let r=e.parent;for(;r!=null;){if(r.rowGroupColumn&&(s===!0||s===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,t,i,s){const r=this.columnModel.getColDefCol(t);if(!e||!r)return!1;Ne(e.data)&&(e.data={});const{field:n,valueSetter:o}=r.getColDef();if(Ne(n)&&Ne(o))return j("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(r,i))return j("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(r,e),newValue:i,colDef:r.getColDef(),column:r});a.newValue=i;let l;if(te(o)?typeof o=="function"?l=o(a):l=this.expressionService.evaluate(o,a):l=this.setValueUsingField(e.data,n,i,r.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const c=this.getValue(r,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:c,value:c,source:s}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,s){if(!t)return!1;let r=!1;if(!s)r=e[t]===i,r||(e[t]=i);else{const n=t.split(".");let o=e;for(;n.length>0&&o;){const a=n.shift();n.length===0?(r=o[a]===i,r||(o[a]=i)):o=o[a]}}return!r}executeFilterValueGetter(e,t,i,s){const r=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});return typeof e=="function"?e(r):this.expressionService.evaluate(e,r)}executeValueGetter(e,t,i,s){const r=i.getColId(),n=this.valueCache.getValue(s,r);if(n!==void 0)return n;const o=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});let a;return typeof e=="function"?a=e(o):a=this.expressionService.evaluate(e,o),this.valueCache.setValue(s,r,a),a}getValueCallback(e,t){const i=this.columnModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),s=e.getColDef().keyCreator;let r=i;if(s){const n=this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});r=s(n)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&j("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}},e0=class jo{static applyGlobalGridOptions(t){if(!jo.gridOptions)return t;let i={};return es(i,jo.gridOptions,!0,!0),jo.mergeStrategy==="deep"?es(i,t,!0,!0):i={...i,...t},jo.gridOptions.context&&(i.context=jo.gridOptions.context),t.context&&(jo.mergeStrategy==="deep"&&i.context&&es(t.context,i.context,!0,!0),i.context=t.context),i}};e0.gridOptions=void 0;e0.mergeStrategy="shallow";var AY=e0;function IY(e,t,i){if(!t)return $e("No gridOptions provided to createGrid"),{};const s=new xY().create(e,t,r=>{const n=new qN(e);r.createBean(n)},void 0,i);if(!Object.isFrozen(t)&&!(i!=null&&i.frameworkOverrides)){const r="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:()=>{$e(`gridOptions.api is no longer supported. See ${r}.`)},configurable:!0})}return s}var FY=1,xY=class{create(e,t,i,s,r){const n=AY.applyGlobalGridOptions(t),o=iY(n),a=o.gridId??String(FY++),l=this.getRegisteredModules(r,a),c=this.createBeansList(o.rowModelType,l,a),d=this.createProvidedBeans(e,o,r);if(!c){$e("Failed to create grid.");return}const u={providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:WN,beanDestroyComparator:TN,derivedBeans:[_N]},f=new AB(u);return this.registerModuleUserComponents(f,l),this.registerControllers(f,l),this.registerModuleApiFunctions(f,l),i(f),f.getBean("syncService").start(),s&&s(f),f.getBean("gridApi")}registerControllers(e,t){const i=e.getBean("ctrlsFactory");t.forEach(s=>{s.controllers&&s.controllers.forEach(r=>i.register(r))})}getRegisteredModules(e,t){const i=e?e.modules:null,s=hn.__getRegisteredModules(t),r=[],n={},o=(a,l,c)=>{(u=>{n[u.moduleName]||(n[u.moduleName]=!0,r.push(u),hn.__register(u,a,c))})(l),l.dependantModules&&l.dependantModules.forEach(u=>o(a,u,c))};return o(!!(i!=null&&i.length)||!hn.__isPackageBased(),QZ,void 0),i&&i.forEach(a=>o(!0,a,t)),s&&s.forEach(a=>o(!hn.__isPackageBased(),a,void 0)),r}registerModuleUserComponents(e,t){const i=this.extractModuleEntity(t,r=>r.userComponents?r.userComponents:[]),s=e.getBean("userComponentRegistry");i.forEach(({name:r,classImp:n,params:o})=>{s.registerDefaultComponent(r,n,o)})}registerModuleApiFunctions(e,t){const i=e.getBean("apiFunctionService");t.forEach(s=>{const r=s.apiFunctions;r&&Object.keys(r).forEach(o=>{i==null||i.addFunction(o,r[o])})})}createProvidedBeans(e,t,i){let s=i?i.frameworkOverrides:null;Ne(s)&&(s=new AN);const r={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:s};return i&&i.providedBeanInstances&&Object.assign(r,i.providedBeanInstances),r}createBeansList(e="clientSide",t,i){const s=t.filter(l=>!l.rowModel||l.rowModel===e),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[e]){$e("Could not find row model for rowModelType = ",e);return}if(!hn.__assertRegistered(r[e],`rowModelType = '${e}'`,i))return;const n=[ZN,VN,rY,$Z,xN,rB,PN,ON,AL,$S,pY,SL,nY,gN,_B,rO,jN,sY,SN,t3,zP,ZW,lY,aY,fN,wY,YP,wL,SY,RY,uN,RL,IB,XN,yL,YN,IN,vN,CL,vY,uY,dY,mY,yY,IL,EN,fY,gY,NN,JN,HN,LN,bY,hY,FL,oY,cY,xL,JP,MN,UP,jP,kN,DN,iO,XP,eO,GN,tO,LP],o=this.extractModuleEntity(s,l=>l.beans?l.beans:[]);n.push(...o);const a=[];return n.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},_Y=class extends Y{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function EY(e){e.expansionService.expandAll(!0)}function MY(e){e.expansionService.expandAll(!1)}function kY(e){var s,r;const t=(s=e.rowModelHelperService)==null?void 0:s.getClientSideRowModel(),i=(r=e.rowModelHelperService)==null?void 0:r.getServerSideRowModel();t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}var DY={version:Ae,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:EY,collapseAll:MY,onRowHeightChanged:kY}},wc=typeof global>"u"?{}:global;wc.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;wc.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;wc.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;wc.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;wc.Node=typeof Node>"u"?{}:Node;wc.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var GY="ROOT_NODE_ID",Op=0,PY=class{constructor(e,t,i,s,r,n){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=i,this.funcColsService=s,this.beans=n,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=GY,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return SS(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){j("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,i=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((s,r)=>this.createNode(s,this.rootNode,Op,r)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=t.childrenAfterFilter,i.childrenAfterGroup=t.childrenAfterGroup,i.childrenAfterAggFilter=t.childrenAfterAggFilter,i.childrenAfterSort=t.childrenAfterSort,i.childrenMapped=t.childrenMapped,i.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[];return this.executeRemove(e,t,i),this.executeUpdate(e,t,i),this.executeAdd(e,t),this.updateSelection(i,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,i=(t==null?void 0:t.length)??0,s=new Map;let r=-1,n=-1;for(let o=0;o<i;++o){const a=t[o],l=a.data;l!==e[o]&&(n<0&&(r=o),n=o,s.set(l,a))}if(r<0)return!1;for(let o=r;o<=n;++o){const a=s.get(e[o]);a!==void 0&&(t[o]=a,a.sourceRowIndex=o)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}updateSelection(e,t){const i=e.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const i=e.add;if(xs(i))return;const s=this.rootNode.allLeafChildren;let r=s.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")))for(let l=0;l<s.length;l++){const c=s[l];if((c==null?void 0:c.rowIndex)==r-1){r=l+1;break}}const n=i.map((a,l)=>this.createNode(a,this.rootNode,Op,r+l));if(r<s.length){const a=s.slice(0,r),l=s.slice(r,s.length),c=a.length+n.length;for(let d=0,u=l.length;d<u;++d)l[d].sourceRowIndex=c+d;this.rootNode.allLeafChildren=[...a,...n,...l],t.rowsInserted=!0}else this.rootNode.allLeafChildren=s.concat(n);const o=this.rootNode.sibling;o&&(o.allLeafChildren=s),t.rowNodeTransaction.add=n}sanitizeAddIndex(e){var i;const t=((i=this.rootNode.allLeafChildren)==null?void 0:i.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},i){var o,a;const{remove:s}=e;if(xs(s))return;const r={};s.forEach(l=>{const c=this.lookupRowNode(l);c&&(c.isSelected()&&i.push(c),c.clearRowTopAndRowIndex(),r[c.id]=!0,delete this.allNodesMap[c.id],t.remove.push(c))}),this.rootNode.allLeafChildren=((o=this.rootNode.allLeafChildren)==null?void 0:o.filter(l=>!r[l.id]))??null,(a=this.rootNode.allLeafChildren)==null||a.forEach((l,c)=>{l.sourceRowIndex=c});const n=this.rootNode.sibling;n&&(n.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},i){const{update:s}=e;xs(s)||s.forEach(r=>{const n=this.lookupRowNode(r);n&&(n.updateData(r),!n.selectable&&n.isSelected()&&i.push(n),this.setMasterForRow(n,r,Op,!1),t.update.push(n))})}lookupRowNode(e){var s;const t=bu(this.gos);let i;if(t){const r=t({data:e,level:0});if(i=this.allNodesMap[r],!i)return $e(`could not find row id=${r}, data item was not found for this id`),null}else if(i=(s=this.rootNode.allLeafChildren)==null?void 0:s.find(r=>r.data===e),!i)return $e("could not find data item as object was not found",e),$e("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,t,i,s){const r=new oa(this.beans);return r.sourceRowIndex=s,r.group=!1,this.setMasterForRow(r,e,i,!0),t&&(r.parent=t),r.level=i,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&j(`duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(e,t,i,s){if(this.gos.get("treeData"))e.setMaster(!1),s&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");o?e.setMaster(o(t)):e.setMaster(!0)}else e.setMaster(!1);if(s){const o=this.funcColsService.getRowGroupColumns(),a=o?o.length:0,l=i+a;e.expanded=e.master?this.isExpanded(l):!1}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},OY=class extends Y{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=ls(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:Ge.EVERYTHING}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:Ge.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:Ge.PIVOT}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new oa(this.beans),this.nodeManager=new PY(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),s=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),n=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...i,...s,...s,...r,...n,...o,...a];this.addManagedPropertyListeners(l,c=>{var f;const d=(f=c.changeSet)==null?void 0:f.properties;if(!d)return;const u=g=>d.some(m=>g.has(m));if(u(e)){this.setRowData(this.rootNode.allLeafChildren.map(g=>g.data));return}if(u(t)){this.refreshModel({step:Ge.EVERYTHING});return}if(u(i)){this.refreshModel({step:Ge.FILTER});return}if(u(s)){this.refreshModel({step:Ge.PIVOT});return}if(u(r)){this.refreshModel({step:Ge.AGGREGATE});return}if(u(n)){this.refreshModel({step:Ge.SORT});return}if(u(o)){this.refreshModel({step:Ge.FILTER_AGGREGATES});return}u(a)&&this.refreshModel({step:Ge.MAP})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,s){let r,n=!1;do{r=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,i),c=Math.min(a,s);for(let d=l;d<=c;d++){const u=this.getRow(d);if(u.rowHeightEstimated){const f=ko(this.gos,u);u.setRowHeight(f.height),r=!0,n=!0}}r&&this.setRowTopAndRowIndex()}while(r);return n}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,s=Oi(this.gos,"normal");for(let r=0;r<this.rowsToDisplay.length;r++){const n=this.rowsToDisplay[r];if(n.id!=null&&i.add(n.id),n.rowHeight==null){const o=ko(this.gos,n,s,e);n.setRowHeight(o.height,o.estimated)}n.setRowTop(t),n.setRowIndex(r),t+=n.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),s=n=>{n&&n.id!=null&&!t.has(n.id)&&n.clearRowTopAndRowIndex()},r=n=>{if(s(n),s(n.detailNode),s(n.sibling),n.hasChildren()&&n.childrenAfterGroup){const o=n.level==-1;i&&!o&&!n.expanded||n.childrenAfterGroup.forEach(r)}};r(this.rootNode)}ensureRowsAtPixel(e,t,i=0){const s=this.getRowIndexAtPixel(t),r=this.getRow(s),n=!this.gos.get("suppressAnimationFrame");if(r===e[0])return!1;const o=this.rootNode.allLeafChildren;return e.forEach(a=>{cs(o,a)}),e.forEach((a,l)=>{kh(o,a,Math.max(s+i,0)+l)}),e.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:Ge.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:n,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const i=t!=null?this.getRowIndexAtPixel(t):null,s=i!=null?this.getRow(i):null;if(!s||!e||t==null){this.clearHighlightedRow();return}const r=this.getHighlightPosition(t,s),n=this.isHighlightingCurrentPosition(e,s,r),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==s;(n||o)&&(this.clearHighlightedRow(),n)||(s.setHighlighted(r),this.lastHighlightedRow=s)}getHighlightPosition(e,t){if(!t){const r=this.getRowIndexAtPixel(e);if(t=this.getRow(r||0),!t)return Tc.Below}const{rowTop:i,rowHeight:s}=t;return e-i<s/2?Tc.Above:Tc.Below}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,i){if(e===t)return!0;const s=i===Tc.Above?-1:1;return this.getRow(t.rowIndex+s)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter,i=this.rootNode.sibling?1:0;return(t?t.length:0)+i}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;i-=1}const s=this.rowsToDisplay[this.rowsToDisplay.length-1],r=i>=this.rootNode.childrenAfterSort.length;if(s.footer&&r)return s.rowIndex;let n=this.rootNode.childrenAfterSort[i];if(this.gos.get("groupHideOpenParents"))for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex}getRowBounds(e){if(Ne(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=fl(this.gos);this.refreshModel({step:Ge.MAP,keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=fl(this.gos),s=e.columns.length===0||e.columns.some(r=>r.isPrimary())?Ge.FILTER:Ge.FILTER_AGGREGATES;this.refreshModel({step:s,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=fl(this.gos);this.refreshModel({step:Ge.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:Ge.PIVOT}):this.refreshModel({step:Ge.AGGREGATE})}createChangePath(e){const t=xs(e),i=new Ff(!1,this.rootNode);return t&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(s=>s.add!=null&&s.add.length>0||s.remove!=null&&s.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t=Ge.EVERYTHING;const i={everything:Ge.EVERYTHING,group:Ge.EVERYTHING,filter:Ge.FILTER,map:Ge.MAP,aggregate:Ge.AGGREGATE,filter_aggregates:Ge.FILTER_AGGREGATES,sort:Ge.SORT,pivot:Ge.PIVOT,nothing:Ge.NOTHING};if(te(e)&&(t=i[e]),Ne(t)){$e(`invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`);return}const s=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:s}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case Ge.EVERYTHING:this.doRowGrouping(t.rowNodeTransactions,i,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case Ge.FILTER:this.doFilter(i);case Ge.PIVOT:this.doPivot(i);case Ge.AGGREGATE:this.doAggregate(i);case Ge.FILTER_AGGREGATES:this.doFilterAggregates(i);case Ge.SORT:this.doSort(t.rowNodeTransactions,i);case Ge.MAP:this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,s),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=Ne(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Ne(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return te(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,s=!1;const r=[],n=Ga(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(s)return;if(i&&(o===t||o===e)&&(s=!0,o.group&&n)){r.push(...o.allLeafChildren);return}if(!i){if(o!==t&&o!==e)return;i=!0}if(!o.group||!n){r.push(o);return}}),r}setDatasource(e){$e("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(je(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,n=-1;for(;;){const o=Math.floor((t+i)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(i=o-1),r===t&&n===i))return o;r=t,n=i}}isRowInPixel(e,t){const i=e.rowTop,s=e.rowTop+e.rowHeight;return i<=t&&s>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:i,recursionType:s,includeFooterNodes:r}=e;let{index:n}=e;const o=a=>{var g;const l=(g=t[0])==null?void 0:g.parent;if(!l)return;const c=r&&pS(this.gos),d=gS(this.gos),u=r&&d({node:l});if(l===this.rootNode){c===a&&(l.createFooter(),i(l.sibling,n++));return}u===a&&(l.createFooter(),i(l.sibling,n++))};o("top");for(let a=0;a<t.length;a++){const l=t[a];if(i(l,n++),l.hasChildren()&&!l.footer){let c=null;switch(s){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort;break}c&&(n=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:i,recursionType:s,index:n,includeFooterNodes:r}))}}return o("bottom"),n}doAggregate(e){var t;(t=this.aggregationStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),s=r=>{r&&r.forEach(n=>{const o=()=>{n.expanded=e,s(n.childrenAfterGroup)};if(t){te(n.childrenAfterGroup)&&o();return}if(i){!n.leafGroup&&o();return}n.group&&o()})};this.rootNode&&s(this.rootNode.childrenAfterGroup),this.refreshModel({step:Ge.MAP}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,s){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:i,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:s}),Ga(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const r=this.rootNode,n=r.sibling;r.childrenAfterGroup=r.allLeafChildren,n&&(n.childrenAfterGroup=r.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(oa.ID_PREFIX_ROW_GROUP)==0){let i;return this.forEachNode(s=>{s.id===e&&(i=s)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:Ge.EVERYTHING,newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var s;this.valueCache.onDataChanged();const e=[],t=[];let i=!1;(s=this.rowDataTransactionBatch)==null||s.forEach(r=>{const{rowNodeTransaction:n,rowsInserted:o}=this.nodeManager.updateRowData(r.rowDataTransaction);o&&(i=!0),t.push(n),r.callback&&e.push(r.callback.bind(null,n))}),this.commonUpdateRowData(t,i),e.length>0&&window.setTimeout(()=>{e.forEach(r=>r())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:i}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],i),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const i=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:Ge.EVERYTHING,rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:Ge.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function BY(e){e.expansionService.onGroupExpandedOrCollapsed()}function WY(e,t){var i,s;(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.refreshModel(t)}function TY(e){var t,i;return((i=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:i.isEmpty())??!0}function LY(e,t){var i,s;(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.forEachLeafNode(t)}function NY(e,t){var i,s;(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.forEachNodeAfterFilter(t)}function VY(e,t){var i,s;(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.forEachNodeAfterFilterAndSort(t)}function HY(e){var t,i;if(e.columnModel.isAutoRowHeightActive()){j("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(i=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null||i.resetRowHeights()}function ZY(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var i,s;return(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null?void 0:s.updateRowData(t)})}function YY(e,t,i){e.frameworkOverrides.wrapIncoming(()=>{var s,r;return(r=(s=e.rowModelHelperService)==null?void 0:s.getClientSideRowModel())==null?void 0:r.batchUpdateRowData(t,i)})}function zY(e){e.frameworkOverrides.wrapIncoming(()=>{var t,i;return(i=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:i.flushAsyncTransactions()})}function jY(e){return e.selectionService.getBestCostNodeSelection()}var XY=class extends Y{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var i;const t=!!((i=this.filterManager)!=null&&i.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const i=(s,r)=>{s.hasChildren()&&e&&!r?s.childrenAfterFilter=s.childrenAfterGroup.filter(n=>{const o=n.childrenAfterFilter&&n.childrenAfterFilter.length>0,a=n.data&&this.filterManager.doesRowPassFilter({rowNode:n});return o||a}):s.childrenAfterFilter=s.childrenAfterGroup,s.sibling&&(s.sibling.childrenAfterFilter=s.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const s=(n,o)=>{if(n.childrenAfterGroup)for(let a=0;a<n.childrenAfterGroup.length;a++){const l=n.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?s(n.childrenAfterGroup[a],c):i(l,c)}i(n,o)},r=n=>s(n,!1);t.executeFromRootNode(r)}else{const s=r=>i(r,!1);t.forEachChangedNodeDepthFirst(s,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},JY=class extends Y{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,i=[],s=this.columnModel.isPivotMode(),r=s&&t.leafGroup,n=r?[t]:t.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,n,i,s,0);const a=i.length>0;if(!r&&a&&o.grandTotalRow){t.createFooter();const c=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,t.sibling,i,0,c)}return i}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:SP(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:pS(this.gos),groupTotalRow:gS(this.gos)}}recursivelyAddToRowsToDisplay(e,t,i,s,r){if(!xs(t))for(let n=0;n<t.length;n++){const o=t[n],a=o.hasChildren(),l=s&&!a,c=e.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,d=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,u=s&&o.leafGroup,f=e.hideOpenParents&&o.expanded&&!o.master&&!u;if(!l&&!f&&!c&&!d&&this.addRowNodeToRowsToDisplay(e,o,i,r),!(s&&o.leafGroup)){if(a){const m=c||d;if(o.expanded||m){const y=e.groupTotalRow({node:o});y||o.destroyFooter();const b=m?r:r+1;y==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,b)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,i,s,b),y==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,b))}}else if(o.master&&o.expanded){const m=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,m,i,r)}}}}addRowNodeToRowsToDisplay(e,t,i,s,r){r?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:s)}createDetailNode(e){if(te(e.detailNode))return e.detailNode;const t=new oa(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,te(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},UY=class extends Y{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){ti(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const i=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:s,rowsInserted:r}=i.updateRowData(t);let n=!1;this.gos.get("suppressMaintainUnsortedOrder")||(n=i.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(s,n||r)}createTransactionForRowData(e){if(!ti(this.gos))return $e("ImmutableService only works with ClientSideRowModel"),null;const t=bu(this.gos);if(t==null)return $e("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const i=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),s=[],r=[],n=[];return te(e)&&e.forEach(o=>{const a=t({data:o,level:0}),l=i[a];l?(l.data!==o&&r.push(o),i[a]=void 0):n.push(o)}),ar(i,(o,a)=>{a&&s.push(a.data)}),{remove:s,update:r,add:n}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},qY=class extends Y{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,i,s,r,n){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(f=>f.isRowGroupActive());let l={};i&&s&&(l=this.calculateDirtyNodes(s));const c=this.columnModel.isPivotMode(),d=this.gos.getCallback("postSortRows"),u=f=>{var y;this.pullDownGroupDataForHideOpenParents(f.childrenAfterAggFilter,!0);const g=c&&f.leafGroup;if(o&&a&&!f.leafGroup&&!n){const b=(y=this.funcColsService.getRowGroupColumns())==null?void 0:y[f.level+1],S=(b==null?void 0:b.getSort())===null,I=f.childrenAfterAggFilter.slice(0);if(f.childrenAfterSort&&!S){const F={};f.childrenAfterSort.forEach((D,V)=>{F[D.id]=V}),I.sort((D,V)=>(F[D.id]??0)-(F[V.id]??0))}f.childrenAfterSort=I}else!t||g?f.childrenAfterSort=f.childrenAfterAggFilter.slice(0):i?f.childrenAfterSort=this.doDeltaSort(f,l,r,e):f.childrenAfterSort=this.rowNodeSorter.doFullSort(f.childrenAfterAggFilter,e);if(f.sibling&&(f.sibling.childrenAfterSort=f.childrenAfterSort),this.updateChildIndexes(f),d){const b={nodes:f.childrenAfterSort};d(b)}};r&&r.forEachChangedNodeDepthFirst(u),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){const t={},i=s=>{s&&s.forEach(r=>t[r.id]=!0)};return e&&e.forEach(s=>{i(s.add),i(s.update),i(s.remove)}),t}doDeltaSort(e,t,i,s){const r=e.childrenAfterAggFilter,n=e.childrenAfterSort;if(!n)return this.rowNodeSorter.doFullSort(r,s);const o={},a=[];r.forEach(u=>{t[u.id]||!i.canSkip(u)?a.push(u):o[u.id]=!0});const l=n.filter(u=>o[u.id]),c=(u,f)=>({currentPos:f,rowNode:u}),d=a.map(c).sort((u,f)=>this.rowNodeSorter.compareRowNodes(s,u,f));return this.mergeSortedArrays(s,d,l.map(c)).map(({rowNode:u})=>u)}mergeSortedArrays(e,t,i){const s=[];let r=0,n=0;for(;r<t.length&&n<i.length;)this.rowNodeSorter.compareRowNodes(e,t[r],i[n])<0?s.push(t[r++]):s.push(i[n++]);for(;r<t.length;)s.push(t[r++]);for(;n<i.length;)s.push(i[n++]);return s}updateChildIndexes(e){if(Ne(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const s=t[i],r=i===0,n=i===e.childrenAfterSort.length-1;s.setFirstChild(r),s.setLastChild(n),s.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return j("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(s=>{s.hasChildren()&&t(s)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||Ne(e)||e.forEach(i=>{var r;(((r=this.showRowGroupColsService)==null?void 0:r.getShowRowGroupCols())??[]).forEach(n=>{const o=n.getColDef().showRowGroup;if(typeof o!="string"){$e("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=o,l=this.columnModel.getColDefCol(a);if(l!==i.rowGroupColumn)if(t)i.setGroupValue(n.getId(),void 0);else{const d=this.getFirstChildOfFirstChild(i,l);d&&i.setGroupValue(n.getId(),d.key)}})})}getFirstChildOfFirstChild(e,t){let i=e;for(;i;){const s=i.parent;if(s&&i.firstChild){if(s.rowGroupColumn===t)return s}else return null;i=s}return null}},KY=class extends Y{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),i=te(t)&&t.length>0,s=i&&te(e.rowNodeTransactions)&&this.gos.get("deltaSort"),r=t.some(n=>Dr(this.gos)?n.column.isPrimary()&&n.column.isRowGroupActive():!!n.column.getColDef().showRowGroup);this.sortService.sort(t,i,s,e.rowNodeTransactions,e.changedPath,r)}},t0="32.3.3",i3={version:t0,moduleName:`${vu.ClientSideRowModelModule}-core`,rowModel:"clientSide",beans:[OY,XY,KY,JY,qY,UY]},QY={version:t0,moduleName:`${vu.ClientSideRowModelModule}-api`,beans:[_Y],apiFunctions:{onGroupExpandedOrCollapsed:BY,refreshClientSideRowModel:WY,isRowDataEmpty:TY,forEachLeafNode:LY,forEachNodeAfterFilter:NY,forEachNodeAfterFilterAndSort:VY,resetRowHeights:HY,applyTransaction:ZY,applyTransactionAsync:YY,flushAsyncTransactions:zY,getBestCostNodeSelection:jY},dependantModules:[i3,DY]},$Y={version:t0,moduleName:vu.ClientSideRowModelModule,dependantModules:[i3,QY]};class ez{init(t){const{data:i}=t;if(this.eGui=document.createElement("div"),this.eGui.classList.add("flex","items-center"),i){const s=document.createElement("img");s.src=`/img/logos/${i.ticker}.png`,s.style.width="20px",s.style.height="20px",s.style.marginRight="5px",s.style.borderRadius="32px",this.eGui.appendChild(s);const r=document.createElement("b");r.className="custom-ticker",r.textContent=i.ticker,this.eGui.appendChild(r);const n=document.createElement("span");n.className="ticker-name",n.textContent=i.name,this.eGui.appendChild(n)}}getGui(){return this.eGui}refresh(){return!1}}class Bp{init(t){const{value:i}=t;this.eGui=document.createElement("span"),String(i).includes("-")&&(this.eGui.style.filter="blur(3px)"),this.eGui.textContent=i}getGui(){return this.eGui}refresh(){return!1}}hn.registerModules([$Y]);const tz=e=>{const t=new Intl.NumberFormat("en-US",{style:"decimal",maximumFractionDigits:2});return e.value==null?"":t.format(e.value)},iz=[{field:"token",cellRenderer:ez,enableCellChangeFlash:!0,sortable:!1,filter:!1,minWidth:100,maxWidth:150},{field:"quantity",sortable:!1,filter:!1,type:"rightAligned",cellRenderer:Bp,enableCellChangeFlash:!0,valueFormatter:tz,maxWidth:150},{field:"from",sortable:!1,filter:!1,enableCellChangeFlash:!0,cellRenderer:Bp,type:"rightAligned",maxWidth:180},{field:"to",sortable:!1,filter:!1,enableCellChangeFlash:!0,cellRenderer:Bp,type:"rightAligned",maxWidth:180},{field:"date",enableCellChangeFlash:!0,filter:!1,minWidth:200,maxWidth:350,valueFormatter:e=>{const t=new Date(e.value);return t.toLocaleDateString("en-US")+" "+t.toLocaleTimeString("en-US")}},{field:"txHash",cellDataType:"text",type:"rightAligned",hide:!0,sortable:!1,filter:!1}],sz={rowData:[],getRowId:e=>e.data.txHash,onGridReady(e){e.api,Bc.setState({gridApi:e.api})},rowGroupPanelShow:"always",suppressAggFuncInHeader:!0,groupDefaultExpanded:-1,defaultColDef:{flex:1,filter:!0,sortable:!0},columnDefs:iz};document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#appgrid");IY(e,sz)});export{bi as C,dt as P,Pe as S,Ht as T,_e as a,lu as b,Pi as c};
