var t3=Object.defineProperty;var i3=(e,t,i)=>t in e?t3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Ji=(e,t,i)=>i3(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=i(r);fetch(r.href,n)}})();var Xd,Ge,Zy,Uo,t0,Hy,Tp,hm,Np,Bp,Yy,td={},zy=[],s3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Zh=Array.isArray;function hn(e,t){for(var i in t)e[i]=t[i];return e}function jy(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Zr(e,t,i){var s,r,n,o={};for(n in t)n=="key"?s=t[n]:n=="ref"?r=t[n]:o[n]=t[n];if(arguments.length>2&&(o.children=arguments.length>3?Xd.call(arguments,2):i),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)o[n]===void 0&&(o[n]=e.defaultProps[n]);return Oc(e,o,s,r,null)}function Oc(e,t,i,s,r){var n={type:e,props:t,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++Zy,__i:-1,__u:0};return r==null&&Ge.vnode!=null&&Ge.vnode(n),n}function Uy(){return{current:null}}function Ti(e){return e.children}function dr(e,t){this.props=e,this.context=t}function gl(e,t){if(t==null)return e.__?gl(e.__,e.__i+1):null;for(var i;t<e.__k.length;t++)if((i=e.__k[t])!=null&&i.__e!=null)return i.__e;return typeof e.type=="function"?gl(e):null}function Xy(e){var t,i;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((i=e.__k[t])!=null&&i.__e!=null){e.__e=e.__c.base=i.__e;break}return Xy(e)}}function Vp(e){(!e.__d&&(e.__d=!0)&&Uo.push(e)&&!Ku.__r++||t0!==Ge.debounceRendering)&&((t0=Ge.debounceRendering)||Hy)(Ku)}function Ku(){var e,t,i,s,r,n,o,a;for(Uo.sort(Tp);e=Uo.shift();)e.__d&&(t=Uo.length,s=void 0,n=(r=(i=e).__v).__e,o=[],a=[],i.__P&&((s=hn({},r)).__v=r.__v+1,Ge.vnode&&Ge.vnode(s),fm(i.__P,s,r,i.__n,i.__P.namespaceURI,32&r.__u?[n]:null,o,n??gl(r),!!(32&r.__u),a),s.__v=r.__v,s.__.__k[s.__i]=s,qy(o,s,a),s.__e!=n&&Xy(s)),Uo.length>t&&Uo.sort(Tp));Ku.__r=0}function Jy(e,t,i,s,r,n,o,a,l,c,d){var u,f,g,m,y,b=s&&s.__k||zy,S=t.length;for(i.__d=l,r3(i,t,b),l=i.__d,u=0;u<S;u++)(g=i.__k[u])!=null&&(f=g.__i===-1?td:b[g.__i]||td,g.__i=u,fm(e,g,f,r,n,o,a,l,c,d),m=g.__e,g.ref&&f.ref!=g.ref&&(f.ref&&pm(f.ref,null,g),d.push(g.ref,g.__c||m,g)),y==null&&m!=null&&(y=m),65536&g.__u||f.__k===g.__k?l=Qy(g,l,e):typeof g.type=="function"&&g.__d!==void 0?l=g.__d:m&&(l=m.nextSibling),g.__d=void 0,g.__u&=-196609);i.__d=l,i.__e=y}function r3(e,t,i){var s,r,n,o,a,l=t.length,c=i.length,d=c,u=0;for(e.__k=[],s=0;s<l;s++)(r=t[s])!=null&&typeof r!="boolean"&&typeof r!="function"?(o=s+u,(r=e.__k[s]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?Oc(null,r,null,null,null):Zh(r)?Oc(Ti,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?Oc(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,n=null,(a=r.__i=n3(r,i,o,d))!==-1&&(d--,(n=i[a])&&(n.__u|=131072)),n==null||n.__v===null?(a==-1&&u--,typeof r.type!="function"&&(r.__u|=65536)):a!==o&&(a==o-1?u--:a==o+1?u++:(a>o?u--:u++,r.__u|=65536))):r=e.__k[s]=null;if(d)for(s=0;s<c;s++)(n=i[s])!=null&&!(131072&n.__u)&&(n.__e==e.__d&&(e.__d=gl(n)),Ky(n,n))}function Qy(e,t,i){var s,r;if(typeof e.type=="function"){for(s=e.__k,r=0;s&&r<s.length;r++)s[r]&&(s[r].__=e,t=Qy(s[r],t,i));return t}e.__e!=t&&(t&&e.type&&!i.contains(t)&&(t=gl(e)),i.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Cn(e,t){return t=t||[],e==null||typeof e=="boolean"||(Zh(e)?e.some(function(i){Cn(i,t)}):t.push(e)),t}function n3(e,t,i,s){var r=e.key,n=e.type,o=i-1,a=i+1,l=t[i];if(l===null||l&&r==l.key&&n===l.type&&!(131072&l.__u))return i;if(s>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&!(131072&l.__u)&&r==l.key&&n===l.type)return o;o--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&r==l.key&&n===l.type)return a;a++}}return-1}function i0(e,t,i){t[0]==="-"?e.setProperty(t,i??""):e[t]=i==null?"":typeof i!="number"||s3.test(t)?i:i+"px"}function Ru(e,t,i,s,r){var n;e:if(t==="style")if(typeof i=="string")e.style.cssText=i;else{if(typeof s=="string"&&(e.style.cssText=s=""),s)for(t in s)i&&t in i||i0(e.style,t,"");if(i)for(t in i)s&&i[t]===s[t]||i0(e.style,t,i[t])}else if(t[0]==="o"&&t[1]==="n")n=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+n]=i,i?s?i.u=s.u:(i.u=hm,e.addEventListener(t,n?Bp:Np,n)):e.removeEventListener(t,n?Bp:Np,n);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&i==1?"":i))}}function s0(e){return function(t){if(this.l){var i=this.l[t.type+e];if(t.t==null)t.t=hm++;else if(t.t<i.u)return;return i(Ge.event?Ge.event(t):t)}}}function fm(e,t,i,s,r,n,o,a,l,c){var d,u,f,g,m,y,b,S,I,F,G,L,T,O,Q,V,U=t.type;if(t.constructor!==void 0)return null;128&i.__u&&(l=!!(32&i.__u),n=[a=t.__e=i.__e]),(d=Ge.__b)&&d(t);e:if(typeof U=="function")try{if(S=t.props,I="prototype"in U&&U.prototype.render,F=(d=U.contextType)&&s[d.__c],G=d?F?F.props.value:d.__:s,i.__c?b=(u=t.__c=i.__c).__=u.__E:(I?t.__c=u=new U(S,G):(t.__c=u=new dr(S,G),u.constructor=U,u.render=a3),F&&F.sub(u),u.props=S,u.state||(u.state={}),u.context=G,u.__n=s,f=u.__d=!0,u.__h=[],u._sb=[]),I&&u.__s==null&&(u.__s=u.state),I&&U.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=hn({},u.__s)),hn(u.__s,U.getDerivedStateFromProps(S,u.__s))),g=u.props,m=u.state,u.__v=t,f)I&&U.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),I&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(I&&U.getDerivedStateFromProps==null&&S!==g&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(S,G),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(S,u.__s,G)===!1||t.__v===i.__v)){for(t.__v!==i.__v&&(u.props=S,u.state=u.__s,u.__d=!1),t.__e=i.__e,t.__k=i.__k,t.__k.some(function(M){M&&(M.__=t)}),L=0;L<u._sb.length;L++)u.__h.push(u._sb[L]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(S,u.__s,G),I&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(g,m,y)})}if(u.context=G,u.props=S,u.__P=e,u.__e=!1,T=Ge.__r,O=0,I){for(u.state=u.__s,u.__d=!1,T&&T(t),d=u.render(u.props,u.state,u.context),Q=0;Q<u._sb.length;Q++)u.__h.push(u._sb[Q]);u._sb=[]}else do u.__d=!1,T&&T(t),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++O<25);u.state=u.__s,u.getChildContext!=null&&(s=hn(hn({},s),u.getChildContext())),I&&!f&&u.getSnapshotBeforeUpdate!=null&&(y=u.getSnapshotBeforeUpdate(g,m)),Jy(e,Zh(V=d!=null&&d.type===Ti&&d.key==null?d.props.children:d)?V:[V],t,i,s,r,n,o,a,l,c),u.base=t.__e,t.__u&=-161,u.__h.length&&o.push(u),b&&(u.__E=u.__=null)}catch(M){if(t.__v=null,l||n!=null){for(t.__u|=l?160:128;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;n[n.indexOf(a)]=null,t.__e=a}else t.__e=i.__e,t.__k=i.__k;Ge.__e(M,t,i)}else n==null&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=o3(i.__e,t,i,s,r,n,o,l,c);(d=Ge.diffed)&&d(t)}function qy(e,t,i){t.__d=void 0;for(var s=0;s<i.length;s++)pm(i[s],i[++s],i[++s]);Ge.__c&&Ge.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){Ge.__e(n,r.__v)}})}function o3(e,t,i,s,r,n,o,a,l){var c,d,u,f,g,m,y,b=i.props,S=t.props,I=t.type;if(I==="svg"?r="http://www.w3.org/2000/svg":I==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),n!=null){for(c=0;c<n.length;c++)if((g=n[c])&&"setAttribute"in g==!!I&&(I?g.localName===I:g.nodeType===3)){e=g,n[c]=null;break}}if(e==null){if(I===null)return document.createTextNode(S);e=document.createElementNS(r,I,S.is&&S),a&&(Ge.__m&&Ge.__m(t,n),a=!1),n=null}if(I===null)b===S||a&&e.data===S||(e.data=S);else{if(n=n&&Xd.call(e.childNodes),b=i.props||td,!a&&n!=null)for(b={},c=0;c<e.attributes.length;c++)b[(g=e.attributes[c]).name]=g.value;for(c in b)if(g=b[c],c!="children"){if(c=="dangerouslySetInnerHTML")u=g;else if(!(c in S)){if(c=="value"&&"defaultValue"in S||c=="checked"&&"defaultChecked"in S)continue;Ru(e,c,null,g,r)}}for(c in S)g=S[c],c=="children"?f=g:c=="dangerouslySetInnerHTML"?d=g:c=="value"?m=g:c=="checked"?y=g:a&&typeof g!="function"||b[c]===g||Ru(e,c,g,b[c],r);if(d)a||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),Jy(e,Zh(f)?f:[f],t,i,s,I==="foreignObject"?"http://www.w3.org/1999/xhtml":r,n,o,n?n[0]:i.__k&&gl(i,0),a,l),n!=null)for(c=n.length;c--;)jy(n[c]);a||(c="value",I==="progress"&&m==null?e.removeAttribute("value"):m!==void 0&&(m!==e[c]||I==="progress"&&!m||I==="option"&&m!==b[c])&&Ru(e,c,m,b[c],r),c="checked",y!==void 0&&y!==e[c]&&Ru(e,c,y,b[c],r))}return e}function pm(e,t,i){try{if(typeof e=="function"){var s=typeof e.__u=="function";s&&e.__u(),s&&t==null||(e.__u=e(t))}else e.current=t}catch(r){Ge.__e(r,i)}}function Ky(e,t,i){var s,r;if(Ge.unmount&&Ge.unmount(e),(s=e.ref)&&(s.current&&s.current!==e.__e||pm(s,null,t)),(s=e.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(n){Ge.__e(n,t)}s.base=s.__P=null}if(s=e.__k)for(r=0;r<s.length;r++)s[r]&&Ky(s[r],t,i||typeof e.type!="function");i||jy(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function a3(e,t,i){return this.constructor(e,i)}function po(e,t,i){var s,r,n,o;Ge.__&&Ge.__(e,t),r=(s=typeof i=="function")?null:i&&i.__k||t.__k,n=[],o=[],fm(t,e=(!s&&i||t).__k=Zr(Ti,null,[e]),r||td,td,t.namespaceURI,!s&&i?[i]:r?null:t.firstChild?Xd.call(t.childNodes):null,n,!s&&i?i:r?r.__e:t.firstChild,s,o),qy(n,e,o)}function $y(e,t){po(e,t,$y)}function l3(e,t,i){var s,r,n,o,a=hn({},e.props);for(n in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)n=="key"?s=t[n]:n=="ref"?r=t[n]:a[n]=t[n]===void 0&&o!==void 0?o[n]:t[n];return arguments.length>2&&(a.children=arguments.length>3?Xd.call(arguments,2):i),Oc(e.type,a,s||e.key,r||e.ref,null)}function e1(e,t){var i={__c:t="__cC"+Yy++,__:e,Consumer:function(s,r){return s.children(r)},Provider:function(s){var r,n;return this.getChildContext||(r=new Set,(n={})[t]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.forEach(function(a){a.__e=!0,Vp(a)})},this.sub=function(o){r.add(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){r&&r.delete(o),a&&a.call(o)}}),s.children}};return i.Provider.__=i.Consumer.contextType=i}Xd=zy.slice,Ge={__e:function(e,t,i,s){for(var r,n,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((n=r.constructor)&&n.getDerivedStateFromError!=null&&(r.setState(n.getDerivedStateFromError(e)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,s||{}),o=r.__d),o)return r.__E=r}catch(a){e=a}throw e}},Zy=0,dr.prototype.setState=function(e,t){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=hn({},this.state),typeof e=="function"&&(e=e(hn({},i),this.props)),e&&hn(i,e),e!=null&&this.__v&&(t&&this._sb.push(t),Vp(this))},dr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Vp(this))},dr.prototype.render=Ti,Uo=[],Hy=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Tp=function(e,t){return e.__v.__b-t.__v.__b},Ku.__r=0,hm=0,Np=s0(!1),Bp=s0(!0),Yy=0;var c3=0;function $(e,t,i,s,r,n){t||(t={});var o,a,l=t;"ref"in t&&(o=t.ref,delete t.ref);var c={type:e,props:l,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--c3,__i:-1,__u:0,__source:r,__self:n};if(typeof e=="function"&&(o=e.defaultProps))for(a in o)l[a]===void 0&&(l[a]=o[a]);return Ge.vnode&&Ge.vnode(c),c}var Sn,xt,Vf,r0,ml=0,t1=[],$t=Ge,n0=$t.__b,o0=$t.__r,a0=$t.diffed,l0=$t.__c,c0=$t.unmount,d0=$t.__;function Wa(e,t){$t.__h&&$t.__h(xt,e,ml||t),ml=0;var i=xt.__H||(xt.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function Hr(e){return ml=1,Hh(i1,e)}function Hh(e,t,i){var s=Wa(Sn++,2);if(s.t=e,!s.__c&&(s.__=[i?i(t):i1(void 0,t),function(a){var l=s.__N?s.__N[0]:s.__[0],c=s.t(l,a);l!==c&&(s.__N=[c,s.__[1]],s.__c.setState({}))}],s.__c=xt,!xt.u)){var r=function(a,l,c){if(!s.__c.__H)return!0;var d=s.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!n||n.call(this,a,l,c);var u=!1;return d.forEach(function(f){if(f.__N){var g=f.__[0];f.__=f.__N,f.__N=void 0,g!==f.__[0]&&(u=!0)}}),!(!u&&s.__c.props===a)&&(!n||n.call(this,a,l,c))};xt.u=!0;var n=xt.shouldComponentUpdate,o=xt.componentWillUpdate;xt.componentWillUpdate=function(a,l,c){if(this.__e){var d=n;n=void 0,r(a,l,c),n=d}o&&o.call(this,a,l,c)},xt.shouldComponentUpdate=r}return s.__N||s.__}function fn(e,t){var i=Wa(Sn++,3);!$t.__s&&ym(i.__H,t)&&(i.__=e,i.i=t,xt.__H.__h.push(i))}function Jl(e,t){var i=Wa(Sn++,4);!$t.__s&&ym(i.__H,t)&&(i.__=e,i.i=t,xt.__h.push(i))}function Jd(e){return ml=5,Ql(function(){return{current:e}},[])}function gm(e,t,i){ml=6,Jl(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},i==null?i:i.concat(e))}function Ql(e,t){var i=Wa(Sn++,7);return ym(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function mm(e,t){return ml=8,Ql(function(){return e},t)}function vm(e){var t=xt.context[e.__c],i=Wa(Sn++,9);return i.c=e,t?(i.__==null&&(i.__=!0,t.sub(xt)),t.props.value):e.__}function bm(e,t){$t.useDebugValue&&$t.useDebugValue(t?t(e):e)}function d3(e){var t=Wa(Sn++,10),i=Hr();return t.__=e,xt.componentDidCatch||(xt.componentDidCatch=function(s,r){t.__&&t.__(s,r),i[1](s)}),[i[0],function(){i[1](void 0)}]}function Cm(){var e=Wa(Sn++,11);if(!e.__){for(var t=xt.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var i=t.__m||(t.__m=[0,0]);e.__="P"+i[0]+"-"+i[1]++}return e.__}function u3(){for(var e;e=t1.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Pu),e.__H.__h.forEach(Op),e.__H.__h=[]}catch(t){e.__H.__h=[],$t.__e(t,e.__v)}}$t.__b=function(e){xt=null,n0&&n0(e)},$t.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),d0&&d0(e,t)},$t.__r=function(e){o0&&o0(e),Sn=0;var t=(xt=e.__c).__H;t&&(Vf===xt?(t.__h=[],xt.__h=[],t.__.forEach(function(i){i.__N&&(i.__=i.__N),i.i=i.__N=void 0})):(t.__h.forEach(Pu),t.__h.forEach(Op),t.__h=[],Sn=0)),Vf=xt},$t.diffed=function(e){a0&&a0(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(t1.push(t)!==1&&r0===$t.requestAnimationFrame||((r0=$t.requestAnimationFrame)||h3)(u3)),t.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.i=void 0})),Vf=xt=null},$t.__c=function(e,t){t.some(function(i){try{i.__h.forEach(Pu),i.__h=i.__h.filter(function(s){return!s.__||Op(s)})}catch(s){t.some(function(r){r.__h&&(r.__h=[])}),t=[],$t.__e(s,i.__v)}}),l0&&l0(e,t)},$t.unmount=function(e){c0&&c0(e);var t,i=e.__c;i&&i.__H&&(i.__H.__.forEach(function(s){try{Pu(s)}catch(r){t=r}}),i.__H=void 0,t&&$t.__e(t,i.__v))};var u0=typeof requestAnimationFrame=="function";function h3(e){var t,i=function(){clearTimeout(s),u0&&cancelAnimationFrame(t),setTimeout(e)},s=setTimeout(i,100);u0&&(t=requestAnimationFrame(i))}function Pu(e){var t=xt,i=e.__c;typeof i=="function"&&(e.__c=void 0,i()),xt=t}function Op(e){var t=xt;e.__c=e.__(),xt=t}function ym(e,t){return!e||e.length!==t.length||t.some(function(i,s){return i!==e[s]})}function i1(e,t){return typeof t=="function"?t(e):t}const h0=e=>{let t;const i=new Set,s=(c,d)=>{const u=typeof c=="function"?c(t):c;if(!Object.is(u,t)){const f=t;t=d??(typeof u!="object"||u===null)?u:Object.assign({},t,u),i.forEach(g=>g(t,f))}},r=()=>t,a={setState:s,getState:r,getInitialState:()=>l,subscribe:c=>(i.add(c),()=>i.delete(c))},l=t=e(s,r,a);return a},f3=e=>e?h0(e):h0;function Pp(e,t){for(var i in e)if(i!=="__source"&&!(i in t))return!0;for(var s in t)if(s!=="__source"&&e[s]!==t[s])return!0;return!1}function $u(e,t){this.props=e,this.context=t}function s1(e,t){function i(r){var n=this.props.ref,o=n==r.ref;return!o&&n&&(n.call?n(null):n.current=null),t?!t(this.props,r)||!o:Pp(this.props,r)}function s(r){return this.shouldComponentUpdate=i,Zr(e,r)}return s.displayName="Memo("+(e.displayName||e.name)+")",s.prototype.isReactComponent=!0,s.__f=!0,s}($u.prototype=new dr).isPureReactComponent=!0,$u.prototype.shouldComponentUpdate=function(e,t){return Pp(this.props,e)||Pp(this.state,t)};var f0=Ge.__b;Ge.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),f0&&f0(e)};var p3=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function r1(e){function t(i){if(!("ref"in i))return e(i,null);var s=i.ref;delete i.ref;var r=e(i,s);return i.ref=s,r}return t.$$typeof=p3,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var p0=function(e,t){return e==null?null:Cn(Cn(e).map(t))},n1={map:p0,forEach:p0,count:function(e){return e?Cn(e).length:0},only:function(e){var t=Cn(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:Cn},g3=Ge.__e;Ge.__e=function(e,t,i,s){if(e.then){for(var r,n=t;n=n.__;)if((r=n.__c)&&r.__c)return t.__e==null&&(t.__e=i.__e,t.__k=i.__k),r.__c(e,t)}g3(e,t,i,s)};var g0=Ge.unmount;function o1(e,t,i){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(s){typeof s.__c=="function"&&s.__c()}),e.__c.__H=null),(e=function(s,r){for(var n in r)s[n]=r[n];return s}({},e)).__c!=null&&(e.__c.__P===i&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(s){return o1(s,t,i)})),e}function a1(e,t,i){return e&&i&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(s){return a1(s,t,i)}),e.__c&&e.__c.__P===t&&(e.__e&&i.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=i)),e}function Pc(){this.__u=0,this.t=null,this.__b=null}function l1(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function c1(e){var t,i,s;function r(n){if(t||(t=e()).then(function(o){i=o.default||o},function(o){s=o}),s)throw s;if(!i)throw t;return Zr(i,n)}return r.displayName="Lazy",r.__f=!0,r}function el(){this.u=null,this.o=null}Ge.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),g0&&g0(e)},(Pc.prototype=new dr).__c=function(e,t){var i=t.__c,s=this;s.t==null&&(s.t=[]),s.t.push(i);var r=l1(s.__v),n=!1,o=function(){n||(n=!0,i.__R=null,r?r(a):a())};i.__R=o;var a=function(){if(!--s.__u){if(s.state.__a){var l=s.state.__a;s.__v.__k[0]=a1(l,l.__c.__P,l.__c.__O)}var c;for(s.setState({__a:s.__b=null});c=s.t.pop();)c.forceUpdate()}};s.__u++||32&t.__u||s.setState({__a:s.__b=s.__v.__k[0]}),e.then(o,o)},Pc.prototype.componentWillUnmount=function(){this.t=[]},Pc.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=o1(this.__b,i,s.__O=s.__P)}this.__b=null}var r=t.__a&&Zr(Ti,null,e.fallback);return r&&(r.__u&=-33),[Zr(Ti,null,t.__a?null:e.children),r]};var m0=function(e,t,i){if(++i[1]===i[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(i=e.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;e.u=i=i[2]}};function m3(e){return this.getChildContext=function(){return e.context},e.children}function v3(e){var t=this,i=e.i;t.componentWillUnmount=function(){po(null,t.l),t.l=null,t.i=null},t.i&&t.i!==i&&t.componentWillUnmount(),t.l||(t.i=i,t.l={nodeType:1,parentNode:i,childNodes:[],contains:function(){return!0},appendChild:function(s){this.childNodes.push(s),t.i.appendChild(s)},insertBefore:function(s,r){this.childNodes.push(s),t.i.appendChild(s)},removeChild:function(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),t.i.removeChild(s)}}),po(Zr(m3,{context:t.context},e.__v),t.l)}function d1(e,t){var i=Zr(v3,{__v:e,i:t});return i.containerInfo=t,i}(el.prototype=new dr).__a=function(e){var t=this,i=l1(t.__v),s=t.o.get(e);return s[0]++,function(r){var n=function(){t.props.revealOrder?(s.push(r),m0(t,e,s)):r()};i?i(n):n()}},el.prototype.render=function(e){this.u=null,this.o=new Map;var t=Cn(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var i=t.length;i--;)this.o.set(t[i],this.u=[1,0,this.u]);return e.children},el.prototype.componentDidUpdate=el.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,i){m0(e,i,t)})};var u1=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,b3=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,C3=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,y3=/[A-Z0-9]/g,w3=typeof document<"u",S3=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function h1(e,t,i){return t.__k==null&&(t.textContent=""),po(e,t),typeof i=="function"&&i(),e?e.__c:null}function f1(e,t,i){return $y(e,t),typeof i=="function"&&i(),e?e.__c:null}dr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(dr.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var v0=Ge.event;function R3(){}function A3(){return this.cancelBubble}function I3(){return this.defaultPrevented}Ge.event=function(e){return v0&&(e=v0(e)),e.persist=R3,e.isPropagationStopped=A3,e.isDefaultPrevented=I3,e.nativeEvent=e};var wm,F3={enumerable:!1,configurable:!0,get:function(){return this.class}},b0=Ge.vnode;Ge.vnode=function(e){typeof e.type=="string"&&function(t){var i=t.props,s=t.type,r={},n=s.indexOf("-")===-1;for(var o in i){var a=i[o];if(!(o==="value"&&"defaultValue"in i&&a==null||w3&&o==="children"&&s==="noscript"||o==="class"||o==="className")){var l=o.toLowerCase();o==="defaultValue"&&"value"in i&&i.value==null?o="value":o==="download"&&a===!0?a="":l==="translate"&&a==="no"?a=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?o="ondblclick":l!=="onchange"||s!=="input"&&s!=="textarea"||S3(i.type)?l==="onfocus"?o="onfocusin":l==="onblur"?o="onfocusout":C3.test(o)&&(o=l):l=o="oninput":n&&b3.test(o)?o=o.replace(y3,"-$&").toLowerCase():a===null&&(a=void 0),l==="oninput"&&r[o=l]&&(o="oninputCapture"),r[o]=a}}s=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Cn(i.children).forEach(function(c){c.props.selected=r.value.indexOf(c.props.value)!=-1})),s=="select"&&r.defaultValue!=null&&(r.value=Cn(i.children).forEach(function(c){c.props.selected=r.multiple?r.defaultValue.indexOf(c.props.value)!=-1:r.defaultValue==c.props.value})),i.class&&!i.className?(r.class=i.class,Object.defineProperty(r,"className",F3)):(i.className&&!i.class||i.class&&i.className)&&(r.class=r.className=i.className),t.props=r}(e),e.$$typeof=u1,b0&&b0(e)};var C0=Ge.__r;Ge.__r=function(e){C0&&C0(e),wm=e.__c};var y0=Ge.diffed;Ge.diffed=function(e){y0&&y0(e);var t=e.props,i=e.__e;i!=null&&e.type==="textarea"&&"value"in t&&t.value!==i.value&&(i.value=t.value==null?"":t.value),wm=null};var p1={ReactCurrentDispatcher:{current:{readContext:function(e){return wm.__n[e.__c].props.value},useCallback:mm,useContext:vm,useDebugValue:bm,useDeferredValue:Rm,useEffect:fn,useId:Cm,useImperativeHandle:gm,useInsertionEffect:Im,useLayoutEffect:Jl,useMemo:Ql,useReducer:Hh,useRef:Jd,useState:Hr,useSyncExternalStore:Fm,useTransition:Am}}},E3="18.3.1";function g1(e){return Zr.bind(null,e)}function Qd(e){return!!e&&e.$$typeof===u1}function m1(e){return Qd(e)&&e.type===Ti}function v1(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function b1(e){return Qd(e)?l3.apply(null,arguments):e}function C1(e){return!!e.__k&&(po(null,e),!0)}function y1(e){return e&&(e.base||e.nodeType===1&&e)||null}var w1=function(e,t){return e(t)},S1=function(e,t){return e(t)},R1=Ti;function Sm(e){e()}function Rm(e){return e}function Am(){return[!1,Sm]}var Im=Jl,A1=Qd;function Fm(e,t){var i=t(),s=Hr({h:{__:i,v:t}}),r=s[0].h,n=s[1];return Jl(function(){r.__=i,r.v=t,Of(r)&&n({h:r})},[e,i,t]),fn(function(){return Of(r)&&n({h:r}),e(function(){Of(r)&&n({h:r})})},[e]),i}function Of(e){var t,i,s=e.v,r=e.__;try{var n=s();return!((t=r)===(i=n)&&(t!==0||1/t==1/i)||t!=t&&i!=i)}catch{return!0}}var Lp={useState:Hr,useId:Cm,useReducer:Hh,useEffect:fn,useLayoutEffect:Jl,useInsertionEffect:Im,useTransition:Am,useDeferredValue:Rm,useSyncExternalStore:Fm,startTransition:Sm,useRef:Jd,useImperativeHandle:gm,useMemo:Ql,useCallback:mm,useContext:vm,useDebugValue:bm,version:"18.3.1",Children:n1,render:h1,hydrate:f1,unmountComponentAtNode:C1,createPortal:d1,createElement:Zr,createContext:e1,createFactory:g1,cloneElement:b1,createRef:Uy,Fragment:Ti,isValidElement:Qd,isElement:A1,isFragment:m1,isMemo:v1,findDOMNode:y1,Component:dr,PureComponent:$u,memo:s1,forwardRef:r1,flushSync:S1,unstable_batchedUpdates:w1,StrictMode:R1,Suspense:Pc,SuspenseList:el,lazy:c1,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:p1};const M3=Object.freeze(Object.defineProperty({__proto__:null,Children:n1,Component:dr,Fragment:Ti,PureComponent:$u,StrictMode:R1,Suspense:Pc,SuspenseList:el,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:p1,cloneElement:b1,createContext:e1,createElement:Zr,createFactory:g1,createPortal:d1,createRef:Uy,default:Lp,findDOMNode:y1,flushSync:S1,forwardRef:r1,hydrate:f1,isElement:A1,isFragment:m1,isMemo:v1,isValidElement:Qd,lazy:c1,memo:s1,render:h1,startTransition:Sm,unmountComponentAtNode:C1,unstable_batchedUpdates:w1,useCallback:mm,useContext:vm,useDebugValue:bm,useDeferredValue:Rm,useEffect:fn,useErrorBoundary:d3,useId:Cm,useImperativeHandle:gm,useInsertionEffect:Im,useLayoutEffect:Jl,useMemo:Ql,useReducer:Hh,useRef:Jd,useState:Hr,useSyncExternalStore:Fm,useTransition:Am,version:E3},Symbol.toStringTag,{value:"Module"})),x3=e=>e;function k3(e,t=x3){const i=Lp.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Lp.useDebugValue(i),i}const _3=e=>{const t=f3(e),i=s=>k3(t,s);return Object.assign(i,t),i},qd=e=>_3,G3=e=>(t,i,s)=>{const r=s.subscribe;return s.subscribe=(o,a,l)=>{let c=o;if(a){const d=(l==null?void 0:l.equalityFn)||Object.is;let u=o(s.getState());c=f=>{const g=o(f);if(!d(u,g)){const m=u;a(u=g,m)}},l!=null&&l.fireImmediately&&a(u,u)}return r(c)},e(t,i,s)},Kd=G3;var D3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Em(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(i,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),i}var Mm={exports:{}};const W3={},T3=Object.freeze(Object.defineProperty({__proto__:null,default:W3},Symbol.toStringTag,{value:"Module"})),I1=Em(T3);var Pf;Mm.exports=function(t){return Pf||(Pf=new eo(null)),Pf.generate(t)};function eo(e){this.rand=e}Mm.exports.Rand=eo;eo.prototype.generate=function(t){return this._rand(t)};eo.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var i=new Uint8Array(t),s=0;s<i.length;s++)i[s]=this.rand.getByte();return i};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?eo.prototype._rand=function(t){var i=new Uint8Array(t);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?eo.prototype._rand=function(t){var i=new Uint8Array(t);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(eo.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var w0=I1;if(typeof w0.randomBytes!="function")throw new Error("Not supported");eo.prototype._rand=function(t){return w0.randomBytes(t)}}catch{}var xm=Mm.exports;const N3=Yh(xm);var Tr={},Xe={},Ta=F1;function F1(e,t){if(!e)throw new Error(t||"Assertion failed")}F1.equal=function(t,i,s){if(t!=i)throw new Error(s||"Assertion failed: "+t+" != "+i)};var Zp={exports:{}};typeof Object.create=="function"?Zp.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Zp.exports=function(t,i){if(i){t.super_=i;var s=function(){};s.prototype=i.prototype,t.prototype=new s,t.prototype.constructor=t}};var zh=Zp.exports,B3=Ta,V3=zh;Xe.inherits=V3;function O3(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function P3(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),r=0;r<e.length;r+=2)i.push(parseInt(e[r]+e[r+1],16))}else for(var s=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?i[s++]=n:n<2048?(i[s++]=n>>6|192,i[s++]=n&63|128):O3(e,r)?(n=65536+((n&1023)<<10)+(e.charCodeAt(++r)&1023),i[s++]=n>>18|240,i[s++]=n>>12&63|128,i[s++]=n>>6&63|128,i[s++]=n&63|128):(i[s++]=n>>12|224,i[s++]=n>>6&63|128,i[s++]=n&63|128)}else for(r=0;r<e.length;r++)i[r]=e[r]|0;return i}Xe.toArray=P3;function L3(e){for(var t="",i=0;i<e.length;i++)t+=M1(e[i].toString(16));return t}Xe.toHex=L3;function E1(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Xe.htonl=E1;function Z3(e,t){for(var i="",s=0;s<e.length;s++){var r=e[s];t==="little"&&(r=E1(r)),i+=x1(r.toString(16))}return i}Xe.toHex32=Z3;function M1(e){return e.length===1?"0"+e:e}Xe.zero2=M1;function x1(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Xe.zero8=x1;function H3(e,t,i,s){var r=i-t;B3(r%4===0);for(var n=new Array(r/4),o=0,a=t;o<n.length;o++,a+=4){var l;s==="big"?l=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:l=e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],n[o]=l>>>0}return n}Xe.join32=H3;function Y3(e,t){for(var i=new Array(e.length*4),s=0,r=0;s<e.length;s++,r+=4){var n=e[s];t==="big"?(i[r]=n>>>24,i[r+1]=n>>>16&255,i[r+2]=n>>>8&255,i[r+3]=n&255):(i[r+3]=n>>>24,i[r+2]=n>>>16&255,i[r+1]=n>>>8&255,i[r]=n&255)}return i}Xe.split32=Y3;function z3(e,t){return e>>>t|e<<32-t}Xe.rotr32=z3;function j3(e,t){return e<<t|e>>>32-t}Xe.rotl32=j3;function U3(e,t){return e+t>>>0}Xe.sum32=U3;function X3(e,t,i){return e+t+i>>>0}Xe.sum32_3=X3;function J3(e,t,i,s){return e+t+i+s>>>0}Xe.sum32_4=J3;function Q3(e,t,i,s,r){return e+t+i+s+r>>>0}Xe.sum32_5=Q3;function q3(e,t,i,s){var r=e[t],n=e[t+1],o=s+n>>>0,a=(o<s?1:0)+i+r;e[t]=a>>>0,e[t+1]=o}Xe.sum64=q3;function K3(e,t,i,s){var r=t+s>>>0,n=(r<t?1:0)+e+i;return n>>>0}Xe.sum64_hi=K3;function $3(e,t,i,s){var r=t+s;return r>>>0}Xe.sum64_lo=$3;function eA(e,t,i,s,r,n,o,a){var l=0,c=t;c=c+s>>>0,l+=c<t?1:0,c=c+n>>>0,l+=c<n?1:0,c=c+a>>>0,l+=c<a?1:0;var d=e+i+r+o+l;return d>>>0}Xe.sum64_4_hi=eA;function tA(e,t,i,s,r,n,o,a){var l=t+s+n+a;return l>>>0}Xe.sum64_4_lo=tA;function iA(e,t,i,s,r,n,o,a,l,c){var d=0,u=t;u=u+s>>>0,d+=u<t?1:0,u=u+n>>>0,d+=u<n?1:0,u=u+a>>>0,d+=u<a?1:0,u=u+c>>>0,d+=u<c?1:0;var f=e+i+r+o+l+d;return f>>>0}Xe.sum64_5_hi=iA;function sA(e,t,i,s,r,n,o,a,l,c){var d=t+s+n+a+c;return d>>>0}Xe.sum64_5_lo=sA;function rA(e,t,i){var s=t<<32-i|e>>>i;return s>>>0}Xe.rotr64_hi=rA;function nA(e,t,i){var s=e<<32-i|t>>>i;return s>>>0}Xe.rotr64_lo=nA;function oA(e,t,i){return e>>>i}Xe.shr64_hi=oA;function aA(e,t,i){var s=e<<32-i|t>>>i;return s>>>0}Xe.shr64_lo=aA;var ql={},S0=Xe,lA=Ta;function jh(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ql.BlockHash=jh;jh.prototype.update=function(t,i){if(t=S0.toArray(t,i),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var s=t.length%this._delta8;this.pending=t.slice(t.length-s,t.length),this.pending.length===0&&(this.pending=null),t=S0.join32(t,0,t.length-s,this.endian);for(var r=0;r<t.length;r+=this._delta32)this._update(t,r,r+this._delta32)}return this};jh.prototype.digest=function(t){return this.update(this._pad()),lA(this.pending===null),this._digest(t)};jh.prototype._pad=function(){var t=this.pendingTotal,i=this._delta8,s=i-(t+this.padLength)%i,r=new Array(s+this.padLength);r[0]=128;for(var n=1;n<s;n++)r[n]=0;if(t<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)r[n++]=0;r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=t>>>24&255,r[n++]=t>>>16&255,r[n++]=t>>>8&255,r[n++]=t&255}else for(r[n++]=t&255,r[n++]=t>>>8&255,r[n++]=t>>>16&255,r[n++]=t>>>24&255,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,o=8;o<this.padLength;o++)r[n++]=0;return r};var Kl={},tn={},cA=Xe,Nr=cA.rotr32;function dA(e,t,i,s){if(e===0)return k1(t,i,s);if(e===1||e===3)return G1(t,i,s);if(e===2)return _1(t,i,s)}tn.ft_1=dA;function k1(e,t,i){return e&t^~e&i}tn.ch32=k1;function _1(e,t,i){return e&t^e&i^t&i}tn.maj32=_1;function G1(e,t,i){return e^t^i}tn.p32=G1;function uA(e){return Nr(e,2)^Nr(e,13)^Nr(e,22)}tn.s0_256=uA;function hA(e){return Nr(e,6)^Nr(e,11)^Nr(e,25)}tn.s1_256=hA;function fA(e){return Nr(e,7)^Nr(e,18)^e>>>3}tn.g0_256=fA;function pA(e){return Nr(e,17)^Nr(e,19)^e>>>10}tn.g1_256=pA;var vl=Xe,gA=ql,mA=tn,Lf=vl.rotl32,wc=vl.sum32,vA=vl.sum32_5,bA=mA.ft_1,D1=gA.BlockHash,CA=[1518500249,1859775393,2400959708,3395469782];function Yr(){if(!(this instanceof Yr))return new Yr;D1.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}vl.inherits(Yr,D1);var yA=Yr;Yr.blockSize=512;Yr.outSize=160;Yr.hmacStrength=80;Yr.padLength=64;Yr.prototype._update=function(t,i){for(var s=this.W,r=0;r<16;r++)s[r]=t[i+r];for(;r<s.length;r++)s[r]=Lf(s[r-3]^s[r-8]^s[r-14]^s[r-16],1);var n=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4];for(r=0;r<s.length;r++){var d=~~(r/20),u=vA(Lf(n,5),bA(d,o,a,l),c,s[r],CA[d]);c=l,l=a,a=Lf(o,30),o=n,n=u}this.h[0]=wc(this.h[0],n),this.h[1]=wc(this.h[1],o),this.h[2]=wc(this.h[2],a),this.h[3]=wc(this.h[3],l),this.h[4]=wc(this.h[4],c)};Yr.prototype._digest=function(t){return t==="hex"?vl.toHex32(this.h,"big"):vl.split32(this.h,"big")};var bl=Xe,wA=ql,$l=tn,SA=Ta,ir=bl.sum32,RA=bl.sum32_4,AA=bl.sum32_5,IA=$l.ch32,FA=$l.maj32,EA=$l.s0_256,MA=$l.s1_256,xA=$l.g0_256,kA=$l.g1_256,W1=wA.BlockHash,_A=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function zr(){if(!(this instanceof zr))return new zr;W1.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_A,this.W=new Array(64)}bl.inherits(zr,W1);var T1=zr;zr.blockSize=512;zr.outSize=256;zr.hmacStrength=192;zr.padLength=64;zr.prototype._update=function(t,i){for(var s=this.W,r=0;r<16;r++)s[r]=t[i+r];for(;r<s.length;r++)s[r]=RA(kA(s[r-2]),s[r-7],xA(s[r-15]),s[r-16]);var n=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4],d=this.h[5],u=this.h[6],f=this.h[7];for(SA(this.k.length===s.length),r=0;r<s.length;r++){var g=AA(f,MA(c),IA(c,d,u),this.k[r],s[r]),m=ir(EA(n),FA(n,o,a));f=u,u=d,d=c,c=ir(l,g),l=a,a=o,o=n,n=ir(g,m)}this.h[0]=ir(this.h[0],n),this.h[1]=ir(this.h[1],o),this.h[2]=ir(this.h[2],a),this.h[3]=ir(this.h[3],l),this.h[4]=ir(this.h[4],c),this.h[5]=ir(this.h[5],d),this.h[6]=ir(this.h[6],u),this.h[7]=ir(this.h[7],f)};zr.prototype._digest=function(t){return t==="hex"?bl.toHex32(this.h,"big"):bl.split32(this.h,"big")};var Hp=Xe,N1=T1;function Rn(){if(!(this instanceof Rn))return new Rn;N1.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Hp.inherits(Rn,N1);var GA=Rn;Rn.blockSize=512;Rn.outSize=224;Rn.hmacStrength=192;Rn.padLength=64;Rn.prototype._digest=function(t){return t==="hex"?Hp.toHex32(this.h.slice(0,7),"big"):Hp.split32(this.h.slice(0,7),"big")};var gs=Xe,DA=ql,WA=Ta,Br=gs.rotr64_hi,Vr=gs.rotr64_lo,B1=gs.shr64_hi,V1=gs.shr64_lo,Yn=gs.sum64,Zf=gs.sum64_hi,Hf=gs.sum64_lo,TA=gs.sum64_4_hi,NA=gs.sum64_4_lo,BA=gs.sum64_5_hi,VA=gs.sum64_5_lo,O1=DA.BlockHash,OA=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function fr(){if(!(this instanceof fr))return new fr;O1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=OA,this.W=new Array(160)}gs.inherits(fr,O1);var P1=fr;fr.blockSize=1024;fr.outSize=512;fr.hmacStrength=192;fr.padLength=128;fr.prototype._prepareBlock=function(t,i){for(var s=this.W,r=0;r<32;r++)s[r]=t[i+r];for(;r<s.length;r+=2){var n=QA(s[r-4],s[r-3]),o=qA(s[r-4],s[r-3]),a=s[r-14],l=s[r-13],c=XA(s[r-30],s[r-29]),d=JA(s[r-30],s[r-29]),u=s[r-32],f=s[r-31];s[r]=TA(n,o,a,l,c,d,u,f),s[r+1]=NA(n,o,a,l,c,d,u,f)}};fr.prototype._update=function(t,i){this._prepareBlock(t,i);var s=this.W,r=this.h[0],n=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],d=this.h[6],u=this.h[7],f=this.h[8],g=this.h[9],m=this.h[10],y=this.h[11],b=this.h[12],S=this.h[13],I=this.h[14],F=this.h[15];WA(this.k.length===s.length);for(var G=0;G<s.length;G+=2){var L=I,T=F,O=jA(f,g),Q=UA(f,g),V=PA(f,g,m,y,b),U=LA(f,g,m,y,b,S),M=this.k[G],v=this.k[G+1],w=s[G],R=s[G+1],A=BA(L,T,O,Q,V,U,M,v,w,R),k=VA(L,T,O,Q,V,U,M,v,w,R);L=YA(r,n),T=zA(r,n),O=ZA(r,n,o,a,l),Q=HA(r,n,o,a,l,c);var E=Zf(L,T,O,Q),D=Hf(L,T,O,Q);I=b,F=S,b=m,S=y,m=f,y=g,f=Zf(d,u,A,k),g=Hf(u,u,A,k),d=l,u=c,l=o,c=a,o=r,a=n,r=Zf(A,k,E,D),n=Hf(A,k,E,D)}Yn(this.h,0,r,n),Yn(this.h,2,o,a),Yn(this.h,4,l,c),Yn(this.h,6,d,u),Yn(this.h,8,f,g),Yn(this.h,10,m,y),Yn(this.h,12,b,S),Yn(this.h,14,I,F)};fr.prototype._digest=function(t){return t==="hex"?gs.toHex32(this.h,"big"):gs.split32(this.h,"big")};function PA(e,t,i,s,r){var n=e&i^~e&r;return n<0&&(n+=4294967296),n}function LA(e,t,i,s,r,n){var o=t&s^~t&n;return o<0&&(o+=4294967296),o}function ZA(e,t,i,s,r){var n=e&i^e&r^i&r;return n<0&&(n+=4294967296),n}function HA(e,t,i,s,r,n){var o=t&s^t&n^s&n;return o<0&&(o+=4294967296),o}function YA(e,t){var i=Br(e,t,28),s=Br(t,e,2),r=Br(t,e,7),n=i^s^r;return n<0&&(n+=4294967296),n}function zA(e,t){var i=Vr(e,t,28),s=Vr(t,e,2),r=Vr(t,e,7),n=i^s^r;return n<0&&(n+=4294967296),n}function jA(e,t){var i=Br(e,t,14),s=Br(e,t,18),r=Br(t,e,9),n=i^s^r;return n<0&&(n+=4294967296),n}function UA(e,t){var i=Vr(e,t,14),s=Vr(e,t,18),r=Vr(t,e,9),n=i^s^r;return n<0&&(n+=4294967296),n}function XA(e,t){var i=Br(e,t,1),s=Br(e,t,8),r=B1(e,t,7),n=i^s^r;return n<0&&(n+=4294967296),n}function JA(e,t){var i=Vr(e,t,1),s=Vr(e,t,8),r=V1(e,t,7),n=i^s^r;return n<0&&(n+=4294967296),n}function QA(e,t){var i=Br(e,t,19),s=Br(t,e,29),r=B1(e,t,6),n=i^s^r;return n<0&&(n+=4294967296),n}function qA(e,t){var i=Vr(e,t,19),s=Vr(t,e,29),r=V1(e,t,6),n=i^s^r;return n<0&&(n+=4294967296),n}var Yp=Xe,L1=P1;function An(){if(!(this instanceof An))return new An;L1.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Yp.inherits(An,L1);var KA=An;An.blockSize=1024;An.outSize=384;An.hmacStrength=192;An.padLength=128;An.prototype._digest=function(t){return t==="hex"?Yp.toHex32(this.h.slice(0,12),"big"):Yp.split32(this.h.slice(0,12),"big")};Kl.sha1=yA;Kl.sha224=GA;Kl.sha256=T1;Kl.sha384=KA;Kl.sha512=P1;var Z1={},ca=Xe,$A=ql,Au=ca.rotl32,R0=ca.sum32,Sc=ca.sum32_3,A0=ca.sum32_4,H1=$A.BlockHash;function jr(){if(!(this instanceof jr))return new jr;H1.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ca.inherits(jr,H1);Z1.ripemd160=jr;jr.blockSize=512;jr.outSize=160;jr.hmacStrength=192;jr.padLength=64;jr.prototype._update=function(t,i){for(var s=this.h[0],r=this.h[1],n=this.h[2],o=this.h[3],a=this.h[4],l=s,c=r,d=n,u=o,f=a,g=0;g<80;g++){var m=R0(Au(A0(s,I0(g,r,n,o),t[iI[g]+i],eI(g)),rI[g]),a);s=a,a=o,o=Au(n,10),n=r,r=m,m=R0(Au(A0(l,I0(79-g,c,d,u),t[sI[g]+i],tI(g)),nI[g]),f),l=f,f=u,u=Au(d,10),d=c,c=m}m=Sc(this.h[1],n,u),this.h[1]=Sc(this.h[2],o,f),this.h[2]=Sc(this.h[3],a,l),this.h[3]=Sc(this.h[4],s,c),this.h[4]=Sc(this.h[0],r,d),this.h[0]=m};jr.prototype._digest=function(t){return t==="hex"?ca.toHex32(this.h,"little"):ca.split32(this.h,"little")};function I0(e,t,i,s){return e<=15?t^i^s:e<=31?t&i|~t&s:e<=47?(t|~i)^s:e<=63?t&s|i&~s:t^(i|~s)}function eI(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function tI(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var iI=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],sI=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],rI=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],nI=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],oI=Xe,aI=Ta;function Cl(e,t,i){if(!(this instanceof Cl))return new Cl(e,t,i);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(oI.toArray(t,i))}var lI=Cl;Cl.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),aI(t.length<=this.blockSize);for(var i=t.length;i<this.blockSize;i++)t.push(0);for(i=0;i<t.length;i++)t[i]^=54;for(this.inner=new this.Hash().update(t),i=0;i<t.length;i++)t[i]^=106;this.outer=new this.Hash().update(t)};Cl.prototype.update=function(t,i){return this.inner.update(t,i),this};Cl.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(e){var t=e;t.utils=Xe,t.common=ql,t.sha=Kl,t.ripemd=Z1,t.hmac=lI,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(Tr);var km={exports:{}};km.exports;(function(e){(function(t,i){function s(M,v){if(!M)throw new Error(v||"Assertion failed")}function r(M,v){M.super_=v;var w=function(){};w.prototype=v.prototype,M.prototype=new w,M.prototype.constructor=M}function n(M,v,w){if(n.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((v==="le"||v==="be")&&(w=v,v=10),this._init(M||0,v||10,w||"be"))}typeof t=="object"?t.exports=n:i.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=I1.Buffer}catch{}n.isBN=function(v){return v instanceof n?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===n.wordSize&&Array.isArray(v.words)},n.max=function(v,w){return v.cmp(w)>0?v:w},n.min=function(v,w){return v.cmp(w)<0?v:w},n.prototype._init=function(v,w,R){if(typeof v=="number")return this._initNumber(v,w,R);if(typeof v=="object")return this._initArray(v,w,R);w==="hex"&&(w=16),s(w===(w|0)&&w>=2&&w<=36),v=v.toString().replace(/\s+/g,"");var A=0;v[0]==="-"&&(A++,this.negative=1),A<v.length&&(w===16?this._parseHex(v,A,R):(this._parseBase(v,w,A),R==="le"&&this._initArray(this.toArray(),w,R)))},n.prototype._initNumber=function(v,w,R){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(s(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),w,R)},n.prototype._initArray=function(v,w,R){if(s(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var k,E,D=0;if(R==="be")for(A=v.length-1,k=0;A>=0;A-=3)E=v[A]|v[A-1]<<8|v[A-2]<<16,this.words[k]|=E<<D&67108863,this.words[k+1]=E>>>26-D&67108863,D+=24,D>=26&&(D-=26,k++);else if(R==="le")for(A=0,k=0;A<v.length;A+=3)E=v[A]|v[A+1]<<8|v[A+2]<<16,this.words[k]|=E<<D&67108863,this.words[k+1]=E>>>26-D&67108863,D+=24,D>=26&&(D-=26,k++);return this.strip()};function a(M,v){var w=M.charCodeAt(v);return w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:w-48&15}function l(M,v,w){var R=a(M,w);return w-1>=v&&(R|=a(M,w-1)<<4),R}n.prototype._parseHex=function(v,w,R){this.length=Math.ceil((v.length-w)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var k=0,E=0,D;if(R==="be")for(A=v.length-1;A>=w;A-=2)D=l(v,w,A)<<k,this.words[E]|=D&67108863,k>=18?(k-=18,E+=1,this.words[E]|=D>>>26):k+=8;else{var x=v.length-w;for(A=x%2===0?w+1:w;A<v.length;A+=2)D=l(v,w,A)<<k,this.words[E]|=D&67108863,k>=18?(k-=18,E+=1,this.words[E]|=D>>>26):k+=8}this.strip()};function c(M,v,w,R){for(var A=0,k=Math.min(M.length,w),E=v;E<k;E++){var D=M.charCodeAt(E)-48;A*=R,D>=49?A+=D-49+10:D>=17?A+=D-17+10:A+=D}return A}n.prototype._parseBase=function(v,w,R){this.words=[0],this.length=1;for(var A=0,k=1;k<=67108863;k*=w)A++;A--,k=k/w|0;for(var E=v.length-R,D=E%A,x=Math.min(E,E-D)+R,C=0,_=R;_<x;_+=A)C=c(v,_,_+A,w),this.imuln(k),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C);if(D!==0){var ce=1;for(C=c(v,_,v.length,w),_=0;_<D;_++)ce*=w;this.imuln(ce),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C)}this.strip()},n.prototype.copy=function(v){v.words=new Array(this.length);for(var w=0;w<this.length;w++)v.words[w]=this.words[w];v.length=this.length,v.negative=this.negative,v.red=this.red},n.prototype.clone=function(){var v=new n(null);return this.copy(v),v},n.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(v,w){v=v||10,w=w|0||1;var R;if(v===16||v==="hex"){R="";for(var A=0,k=0,E=0;E<this.length;E++){var D=this.words[E],x=((D<<A|k)&16777215).toString(16);k=D>>>24-A&16777215,A+=2,A>=26&&(A-=26,E--),k!==0||E!==this.length-1?R=d[6-x.length]+x+R:R=x+R}for(k!==0&&(R=k.toString(16)+R);R.length%w!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(v===(v|0)&&v>=2&&v<=36){var C=u[v],_=f[v];R="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var de=ce.modn(_).toString(v);ce=ce.idivn(_),ce.isZero()?R=de+R:R=d[C-de.length]+de+R}for(this.isZero()&&(R="0"+R);R.length%w!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}s(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(v,w){return s(typeof o<"u"),this.toArrayLike(o,v,w)},n.prototype.toArray=function(v,w){return this.toArrayLike(Array,v,w)},n.prototype.toArrayLike=function(v,w,R){var A=this.byteLength(),k=R||Math.max(1,A);s(A<=k,"byte array longer than desired length"),s(k>0,"Requested array length <= 0"),this.strip();var E=w==="le",D=new v(k),x,C,_=this.clone();if(E){for(C=0;!_.isZero();C++)x=_.andln(255),_.iushrn(8),D[C]=x;for(;C<k;C++)D[C]=0}else{for(C=0;C<k-A;C++)D[C]=0;for(C=0;!_.isZero();C++)x=_.andln(255),_.iushrn(8),D[k-C-1]=x}return D},Math.clz32?n.prototype._countBits=function(v){return 32-Math.clz32(v)}:n.prototype._countBits=function(v){var w=v,R=0;return w>=4096&&(R+=13,w>>>=13),w>=64&&(R+=7,w>>>=7),w>=8&&(R+=4,w>>>=4),w>=2&&(R+=2,w>>>=2),R+w},n.prototype._zeroBits=function(v){if(v===0)return 26;var w=v,R=0;return w&8191||(R+=13,w>>>=13),w&127||(R+=7,w>>>=7),w&15||(R+=4,w>>>=4),w&3||(R+=2,w>>>=2),w&1||R++,R},n.prototype.bitLength=function(){var v=this.words[this.length-1],w=this._countBits(v);return(this.length-1)*26+w};function g(M){for(var v=new Array(M.bitLength()),w=0;w<v.length;w++){var R=w/26|0,A=w%26;v[w]=(M.words[R]&1<<A)>>>A}return v}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,w=0;w<this.length;w++){var R=this._zeroBits(this.words[w]);if(v+=R,R!==26)break}return v},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},n.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var w=0;w<v.length;w++)this.words[w]=this.words[w]|v.words[w];return this.strip()},n.prototype.ior=function(v){return s((this.negative|v.negative)===0),this.iuor(v)},n.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},n.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},n.prototype.iuand=function(v){var w;this.length>v.length?w=v:w=this;for(var R=0;R<w.length;R++)this.words[R]=this.words[R]&v.words[R];return this.length=w.length,this.strip()},n.prototype.iand=function(v){return s((this.negative|v.negative)===0),this.iuand(v)},n.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},n.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},n.prototype.iuxor=function(v){var w,R;this.length>v.length?(w=this,R=v):(w=v,R=this);for(var A=0;A<R.length;A++)this.words[A]=w.words[A]^R.words[A];if(this!==w)for(;A<w.length;A++)this.words[A]=w.words[A];return this.length=w.length,this.strip()},n.prototype.ixor=function(v){return s((this.negative|v.negative)===0),this.iuxor(v)},n.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},n.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},n.prototype.inotn=function(v){s(typeof v=="number"&&v>=0);var w=Math.ceil(v/26)|0,R=v%26;this._expand(w),R>0&&w--;for(var A=0;A<w;A++)this.words[A]=~this.words[A]&67108863;return R>0&&(this.words[A]=~this.words[A]&67108863>>26-R),this.strip()},n.prototype.notn=function(v){return this.clone().inotn(v)},n.prototype.setn=function(v,w){s(typeof v=="number"&&v>=0);var R=v/26|0,A=v%26;return this._expand(R+1),w?this.words[R]=this.words[R]|1<<A:this.words[R]=this.words[R]&~(1<<A),this.strip()},n.prototype.iadd=function(v){var w;if(this.negative!==0&&v.negative===0)return this.negative=0,w=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,w=this.isub(v),v.negative=1,w._normSign();var R,A;this.length>v.length?(R=this,A=v):(R=v,A=this);for(var k=0,E=0;E<A.length;E++)w=(R.words[E]|0)+(A.words[E]|0)+k,this.words[E]=w&67108863,k=w>>>26;for(;k!==0&&E<R.length;E++)w=(R.words[E]|0)+k,this.words[E]=w&67108863,k=w>>>26;if(this.length=R.length,k!==0)this.words[this.length]=k,this.length++;else if(R!==this)for(;E<R.length;E++)this.words[E]=R.words[E];return this},n.prototype.add=function(v){var w;return v.negative!==0&&this.negative===0?(v.negative=0,w=this.sub(v),v.negative^=1,w):v.negative===0&&this.negative!==0?(this.negative=0,w=v.sub(this),this.negative=1,w):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},n.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var w=this.iadd(v);return v.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var R=this.cmp(v);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,k;R>0?(A=this,k=v):(A=v,k=this);for(var E=0,D=0;D<k.length;D++)w=(A.words[D]|0)-(k.words[D]|0)+E,E=w>>26,this.words[D]=w&67108863;for(;E!==0&&D<A.length;D++)w=(A.words[D]|0)+E,E=w>>26,this.words[D]=w&67108863;if(E===0&&D<A.length&&A!==this)for(;D<A.length;D++)this.words[D]=A.words[D];return this.length=Math.max(this.length,D),A!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(v){return this.clone().isub(v)};function m(M,v,w){w.negative=v.negative^M.negative;var R=M.length+v.length|0;w.length=R,R=R-1|0;var A=M.words[0]|0,k=v.words[0]|0,E=A*k,D=E&67108863,x=E/67108864|0;w.words[0]=D;for(var C=1;C<R;C++){for(var _=x>>>26,ce=x&67108863,de=Math.min(C,v.length-1),ue=Math.max(0,C-M.length+1);ue<=de;ue++){var we=C-ue|0;A=M.words[we]|0,k=v.words[ue]|0,E=A*k+ce,_+=E/67108864|0,ce=E&67108863}w.words[C]=ce|0,x=_|0}return x!==0?w.words[C]=x|0:w.length--,w.strip()}var y=function(v,w,R){var A=v.words,k=w.words,E=R.words,D=0,x,C,_,ce=A[0]|0,de=ce&8191,ue=ce>>>13,we=A[1]|0,ke=we&8191,Be=we>>>13,he=A[2]|0,J=he&8191,et=he>>>13,rs=A[3]|0,qe=rs&8191,ut=rs>>>13,nn=A[4]|0,gt=nn&8191,lt=nn>>>13,ns=A[5]|0,st=ns&8191,xe=ns>>>13,Cs=A[6]|0,mt=Cs&8191,Je=Cs>>>13,$s=A[7]|0,Ft=$s&8191,ct=$s>>>13,X=A[8]|0,H=X&8191,ae=X>>>13,fe=A[9]|0,Re=fe&8191,Ie=fe>>>13,vt=k[0]|0,Se=vt&8191,_e=vt>>>13,Yt=k[1]|0,He=Yt&8191,Ve=Yt>>>13,Xi=k[2]|0,nt=Xi&8191,ht=Xi>>>13,ai=k[3]|0,Et=ai&8191,kt=ai>>>13,Pn=k[4]|0,_t=Pn&8191,bt=Pn>>>13,er=k[5]|0,Mt=er&8191,Tt=er>>>13,Ln=k[6]|0,Nt=Ln&8191,Bt=Ln>>>13,Bo=k[7]|0,Ct=Bo&8191,yt=Bo>>>13,Vo=k[8]|0,wt=Vo&8191,ft=Vo>>>13,Oo=k[9]|0,Vt=Oo&8191,St=Oo>>>13;R.negative=v.negative^w.negative,R.length=19,x=Math.imul(de,Se),C=Math.imul(de,_e),C=C+Math.imul(ue,Se)|0,_=Math.imul(ue,_e);var Rr=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,x=Math.imul(ke,Se),C=Math.imul(ke,_e),C=C+Math.imul(Be,Se)|0,_=Math.imul(Be,_e),x=x+Math.imul(de,He)|0,C=C+Math.imul(de,Ve)|0,C=C+Math.imul(ue,He)|0,_=_+Math.imul(ue,Ve)|0;var ki=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(ki>>>26)|0,ki&=67108863,x=Math.imul(J,Se),C=Math.imul(J,_e),C=C+Math.imul(et,Se)|0,_=Math.imul(et,_e),x=x+Math.imul(ke,He)|0,C=C+Math.imul(ke,Ve)|0,C=C+Math.imul(Be,He)|0,_=_+Math.imul(Be,Ve)|0,x=x+Math.imul(de,nt)|0,C=C+Math.imul(de,ht)|0,C=C+Math.imul(ue,nt)|0,_=_+Math.imul(ue,ht)|0;var Zn=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,x=Math.imul(qe,Se),C=Math.imul(qe,_e),C=C+Math.imul(ut,Se)|0,_=Math.imul(ut,_e),x=x+Math.imul(J,He)|0,C=C+Math.imul(J,Ve)|0,C=C+Math.imul(et,He)|0,_=_+Math.imul(et,Ve)|0,x=x+Math.imul(ke,nt)|0,C=C+Math.imul(ke,ht)|0,C=C+Math.imul(Be,nt)|0,_=_+Math.imul(Be,ht)|0,x=x+Math.imul(de,Et)|0,C=C+Math.imul(de,kt)|0,C=C+Math.imul(ue,Et)|0,_=_+Math.imul(ue,kt)|0;var Hn=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,x=Math.imul(gt,Se),C=Math.imul(gt,_e),C=C+Math.imul(lt,Se)|0,_=Math.imul(lt,_e),x=x+Math.imul(qe,He)|0,C=C+Math.imul(qe,Ve)|0,C=C+Math.imul(ut,He)|0,_=_+Math.imul(ut,Ve)|0,x=x+Math.imul(J,nt)|0,C=C+Math.imul(J,ht)|0,C=C+Math.imul(et,nt)|0,_=_+Math.imul(et,ht)|0,x=x+Math.imul(ke,Et)|0,C=C+Math.imul(ke,kt)|0,C=C+Math.imul(Be,Et)|0,_=_+Math.imul(Be,kt)|0,x=x+Math.imul(de,_t)|0,C=C+Math.imul(de,bt)|0,C=C+Math.imul(ue,_t)|0,_=_+Math.imul(ue,bt)|0;var on=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(on>>>26)|0,on&=67108863,x=Math.imul(st,Se),C=Math.imul(st,_e),C=C+Math.imul(xe,Se)|0,_=Math.imul(xe,_e),x=x+Math.imul(gt,He)|0,C=C+Math.imul(gt,Ve)|0,C=C+Math.imul(lt,He)|0,_=_+Math.imul(lt,Ve)|0,x=x+Math.imul(qe,nt)|0,C=C+Math.imul(qe,ht)|0,C=C+Math.imul(ut,nt)|0,_=_+Math.imul(ut,ht)|0,x=x+Math.imul(J,Et)|0,C=C+Math.imul(J,kt)|0,C=C+Math.imul(et,Et)|0,_=_+Math.imul(et,kt)|0,x=x+Math.imul(ke,_t)|0,C=C+Math.imul(ke,bt)|0,C=C+Math.imul(Be,_t)|0,_=_+Math.imul(Be,bt)|0,x=x+Math.imul(de,Mt)|0,C=C+Math.imul(de,Tt)|0,C=C+Math.imul(ue,Mt)|0,_=_+Math.imul(ue,Tt)|0;var tr=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(tr>>>26)|0,tr&=67108863,x=Math.imul(mt,Se),C=Math.imul(mt,_e),C=C+Math.imul(Je,Se)|0,_=Math.imul(Je,_e),x=x+Math.imul(st,He)|0,C=C+Math.imul(st,Ve)|0,C=C+Math.imul(xe,He)|0,_=_+Math.imul(xe,Ve)|0,x=x+Math.imul(gt,nt)|0,C=C+Math.imul(gt,ht)|0,C=C+Math.imul(lt,nt)|0,_=_+Math.imul(lt,ht)|0,x=x+Math.imul(qe,Et)|0,C=C+Math.imul(qe,kt)|0,C=C+Math.imul(ut,Et)|0,_=_+Math.imul(ut,kt)|0,x=x+Math.imul(J,_t)|0,C=C+Math.imul(J,bt)|0,C=C+Math.imul(et,_t)|0,_=_+Math.imul(et,bt)|0,x=x+Math.imul(ke,Mt)|0,C=C+Math.imul(ke,Tt)|0,C=C+Math.imul(Be,Mt)|0,_=_+Math.imul(Be,Tt)|0,x=x+Math.imul(de,Nt)|0,C=C+Math.imul(de,Bt)|0,C=C+Math.imul(ue,Nt)|0,_=_+Math.imul(ue,Bt)|0;var ee=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(ee>>>26)|0,ee&=67108863,x=Math.imul(Ft,Se),C=Math.imul(Ft,_e),C=C+Math.imul(ct,Se)|0,_=Math.imul(ct,_e),x=x+Math.imul(mt,He)|0,C=C+Math.imul(mt,Ve)|0,C=C+Math.imul(Je,He)|0,_=_+Math.imul(Je,Ve)|0,x=x+Math.imul(st,nt)|0,C=C+Math.imul(st,ht)|0,C=C+Math.imul(xe,nt)|0,_=_+Math.imul(xe,ht)|0,x=x+Math.imul(gt,Et)|0,C=C+Math.imul(gt,kt)|0,C=C+Math.imul(lt,Et)|0,_=_+Math.imul(lt,kt)|0,x=x+Math.imul(qe,_t)|0,C=C+Math.imul(qe,bt)|0,C=C+Math.imul(ut,_t)|0,_=_+Math.imul(ut,bt)|0,x=x+Math.imul(J,Mt)|0,C=C+Math.imul(J,Tt)|0,C=C+Math.imul(et,Mt)|0,_=_+Math.imul(et,Tt)|0,x=x+Math.imul(ke,Nt)|0,C=C+Math.imul(ke,Bt)|0,C=C+Math.imul(Be,Nt)|0,_=_+Math.imul(Be,Bt)|0,x=x+Math.imul(de,Ct)|0,C=C+Math.imul(de,yt)|0,C=C+Math.imul(ue,Ct)|0,_=_+Math.imul(ue,yt)|0;var Ff=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(Ff>>>26)|0,Ff&=67108863,x=Math.imul(H,Se),C=Math.imul(H,_e),C=C+Math.imul(ae,Se)|0,_=Math.imul(ae,_e),x=x+Math.imul(Ft,He)|0,C=C+Math.imul(Ft,Ve)|0,C=C+Math.imul(ct,He)|0,_=_+Math.imul(ct,Ve)|0,x=x+Math.imul(mt,nt)|0,C=C+Math.imul(mt,ht)|0,C=C+Math.imul(Je,nt)|0,_=_+Math.imul(Je,ht)|0,x=x+Math.imul(st,Et)|0,C=C+Math.imul(st,kt)|0,C=C+Math.imul(xe,Et)|0,_=_+Math.imul(xe,kt)|0,x=x+Math.imul(gt,_t)|0,C=C+Math.imul(gt,bt)|0,C=C+Math.imul(lt,_t)|0,_=_+Math.imul(lt,bt)|0,x=x+Math.imul(qe,Mt)|0,C=C+Math.imul(qe,Tt)|0,C=C+Math.imul(ut,Mt)|0,_=_+Math.imul(ut,Tt)|0,x=x+Math.imul(J,Nt)|0,C=C+Math.imul(J,Bt)|0,C=C+Math.imul(et,Nt)|0,_=_+Math.imul(et,Bt)|0,x=x+Math.imul(ke,Ct)|0,C=C+Math.imul(ke,yt)|0,C=C+Math.imul(Be,Ct)|0,_=_+Math.imul(Be,yt)|0,x=x+Math.imul(de,wt)|0,C=C+Math.imul(de,ft)|0,C=C+Math.imul(ue,wt)|0,_=_+Math.imul(ue,ft)|0;var Ef=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(Ef>>>26)|0,Ef&=67108863,x=Math.imul(Re,Se),C=Math.imul(Re,_e),C=C+Math.imul(Ie,Se)|0,_=Math.imul(Ie,_e),x=x+Math.imul(H,He)|0,C=C+Math.imul(H,Ve)|0,C=C+Math.imul(ae,He)|0,_=_+Math.imul(ae,Ve)|0,x=x+Math.imul(Ft,nt)|0,C=C+Math.imul(Ft,ht)|0,C=C+Math.imul(ct,nt)|0,_=_+Math.imul(ct,ht)|0,x=x+Math.imul(mt,Et)|0,C=C+Math.imul(mt,kt)|0,C=C+Math.imul(Je,Et)|0,_=_+Math.imul(Je,kt)|0,x=x+Math.imul(st,_t)|0,C=C+Math.imul(st,bt)|0,C=C+Math.imul(xe,_t)|0,_=_+Math.imul(xe,bt)|0,x=x+Math.imul(gt,Mt)|0,C=C+Math.imul(gt,Tt)|0,C=C+Math.imul(lt,Mt)|0,_=_+Math.imul(lt,Tt)|0,x=x+Math.imul(qe,Nt)|0,C=C+Math.imul(qe,Bt)|0,C=C+Math.imul(ut,Nt)|0,_=_+Math.imul(ut,Bt)|0,x=x+Math.imul(J,Ct)|0,C=C+Math.imul(J,yt)|0,C=C+Math.imul(et,Ct)|0,_=_+Math.imul(et,yt)|0,x=x+Math.imul(ke,wt)|0,C=C+Math.imul(ke,ft)|0,C=C+Math.imul(Be,wt)|0,_=_+Math.imul(Be,ft)|0,x=x+Math.imul(de,Vt)|0,C=C+Math.imul(de,St)|0,C=C+Math.imul(ue,Vt)|0,_=_+Math.imul(ue,St)|0;var Mf=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(Mf>>>26)|0,Mf&=67108863,x=Math.imul(Re,He),C=Math.imul(Re,Ve),C=C+Math.imul(Ie,He)|0,_=Math.imul(Ie,Ve),x=x+Math.imul(H,nt)|0,C=C+Math.imul(H,ht)|0,C=C+Math.imul(ae,nt)|0,_=_+Math.imul(ae,ht)|0,x=x+Math.imul(Ft,Et)|0,C=C+Math.imul(Ft,kt)|0,C=C+Math.imul(ct,Et)|0,_=_+Math.imul(ct,kt)|0,x=x+Math.imul(mt,_t)|0,C=C+Math.imul(mt,bt)|0,C=C+Math.imul(Je,_t)|0,_=_+Math.imul(Je,bt)|0,x=x+Math.imul(st,Mt)|0,C=C+Math.imul(st,Tt)|0,C=C+Math.imul(xe,Mt)|0,_=_+Math.imul(xe,Tt)|0,x=x+Math.imul(gt,Nt)|0,C=C+Math.imul(gt,Bt)|0,C=C+Math.imul(lt,Nt)|0,_=_+Math.imul(lt,Bt)|0,x=x+Math.imul(qe,Ct)|0,C=C+Math.imul(qe,yt)|0,C=C+Math.imul(ut,Ct)|0,_=_+Math.imul(ut,yt)|0,x=x+Math.imul(J,wt)|0,C=C+Math.imul(J,ft)|0,C=C+Math.imul(et,wt)|0,_=_+Math.imul(et,ft)|0,x=x+Math.imul(ke,Vt)|0,C=C+Math.imul(ke,St)|0,C=C+Math.imul(Be,Vt)|0,_=_+Math.imul(Be,St)|0;var xf=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(xf>>>26)|0,xf&=67108863,x=Math.imul(Re,nt),C=Math.imul(Re,ht),C=C+Math.imul(Ie,nt)|0,_=Math.imul(Ie,ht),x=x+Math.imul(H,Et)|0,C=C+Math.imul(H,kt)|0,C=C+Math.imul(ae,Et)|0,_=_+Math.imul(ae,kt)|0,x=x+Math.imul(Ft,_t)|0,C=C+Math.imul(Ft,bt)|0,C=C+Math.imul(ct,_t)|0,_=_+Math.imul(ct,bt)|0,x=x+Math.imul(mt,Mt)|0,C=C+Math.imul(mt,Tt)|0,C=C+Math.imul(Je,Mt)|0,_=_+Math.imul(Je,Tt)|0,x=x+Math.imul(st,Nt)|0,C=C+Math.imul(st,Bt)|0,C=C+Math.imul(xe,Nt)|0,_=_+Math.imul(xe,Bt)|0,x=x+Math.imul(gt,Ct)|0,C=C+Math.imul(gt,yt)|0,C=C+Math.imul(lt,Ct)|0,_=_+Math.imul(lt,yt)|0,x=x+Math.imul(qe,wt)|0,C=C+Math.imul(qe,ft)|0,C=C+Math.imul(ut,wt)|0,_=_+Math.imul(ut,ft)|0,x=x+Math.imul(J,Vt)|0,C=C+Math.imul(J,St)|0,C=C+Math.imul(et,Vt)|0,_=_+Math.imul(et,St)|0;var kf=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(kf>>>26)|0,kf&=67108863,x=Math.imul(Re,Et),C=Math.imul(Re,kt),C=C+Math.imul(Ie,Et)|0,_=Math.imul(Ie,kt),x=x+Math.imul(H,_t)|0,C=C+Math.imul(H,bt)|0,C=C+Math.imul(ae,_t)|0,_=_+Math.imul(ae,bt)|0,x=x+Math.imul(Ft,Mt)|0,C=C+Math.imul(Ft,Tt)|0,C=C+Math.imul(ct,Mt)|0,_=_+Math.imul(ct,Tt)|0,x=x+Math.imul(mt,Nt)|0,C=C+Math.imul(mt,Bt)|0,C=C+Math.imul(Je,Nt)|0,_=_+Math.imul(Je,Bt)|0,x=x+Math.imul(st,Ct)|0,C=C+Math.imul(st,yt)|0,C=C+Math.imul(xe,Ct)|0,_=_+Math.imul(xe,yt)|0,x=x+Math.imul(gt,wt)|0,C=C+Math.imul(gt,ft)|0,C=C+Math.imul(lt,wt)|0,_=_+Math.imul(lt,ft)|0,x=x+Math.imul(qe,Vt)|0,C=C+Math.imul(qe,St)|0,C=C+Math.imul(ut,Vt)|0,_=_+Math.imul(ut,St)|0;var _f=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(_f>>>26)|0,_f&=67108863,x=Math.imul(Re,_t),C=Math.imul(Re,bt),C=C+Math.imul(Ie,_t)|0,_=Math.imul(Ie,bt),x=x+Math.imul(H,Mt)|0,C=C+Math.imul(H,Tt)|0,C=C+Math.imul(ae,Mt)|0,_=_+Math.imul(ae,Tt)|0,x=x+Math.imul(Ft,Nt)|0,C=C+Math.imul(Ft,Bt)|0,C=C+Math.imul(ct,Nt)|0,_=_+Math.imul(ct,Bt)|0,x=x+Math.imul(mt,Ct)|0,C=C+Math.imul(mt,yt)|0,C=C+Math.imul(Je,Ct)|0,_=_+Math.imul(Je,yt)|0,x=x+Math.imul(st,wt)|0,C=C+Math.imul(st,ft)|0,C=C+Math.imul(xe,wt)|0,_=_+Math.imul(xe,ft)|0,x=x+Math.imul(gt,Vt)|0,C=C+Math.imul(gt,St)|0,C=C+Math.imul(lt,Vt)|0,_=_+Math.imul(lt,St)|0;var Gf=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(Gf>>>26)|0,Gf&=67108863,x=Math.imul(Re,Mt),C=Math.imul(Re,Tt),C=C+Math.imul(Ie,Mt)|0,_=Math.imul(Ie,Tt),x=x+Math.imul(H,Nt)|0,C=C+Math.imul(H,Bt)|0,C=C+Math.imul(ae,Nt)|0,_=_+Math.imul(ae,Bt)|0,x=x+Math.imul(Ft,Ct)|0,C=C+Math.imul(Ft,yt)|0,C=C+Math.imul(ct,Ct)|0,_=_+Math.imul(ct,yt)|0,x=x+Math.imul(mt,wt)|0,C=C+Math.imul(mt,ft)|0,C=C+Math.imul(Je,wt)|0,_=_+Math.imul(Je,ft)|0,x=x+Math.imul(st,Vt)|0,C=C+Math.imul(st,St)|0,C=C+Math.imul(xe,Vt)|0,_=_+Math.imul(xe,St)|0;var Df=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(Df>>>26)|0,Df&=67108863,x=Math.imul(Re,Nt),C=Math.imul(Re,Bt),C=C+Math.imul(Ie,Nt)|0,_=Math.imul(Ie,Bt),x=x+Math.imul(H,Ct)|0,C=C+Math.imul(H,yt)|0,C=C+Math.imul(ae,Ct)|0,_=_+Math.imul(ae,yt)|0,x=x+Math.imul(Ft,wt)|0,C=C+Math.imul(Ft,ft)|0,C=C+Math.imul(ct,wt)|0,_=_+Math.imul(ct,ft)|0,x=x+Math.imul(mt,Vt)|0,C=C+Math.imul(mt,St)|0,C=C+Math.imul(Je,Vt)|0,_=_+Math.imul(Je,St)|0;var Wf=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(Wf>>>26)|0,Wf&=67108863,x=Math.imul(Re,Ct),C=Math.imul(Re,yt),C=C+Math.imul(Ie,Ct)|0,_=Math.imul(Ie,yt),x=x+Math.imul(H,wt)|0,C=C+Math.imul(H,ft)|0,C=C+Math.imul(ae,wt)|0,_=_+Math.imul(ae,ft)|0,x=x+Math.imul(Ft,Vt)|0,C=C+Math.imul(Ft,St)|0,C=C+Math.imul(ct,Vt)|0,_=_+Math.imul(ct,St)|0;var Tf=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(Tf>>>26)|0,Tf&=67108863,x=Math.imul(Re,wt),C=Math.imul(Re,ft),C=C+Math.imul(Ie,wt)|0,_=Math.imul(Ie,ft),x=x+Math.imul(H,Vt)|0,C=C+Math.imul(H,St)|0,C=C+Math.imul(ae,Vt)|0,_=_+Math.imul(ae,St)|0;var Nf=(D+x|0)+((C&8191)<<13)|0;D=(_+(C>>>13)|0)+(Nf>>>26)|0,Nf&=67108863,x=Math.imul(Re,Vt),C=Math.imul(Re,St),C=C+Math.imul(Ie,Vt)|0,_=Math.imul(Ie,St);var Bf=(D+x|0)+((C&8191)<<13)|0;return D=(_+(C>>>13)|0)+(Bf>>>26)|0,Bf&=67108863,E[0]=Rr,E[1]=ki,E[2]=Zn,E[3]=Hn,E[4]=on,E[5]=tr,E[6]=ee,E[7]=Ff,E[8]=Ef,E[9]=Mf,E[10]=xf,E[11]=kf,E[12]=_f,E[13]=Gf,E[14]=Df,E[15]=Wf,E[16]=Tf,E[17]=Nf,E[18]=Bf,D!==0&&(E[19]=D,R.length++),R};Math.imul||(y=m);function b(M,v,w){w.negative=v.negative^M.negative,w.length=M.length+v.length;for(var R=0,A=0,k=0;k<w.length-1;k++){var E=A;A=0;for(var D=R&67108863,x=Math.min(k,v.length-1),C=Math.max(0,k-M.length+1);C<=x;C++){var _=k-C,ce=M.words[_]|0,de=v.words[C]|0,ue=ce*de,we=ue&67108863;E=E+(ue/67108864|0)|0,we=we+D|0,D=we&67108863,E=E+(we>>>26)|0,A+=E>>>26,E&=67108863}w.words[k]=D,R=E,E=A}return R!==0?w.words[k]=R:w.length--,w.strip()}function S(M,v,w){var R=new I;return R.mulp(M,v,w)}n.prototype.mulTo=function(v,w){var R,A=this.length+v.length;return this.length===10&&v.length===10?R=y(this,v,w):A<63?R=m(this,v,w):A<1024?R=b(this,v,w):R=S(this,v,w),R};function I(M,v){this.x=M,this.y=v}I.prototype.makeRBT=function(v){for(var w=new Array(v),R=n.prototype._countBits(v)-1,A=0;A<v;A++)w[A]=this.revBin(A,R,v);return w},I.prototype.revBin=function(v,w,R){if(v===0||v===R-1)return v;for(var A=0,k=0;k<w;k++)A|=(v&1)<<w-k-1,v>>=1;return A},I.prototype.permute=function(v,w,R,A,k,E){for(var D=0;D<E;D++)A[D]=w[v[D]],k[D]=R[v[D]]},I.prototype.transform=function(v,w,R,A,k,E){this.permute(E,v,w,R,A,k);for(var D=1;D<k;D<<=1)for(var x=D<<1,C=Math.cos(2*Math.PI/x),_=Math.sin(2*Math.PI/x),ce=0;ce<k;ce+=x)for(var de=C,ue=_,we=0;we<D;we++){var ke=R[ce+we],Be=A[ce+we],he=R[ce+we+D],J=A[ce+we+D],et=de*he-ue*J;J=de*J+ue*he,he=et,R[ce+we]=ke+he,A[ce+we]=Be+J,R[ce+we+D]=ke-he,A[ce+we+D]=Be-J,we!==x&&(et=C*de-_*ue,ue=C*ue+_*de,de=et)}},I.prototype.guessLen13b=function(v,w){var R=Math.max(w,v)|1,A=R&1,k=0;for(R=R/2|0;R;R=R>>>1)k++;return 1<<k+1+A},I.prototype.conjugate=function(v,w,R){if(!(R<=1))for(var A=0;A<R/2;A++){var k=v[A];v[A]=v[R-A-1],v[R-A-1]=k,k=w[A],w[A]=-w[R-A-1],w[R-A-1]=-k}},I.prototype.normalize13b=function(v,w){for(var R=0,A=0;A<w/2;A++){var k=Math.round(v[2*A+1]/w)*8192+Math.round(v[2*A]/w)+R;v[A]=k&67108863,k<67108864?R=0:R=k/67108864|0}return v},I.prototype.convert13b=function(v,w,R,A){for(var k=0,E=0;E<w;E++)k=k+(v[E]|0),R[2*E]=k&8191,k=k>>>13,R[2*E+1]=k&8191,k=k>>>13;for(E=2*w;E<A;++E)R[E]=0;s(k===0),s((k&-8192)===0)},I.prototype.stub=function(v){for(var w=new Array(v),R=0;R<v;R++)w[R]=0;return w},I.prototype.mulp=function(v,w,R){var A=2*this.guessLen13b(v.length,w.length),k=this.makeRBT(A),E=this.stub(A),D=new Array(A),x=new Array(A),C=new Array(A),_=new Array(A),ce=new Array(A),de=new Array(A),ue=R.words;ue.length=A,this.convert13b(v.words,v.length,D,A),this.convert13b(w.words,w.length,_,A),this.transform(D,E,x,C,A,k),this.transform(_,E,ce,de,A,k);for(var we=0;we<A;we++){var ke=x[we]*ce[we]-C[we]*de[we];C[we]=x[we]*de[we]+C[we]*ce[we],x[we]=ke}return this.conjugate(x,C,A),this.transform(x,C,ue,E,A,k),this.conjugate(ue,E,A),this.normalize13b(ue,A),R.negative=v.negative^w.negative,R.length=v.length+w.length,R.strip()},n.prototype.mul=function(v){var w=new n(null);return w.words=new Array(this.length+v.length),this.mulTo(v,w)},n.prototype.mulf=function(v){var w=new n(null);return w.words=new Array(this.length+v.length),S(this,v,w)},n.prototype.imul=function(v){return this.clone().mulTo(v,this)},n.prototype.imuln=function(v){s(typeof v=="number"),s(v<67108864);for(var w=0,R=0;R<this.length;R++){var A=(this.words[R]|0)*v,k=(A&67108863)+(w&67108863);w>>=26,w+=A/67108864|0,w+=k>>>26,this.words[R]=k&67108863}return w!==0&&(this.words[R]=w,this.length++),this},n.prototype.muln=function(v){return this.clone().imuln(v)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(v){var w=g(v);if(w.length===0)return new n(1);for(var R=this,A=0;A<w.length&&w[A]===0;A++,R=R.sqr());if(++A<w.length)for(var k=R.sqr();A<w.length;A++,k=k.sqr())w[A]!==0&&(R=R.mul(k));return R},n.prototype.iushln=function(v){s(typeof v=="number"&&v>=0);var w=v%26,R=(v-w)/26,A=67108863>>>26-w<<26-w,k;if(w!==0){var E=0;for(k=0;k<this.length;k++){var D=this.words[k]&A,x=(this.words[k]|0)-D<<w;this.words[k]=x|E,E=D>>>26-w}E&&(this.words[k]=E,this.length++)}if(R!==0){for(k=this.length-1;k>=0;k--)this.words[k+R]=this.words[k];for(k=0;k<R;k++)this.words[k]=0;this.length+=R}return this.strip()},n.prototype.ishln=function(v){return s(this.negative===0),this.iushln(v)},n.prototype.iushrn=function(v,w,R){s(typeof v=="number"&&v>=0);var A;w?A=(w-w%26)/26:A=0;var k=v%26,E=Math.min((v-k)/26,this.length),D=67108863^67108863>>>k<<k,x=R;if(A-=E,A=Math.max(0,A),x){for(var C=0;C<E;C++)x.words[C]=this.words[C];x.length=E}if(E!==0)if(this.length>E)for(this.length-=E,C=0;C<this.length;C++)this.words[C]=this.words[C+E];else this.words[0]=0,this.length=1;var _=0;for(C=this.length-1;C>=0&&(_!==0||C>=A);C--){var ce=this.words[C]|0;this.words[C]=_<<26-k|ce>>>k,_=ce&D}return x&&_!==0&&(x.words[x.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(v,w,R){return s(this.negative===0),this.iushrn(v,w,R)},n.prototype.shln=function(v){return this.clone().ishln(v)},n.prototype.ushln=function(v){return this.clone().iushln(v)},n.prototype.shrn=function(v){return this.clone().ishrn(v)},n.prototype.ushrn=function(v){return this.clone().iushrn(v)},n.prototype.testn=function(v){s(typeof v=="number"&&v>=0);var w=v%26,R=(v-w)/26,A=1<<w;if(this.length<=R)return!1;var k=this.words[R];return!!(k&A)},n.prototype.imaskn=function(v){s(typeof v=="number"&&v>=0);var w=v%26,R=(v-w)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(w!==0&&R++,this.length=Math.min(R,this.length),w!==0){var A=67108863^67108863>>>w<<w;this.words[this.length-1]&=A}return this.strip()},n.prototype.maskn=function(v){return this.clone().imaskn(v)},n.prototype.iaddn=function(v){return s(typeof v=="number"),s(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},n.prototype._iaddn=function(v){this.words[0]+=v;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},n.prototype.isubn=function(v){if(s(typeof v=="number"),s(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},n.prototype.addn=function(v){return this.clone().iaddn(v)},n.prototype.subn=function(v){return this.clone().isubn(v)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(v,w,R){var A=v.length+R,k;this._expand(A);var E,D=0;for(k=0;k<v.length;k++){E=(this.words[k+R]|0)+D;var x=(v.words[k]|0)*w;E-=x&67108863,D=(E>>26)-(x/67108864|0),this.words[k+R]=E&67108863}for(;k<this.length-R;k++)E=(this.words[k+R]|0)+D,D=E>>26,this.words[k+R]=E&67108863;if(D===0)return this.strip();for(s(D===-1),D=0,k=0;k<this.length;k++)E=-(this.words[k]|0)+D,D=E>>26,this.words[k]=E&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(v,w){var R=this.length-v.length,A=this.clone(),k=v,E=k.words[k.length-1]|0,D=this._countBits(E);R=26-D,R!==0&&(k=k.ushln(R),A.iushln(R),E=k.words[k.length-1]|0);var x=A.length-k.length,C;if(w!=="mod"){C=new n(null),C.length=x+1,C.words=new Array(C.length);for(var _=0;_<C.length;_++)C.words[_]=0}var ce=A.clone()._ishlnsubmul(k,1,x);ce.negative===0&&(A=ce,C&&(C.words[x]=1));for(var de=x-1;de>=0;de--){var ue=(A.words[k.length+de]|0)*67108864+(A.words[k.length+de-1]|0);for(ue=Math.min(ue/E|0,67108863),A._ishlnsubmul(k,ue,de);A.negative!==0;)ue--,A.negative=0,A._ishlnsubmul(k,1,de),A.isZero()||(A.negative^=1);C&&(C.words[de]=ue)}return C&&C.strip(),A.strip(),w!=="div"&&R!==0&&A.iushrn(R),{div:C||null,mod:A}},n.prototype.divmod=function(v,w,R){if(s(!v.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var A,k,E;return this.negative!==0&&v.negative===0?(E=this.neg().divmod(v,w),w!=="mod"&&(A=E.div.neg()),w!=="div"&&(k=E.mod.neg(),R&&k.negative!==0&&k.iadd(v)),{div:A,mod:k}):this.negative===0&&v.negative!==0?(E=this.divmod(v.neg(),w),w!=="mod"&&(A=E.div.neg()),{div:A,mod:E.mod}):this.negative&v.negative?(E=this.neg().divmod(v.neg(),w),w!=="div"&&(k=E.mod.neg(),R&&k.negative!==0&&k.isub(v)),{div:E.div,mod:k}):v.length>this.length||this.cmp(v)<0?{div:new n(0),mod:this}:v.length===1?w==="div"?{div:this.divn(v.words[0]),mod:null}:w==="mod"?{div:null,mod:new n(this.modn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new n(this.modn(v.words[0]))}:this._wordDiv(v,w)},n.prototype.div=function(v){return this.divmod(v,"div",!1).div},n.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},n.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},n.prototype.divRound=function(v){var w=this.divmod(v);if(w.mod.isZero())return w.div;var R=w.div.negative!==0?w.mod.isub(v):w.mod,A=v.ushrn(1),k=v.andln(1),E=R.cmp(A);return E<0||k===1&&E===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},n.prototype.modn=function(v){s(v<=67108863);for(var w=(1<<26)%v,R=0,A=this.length-1;A>=0;A--)R=(w*R+(this.words[A]|0))%v;return R},n.prototype.idivn=function(v){s(v<=67108863);for(var w=0,R=this.length-1;R>=0;R--){var A=(this.words[R]|0)+w*67108864;this.words[R]=A/v|0,w=A%v}return this.strip()},n.prototype.divn=function(v){return this.clone().idivn(v)},n.prototype.egcd=function(v){s(v.negative===0),s(!v.isZero());var w=this,R=v.clone();w.negative!==0?w=w.umod(v):w=w.clone();for(var A=new n(1),k=new n(0),E=new n(0),D=new n(1),x=0;w.isEven()&&R.isEven();)w.iushrn(1),R.iushrn(1),++x;for(var C=R.clone(),_=w.clone();!w.isZero();){for(var ce=0,de=1;!(w.words[0]&de)&&ce<26;++ce,de<<=1);if(ce>0)for(w.iushrn(ce);ce-- >0;)(A.isOdd()||k.isOdd())&&(A.iadd(C),k.isub(_)),A.iushrn(1),k.iushrn(1);for(var ue=0,we=1;!(R.words[0]&we)&&ue<26;++ue,we<<=1);if(ue>0)for(R.iushrn(ue);ue-- >0;)(E.isOdd()||D.isOdd())&&(E.iadd(C),D.isub(_)),E.iushrn(1),D.iushrn(1);w.cmp(R)>=0?(w.isub(R),A.isub(E),k.isub(D)):(R.isub(w),E.isub(A),D.isub(k))}return{a:E,b:D,gcd:R.iushln(x)}},n.prototype._invmp=function(v){s(v.negative===0),s(!v.isZero());var w=this,R=v.clone();w.negative!==0?w=w.umod(v):w=w.clone();for(var A=new n(1),k=new n(0),E=R.clone();w.cmpn(1)>0&&R.cmpn(1)>0;){for(var D=0,x=1;!(w.words[0]&x)&&D<26;++D,x<<=1);if(D>0)for(w.iushrn(D);D-- >0;)A.isOdd()&&A.iadd(E),A.iushrn(1);for(var C=0,_=1;!(R.words[0]&_)&&C<26;++C,_<<=1);if(C>0)for(R.iushrn(C);C-- >0;)k.isOdd()&&k.iadd(E),k.iushrn(1);w.cmp(R)>=0?(w.isub(R),A.isub(k)):(R.isub(w),k.isub(A))}var ce;return w.cmpn(1)===0?ce=A:ce=k,ce.cmpn(0)<0&&ce.iadd(v),ce},n.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var w=this.clone(),R=v.clone();w.negative=0,R.negative=0;for(var A=0;w.isEven()&&R.isEven();A++)w.iushrn(1),R.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;R.isEven();)R.iushrn(1);var k=w.cmp(R);if(k<0){var E=w;w=R,R=E}else if(k===0||R.cmpn(1)===0)break;w.isub(R)}while(!0);return R.iushln(A)},n.prototype.invm=function(v){return this.egcd(v).a.umod(v)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(v){return this.words[0]&v},n.prototype.bincn=function(v){s(typeof v=="number");var w=v%26,R=(v-w)/26,A=1<<w;if(this.length<=R)return this._expand(R+1),this.words[R]|=A,this;for(var k=A,E=R;k!==0&&E<this.length;E++){var D=this.words[E]|0;D+=k,k=D>>>26,D&=67108863,this.words[E]=D}return k!==0&&(this.words[E]=k,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(v){var w=v<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var R;if(this.length>1)R=1;else{w&&(v=-v),s(v<=67108863,"Number is too big");var A=this.words[0]|0;R=A===v?0:A<v?-1:1}return this.negative!==0?-R|0:R},n.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var w=this.ucmp(v);return this.negative!==0?-w|0:w},n.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var w=0,R=this.length-1;R>=0;R--){var A=this.words[R]|0,k=v.words[R]|0;if(A!==k){A<k?w=-1:A>k&&(w=1);break}}return w},n.prototype.gtn=function(v){return this.cmpn(v)===1},n.prototype.gt=function(v){return this.cmp(v)===1},n.prototype.gten=function(v){return this.cmpn(v)>=0},n.prototype.gte=function(v){return this.cmp(v)>=0},n.prototype.ltn=function(v){return this.cmpn(v)===-1},n.prototype.lt=function(v){return this.cmp(v)===-1},n.prototype.lten=function(v){return this.cmpn(v)<=0},n.prototype.lte=function(v){return this.cmp(v)<=0},n.prototype.eqn=function(v){return this.cmpn(v)===0},n.prototype.eq=function(v){return this.cmp(v)===0},n.red=function(v){return new V(v)},n.prototype.toRed=function(v){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},n.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(v){return this.red=v,this},n.prototype.forceRed=function(v){return s(!this.red,"Already a number in reduction context"),this._forceRed(v)},n.prototype.redAdd=function(v){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},n.prototype.redIAdd=function(v){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},n.prototype.redSub=function(v){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},n.prototype.redISub=function(v){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},n.prototype.redShl=function(v){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},n.prototype.redMul=function(v){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},n.prototype.redIMul=function(v){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},n.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(v){return s(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var F={k256:null,p224:null,p192:null,p25519:null};function G(M,v){this.name=M,this.p=new n(v,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var v=new n(null);return v.words=new Array(Math.ceil(this.n/13)),v},G.prototype.ireduce=function(v){var w=v,R;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),R=w.bitLength();while(R>this.n);var A=R<this.n?-1:w.ucmp(this.p);return A===0?(w.words[0]=0,w.length=1):A>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},G.prototype.split=function(v,w){v.iushrn(this.n,0,w)},G.prototype.imulK=function(v){return v.imul(this.k)};function L(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r(L,G),L.prototype.split=function(v,w){for(var R=4194303,A=Math.min(v.length,9),k=0;k<A;k++)w.words[k]=v.words[k];if(w.length=A,v.length<=9){v.words[0]=0,v.length=1;return}var E=v.words[9];for(w.words[w.length++]=E&R,k=10;k<v.length;k++){var D=v.words[k]|0;v.words[k-10]=(D&R)<<4|E>>>22,E=D}E>>>=22,v.words[k-10]=E,E===0&&v.length>10?v.length-=10:v.length-=9},L.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var w=0,R=0;R<v.length;R++){var A=v.words[R]|0;w+=A*977,v.words[R]=w&67108863,w=A*64+(w/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function T(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r(T,G);function O(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r(O,G);function Q(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r(Q,G),Q.prototype.imulK=function(v){for(var w=0,R=0;R<v.length;R++){var A=(v.words[R]|0)*19+w,k=A&67108863;A>>>=26,v.words[R]=k,w=A}return w!==0&&(v.words[v.length++]=w),v},n._prime=function(v){if(F[v])return F[v];var w;if(v==="k256")w=new L;else if(v==="p224")w=new T;else if(v==="p192")w=new O;else if(v==="p25519")w=new Q;else throw new Error("Unknown prime "+v);return F[v]=w,w};function V(M){if(typeof M=="string"){var v=n._prime(M);this.m=v.p,this.prime=v}else s(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}V.prototype._verify1=function(v){s(v.negative===0,"red works only with positives"),s(v.red,"red works only with red numbers")},V.prototype._verify2=function(v,w){s((v.negative|w.negative)===0,"red works only with positives"),s(v.red&&v.red===w.red,"red works only with red numbers")},V.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):v.umod(this.m)._forceRed(this)},V.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},V.prototype.add=function(v,w){this._verify2(v,w);var R=v.add(w);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},V.prototype.iadd=function(v,w){this._verify2(v,w);var R=v.iadd(w);return R.cmp(this.m)>=0&&R.isub(this.m),R},V.prototype.sub=function(v,w){this._verify2(v,w);var R=v.sub(w);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},V.prototype.isub=function(v,w){this._verify2(v,w);var R=v.isub(w);return R.cmpn(0)<0&&R.iadd(this.m),R},V.prototype.shl=function(v,w){return this._verify1(v),this.imod(v.ushln(w))},V.prototype.imul=function(v,w){return this._verify2(v,w),this.imod(v.imul(w))},V.prototype.mul=function(v,w){return this._verify2(v,w),this.imod(v.mul(w))},V.prototype.isqr=function(v){return this.imul(v,v.clone())},V.prototype.sqr=function(v){return this.mul(v,v)},V.prototype.sqrt=function(v){if(v.isZero())return v.clone();var w=this.m.andln(3);if(s(w%2===1),w===3){var R=this.m.add(new n(1)).iushrn(2);return this.pow(v,R)}for(var A=this.m.subn(1),k=0;!A.isZero()&&A.andln(1)===0;)k++,A.iushrn(1);s(!A.isZero());var E=new n(1).toRed(this),D=E.redNeg(),x=this.m.subn(1).iushrn(1),C=this.m.bitLength();for(C=new n(2*C*C).toRed(this);this.pow(C,x).cmp(D)!==0;)C.redIAdd(D);for(var _=this.pow(C,A),ce=this.pow(v,A.addn(1).iushrn(1)),de=this.pow(v,A),ue=k;de.cmp(E)!==0;){for(var we=de,ke=0;we.cmp(E)!==0;ke++)we=we.redSqr();s(ke<ue);var Be=this.pow(_,new n(1).iushln(ue-ke-1));ce=ce.redMul(Be),_=Be.redSqr(),de=de.redMul(_),ue=ke}return ce},V.prototype.invm=function(v){var w=v._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},V.prototype.pow=function(v,w){if(w.isZero())return new n(1).toRed(this);if(w.cmpn(1)===0)return v.clone();var R=4,A=new Array(1<<R);A[0]=new n(1).toRed(this),A[1]=v;for(var k=2;k<A.length;k++)A[k]=this.mul(A[k-1],v);var E=A[0],D=0,x=0,C=w.bitLength()%26;for(C===0&&(C=26),k=w.length-1;k>=0;k--){for(var _=w.words[k],ce=C-1;ce>=0;ce--){var de=_>>ce&1;if(E!==A[0]&&(E=this.sqr(E)),de===0&&D===0){x=0;continue}D<<=1,D|=de,x++,!(x!==R&&(k!==0||ce!==0))&&(E=this.mul(E,A[D]),x=0,D=0)}C=26}return E},V.prototype.convertTo=function(v){var w=v.umod(this.m);return w===v?w.clone():w},V.prototype.convertFrom=function(v){var w=v.clone();return w.red=null,w},n.mont=function(v){return new U(v)};function U(M){V.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(U,V),U.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},U.prototype.convertFrom=function(v){var w=this.imod(v.mul(this.rinv));return w.red=null,w},U.prototype.imul=function(v,w){if(v.isZero()||w.isZero())return v.words[0]=0,v.length=1,v;var R=v.imul(w),A=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=R.isub(A).iushrn(this.shift),E=k;return k.cmp(this.m)>=0?E=k.isub(this.m):k.cmpn(0)<0&&(E=k.iadd(this.m)),E._forceRed(this)},U.prototype.mul=function(v,w){if(v.isZero()||w.isZero())return new n(0)._forceRed(this);var R=v.mul(w),A=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=R.isub(A).iushrn(this.shift),E=k;return k.cmp(this.m)>=0?E=k.isub(this.m):k.cmpn(0)<0&&(E=k.iadd(this.m)),E._forceRed(this)},U.prototype.invm=function(v){var w=this.imod(v._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(e,D3)})(km);var sn=km.exports;const Xt=Yh(sn);var zp={};const cI="elliptic",dI="6.6.1",uI="EC cryptography",hI="lib/elliptic.js",fI=["lib"],pI={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},gI={type:"git",url:"git@github.com:indutny/elliptic"},mI=["EC","Elliptic","curve","Cryptography"],vI="Fedor Indutny <fedor@indutny.com>",bI="MIT",CI={url:"https://github.com/indutny/elliptic/issues"},yI="https://github.com/indutny/elliptic",wI={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},SI={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},RI={name:cI,version:dI,description:uI,main:hI,files:fI,scripts:pI,repository:gI,keywords:mI,author:vI,license:bI,bugs:CI,homepage:yI,devDependencies:wI,dependencies:SI};var Gs={},_m={};(function(e){var t=e;function i(n,o){if(Array.isArray(n))return n.slice();if(!n)return[];var a=[];if(typeof n!="string"){for(var l=0;l<n.length;l++)a[l]=n[l]|0;return a}if(o==="hex"){n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n);for(var l=0;l<n.length;l+=2)a.push(parseInt(n[l]+n[l+1],16))}else for(var l=0;l<n.length;l++){var c=n.charCodeAt(l),d=c>>8,u=c&255;d?a.push(d,u):a.push(u)}return a}t.toArray=i;function s(n){return n.length===1?"0"+n:n}t.zero2=s;function r(n){for(var o="",a=0;a<n.length;a++)o+=s(n[a].toString(16));return o}t.toHex=r,t.encode=function(o,a){return a==="hex"?r(o):o}})(_m);(function(e){var t=e,i=sn,s=Ta,r=_m;t.assert=s,t.toArray=r.toArray,t.zero2=r.zero2,t.toHex=r.toHex,t.encode=r.encode;function n(d,u,f){var g=new Array(Math.max(d.bitLength(),f)+1),m;for(m=0;m<g.length;m+=1)g[m]=0;var y=1<<u+1,b=d.clone();for(m=0;m<g.length;m++){var S,I=b.andln(y-1);b.isOdd()?(I>(y>>1)-1?S=(y>>1)-I:S=I,b.isubn(S)):S=0,g[m]=S,b.iushrn(1)}return g}t.getNAF=n;function o(d,u){var f=[[],[]];d=d.clone(),u=u.clone();for(var g=0,m=0,y;d.cmpn(-g)>0||u.cmpn(-m)>0;){var b=d.andln(3)+g&3,S=u.andln(3)+m&3;b===3&&(b=-1),S===3&&(S=-1);var I;b&1?(y=d.andln(7)+g&7,(y===3||y===5)&&S===2?I=-b:I=b):I=0,f[0].push(I);var F;S&1?(y=u.andln(7)+m&7,(y===3||y===5)&&b===2?F=-S:F=S):F=0,f[1].push(F),2*g===I+1&&(g=1-g),2*m===F+1&&(m=1-m),d.iushrn(1),u.iushrn(1)}return f}t.getJSF=o;function a(d,u,f){var g="_"+u;d.prototype[u]=function(){return this[g]!==void 0?this[g]:this[g]=f.call(this)}}t.cachedProperty=a;function l(d){return typeof d=="string"?t.toArray(d,"hex"):d}t.parseBytes=l;function c(d){return new i(d,"hex","le")}t.intFromLE=c})(Gs);var Gm={},Po=sn,$d=Gs,eh=$d.getNAF,AI=$d.getJSF,th=$d.assert;function Do(e,t){this.type=e,this.p=new Po(t.p,16),this.red=t.prime?Po.red(t.prime):Po.mont(this.p),this.zero=new Po(0).toRed(this.red),this.one=new Po(1).toRed(this.red),this.two=new Po(2).toRed(this.red),this.n=t.n&&new Po(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Uh=Do;Do.prototype.point=function(){throw new Error("Not implemented")};Do.prototype.validate=function(){throw new Error("Not implemented")};Do.prototype._fixedNafMul=function(t,i){th(t.precomputed);var s=t._getDoubles(),r=eh(i,1,this._bitLength),n=(1<<s.step+1)-(s.step%2===0?2:1);n/=3;var o=[],a,l;for(a=0;a<r.length;a+=s.step){l=0;for(var c=a+s.step-1;c>=a;c--)l=(l<<1)+r[c];o.push(l)}for(var d=this.jpoint(null,null,null),u=this.jpoint(null,null,null),f=n;f>0;f--){for(a=0;a<o.length;a++)l=o[a],l===f?u=u.mixedAdd(s.points[a]):l===-f&&(u=u.mixedAdd(s.points[a].neg()));d=d.add(u)}return d.toP()};Do.prototype._wnafMul=function(t,i){var s=4,r=t._getNAFPoints(s);s=r.wnd;for(var n=r.points,o=eh(i,s,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var d=o[l];th(d!==0),t.type==="affine"?d>0?a=a.mixedAdd(n[d-1>>1]):a=a.mixedAdd(n[-d-1>>1].neg()):d>0?a=a.add(n[d-1>>1]):a=a.add(n[-d-1>>1].neg())}return t.type==="affine"?a.toP():a};Do.prototype._wnafMulAdd=function(t,i,s,r,n){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,d,u,f;for(d=0;d<r;d++){f=i[d];var g=f._getNAFPoints(t);o[d]=g.wnd,a[d]=g.points}for(d=r-1;d>=1;d-=2){var m=d-1,y=d;if(o[m]!==1||o[y]!==1){l[m]=eh(s[m],o[m],this._bitLength),l[y]=eh(s[y],o[y],this._bitLength),c=Math.max(l[m].length,c),c=Math.max(l[y].length,c);continue}var b=[i[m],null,null,i[y]];i[m].y.cmp(i[y].y)===0?(b[1]=i[m].add(i[y]),b[2]=i[m].toJ().mixedAdd(i[y].neg())):i[m].y.cmp(i[y].y.redNeg())===0?(b[1]=i[m].toJ().mixedAdd(i[y]),b[2]=i[m].add(i[y].neg())):(b[1]=i[m].toJ().mixedAdd(i[y]),b[2]=i[m].toJ().mixedAdd(i[y].neg()));var S=[-3,-1,-5,-7,0,7,5,1,3],I=AI(s[m],s[y]);for(c=Math.max(I[0].length,c),l[m]=new Array(c),l[y]=new Array(c),u=0;u<c;u++){var F=I[0][u]|0,G=I[1][u]|0;l[m][u]=S[(F+1)*3+(G+1)],l[y][u]=0,a[m]=b}}var L=this.jpoint(null,null,null),T=this._wnafT4;for(d=c;d>=0;d--){for(var O=0;d>=0;){var Q=!0;for(u=0;u<r;u++)T[u]=l[u][d]|0,T[u]!==0&&(Q=!1);if(!Q)break;O++,d--}if(d>=0&&O++,L=L.dblp(O),d<0)break;for(u=0;u<r;u++){var V=T[u];V!==0&&(V>0?f=a[u][V-1>>1]:V<0&&(f=a[u][-V-1>>1].neg()),f.type==="affine"?L=L.mixedAdd(f):L=L.add(f))}}for(d=0;d<r;d++)a[d]=null;return n?L:L.toP()};function qs(e,t){this.curve=e,this.type=t,this.precomputed=null}Do.BasePoint=qs;qs.prototype.eq=function(){throw new Error("Not implemented")};qs.prototype.validate=function(){return this.curve.validate(this)};Do.prototype.decodePoint=function(t,i){t=$d.toArray(t,i);var s=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*s){t[0]===6?th(t[t.length-1]%2===0):t[0]===7&&th(t[t.length-1]%2===1);var r=this.point(t.slice(1,1+s),t.slice(1+s,1+2*s));return r}else if((t[0]===2||t[0]===3)&&t.length-1===s)return this.pointFromX(t.slice(1,1+s),t[0]===3);throw new Error("Unknown point format")};qs.prototype.encodeCompressed=function(t){return this.encode(t,!0)};qs.prototype._encode=function(t){var i=this.curve.p.byteLength(),s=this.getX().toArray("be",i);return t?[this.getY().isEven()?2:3].concat(s):[4].concat(s,this.getY().toArray("be",i))};qs.prototype.encode=function(t,i){return $d.encode(this._encode(i),t)};qs.prototype.precompute=function(t){if(this.precomputed)return this;var i={doubles:null,naf:null,beta:null};return i.naf=this._getNAFPoints(8),i.doubles=this._getDoubles(4,t),i.beta=this._getBeta(),this.precomputed=i,this};qs.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var i=this.precomputed.doubles;return i?i.points.length>=Math.ceil((t.bitLength()+1)/i.step):!1};qs.prototype._getDoubles=function(t,i){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var s=[this],r=this,n=0;n<i;n+=t){for(var o=0;o<t;o++)r=r.dbl();s.push(r)}return{step:t,points:s}};qs.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var i=[this],s=(1<<t)-1,r=s===1?null:this.dbl(),n=1;n<s;n++)i[n]=i[n-1].add(r);return{wnd:t,points:i}};qs.prototype._getBeta=function(){return null};qs.prototype.dblp=function(t){for(var i=this,s=0;s<t;s++)i=i.dbl();return i};var II=Gs,ni=sn,Dm=zh,ec=Uh,FI=II.assert;function Ks(e){ec.call(this,"short",e),this.a=new ni(e.a,16).toRed(this.red),this.b=new ni(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Dm(Ks,ec);var EI=Ks;Ks.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var i,s;if(t.beta)i=new ni(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);i=r[0].cmp(r[1])<0?r[0]:r[1],i=i.toRed(this.red)}if(t.lambda)s=new ni(t.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(i))===0?s=n[0]:(s=n[1],FI(this.g.mul(s).x.cmp(this.g.x.redMul(i))===0))}var o;return t.basis?o=t.basis.map(function(a){return{a:new ni(a.a,16),b:new ni(a.b,16)}}):o=this._getEndoBasis(s),{beta:i,lambda:s,basis:o}}};Ks.prototype._getEndoRoots=function(t){var i=t===this.p?this.red:ni.mont(t),s=new ni(2).toRed(i).redInvm(),r=s.redNeg(),n=new ni(3).toRed(i).redNeg().redSqrt().redMul(s),o=r.redAdd(n).fromRed(),a=r.redSub(n).fromRed();return[o,a]};Ks.prototype._getEndoBasis=function(t){for(var i=this.n.ushrn(Math.floor(this.n.bitLength()/2)),s=t,r=this.n.clone(),n=new ni(1),o=new ni(0),a=new ni(0),l=new ni(1),c,d,u,f,g,m,y,b=0,S,I;s.cmpn(0)!==0;){var F=r.div(s);S=r.sub(F.mul(s)),I=a.sub(F.mul(n));var G=l.sub(F.mul(o));if(!u&&S.cmp(i)<0)c=y.neg(),d=n,u=S.neg(),f=I;else if(u&&++b===2)break;y=S,r=s,s=S,a=n,n=I,l=o,o=G}g=S.neg(),m=I;var L=u.sqr().add(f.sqr()),T=g.sqr().add(m.sqr());return T.cmp(L)>=0&&(g=c,m=d),u.negative&&(u=u.neg(),f=f.neg()),g.negative&&(g=g.neg(),m=m.neg()),[{a:u,b:f},{a:g,b:m}]};Ks.prototype._endoSplit=function(t){var i=this.endo.basis,s=i[0],r=i[1],n=r.b.mul(t).divRound(this.n),o=s.b.neg().mul(t).divRound(this.n),a=n.mul(s.a),l=o.mul(r.a),c=n.mul(s.b),d=o.mul(r.b),u=t.sub(a).sub(l),f=c.add(d).neg();return{k1:u,k2:f}};Ks.prototype.pointFromX=function(t,i){t=new ni(t,16),t.red||(t=t.toRed(this.red));var s=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=s.redSqrt();if(r.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var n=r.fromRed().isOdd();return(i&&!n||!i&&n)&&(r=r.redNeg()),this.point(t,r)};Ks.prototype.validate=function(t){if(t.inf)return!0;var i=t.x,s=t.y,r=this.a.redMul(i),n=i.redSqr().redMul(i).redIAdd(r).redIAdd(this.b);return s.redSqr().redISub(n).cmpn(0)===0};Ks.prototype._endoWnafMulAdd=function(t,i,s){for(var r=this._endoWnafT1,n=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(i[o]),l=t[o],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),r[o*2]=l,r[o*2+1]=c,n[o*2]=a.k1,n[o*2+1]=a.k2}for(var d=this._wnafMulAdd(1,r,n,o*2,s),u=0;u<o*2;u++)r[u]=null,n[u]=null;return d};function xi(e,t,i,s){ec.BasePoint.call(this,e,"affine"),t===null&&i===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ni(t,16),this.y=new ni(i,16),s&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Dm(xi,ec.BasePoint);Ks.prototype.point=function(t,i,s){return new xi(this,t,i,s)};Ks.prototype.pointFromJSON=function(t,i){return xi.fromJSON(this,t,i)};xi.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var i=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var s=this.curve,r=function(n){return s.point(n.x.redMul(s.endo.beta),n.y)};t.beta=i,i.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return i}};xi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};xi.fromJSON=function(t,i,s){typeof i=="string"&&(i=JSON.parse(i));var r=t.point(i[0],i[1],s);if(!i[2])return r;function n(a){return t.point(a[0],a[1],s)}var o=i[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(n))}},r};xi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};xi.prototype.isInfinity=function(){return this.inf};xi.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var i=this.y.redSub(t.y);i.cmpn(0)!==0&&(i=i.redMul(this.x.redSub(t.x).redInvm()));var s=i.redSqr().redISub(this.x).redISub(t.x),r=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,r)};xi.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var i=this.curve.a,s=this.x.redSqr(),r=t.redInvm(),n=s.redAdd(s).redIAdd(s).redIAdd(i).redMul(r),o=n.redSqr().redISub(this.x.redAdd(this.x)),a=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};xi.prototype.getX=function(){return this.x.fromRed()};xi.prototype.getY=function(){return this.y.fromRed()};xi.prototype.mul=function(t){return t=new ni(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};xi.prototype.mulAdd=function(t,i,s){var r=[this,i],n=[t,s];return this.curve.endo?this.curve._endoWnafMulAdd(r,n):this.curve._wnafMulAdd(1,r,n,2)};xi.prototype.jmulAdd=function(t,i,s){var r=[this,i],n=[t,s];return this.curve.endo?this.curve._endoWnafMulAdd(r,n,!0):this.curve._wnafMulAdd(1,r,n,2,!0)};xi.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};xi.prototype.neg=function(t){if(this.inf)return this;var i=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var s=this.precomputed,r=function(n){return n.neg()};i.precomputed={naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(r)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(r)}}}return i};xi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function Bi(e,t,i,s){ec.BasePoint.call(this,e,"jacobian"),t===null&&i===null&&s===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ni(0)):(this.x=new ni(t,16),this.y=new ni(i,16),this.z=new ni(s,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Dm(Bi,ec.BasePoint);Ks.prototype.jpoint=function(t,i,s){return new Bi(this,t,i,s)};Bi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),i=t.redSqr(),s=this.x.redMul(i),r=this.y.redMul(i).redMul(t);return this.curve.point(s,r)};Bi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Bi.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var i=t.z.redSqr(),s=this.z.redSqr(),r=this.x.redMul(i),n=t.x.redMul(s),o=this.y.redMul(i.redMul(t.z)),a=t.y.redMul(s.redMul(this.z)),l=r.redSub(n),c=o.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=l.redSqr(),u=d.redMul(l),f=r.redMul(d),g=c.redSqr().redIAdd(u).redISub(f).redISub(f),m=c.redMul(f.redISub(g)).redISub(o.redMul(u)),y=this.z.redMul(t.z).redMul(l);return this.curve.jpoint(g,m,y)};Bi.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var i=this.z.redSqr(),s=this.x,r=t.x.redMul(i),n=this.y,o=t.y.redMul(i).redMul(this.z),a=s.redSub(r),l=n.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),d=c.redMul(a),u=s.redMul(c),f=l.redSqr().redIAdd(d).redISub(u).redISub(u),g=l.redMul(u.redISub(f)).redISub(n.redMul(d)),m=this.z.redMul(a);return this.curve.jpoint(f,g,m)};Bi.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var i;if(this.curve.zeroA||this.curve.threeA){var s=this;for(i=0;i<t;i++)s=s.dbl();return s}var r=this.curve.a,n=this.curve.tinv,o=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),d=a.redAdd(a);for(i=0;i<t;i++){var u=o.redSqr(),f=d.redSqr(),g=f.redSqr(),m=u.redAdd(u).redIAdd(u).redIAdd(r.redMul(c)),y=o.redMul(f),b=m.redSqr().redISub(y.redAdd(y)),S=y.redISub(b),I=m.redMul(S);I=I.redIAdd(I).redISub(g);var F=d.redMul(l);i+1<t&&(c=c.redMul(g)),o=b,l=F,d=I}return this.curve.jpoint(o,d.redMul(n),l)};Bi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Bi.prototype._zeroDbl=function(){var t,i,s;if(this.zOne){var r=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var l=r.redAdd(r).redIAdd(r),c=l.redSqr().redISub(a).redISub(a),d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),t=c,i=l.redMul(a.redISub(c)).redISub(d),s=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),f=this.y.redSqr(),g=f.redSqr(),m=this.x.redAdd(f).redSqr().redISub(u).redISub(g);m=m.redIAdd(m);var y=u.redAdd(u).redIAdd(u),b=y.redSqr(),S=g.redIAdd(g);S=S.redIAdd(S),S=S.redIAdd(S),t=b.redISub(m).redISub(m),i=y.redMul(m.redISub(t)).redISub(S),s=this.y.redMul(this.z),s=s.redIAdd(s)}return this.curve.jpoint(t,i,s)};Bi.prototype._threeDbl=function(){var t,i,s;if(this.zOne){var r=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var l=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);t=c;var d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),i=l.redMul(a.redISub(c)).redISub(d),s=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),f=this.y.redSqr(),g=this.x.redMul(f),m=this.x.redSub(u).redMul(this.x.redAdd(u));m=m.redAdd(m).redIAdd(m);var y=g.redIAdd(g);y=y.redIAdd(y);var b=y.redAdd(y);t=m.redSqr().redISub(b),s=this.y.redAdd(this.z).redSqr().redISub(f).redISub(u);var S=f.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S),i=m.redMul(y.redISub(t)).redISub(S)}return this.curve.jpoint(t,i,s)};Bi.prototype._dbl=function(){var t=this.curve.a,i=this.x,s=this.y,r=this.z,n=r.redSqr().redSqr(),o=i.redSqr(),a=s.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(n)),c=i.redAdd(i);c=c.redIAdd(c);var d=c.redMul(a),u=l.redSqr().redISub(d.redAdd(d)),f=d.redISub(u),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=l.redMul(f).redISub(g),y=s.redAdd(s).redMul(r);return this.curve.jpoint(u,m,y)};Bi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),i=this.y.redSqr(),s=this.z.redSqr(),r=i.redSqr(),n=t.redAdd(t).redIAdd(t),o=n.redSqr(),a=this.x.redAdd(i).redSqr().redISub(t).redISub(r);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),c=r.redIAdd(r);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var d=n.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(c),u=i.redMul(d);u=u.redIAdd(u),u=u.redIAdd(u);var f=this.x.redMul(l).redISub(u);f=f.redIAdd(f),f=f.redIAdd(f);var g=this.y.redMul(d.redMul(c.redISub(d)).redISub(a.redMul(l)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=this.z.redAdd(a).redSqr().redISub(s).redISub(l);return this.curve.jpoint(f,g,m)};Bi.prototype.mul=function(t,i){return t=new ni(t,i),this.curve._wnafMul(this,t)};Bi.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var i=this.z.redSqr(),s=t.z.redSqr();if(this.x.redMul(s).redISub(t.x.redMul(i)).cmpn(0)!==0)return!1;var r=i.redMul(this.z),n=s.redMul(t.z);return this.y.redMul(n).redISub(t.y.redMul(r)).cmpn(0)===0};Bi.prototype.eqXToP=function(t){var i=this.z.redSqr(),s=t.toRed(this.curve.red).redMul(i);if(this.x.cmp(s)===0)return!0;for(var r=t.clone(),n=this.curve.redN.redMul(i);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(s.redIAdd(n),this.x.cmp(s)===0)return!0}};Bi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Bi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var tl=sn,Y1=zh,Xh=Uh,MI=Gs;function tc(e){Xh.call(this,"mont",e),this.a=new tl(e.a,16).toRed(this.red),this.b=new tl(e.b,16).toRed(this.red),this.i4=new tl(4).toRed(this.red).redInvm(),this.two=new tl(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Y1(tc,Xh);var xI=tc;tc.prototype.validate=function(t){var i=t.normalize().x,s=i.redSqr(),r=s.redMul(i).redAdd(s.redMul(this.a)).redAdd(i),n=r.redSqrt();return n.redSqr().cmp(r)===0};function Fi(e,t,i){Xh.BasePoint.call(this,e,"projective"),t===null&&i===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new tl(t,16),this.z=new tl(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Y1(Fi,Xh.BasePoint);tc.prototype.decodePoint=function(t,i){return this.point(MI.toArray(t,i),1)};tc.prototype.point=function(t,i){return new Fi(this,t,i)};tc.prototype.pointFromJSON=function(t){return Fi.fromJSON(this,t)};Fi.prototype.precompute=function(){};Fi.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Fi.fromJSON=function(t,i){return new Fi(t,i[0],i[1]||t.one)};Fi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Fi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Fi.prototype.dbl=function(){var t=this.x.redAdd(this.z),i=t.redSqr(),s=this.x.redSub(this.z),r=s.redSqr(),n=i.redSub(r),o=i.redMul(r),a=n.redMul(r.redAdd(this.curve.a24.redMul(n)));return this.curve.point(o,a)};Fi.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Fi.prototype.diffAdd=function(t,i){var s=this.x.redAdd(this.z),r=this.x.redSub(this.z),n=t.x.redAdd(t.z),o=t.x.redSub(t.z),a=o.redMul(s),l=n.redMul(r),c=i.z.redMul(a.redAdd(l).redSqr()),d=i.x.redMul(a.redISub(l).redSqr());return this.curve.point(c,d)};Fi.prototype.mul=function(t){for(var i=t.clone(),s=this,r=this.curve.point(null,null),n=this,o=[];i.cmpn(0)!==0;i.iushrn(1))o.push(i.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(s=s.diffAdd(r,n),r=r.dbl()):(r=s.diffAdd(r,n),s=s.dbl());return r};Fi.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Fi.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Fi.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};Fi.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Fi.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var kI=Gs,pn=sn,z1=zh,Jh=Uh,_I=kI.assert;function rn(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,Jh.call(this,"edwards",e),this.a=new pn(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new pn(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new pn(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),_I(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}z1(rn,Jh);var GI=rn;rn.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};rn.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};rn.prototype.jpoint=function(t,i,s,r){return this.point(t,i,s,r)};rn.prototype.pointFromX=function(t,i){t=new pn(t,16),t.red||(t=t.toRed(this.red));var s=t.redSqr(),r=this.c2.redSub(this.a.redMul(s)),n=this.one.redSub(this.c2.redMul(this.d).redMul(s)),o=r.redMul(n.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var l=a.fromRed().isOdd();return(i&&!l||!i&&l)&&(a=a.redNeg()),this.point(t,a)};rn.prototype.pointFromY=function(t,i){t=new pn(t,16),t.red||(t=t.toRed(this.red));var s=t.redSqr(),r=s.redSub(this.c2),n=s.redMul(this.d).redMul(this.c2).redSub(this.a),o=r.redMul(n.redInvm());if(o.cmp(this.zero)===0){if(i)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==i&&(a=a.redNeg()),this.point(a,t)};rn.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var i=t.x.redSqr(),s=t.y.redSqr(),r=i.redMul(this.a).redAdd(s),n=this.c2.redMul(this.one.redAdd(this.d.redMul(i).redMul(s)));return r.cmp(n)===0};function Dt(e,t,i,s,r){Jh.BasePoint.call(this,e,"projective"),t===null&&i===null&&s===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new pn(t,16),this.y=new pn(i,16),this.z=s?new pn(s,16):this.curve.one,this.t=r&&new pn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}z1(Dt,Jh.BasePoint);rn.prototype.pointFromJSON=function(t){return Dt.fromJSON(this,t)};rn.prototype.point=function(t,i,s,r){return new Dt(this,t,i,s,r)};Dt.fromJSON=function(t,i){return new Dt(t,i[0],i[1],i[2])};Dt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Dt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Dt.prototype._extDbl=function(){var t=this.x.redSqr(),i=this.y.redSqr(),s=this.z.redSqr();s=s.redIAdd(s);var r=this.curve._mulA(t),n=this.x.redAdd(this.y).redSqr().redISub(t).redISub(i),o=r.redAdd(i),a=o.redSub(s),l=r.redSub(i),c=n.redMul(a),d=o.redMul(l),u=n.redMul(l),f=a.redMul(o);return this.curve.point(c,d,f,u)};Dt.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),s=this.y.redSqr(),r,n,o,a,l,c;if(this.curve.twisted){a=this.curve._mulA(i);var d=a.redAdd(s);this.zOne?(r=t.redSub(i).redSub(s).redMul(d.redSub(this.curve.two)),n=d.redMul(a.redSub(s)),o=d.redSqr().redSub(d).redSub(d)):(l=this.z.redSqr(),c=d.redSub(l).redISub(l),r=t.redSub(i).redISub(s).redMul(c),n=d.redMul(a.redSub(s)),o=d.redMul(c))}else a=i.redAdd(s),l=this.curve._mulC(this.z).redSqr(),c=a.redSub(l).redSub(l),r=this.curve._mulC(t.redISub(a)).redMul(c),n=this.curve._mulC(a).redMul(i.redISub(s)),o=a.redMul(c);return this.curve.point(r,n,o)};Dt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Dt.prototype._extAdd=function(t){var i=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),s=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),r=this.t.redMul(this.curve.dd).redMul(t.t),n=this.z.redMul(t.z.redAdd(t.z)),o=s.redSub(i),a=n.redSub(r),l=n.redAdd(r),c=s.redAdd(i),d=o.redMul(a),u=l.redMul(c),f=o.redMul(c),g=a.redMul(l);return this.curve.point(d,u,g,f)};Dt.prototype._projAdd=function(t){var i=this.z.redMul(t.z),s=i.redSqr(),r=this.x.redMul(t.x),n=this.y.redMul(t.y),o=this.curve.d.redMul(r).redMul(n),a=s.redSub(o),l=s.redAdd(o),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(r).redISub(n),d=i.redMul(a).redMul(c),u,f;return this.curve.twisted?(u=i.redMul(l).redMul(n.redSub(this.curve._mulA(r))),f=a.redMul(l)):(u=i.redMul(l).redMul(n.redSub(r)),f=this.curve._mulC(a).redMul(l)),this.curve.point(d,u,f)};Dt.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};Dt.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};Dt.prototype.mulAdd=function(t,i,s){return this.curve._wnafMulAdd(1,[this,i],[t,s],2,!1)};Dt.prototype.jmulAdd=function(t,i,s){return this.curve._wnafMulAdd(1,[this,i],[t,s],2,!0)};Dt.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};Dt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Dt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Dt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Dt.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};Dt.prototype.eqXToP=function(t){var i=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(i)===0)return!0;for(var s=t.clone(),r=this.curve.redN.redMul(this.z);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(r),this.x.cmp(i)===0)return!0}};Dt.prototype.toP=Dt.prototype.normalize;Dt.prototype.mixedAdd=Dt.prototype.add;(function(e){var t=e;t.base=Uh,t.short=EI,t.mont=xI,t.edwards=GI})(Gm);var Qh={},Yf,F0;function DI(){return F0||(F0=1,Yf={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Yf}(function(e){var t=e,i=Tr,s=Gm,r=Gs,n=r.assert;function o(c){c.type==="short"?this.curve=new s.short(c):c.type==="edwards"?this.curve=new s.edwards(c):this.curve=new s.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=o;function a(c,d){Object.defineProperty(t,c,{configurable:!0,enumerable:!0,get:function(){var u=new o(d);return Object.defineProperty(t,c,{configurable:!0,enumerable:!0,value:u}),u}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=DI()}catch{l=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})})(Qh);var WI=Tr,ia=_m,j1=Ta;function go(e){if(!(this instanceof go))return new go(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=ia.toArray(e.entropy,e.entropyEnc||"hex"),i=ia.toArray(e.nonce,e.nonceEnc||"hex"),s=ia.toArray(e.pers,e.persEnc||"hex");j1(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,s)}var TI=go;go.prototype._init=function(t,i,s){var r=t.concat(i).concat(s);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656};go.prototype._hmac=function(){return new WI.hmac(this.hash,this.K)};go.prototype._update=function(t){var i=this._hmac().update(this.V).update([0]);t&&(i=i.update(t)),this.K=i.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};go.prototype.reseed=function(t,i,s,r){typeof i!="string"&&(r=s,s=i,i=null),t=ia.toArray(t,i),s=ia.toArray(s,r),j1(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(s||[])),this._reseed=1};go.prototype.generate=function(t,i,s,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof i!="string"&&(r=s,s=i,i=null),s&&(s=ia.toArray(s,r||"hex"),this._update(s));for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var o=n.slice(0,t);return this._update(s),this._reseed++,ia.encode(o,i)};var NI=sn,BI=Gs,jp=BI.assert;function Yi(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var VI=Yi;Yi.fromPublic=function(t,i,s){return i instanceof Yi?i:new Yi(t,{pub:i,pubEnc:s})};Yi.fromPrivate=function(t,i,s){return i instanceof Yi?i:new Yi(t,{priv:i,privEnc:s})};Yi.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Yi.prototype.getPublic=function(t,i){return typeof t=="string"&&(i=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,t):this.pub};Yi.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};Yi.prototype._importPrivate=function(t,i){this.priv=new NI(t,i||16),this.priv=this.priv.umod(this.ec.curve.n)};Yi.prototype._importPublic=function(t,i){if(t.x||t.y){this.ec.curve.type==="mont"?jp(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&jp(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,i)};Yi.prototype.derive=function(t){return t.validate()||jp(t.validate(),"public point not validated"),t.mul(this.priv).getX()};Yi.prototype.sign=function(t,i,s){return this.ec.sign(t,this,i,s)};Yi.prototype.verify=function(t,i,s){return this.ec.verify(t,i,this,void 0,s)};Yi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ih=sn,Wm=Gs,OI=Wm.assert;function qh(e,t){if(e instanceof qh)return e;this._importDER(e,t)||(OI(e.r&&e.s,"Signature without r or s"),this.r=new ih(e.r,16),this.s=new ih(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var PI=qh;function LI(){this.place=0}function zf(e,t){var i=e[t.place++];if(!(i&128))return i;var s=i&15;if(s===0||s>4||e[t.place]===0)return!1;for(var r=0,n=0,o=t.place;n<s;n++,o++)r<<=8,r|=e[o],r>>>=0;return r<=127?!1:(t.place=o,r)}function E0(e){for(var t=0,i=e.length-1;!e[t]&&!(e[t+1]&128)&&t<i;)t++;return t===0?e:e.slice(t)}qh.prototype._importDER=function(t,i){t=Wm.toArray(t,i);var s=new LI;if(t[s.place++]!==48)return!1;var r=zf(t,s);if(r===!1||r+s.place!==t.length||t[s.place++]!==2)return!1;var n=zf(t,s);if(n===!1||t[s.place]&128)return!1;var o=t.slice(s.place,n+s.place);if(s.place+=n,t[s.place++]!==2)return!1;var a=zf(t,s);if(a===!1||t.length!==a+s.place||t[s.place]&128)return!1;var l=t.slice(s.place,a+s.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new ih(o),this.s=new ih(l),this.recoveryParam=null,!0};function jf(e,t){if(t<128){e.push(t);return}var i=1+(Math.log(t)/Math.LN2>>>3);for(e.push(i|128);--i;)e.push(t>>>(i<<3)&255);e.push(t)}qh.prototype.toDER=function(t){var i=this.r.toArray(),s=this.s.toArray();for(i[0]&128&&(i=[0].concat(i)),s[0]&128&&(s=[0].concat(s)),i=E0(i),s=E0(s);!s[0]&&!(s[1]&128);)s=s.slice(1);var r=[2];jf(r,i.length),r=r.concat(i),r.push(2),jf(r,s.length);var n=r.concat(s),o=[48];return jf(o,n.length),o=o.concat(n),Wm.encode(o,t)};var cr=sn,U1=TI,ZI=Gs,Uf=Qh,HI=xm,Xo=ZI.assert,Tm=VI,Kh=PI;function js(e){if(!(this instanceof js))return new js(e);typeof e=="string"&&(Xo(Object.prototype.hasOwnProperty.call(Uf,e),"Unknown curve "+e),e=Uf[e]),e instanceof Uf.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var YI=js;js.prototype.keyPair=function(t){return new Tm(this,t)};js.prototype.keyFromPrivate=function(t,i){return Tm.fromPrivate(this,t,i)};js.prototype.keyFromPublic=function(t,i){return Tm.fromPublic(this,t,i)};js.prototype.genKeyPair=function(t){t||(t={});for(var i=new U1({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||HI(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),s=this.n.byteLength(),r=this.n.sub(new cr(2));;){var n=new cr(i.generate(s));if(!(n.cmp(r)>0))return n.iaddn(1),this.keyFromPrivate(n)}};js.prototype._truncateToN=function(t,i,s){var r;if(cr.isBN(t)||typeof t=="number")t=new cr(t,16),r=t.byteLength();else if(typeof t=="object")r=t.length,t=new cr(t,16);else{var n=t.toString();r=n.length+1>>>1,t=new cr(n,16)}typeof s!="number"&&(s=r*8);var o=s-this.n.bitLength();return o>0&&(t=t.ushrn(o)),!i&&t.cmp(this.n)>=0?t.sub(this.n):t};js.prototype.sign=function(t,i,s,r){if(typeof s=="object"&&(r=s,s=null),r||(r={}),typeof t!="string"&&typeof t!="number"&&!cr.isBN(t)){Xo(typeof t=="object"&&t&&typeof t.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Xo(t.length>>>0===t.length);for(var n=0;n<t.length;n++)Xo((t[n]&255)===t[n])}i=this.keyFromPrivate(i,s),t=this._truncateToN(t,!1,r.msgBitLength),Xo(!t.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=i.getPrivate().toArray("be",o),l=t.toArray("be",o);Xo(new cr(l).eq(t),"Can not sign message");for(var c=new U1({hash:this.hash,entropy:a,nonce:l,pers:r.pers,persEnc:r.persEnc||"utf8"}),d=this.n.sub(new cr(1)),u=0;;u++){var f=r.k?r.k(u):new cr(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(d)>=0)){var g=this.g.mul(f);if(!g.isInfinity()){var m=g.getX(),y=m.umod(this.n);if(y.cmpn(0)!==0){var b=f.invm(this.n).mul(y.mul(i.getPrivate()).iadd(t));if(b=b.umod(this.n),b.cmpn(0)!==0){var S=(g.getY().isOdd()?1:0)|(m.cmp(y)!==0?2:0);return r.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),S^=1),new Kh({r:y,s:b,recoveryParam:S})}}}}}};js.prototype.verify=function(t,i,s,r,n){n||(n={}),t=this._truncateToN(t,!1,n.msgBitLength),s=this.keyFromPublic(s,r),i=new Kh(i,"hex");var o=i.r,a=i.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),c=l.mul(t).umod(this.n),d=l.mul(o).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,s.getPublic(),d),u.isInfinity()?!1:u.eqXToP(o)):(u=this.g.mulAdd(c,s.getPublic(),d),u.isInfinity()?!1:u.getX().umod(this.n).cmp(o)===0)};js.prototype.recoverPubKey=function(e,t,i,s){Xo((3&i)===i,"The recovery param is more than two bits"),t=new Kh(t,s);var r=this.n,n=new cr(e),o=t.r,a=t.s,l=i&1,c=i>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var d=t.r.invm(r),u=r.sub(n).mul(d).umod(r),f=a.mul(d).umod(r);return this.g.mulAdd(u,o,f)};js.prototype.getKeyRecoveryParam=function(e,t,i,s){if(t=new Kh(t,s),t.recoveryParam!==null)return t.recoveryParam;for(var r=0;r<4;r++){var n;try{n=this.recoverPubKey(e,t,r)}catch{continue}if(n.eq(i))return r}throw new Error("Unable to find valid recovery factor")};var eu=Gs,X1=eu.assert,M0=eu.parseBytes,ic=eu.cachedProperty;function Ii(e,t){this.eddsa=e,this._secret=M0(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=M0(t.pub)}Ii.fromPublic=function(t,i){return i instanceof Ii?i:new Ii(t,{pub:i})};Ii.fromSecret=function(t,i){return i instanceof Ii?i:new Ii(t,{secret:i})};Ii.prototype.secret=function(){return this._secret};ic(Ii,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ic(Ii,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ic(Ii,"privBytes",function(){var t=this.eddsa,i=this.hash(),s=t.encodingLength-1,r=i.slice(0,t.encodingLength);return r[0]&=248,r[s]&=127,r[s]|=64,r});ic(Ii,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ic(Ii,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ic(Ii,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Ii.prototype.sign=function(t){return X1(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};Ii.prototype.verify=function(t,i){return this.eddsa.verify(t,i,this)};Ii.prototype.getSecret=function(t){return X1(this._secret,"KeyPair is public only"),eu.encode(this.secret(),t)};Ii.prototype.getPublic=function(t){return eu.encode(this.pubBytes(),t)};var zI=Ii,jI=sn,$h=Gs,x0=$h.assert,ef=$h.cachedProperty,UI=$h.parseBytes;function Na(e,t){this.eddsa=e,typeof t!="object"&&(t=UI(t)),Array.isArray(t)&&(x0(t.length===e.encodingLength*2,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),x0(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof jI&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}ef(Na,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});ef(Na,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});ef(Na,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});ef(Na,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Na.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Na.prototype.toHex=function(){return $h.encode(this.toBytes(),"hex").toUpperCase()};var XI=Na,JI=Tr,QI=Qh,yl=Gs,qI=yl.assert,J1=yl.parseBytes,Q1=zI,k0=XI;function ms(e){if(qI(e==="ed25519","only tested with ed25519 so far"),!(this instanceof ms))return new ms(e);e=QI[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=JI.sha512}var KI=ms;ms.prototype.sign=function(t,i){t=J1(t);var s=this.keyFromSecret(i),r=this.hashInt(s.messagePrefix(),t),n=this.g.mul(r),o=this.encodePoint(n),a=this.hashInt(o,s.pubBytes(),t).mul(s.priv()),l=r.add(a).umod(this.curve.n);return this.makeSignature({R:n,S:l,Rencoded:o})};ms.prototype.verify=function(t,i,s){if(t=J1(t),i=this.makeSignature(i),i.S().gte(i.eddsa.curve.n)||i.S().isNeg())return!1;var r=this.keyFromPublic(s),n=this.hashInt(i.Rencoded(),r.pubBytes(),t),o=this.g.mul(i.S()),a=i.R().add(r.pub().mul(n));return a.eq(o)};ms.prototype.hashInt=function(){for(var t=this.hash(),i=0;i<arguments.length;i++)t.update(arguments[i]);return yl.intFromLE(t.digest()).umod(this.curve.n)};ms.prototype.keyFromPublic=function(t){return Q1.fromPublic(this,t)};ms.prototype.keyFromSecret=function(t){return Q1.fromSecret(this,t)};ms.prototype.makeSignature=function(t){return t instanceof k0?t:new k0(this,t)};ms.prototype.encodePoint=function(t){var i=t.getY().toArray("le",this.encodingLength);return i[this.encodingLength-1]|=t.getX().isOdd()?128:0,i};ms.prototype.decodePoint=function(t){t=yl.parseBytes(t);var i=t.length-1,s=t.slice(0,i).concat(t[i]&-129),r=(t[i]&128)!==0,n=yl.intFromLE(s);return this.curve.pointFromY(n,r)};ms.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};ms.prototype.decodeInt=function(t){return yl.intFromLE(t)};ms.prototype.isPoint=function(t){return t instanceof this.pointClass};(function(e){var t=e;t.version=RI.version,t.utils=Gs,t.rand=xm,t.curve=Gm,t.curves=Qh,t.ec=YI,t.eddsa=KI})(zp);function p(e,t,i,s){var r=arguments.length,n=r<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,i):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(n=(r<3?o(n):r>3?o(t,i,n):o(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const $I=4,_0=0,G0=1,e5=2;function sc(e){let t=e.length;for(;--t>=0;)e[t]=0}const t5=0,q1=1,i5=2,s5=3,r5=258,Nm=29,tu=256,id=tu+1+Nm,al=30,Bm=19,K1=2*id+1,Ko=15,Xf=16,n5=7,Vm=256,$1=16,ew=17,tw=18,Up=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Lu=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),o5=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),iw=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a5=512,ln=new Array((id+2)*2);sc(ln);const Lc=new Array(al*2);sc(Lc);const sd=new Array(a5);sc(sd);const rd=new Array(r5-s5+1);sc(rd);const Om=new Array(Nm);sc(Om);const sh=new Array(al);sc(sh);function Jf(e,t,i,s,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=s,this.max_length=r,this.has_stree=e&&e.length}let sw,rw,nw;function Qf(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const ow=e=>e<256?sd[e]:sd[256+(e>>>7)],nd=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},cs=(e,t,i)=>{e.bi_valid>Xf-i?(e.bi_buf|=t<<e.bi_valid&65535,nd(e,e.bi_buf),e.bi_buf=t>>Xf-e.bi_valid,e.bi_valid+=i-Xf):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},kr=(e,t,i)=>{cs(e,i[t*2],i[t*2+1])},aw=(e,t)=>{let i=0;do i|=e&1,e>>>=1,i<<=1;while(--t>0);return i>>>1},l5=e=>{e.bi_valid===16?(nd(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},c5=(e,t)=>{const i=t.dyn_tree,s=t.max_code,r=t.stat_desc.static_tree,n=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,u,f,g,m,y=0;for(f=0;f<=Ko;f++)e.bl_count[f]=0;for(i[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<K1;c++)d=e.heap[c],f=i[i[d*2+1]*2+1]+1,f>l&&(f=l,y++),i[d*2+1]=f,!(d>s)&&(e.bl_count[f]++,g=0,d>=a&&(g=o[d-a]),m=i[d*2],e.opt_len+=m*(f+g),n&&(e.static_len+=m*(r[d*2+1]+g)));if(y!==0){do{for(f=l-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[l]--,y-=2}while(y>0);for(f=l;f!==0;f--)for(d=e.bl_count[f];d!==0;)u=e.heap[--c],!(u>s)&&(i[u*2+1]!==f&&(e.opt_len+=(f-i[u*2+1])*i[u*2],i[u*2+1]=f),d--)}},lw=(e,t,i)=>{const s=new Array(Ko+1);let r=0,n,o;for(n=1;n<=Ko;n++)r=r+i[n-1]<<1,s[n]=r;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=aw(s[a]++,a))}},d5=()=>{let e,t,i,s,r;const n=new Array(Ko+1);for(i=0,s=0;s<Nm-1;s++)for(Om[s]=i,e=0;e<1<<Up[s];e++)rd[i++]=s;for(rd[i-1]=s,r=0,s=0;s<16;s++)for(sh[s]=r,e=0;e<1<<Lu[s];e++)sd[r++]=s;for(r>>=7;s<al;s++)for(sh[s]=r<<7,e=0;e<1<<Lu[s]-7;e++)sd[256+r++]=s;for(t=0;t<=Ko;t++)n[t]=0;for(e=0;e<=143;)ln[e*2+1]=8,e++,n[8]++;for(;e<=255;)ln[e*2+1]=9,e++,n[9]++;for(;e<=279;)ln[e*2+1]=7,e++,n[7]++;for(;e<=287;)ln[e*2+1]=8,e++,n[8]++;for(lw(ln,id+1,n),e=0;e<al;e++)Lc[e*2+1]=5,Lc[e*2]=aw(e,5);sw=new Jf(ln,Up,tu+1,id,Ko),rw=new Jf(Lc,Lu,0,al,Ko),nw=new Jf(new Array(0),o5,0,Bm,n5)},cw=e=>{let t;for(t=0;t<id;t++)e.dyn_ltree[t*2]=0;for(t=0;t<al;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Bm;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Vm*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},dw=e=>{e.bi_valid>8?nd(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},D0=(e,t,i,s)=>{const r=t*2,n=i*2;return e[r]<e[n]||e[r]===e[n]&&s[t]<=s[i]},qf=(e,t,i)=>{const s=e.heap[i];let r=i<<1;for(;r<=e.heap_len&&(r<e.heap_len&&D0(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!D0(t,s,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=s},W0=(e,t,i)=>{let s,r,n=0,o,a;if(e.sym_next!==0)do s=e.pending_buf[e.sym_buf+n++]&255,s+=(e.pending_buf[e.sym_buf+n++]&255)<<8,r=e.pending_buf[e.sym_buf+n++],s===0?kr(e,r,t):(o=rd[r],kr(e,o+tu+1,t),a=Up[o],a!==0&&(r-=Om[o],cs(e,r,a)),s--,o=ow(s),kr(e,o,i),a=Lu[o],a!==0&&(s-=sh[o],cs(e,s,a)));while(n<e.sym_next);kr(e,Vm,t)},Xp=(e,t)=>{const i=t.dyn_tree,s=t.stat_desc.static_tree,r=t.stat_desc.has_stree,n=t.stat_desc.elems;let o,a,l=-1,c;for(e.heap_len=0,e.heap_max=K1,o=0;o<n;o++)i[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):i[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,i[c*2]=1,e.depth[c]=0,e.opt_len--,r&&(e.static_len-=s[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)qf(e,i,o);c=n;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],qf(e,i,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,i[c*2]=i[o*2]+i[a*2],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,i[o*2+1]=i[a*2+1]=c,e.heap[1]=c++,qf(e,i,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],c5(e,t),lw(i,l,e.bl_count)},T0=(e,t,i)=>{let s,r=-1,n,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(i+1)*2+1]=65535,s=0;s<=i;s++)n=o,o=t[(s+1)*2+1],!(++a<l&&n===o)&&(a<c?e.bl_tree[n*2]+=a:n!==0?(n!==r&&e.bl_tree[n*2]++,e.bl_tree[$1*2]++):a<=10?e.bl_tree[ew*2]++:e.bl_tree[tw*2]++,a=0,r=n,o===0?(l=138,c=3):n===o?(l=6,c=3):(l=7,c=4))},N0=(e,t,i)=>{let s,r=-1,n,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),s=0;s<=i;s++)if(n=o,o=t[(s+1)*2+1],!(++a<l&&n===o)){if(a<c)do kr(e,n,e.bl_tree);while(--a!==0);else n!==0?(n!==r&&(kr(e,n,e.bl_tree),a--),kr(e,$1,e.bl_tree),cs(e,a-3,2)):a<=10?(kr(e,ew,e.bl_tree),cs(e,a-3,3)):(kr(e,tw,e.bl_tree),cs(e,a-11,7));a=0,r=n,o===0?(l=138,c=3):n===o?(l=6,c=3):(l=7,c=4)}},u5=e=>{let t;for(T0(e,e.dyn_ltree,e.l_desc.max_code),T0(e,e.dyn_dtree,e.d_desc.max_code),Xp(e,e.bl_desc),t=Bm-1;t>=3&&e.bl_tree[iw[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},h5=(e,t,i,s)=>{let r;for(cs(e,t-257,5),cs(e,i-1,5),cs(e,s-4,4),r=0;r<s;r++)cs(e,e.bl_tree[iw[r]*2+1],3);N0(e,e.dyn_ltree,t-1),N0(e,e.dyn_dtree,i-1)},f5=e=>{let t=4093624447,i;for(i=0;i<=31;i++,t>>>=1)if(t&1&&e.dyn_ltree[i*2]!==0)return _0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return G0;for(i=32;i<tu;i++)if(e.dyn_ltree[i*2]!==0)return G0;return _0};let B0=!1;const p5=e=>{B0||(d5(),B0=!0),e.l_desc=new Qf(e.dyn_ltree,sw),e.d_desc=new Qf(e.dyn_dtree,rw),e.bl_desc=new Qf(e.bl_tree,nw),e.bi_buf=0,e.bi_valid=0,cw(e)},uw=(e,t,i,s)=>{cs(e,(t5<<1)+(s?1:0),3),dw(e),nd(e,i),nd(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i},g5=e=>{cs(e,q1<<1,3),kr(e,Vm,ln),l5(e)},m5=(e,t,i,s)=>{let r,n,o=0;e.level>0?(e.strm.data_type===e5&&(e.strm.data_type=f5(e)),Xp(e,e.l_desc),Xp(e,e.d_desc),o=u5(e),r=e.opt_len+3+7>>>3,n=e.static_len+3+7>>>3,n<=r&&(r=n)):r=n=i+5,i+4<=r&&t!==-1?uw(e,t,i,s):e.strategy===$I||n===r?(cs(e,(q1<<1)+(s?1:0),3),W0(e,ln,Lc)):(cs(e,(i5<<1)+(s?1:0),3),h5(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),W0(e,e.dyn_ltree,e.dyn_dtree)),cw(e),s&&dw(e)},v5=(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,t===0?e.dyn_ltree[i*2]++:(e.matches++,t--,e.dyn_ltree[(rd[i]+tu+1)*2]++,e.dyn_dtree[ow(t)*2]++),e.sym_next===e.sym_end);var b5=p5,C5=uw,y5=m5,w5=v5,S5=g5,R5={_tr_init:b5,_tr_stored_block:C5,_tr_flush_block:y5,_tr_tally:w5,_tr_align:S5};const A5=(e,t,i,s)=>{let r=e&65535|0,n=e>>>16&65535|0,o=0;for(;i!==0;){o=i>2e3?2e3:i,i-=o;do r=r+t[s++]|0,n=n+r|0;while(--o);r%=65521,n%=65521}return r|n<<16|0};var od=A5;const I5=()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;t[i]=e}return t},F5=new Uint32Array(I5()),E5=(e,t,i,s)=>{const r=F5,n=s+i;e^=-1;for(let o=s;o<n;o++)e=e>>>8^r[(e^t[o])&255];return e^-1};var wi=E5,da={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ba={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:M5,_tr_stored_block:Jp,_tr_flush_block:x5,_tr_tally:ao,_tr_align:k5}=R5,{Z_NO_FLUSH:lo,Z_PARTIAL_FLUSH:_5,Z_FULL_FLUSH:G5,Z_FINISH:Ns,Z_BLOCK:V0,Z_OK:Gi,Z_STREAM_END:O0,Z_STREAM_ERROR:Or,Z_DATA_ERROR:D5,Z_BUF_ERROR:Kf,Z_DEFAULT_COMPRESSION:W5,Z_FILTERED:T5,Z_HUFFMAN_ONLY:Iu,Z_RLE:N5,Z_FIXED:B5,Z_DEFAULT_STRATEGY:V5,Z_UNKNOWN:O5,Z_DEFLATED:tf}=Ba,P5=9,L5=15,Z5=8,H5=29,Y5=256,Qp=Y5+1+H5,z5=30,j5=19,U5=2*Qp+1,X5=15,Qe=3,to=258,Pr=to+Qe+1,J5=32,wl=42,Pm=57,qp=69,Kp=73,$p=91,eg=103,$o=113,_c=666,is=1,rc=2,ua=3,nc=4,Q5=3,ea=(e,t)=>(e.msg=da[t],t),P0=e=>e*2-(e>4?9:0),Kn=e=>{let t=e.length;for(;--t>=0;)e[t]=0},q5=e=>{let t,i,s,r=e.w_size;t=e.hash_size,s=t;do i=e.head[--s],e.head[s]=i>=r?i-r:0;while(--t);t=r,s=t;do i=e.prev[--s],e.prev[s]=i>=r?i-r:0;while(--t)};let K5=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask,co=K5;const Ss=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),i!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,t.pending===0&&(t.pending_out=0))},Fs=(e,t)=>{x5(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ss(e.strm)},ot=(e,t)=>{e.pending_buf[e.pending++]=t},Rc=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},tg=(e,t,i,s)=>{let r=e.avail_in;return r>s&&(r=s),r===0?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),i),e.state.wrap===1?e.adler=od(e.adler,t,r,i):e.state.wrap===2&&(e.adler=wi(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)},hw=(e,t)=>{let i=e.max_chain_length,s=e.strstart,r,n,o=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-Pr?e.strstart-(e.w_size-Pr):0,c=e.window,d=e.w_mask,u=e.prev,f=e.strstart+to;let g=c[s+o-1],m=c[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do if(r=t,!(c[r+o]!==m||c[r+o-1]!==g||c[r]!==c[s]||c[++r]!==c[s+1])){s+=2,r++;do;while(c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&s<f);if(n=to-(f-s),s=f-to,n>o){if(e.match_start=t,o=n,n>=a)break;g=c[s+o-1],m=c[s+o]}}while((t=u[t&d])>l&&--i!==0);return o<=e.lookahead?o:e.lookahead},Sl=e=>{const t=e.w_size;let i,s,r;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Pr)&&(e.window.set(e.window.subarray(t,t+t-s),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),q5(e),s+=t),e.strm.avail_in===0)break;if(i=tg(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=i,e.lookahead+e.insert>=Qe)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=co(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=co(e,e.ins_h,e.window[r+Qe-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<Qe)););}while(e.lookahead<Pr&&e.strm.avail_in!==0)},fw=(e,t)=>{let i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s,r,n,o=0,a=e.strm.avail_in;do{if(s=65535,n=e.bi_valid+42>>3,e.strm.avail_out<n||(n=e.strm.avail_out-n,r=e.strstart-e.block_start,s>r+e.strm.avail_in&&(s=r+e.strm.avail_in),s>n&&(s=n),s<i&&(s===0&&t!==Ns||t===lo||s!==r+e.strm.avail_in)))break;o=t===Ns&&s===r+e.strm.avail_in?1:0,Jp(e,0,0,o),e.pending_buf[e.pending-4]=s,e.pending_buf[e.pending-3]=s>>8,e.pending_buf[e.pending-2]=~s,e.pending_buf[e.pending-1]=~s>>8,Ss(e.strm),r&&(r>s&&(r=s),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,s-=r),s&&(tg(e.strm,e.strm.output,e.strm.next_out,s),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?nc:t!==lo&&t!==Ns&&e.strm.avail_in===0&&e.strstart===e.block_start?rc:(n=e.window_size-e.strstart,e.strm.avail_in>n&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,n+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),n>e.strm.avail_in&&(n=e.strm.avail_in),n&&(tg(e.strm,e.window,e.strstart,n),e.strstart+=n,e.insert+=n>e.w_size-e.insert?e.w_size-e.insert:n),e.high_water<e.strstart&&(e.high_water=e.strstart),n=e.bi_valid+42>>3,n=e.pending_buf_size-n>65535?65535:e.pending_buf_size-n,i=n>e.w_size?e.w_size:n,r=e.strstart-e.block_start,(r>=i||(r||t===Ns)&&t!==lo&&e.strm.avail_in===0&&r<=n)&&(s=r>n?n:r,o=t===Ns&&e.strm.avail_in===0&&s===r?1:0,Jp(e,e.block_start,s,o),e.block_start+=s,Ss(e.strm)),o?ua:is)},$f=(e,t)=>{let i,s;for(;;){if(e.lookahead<Pr){if(Sl(e),e.lookahead<Pr&&t===lo)return is;if(e.lookahead===0)break}if(i=0,e.lookahead>=Qe&&(e.ins_h=co(e,e.ins_h,e.window[e.strstart+Qe-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),i!==0&&e.strstart-i<=e.w_size-Pr&&(e.match_length=hw(e,i)),e.match_length>=Qe)if(s=ao(e,e.strstart-e.match_start,e.match_length-Qe),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Qe){e.match_length--;do e.strstart++,e.ins_h=co(e,e.ins_h,e.window[e.strstart+Qe-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=co(e,e.ins_h,e.window[e.strstart+1]);else s=ao(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(Fs(e,!1),e.strm.avail_out===0))return is}return e.insert=e.strstart<Qe-1?e.strstart:Qe-1,t===Ns?(Fs(e,!0),e.strm.avail_out===0?ua:nc):e.sym_next&&(Fs(e,!1),e.strm.avail_out===0)?is:rc},Ya=(e,t)=>{let i,s,r;for(;;){if(e.lookahead<Pr){if(Sl(e),e.lookahead<Pr&&t===lo)return is;if(e.lookahead===0)break}if(i=0,e.lookahead>=Qe&&(e.ins_h=co(e,e.ins_h,e.window[e.strstart+Qe-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Qe-1,i!==0&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-Pr&&(e.match_length=hw(e,i),e.match_length<=5&&(e.strategy===T5||e.match_length===Qe&&e.strstart-e.match_start>4096)&&(e.match_length=Qe-1)),e.prev_length>=Qe&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-Qe,s=ao(e,e.strstart-1-e.prev_match,e.prev_length-Qe),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=co(e,e.ins_h,e.window[e.strstart+Qe-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Qe-1,e.strstart++,s&&(Fs(e,!1),e.strm.avail_out===0))return is}else if(e.match_available){if(s=ao(e,0,e.window[e.strstart-1]),s&&Fs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return is}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=ao(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Qe-1?e.strstart:Qe-1,t===Ns?(Fs(e,!0),e.strm.avail_out===0?ua:nc):e.sym_next&&(Fs(e,!1),e.strm.avail_out===0)?is:rc},$5=(e,t)=>{let i,s,r,n;const o=e.window;for(;;){if(e.lookahead<=to){if(Sl(e),e.lookahead<=to&&t===lo)return is;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Qe&&e.strstart>0&&(r=e.strstart-1,s=o[r],s===o[++r]&&s===o[++r]&&s===o[++r])){n=e.strstart+to;do;while(s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&s===o[++r]&&r<n);e.match_length=to-(n-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Qe?(i=ao(e,1,e.match_length-Qe),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=ao(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(Fs(e,!1),e.strm.avail_out===0))return is}return e.insert=0,t===Ns?(Fs(e,!0),e.strm.avail_out===0?ua:nc):e.sym_next&&(Fs(e,!1),e.strm.avail_out===0)?is:rc},eF=(e,t)=>{let i;for(;;){if(e.lookahead===0&&(Sl(e),e.lookahead===0)){if(t===lo)return is;break}if(e.match_length=0,i=ao(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(Fs(e,!1),e.strm.avail_out===0))return is}return e.insert=0,t===Ns?(Fs(e,!0),e.strm.avail_out===0?ua:nc):e.sym_next&&(Fs(e,!1),e.strm.avail_out===0)?is:rc};function Ar(e,t,i,s,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=s,this.func=r}const Gc=[new Ar(0,0,0,0,fw),new Ar(4,4,8,4,$f),new Ar(4,5,16,8,$f),new Ar(4,6,32,32,$f),new Ar(4,4,16,16,Ya),new Ar(8,16,32,32,Ya),new Ar(8,16,128,128,Ya),new Ar(8,32,128,256,Ya),new Ar(32,128,258,1024,Ya),new Ar(32,258,258,4096,Ya)],tF=e=>{e.window_size=2*e.w_size,Kn(e.head),e.max_lazy_match=Gc[e.level].max_lazy,e.good_match=Gc[e.level].good_length,e.nice_match=Gc[e.level].nice_length,e.max_chain_length=Gc[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Qe-1,e.match_available=0,e.ins_h=0};function iF(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tf,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(U5*2),this.dyn_dtree=new Uint16Array((2*z5+1)*2),this.bl_tree=new Uint16Array((2*j5+1)*2),Kn(this.dyn_ltree),Kn(this.dyn_dtree),Kn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(X5+1),this.heap=new Uint16Array(2*Qp+1),Kn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Qp+1),Kn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const iu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==wl&&t.status!==Pm&&t.status!==qp&&t.status!==Kp&&t.status!==$p&&t.status!==eg&&t.status!==$o&&t.status!==_c?1:0},pw=e=>{if(iu(e))return ea(e,Or);e.total_in=e.total_out=0,e.data_type=O5;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Pm:t.wrap?wl:$o,e.adler=t.wrap===2?0:1,t.last_flush=-2,M5(t),Gi},gw=e=>{const t=pw(e);return t===Gi&&tF(e.state),t},sF=(e,t)=>iu(e)||e.state.wrap!==2?Or:(e.state.gzhead=t,Gi),mw=(e,t,i,s,r,n)=>{if(!e)return Or;let o=1;if(t===W5&&(t=6),s<0?(o=0,s=-s):s>15&&(o=2,s-=16),r<1||r>P5||i!==tf||s<8||s>15||t<0||t>9||n<0||n>B5||s===8&&o!==1)return ea(e,Or);s===8&&(s=9);const a=new iF;return e.state=a,a.strm=e,a.status=wl,a.wrap=o,a.gzhead=null,a.w_bits=s,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Qe-1)/Qe),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=n,a.method=i,gw(e)},rF=(e,t)=>mw(e,t,tf,L5,Z5,V5),nF=(e,t)=>{if(iu(e)||t>V0||t<0)return e?ea(e,Or):Or;const i=e.state;if(!e.output||e.avail_in!==0&&!e.input||i.status===_c&&t!==Ns)return ea(e,e.avail_out===0?Kf:Or);const s=i.last_flush;if(i.last_flush=t,i.pending!==0){if(Ss(e),e.avail_out===0)return i.last_flush=-1,Gi}else if(e.avail_in===0&&P0(t)<=P0(s)&&t!==Ns)return ea(e,Kf);if(i.status===_c&&e.avail_in!==0)return ea(e,Kf);if(i.status===wl&&i.wrap===0&&(i.status=$o),i.status===wl){let r=tf+(i.w_bits-8<<4)<<8,n=-1;if(i.strategy>=Iu||i.level<2?n=0:i.level<6?n=1:i.level===6?n=2:n=3,r|=n<<6,i.strstart!==0&&(r|=J5),r+=31-r%31,Rc(i,r),i.strstart!==0&&(Rc(i,e.adler>>>16),Rc(i,e.adler&65535)),e.adler=1,i.status=$o,Ss(e),i.pending!==0)return i.last_flush=-1,Gi}if(i.status===Pm){if(e.adler=0,ot(i,31),ot(i,139),ot(i,8),i.gzhead)ot(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ot(i,i.gzhead.time&255),ot(i,i.gzhead.time>>8&255),ot(i,i.gzhead.time>>16&255),ot(i,i.gzhead.time>>24&255),ot(i,i.level===9?2:i.strategy>=Iu||i.level<2?4:0),ot(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(ot(i,i.gzhead.extra.length&255),ot(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=wi(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=qp;else if(ot(i,0),ot(i,0),ot(i,0),ot(i,0),ot(i,0),ot(i,i.level===9?2:i.strategy>=Iu||i.level<2?4:0),ot(i,Q5),i.status=$o,Ss(e),i.pending!==0)return i.last_flush=-1,Gi}if(i.status===qp){if(i.gzhead.extra){let r=i.pending,n=(i.gzhead.extra.length&65535)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let a=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+a),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>r&&(e.adler=wi(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex+=a,Ss(e),i.pending!==0)return i.last_flush=-1,Gi;r=0,n-=a}let o=new Uint8Array(i.gzhead.extra);i.pending_buf.set(o.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>r&&(e.adler=wi(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex=0}i.status=Kp}if(i.status===Kp){if(i.gzhead.name){let r=i.pending,n;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r&&(e.adler=wi(e.adler,i.pending_buf,i.pending-r,r)),Ss(e),i.pending!==0)return i.last_flush=-1,Gi;r=0}i.gzindex<i.gzhead.name.length?n=i.gzhead.name.charCodeAt(i.gzindex++)&255:n=0,ot(i,n)}while(n!==0);i.gzhead.hcrc&&i.pending>r&&(e.adler=wi(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex=0}i.status=$p}if(i.status===$p){if(i.gzhead.comment){let r=i.pending,n;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r&&(e.adler=wi(e.adler,i.pending_buf,i.pending-r,r)),Ss(e),i.pending!==0)return i.last_flush=-1,Gi;r=0}i.gzindex<i.gzhead.comment.length?n=i.gzhead.comment.charCodeAt(i.gzindex++)&255:n=0,ot(i,n)}while(n!==0);i.gzhead.hcrc&&i.pending>r&&(e.adler=wi(e.adler,i.pending_buf,i.pending-r,r))}i.status=eg}if(i.status===eg){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(Ss(e),i.pending!==0))return i.last_flush=-1,Gi;ot(i,e.adler&255),ot(i,e.adler>>8&255),e.adler=0}if(i.status=$o,Ss(e),i.pending!==0)return i.last_flush=-1,Gi}if(e.avail_in!==0||i.lookahead!==0||t!==lo&&i.status!==_c){let r=i.level===0?fw(i,t):i.strategy===Iu?eF(i,t):i.strategy===N5?$5(i,t):Gc[i.level].func(i,t);if((r===ua||r===nc)&&(i.status=_c),r===is||r===ua)return e.avail_out===0&&(i.last_flush=-1),Gi;if(r===rc&&(t===_5?k5(i):t!==V0&&(Jp(i,0,0,!1),t===G5&&(Kn(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Ss(e),e.avail_out===0))return i.last_flush=-1,Gi}return t!==Ns?Gi:i.wrap<=0?O0:(i.wrap===2?(ot(i,e.adler&255),ot(i,e.adler>>8&255),ot(i,e.adler>>16&255),ot(i,e.adler>>24&255),ot(i,e.total_in&255),ot(i,e.total_in>>8&255),ot(i,e.total_in>>16&255),ot(i,e.total_in>>24&255)):(Rc(i,e.adler>>>16),Rc(i,e.adler&65535)),Ss(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Gi:O0)},oF=e=>{if(iu(e))return Or;const t=e.state.status;return e.state=null,t===$o?ea(e,D5):Gi},aF=(e,t)=>{let i=t.length;if(iu(e))return Or;const s=e.state,r=s.wrap;if(r===2||r===1&&s.status!==wl||s.lookahead)return Or;if(r===1&&(e.adler=od(e.adler,t,i,0)),s.wrap=0,i>=s.w_size){r===0&&(Kn(s.head),s.strstart=0,s.block_start=0,s.insert=0);let l=new Uint8Array(s.w_size);l.set(t.subarray(i-s.w_size,i),0),t=l,i=s.w_size}const n=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,Sl(s);s.lookahead>=Qe;){let l=s.strstart,c=s.lookahead-(Qe-1);do s.ins_h=co(s,s.ins_h,s.window[l+Qe-1]),s.prev[l&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=l,l++;while(--c);s.strstart=l,s.lookahead=Qe-1,Sl(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=Qe-1,s.match_available=0,e.next_in=o,e.input=a,e.avail_in=n,s.wrap=r,Gi};var lF=rF,cF=mw,dF=gw,uF=pw,hF=sF,fF=nF,pF=oF,gF=aF,mF="pako deflate (from Nodeca project)",Zc={deflateInit:lF,deflateInit2:cF,deflateReset:dF,deflateResetKeep:uF,deflateSetHeader:hF,deflate:fF,deflateEnd:pF,deflateSetDictionary:gF,deflateInfo:mF};const vF=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var bF=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const s in i)vF(i,s)&&(e[s]=i[s])}}return e},CF=e=>{let t=0;for(let s=0,r=e.length;s<r;s++)t+=e[s].length;const i=new Uint8Array(t);for(let s=0,r=0,n=e.length;s<n;s++){let o=e[s];i.set(o,r),r+=o.length}return i},sf={assign:bF,flattenChunks:CF};let vw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{vw=!1}const ad=new Uint8Array(256);for(let e=0;e<256;e++)ad[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ad[254]=ad[254]=1;var yF=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,i,s,r,n,o=e.length,a=0;for(r=0;r<o;r++)i=e.charCodeAt(r),(i&64512)===55296&&r+1<o&&(s=e.charCodeAt(r+1),(s&64512)===56320&&(i=65536+(i-55296<<10)+(s-56320),r++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(a),n=0,r=0;n<a;r++)i=e.charCodeAt(r),(i&64512)===55296&&r+1<o&&(s=e.charCodeAt(r+1),(s&64512)===56320&&(i=65536+(i-55296<<10)+(s-56320),r++)),i<128?t[n++]=i:i<2048?(t[n++]=192|i>>>6,t[n++]=128|i&63):i<65536?(t[n++]=224|i>>>12,t[n++]=128|i>>>6&63,t[n++]=128|i&63):(t[n++]=240|i>>>18,t[n++]=128|i>>>12&63,t[n++]=128|i>>>6&63,t[n++]=128|i&63);return t};const wF=(e,t)=>{if(t<65534&&e.subarray&&vw)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i="";for(let s=0;s<t;s++)i+=String.fromCharCode(e[s]);return i};var SF=(e,t)=>{const i=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let s,r;const n=new Array(i*2);for(r=0,s=0;s<i;){let o=e[s++];if(o<128){n[r++]=o;continue}let a=ad[o];if(a>4){n[r++]=65533,s+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&s<i;)o=o<<6|e[s++]&63,a--;if(a>1){n[r++]=65533;continue}o<65536?n[r++]=o:(o-=65536,n[r++]=55296|o>>10&1023,n[r++]=56320|o&1023)}return wF(n,r)},RF=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let i=t-1;for(;i>=0&&(e[i]&192)===128;)i--;return i<0||i===0?t:i+ad[e[i]]>t?i:t},ld={string2buf:yF,buf2string:SF,utf8border:RF};function AF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var bw=AF;const Cw=Object.prototype.toString,{Z_NO_FLUSH:IF,Z_SYNC_FLUSH:FF,Z_FULL_FLUSH:EF,Z_FINISH:MF,Z_OK:rh,Z_STREAM_END:xF,Z_DEFAULT_COMPRESSION:kF,Z_DEFAULT_STRATEGY:_F,Z_DEFLATED:GF}=Ba;function su(e){this.options=sf.assign({level:kF,method:GF,chunkSize:16384,windowBits:15,memLevel:8,strategy:_F},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bw,this.strm.avail_out=0;let i=Zc.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==rh)throw new Error(da[i]);if(t.header&&Zc.deflateSetHeader(this.strm,t.header),t.dictionary){let s;if(typeof t.dictionary=="string"?s=ld.string2buf(t.dictionary):Cw.call(t.dictionary)==="[object ArrayBuffer]"?s=new Uint8Array(t.dictionary):s=t.dictionary,i=Zc.deflateSetDictionary(this.strm,s),i!==rh)throw new Error(da[i]);this._dict_set=!0}}su.prototype.push=function(e,t){const i=this.strm,s=this.options.chunkSize;let r,n;if(this.ended)return!1;for(t===~~t?n=t:n=t===!0?MF:IF,typeof e=="string"?i.input=ld.string2buf(e):Cw.call(e)==="[object ArrayBuffer]"?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){if(i.avail_out===0&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),(n===FF||n===EF)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(r=Zc.deflate(i,n),r===xF)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=Zc.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===rh;if(i.avail_out===0){this.onData(i.output);continue}if(n>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(i.avail_in===0)break}return!0};su.prototype.onData=function(e){this.chunks.push(e)};su.prototype.onEnd=function(e){e===rh&&(this.result=sf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Lm(e,t){const i=new su(t);if(i.push(e,!0),i.err)throw i.msg||da[i.err];return i.result}function DF(e,t){return t=t||{},t.raw=!0,Lm(e,t)}function WF(e,t){return t=t||{},t.gzip=!0,Lm(e,t)}var TF=su,NF=Lm,BF=DF,VF=WF,OF=Ba,PF={Deflate:TF,deflate:NF,deflateRaw:BF,gzip:VF,constants:OF};const Fu=16209,LF=16191;var ZF=function(t,i){let s,r,n,o,a,l,c,d,u,f,g,m,y,b,S,I,F,G,L,T,O,Q,V,U;const M=t.state;s=t.next_in,V=t.input,r=s+(t.avail_in-5),n=t.next_out,U=t.output,o=n-(i-t.avail_out),a=n+(t.avail_out-257),l=M.dmax,c=M.wsize,d=M.whave,u=M.wnext,f=M.window,g=M.hold,m=M.bits,y=M.lencode,b=M.distcode,S=(1<<M.lenbits)-1,I=(1<<M.distbits)-1;e:do{m<15&&(g+=V[s++]<<m,m+=8,g+=V[s++]<<m,m+=8),F=y[g&S];t:for(;;){if(G=F>>>24,g>>>=G,m-=G,G=F>>>16&255,G===0)U[n++]=F&65535;else if(G&16){L=F&65535,G&=15,G&&(m<G&&(g+=V[s++]<<m,m+=8),L+=g&(1<<G)-1,g>>>=G,m-=G),m<15&&(g+=V[s++]<<m,m+=8,g+=V[s++]<<m,m+=8),F=b[g&I];i:for(;;){if(G=F>>>24,g>>>=G,m-=G,G=F>>>16&255,G&16){if(T=F&65535,G&=15,m<G&&(g+=V[s++]<<m,m+=8,m<G&&(g+=V[s++]<<m,m+=8)),T+=g&(1<<G)-1,T>l){t.msg="invalid distance too far back",M.mode=Fu;break e}if(g>>>=G,m-=G,G=n-o,T>G){if(G=T-G,G>d&&M.sane){t.msg="invalid distance too far back",M.mode=Fu;break e}if(O=0,Q=f,u===0){if(O+=c-G,G<L){L-=G;do U[n++]=f[O++];while(--G);O=n-T,Q=U}}else if(u<G){if(O+=c+u-G,G-=u,G<L){L-=G;do U[n++]=f[O++];while(--G);if(O=0,u<L){G=u,L-=G;do U[n++]=f[O++];while(--G);O=n-T,Q=U}}}else if(O+=u-G,G<L){L-=G;do U[n++]=f[O++];while(--G);O=n-T,Q=U}for(;L>2;)U[n++]=Q[O++],U[n++]=Q[O++],U[n++]=Q[O++],L-=3;L&&(U[n++]=Q[O++],L>1&&(U[n++]=Q[O++]))}else{O=n-T;do U[n++]=U[O++],U[n++]=U[O++],U[n++]=U[O++],L-=3;while(L>2);L&&(U[n++]=U[O++],L>1&&(U[n++]=U[O++]))}}else if(G&64){t.msg="invalid distance code",M.mode=Fu;break e}else{F=b[(F&65535)+(g&(1<<G)-1)];continue i}break}}else if(G&64)if(G&32){M.mode=LF;break e}else{t.msg="invalid literal/length code",M.mode=Fu;break e}else{F=y[(F&65535)+(g&(1<<G)-1)];continue t}break}}while(s<r&&n<a);L=m>>3,s-=L,m-=L<<3,g&=(1<<m)-1,t.next_in=s,t.next_out=n,t.avail_in=s<r?5+(r-s):5-(s-r),t.avail_out=n<a?257+(a-n):257-(n-a),M.hold=g,M.bits=m};const za=15,L0=852,Z0=592,H0=0,ep=1,Y0=2,HF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),YF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),UF=(e,t,i,s,r,n,o,a)=>{const l=a.bits;let c=0,d=0,u=0,f=0,g=0,m=0,y=0,b=0,S=0,I=0,F,G,L,T,O,Q=null,V;const U=new Uint16Array(za+1),M=new Uint16Array(za+1);let v=null,w,R,A;for(c=0;c<=za;c++)U[c]=0;for(d=0;d<s;d++)U[t[i+d]]++;for(g=l,f=za;f>=1&&U[f]===0;f--);if(g>f&&(g=f),f===0)return r[n++]=1<<24|64<<16|0,r[n++]=1<<24|64<<16|0,a.bits=1,0;for(u=1;u<f&&U[u]===0;u++);for(g<u&&(g=u),b=1,c=1;c<=za;c++)if(b<<=1,b-=U[c],b<0)return-1;if(b>0&&(e===H0||f!==1))return-1;for(M[1]=0,c=1;c<za;c++)M[c+1]=M[c]+U[c];for(d=0;d<s;d++)t[i+d]!==0&&(o[M[t[i+d]]++]=d);if(e===H0?(Q=v=o,V=20):e===ep?(Q=HF,v=YF,V=257):(Q=zF,v=jF,V=0),I=0,d=0,c=u,O=n,m=g,y=0,L=-1,S=1<<g,T=S-1,e===ep&&S>L0||e===Y0&&S>Z0)return 1;for(;;){w=c-y,o[d]+1<V?(R=0,A=o[d]):o[d]>=V?(R=v[o[d]-V],A=Q[o[d]-V]):(R=96,A=0),F=1<<c-y,G=1<<m,u=G;do G-=F,r[O+(I>>y)+G]=w<<24|R<<16|A|0;while(G!==0);for(F=1<<c-1;I&F;)F>>=1;if(F!==0?(I&=F-1,I+=F):I=0,d++,--U[c]===0){if(c===f)break;c=t[i+o[d]]}if(c>g&&(I&T)!==L){for(y===0&&(y=g),O+=u,m=c-y,b=1<<m;m+y<f&&(b-=U[m+y],!(b<=0));)m++,b<<=1;if(S+=1<<m,e===ep&&S>L0||e===Y0&&S>Z0)return 1;L=I&T,r[L]=g<<24|m<<16|O-n|0}}return I!==0&&(r[O+I]=c-y<<24|64<<16|0),a.bits=g,0};var Hc=UF;const XF=0,yw=1,ww=2,{Z_FINISH:z0,Z_BLOCK:JF,Z_TREES:Eu,Z_OK:ha,Z_STREAM_END:QF,Z_NEED_DICT:qF,Z_STREAM_ERROR:Us,Z_DATA_ERROR:Sw,Z_MEM_ERROR:Rw,Z_BUF_ERROR:KF,Z_DEFLATED:j0}=Ba,rf=16180,U0=16181,X0=16182,J0=16183,Q0=16184,q0=16185,K0=16186,$0=16187,eb=16188,tb=16189,nh=16190,an=16191,tp=16192,ib=16193,ip=16194,sb=16195,rb=16196,nb=16197,ob=16198,Mu=16199,xu=16200,ab=16201,lb=16202,cb=16203,db=16204,ub=16205,sp=16206,hb=16207,fb=16208,zt=16209,Aw=16210,Iw=16211,$F=852,e4=592,t4=15,i4=t4,pb=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function s4(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Va=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<rf||t.mode>Iw?1:0},Fw=e=>{if(Va(e))return Us;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=rf,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array($F),t.distcode=t.distdyn=new Int32Array(e4),t.sane=1,t.back=-1,ha},Ew=e=>{if(Va(e))return Us;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Fw(e)},Mw=(e,t)=>{let i;if(Va(e))return Us;const s=e.state;return t<0?(i=0,t=-t):(i=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Us:(s.window!==null&&s.wbits!==t&&(s.window=null),s.wrap=i,s.wbits=t,Ew(e))},xw=(e,t)=>{if(!e)return Us;const i=new s4;e.state=i,i.strm=e,i.window=null,i.mode=rf;const s=Mw(e,t);return s!==ha&&(e.state=null),s},r4=e=>xw(e,i4);let gb=!0,rp,np;const n4=e=>{if(gb){rp=new Int32Array(512),np=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Hc(yw,e.lens,0,288,rp,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Hc(ww,e.lens,0,32,np,0,e.work,{bits:5}),gb=!1}e.lencode=rp,e.lenbits=9,e.distcode=np,e.distbits=5},kw=(e,t,i,s)=>{let r;const n=e.state;return n.window===null&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new Uint8Array(n.wsize)),s>=n.wsize?(n.window.set(t.subarray(i-n.wsize,i),0),n.wnext=0,n.whave=n.wsize):(r=n.wsize-n.wnext,r>s&&(r=s),n.window.set(t.subarray(i-s,i-s+r),n.wnext),s-=r,s?(n.window.set(t.subarray(i-s,i),0),n.wnext=s,n.whave=n.wsize):(n.wnext+=r,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=r))),0},o4=(e,t)=>{let i,s,r,n,o,a,l,c,d,u,f,g,m,y,b=0,S,I,F,G,L,T,O,Q;const V=new Uint8Array(4);let U,M;const v=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Va(e)||!e.output||!e.input&&e.avail_in!==0)return Us;i=e.state,i.mode===an&&(i.mode=tp),o=e.next_out,r=e.output,l=e.avail_out,n=e.next_in,s=e.input,a=e.avail_in,c=i.hold,d=i.bits,u=a,f=l,Q=ha;e:for(;;)switch(i.mode){case rf:if(i.wrap===0){i.mode=tp;break}for(;d<16;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(i.wrap&2&&c===35615){i.wbits===0&&(i.wbits=15),i.check=0,V[0]=c&255,V[1]=c>>>8&255,i.check=wi(i.check,V,2,0),c=0,d=0,i.mode=U0;break}if(i.head&&(i.head.done=!1),!(i.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",i.mode=zt;break}if((c&15)!==j0){e.msg="unknown compression method",i.mode=zt;break}if(c>>>=4,d-=4,O=(c&15)+8,i.wbits===0&&(i.wbits=O),O>15||O>i.wbits){e.msg="invalid window size",i.mode=zt;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=c&512?tb:an,c=0,d=0;break;case U0:for(;d<16;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(i.flags=c,(i.flags&255)!==j0){e.msg="unknown compression method",i.mode=zt;break}if(i.flags&57344){e.msg="unknown header flags set",i.mode=zt;break}i.head&&(i.head.text=c>>8&1),i.flags&512&&i.wrap&4&&(V[0]=c&255,V[1]=c>>>8&255,i.check=wi(i.check,V,2,0)),c=0,d=0,i.mode=X0;case X0:for(;d<32;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}i.head&&(i.head.time=c),i.flags&512&&i.wrap&4&&(V[0]=c&255,V[1]=c>>>8&255,V[2]=c>>>16&255,V[3]=c>>>24&255,i.check=wi(i.check,V,4,0)),c=0,d=0,i.mode=J0;case J0:for(;d<16;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}i.head&&(i.head.xflags=c&255,i.head.os=c>>8),i.flags&512&&i.wrap&4&&(V[0]=c&255,V[1]=c>>>8&255,i.check=wi(i.check,V,2,0)),c=0,d=0,i.mode=Q0;case Q0:if(i.flags&1024){for(;d<16;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}i.length=c,i.head&&(i.head.extra_len=c),i.flags&512&&i.wrap&4&&(V[0]=c&255,V[1]=c>>>8&255,i.check=wi(i.check,V,2,0)),c=0,d=0}else i.head&&(i.head.extra=null);i.mode=q0;case q0:if(i.flags&1024&&(g=i.length,g>a&&(g=a),g&&(i.head&&(O=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(s.subarray(n,n+g),O)),i.flags&512&&i.wrap&4&&(i.check=wi(i.check,s,g,n)),a-=g,n+=g,i.length-=g),i.length))break e;i.length=0,i.mode=K0;case K0:if(i.flags&2048){if(a===0)break e;g=0;do O=s[n+g++],i.head&&O&&i.length<65536&&(i.head.name+=String.fromCharCode(O));while(O&&g<a);if(i.flags&512&&i.wrap&4&&(i.check=wi(i.check,s,g,n)),a-=g,n+=g,O)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=$0;case $0:if(i.flags&4096){if(a===0)break e;g=0;do O=s[n+g++],i.head&&O&&i.length<65536&&(i.head.comment+=String.fromCharCode(O));while(O&&g<a);if(i.flags&512&&i.wrap&4&&(i.check=wi(i.check,s,g,n)),a-=g,n+=g,O)break e}else i.head&&(i.head.comment=null);i.mode=eb;case eb:if(i.flags&512){for(;d<16;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(i.wrap&4&&c!==(i.check&65535)){e.msg="header crc mismatch",i.mode=zt;break}c=0,d=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=an;break;case tb:for(;d<32;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}e.adler=i.check=pb(c),c=0,d=0,i.mode=nh;case nh:if(i.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=n,e.avail_in=a,i.hold=c,i.bits=d,qF;e.adler=i.check=1,i.mode=an;case an:if(t===JF||t===Eu)break e;case tp:if(i.last){c>>>=d&7,d-=d&7,i.mode=sp;break}for(;d<3;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}switch(i.last=c&1,c>>>=1,d-=1,c&3){case 0:i.mode=ib;break;case 1:if(n4(i),i.mode=Mu,t===Eu){c>>>=2,d-=2;break e}break;case 2:i.mode=rb;break;case 3:e.msg="invalid block type",i.mode=zt}c>>>=2,d-=2;break;case ib:for(c>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",i.mode=zt;break}if(i.length=c&65535,c=0,d=0,i.mode=ip,t===Eu)break e;case ip:i.mode=sb;case sb:if(g=i.length,g){if(g>a&&(g=a),g>l&&(g=l),g===0)break e;r.set(s.subarray(n,n+g),o),a-=g,n+=g,l-=g,o+=g,i.length-=g;break}i.mode=an;break;case rb:for(;d<14;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(i.nlen=(c&31)+257,c>>>=5,d-=5,i.ndist=(c&31)+1,c>>>=5,d-=5,i.ncode=(c&15)+4,c>>>=4,d-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=zt;break}i.have=0,i.mode=nb;case nb:for(;i.have<i.ncode;){for(;d<3;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}i.lens[v[i.have++]]=c&7,c>>>=3,d-=3}for(;i.have<19;)i.lens[v[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,U={bits:i.lenbits},Q=Hc(XF,i.lens,0,19,i.lencode,0,i.work,U),i.lenbits=U.bits,Q){e.msg="invalid code lengths set",i.mode=zt;break}i.have=0,i.mode=ob;case ob:for(;i.have<i.nlen+i.ndist;){for(;b=i.lencode[c&(1<<i.lenbits)-1],S=b>>>24,I=b>>>16&255,F=b&65535,!(S<=d);){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(F<16)c>>>=S,d-=S,i.lens[i.have++]=F;else{if(F===16){for(M=S+2;d<M;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(c>>>=S,d-=S,i.have===0){e.msg="invalid bit length repeat",i.mode=zt;break}O=i.lens[i.have-1],g=3+(c&3),c>>>=2,d-=2}else if(F===17){for(M=S+3;d<M;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}c>>>=S,d-=S,O=0,g=3+(c&7),c>>>=3,d-=3}else{for(M=S+7;d<M;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}c>>>=S,d-=S,O=0,g=11+(c&127),c>>>=7,d-=7}if(i.have+g>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=zt;break}for(;g--;)i.lens[i.have++]=O}}if(i.mode===zt)break;if(i.lens[256]===0){e.msg="invalid code -- missing end-of-block",i.mode=zt;break}if(i.lenbits=9,U={bits:i.lenbits},Q=Hc(yw,i.lens,0,i.nlen,i.lencode,0,i.work,U),i.lenbits=U.bits,Q){e.msg="invalid literal/lengths set",i.mode=zt;break}if(i.distbits=6,i.distcode=i.distdyn,U={bits:i.distbits},Q=Hc(ww,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,U),i.distbits=U.bits,Q){e.msg="invalid distances set",i.mode=zt;break}if(i.mode=Mu,t===Eu)break e;case Mu:i.mode=xu;case xu:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=n,e.avail_in=a,i.hold=c,i.bits=d,ZF(e,f),o=e.next_out,r=e.output,l=e.avail_out,n=e.next_in,s=e.input,a=e.avail_in,c=i.hold,d=i.bits,i.mode===an&&(i.back=-1);break}for(i.back=0;b=i.lencode[c&(1<<i.lenbits)-1],S=b>>>24,I=b>>>16&255,F=b&65535,!(S<=d);){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(I&&!(I&240)){for(G=S,L=I,T=F;b=i.lencode[T+((c&(1<<G+L)-1)>>G)],S=b>>>24,I=b>>>16&255,F=b&65535,!(G+S<=d);){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}c>>>=G,d-=G,i.back+=G}if(c>>>=S,d-=S,i.back+=S,i.length=F,I===0){i.mode=ub;break}if(I&32){i.back=-1,i.mode=an;break}if(I&64){e.msg="invalid literal/length code",i.mode=zt;break}i.extra=I&15,i.mode=ab;case ab:if(i.extra){for(M=i.extra;d<M;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}i.length+=c&(1<<i.extra)-1,c>>>=i.extra,d-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=lb;case lb:for(;b=i.distcode[c&(1<<i.distbits)-1],S=b>>>24,I=b>>>16&255,F=b&65535,!(S<=d);){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(!(I&240)){for(G=S,L=I,T=F;b=i.distcode[T+((c&(1<<G+L)-1)>>G)],S=b>>>24,I=b>>>16&255,F=b&65535,!(G+S<=d);){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}c>>>=G,d-=G,i.back+=G}if(c>>>=S,d-=S,i.back+=S,I&64){e.msg="invalid distance code",i.mode=zt;break}i.offset=F,i.extra=I&15,i.mode=cb;case cb:if(i.extra){for(M=i.extra;d<M;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}i.offset+=c&(1<<i.extra)-1,c>>>=i.extra,d-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=zt;break}i.mode=db;case db:if(l===0)break e;if(g=f-l,i.offset>g){if(g=i.offset-g,g>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=zt;break}g>i.wnext?(g-=i.wnext,m=i.wsize-g):m=i.wnext-g,g>i.length&&(g=i.length),y=i.window}else y=r,m=o-i.offset,g=i.length;g>l&&(g=l),l-=g,i.length-=g;do r[o++]=y[m++];while(--g);i.length===0&&(i.mode=xu);break;case ub:if(l===0)break e;r[o++]=i.length,l--,i.mode=xu;break;case sp:if(i.wrap){for(;d<32;){if(a===0)break e;a--,c|=s[n++]<<d,d+=8}if(f-=l,e.total_out+=f,i.total+=f,i.wrap&4&&f&&(e.adler=i.check=i.flags?wi(i.check,r,f,o-f):od(i.check,r,f,o-f)),f=l,i.wrap&4&&(i.flags?c:pb(c))!==i.check){e.msg="incorrect data check",i.mode=zt;break}c=0,d=0}i.mode=hb;case hb:if(i.wrap&&i.flags){for(;d<32;){if(a===0)break e;a--,c+=s[n++]<<d,d+=8}if(i.wrap&4&&c!==(i.total&4294967295)){e.msg="incorrect length check",i.mode=zt;break}c=0,d=0}i.mode=fb;case fb:Q=QF;break e;case zt:Q=Sw;break e;case Aw:return Rw;case Iw:default:return Us}return e.next_out=o,e.avail_out=l,e.next_in=n,e.avail_in=a,i.hold=c,i.bits=d,(i.wsize||f!==e.avail_out&&i.mode<zt&&(i.mode<sp||t!==z0))&&kw(e,e.output,e.next_out,f-e.avail_out),u-=e.avail_in,f-=e.avail_out,e.total_in+=u,e.total_out+=f,i.total+=f,i.wrap&4&&f&&(e.adler=i.check=i.flags?wi(i.check,r,f,e.next_out-f):od(i.check,r,f,e.next_out-f)),e.data_type=i.bits+(i.last?64:0)+(i.mode===an?128:0)+(i.mode===Mu||i.mode===ip?256:0),(u===0&&f===0||t===z0)&&Q===ha&&(Q=KF),Q},a4=e=>{if(Va(e))return Us;let t=e.state;return t.window&&(t.window=null),e.state=null,ha},l4=(e,t)=>{if(Va(e))return Us;const i=e.state;return i.wrap&2?(i.head=t,t.done=!1,ha):Us},c4=(e,t)=>{const i=t.length;let s,r,n;return Va(e)||(s=e.state,s.wrap!==0&&s.mode!==nh)?Us:s.mode===nh&&(r=1,r=od(r,t,i,0),r!==s.check)?Sw:(n=kw(e,t,i,i),n?(s.mode=Aw,Rw):(s.havedict=1,ha))};var d4=Ew,u4=Mw,h4=Fw,f4=r4,p4=xw,g4=o4,m4=a4,v4=l4,b4=c4,C4="pako inflate (from Nodeca project)",cn={inflateReset:d4,inflateReset2:u4,inflateResetKeep:h4,inflateInit:f4,inflateInit2:p4,inflate:g4,inflateEnd:m4,inflateGetHeader:v4,inflateSetDictionary:b4,inflateInfo:C4};function y4(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var w4=y4;const _w=Object.prototype.toString,{Z_NO_FLUSH:S4,Z_FINISH:R4,Z_OK:cd,Z_STREAM_END:op,Z_NEED_DICT:ap,Z_STREAM_ERROR:A4,Z_DATA_ERROR:mb,Z_MEM_ERROR:I4}=Ba;function ru(e){this.options=sf.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bw,this.strm.avail_out=0;let i=cn.inflateInit2(this.strm,t.windowBits);if(i!==cd)throw new Error(da[i]);if(this.header=new w4,cn.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=ld.string2buf(t.dictionary):_w.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=cn.inflateSetDictionary(this.strm,t.dictionary),i!==cd)))throw new Error(da[i])}ru.prototype.push=function(e,t){const i=this.strm,s=this.options.chunkSize,r=this.options.dictionary;let n,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?R4:S4,_w.call(e)==="[object ArrayBuffer]"?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),n=cn.inflate(i,o),n===ap&&r&&(n=cn.inflateSetDictionary(i,r),n===cd?n=cn.inflate(i,o):n===mb&&(n=ap));i.avail_in>0&&n===op&&i.state.wrap>0&&e[i.next_in]!==0;)cn.inflateReset(i),n=cn.inflate(i,o);switch(n){case A4:case mb:case ap:case I4:return this.onEnd(n),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(i.avail_out===0||n===op))if(this.options.to==="string"){let l=ld.utf8border(i.output,i.next_out),c=i.next_out-l,d=ld.buf2string(i.output,l);i.next_out=c,i.avail_out=s-c,c&&i.output.set(i.output.subarray(l,l+c),0),this.onData(d)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(!(n===cd&&a===0)){if(n===op)return n=cn.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(i.avail_in===0)break}}return!0};ru.prototype.onData=function(e){this.chunks.push(e)};ru.prototype.onEnd=function(e){e===cd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Zm(e,t){const i=new ru(t);if(i.push(e),i.err)throw i.msg||da[i.err];return i.result}function F4(e,t){return t=t||{},t.raw=!0,Zm(e,t)}var E4=ru,M4=Zm,x4=F4,k4=Zm,_4=Ba,G4={Inflate:E4,inflate:M4,inflateRaw:x4,ungzip:k4,constants:_4};const{Deflate:D4,deflate:W4,deflateRaw:T4,gzip:N4}=PF,{Inflate:B4,inflate:V4,inflateRaw:O4,ungzip:P4}=G4;var L4=D4,Z4=W4,H4=T4,Y4=N4,z4=B4,j4=V4,U4=O4,X4=P4,J4=Ba,uo={Deflate:L4,deflate:Z4,deflateRaw:H4,gzip:Y4,Inflate:z4,inflate:j4,inflateRaw:U4,ungzip:X4,constants:J4};/**
 * @wharfkit/antelope v1.0.13
 * https://github.com/wharfkit/antelope
 *
 * @license
 * Copyright (c) 2023 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * 1.  Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 * 2.  Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 * 3.  Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */function Rl(e,t){const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(e[s]!==t[s])return!1;return!0}function Q4(e,t){const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(!e[s].equals(t[s]))return!1;return!0}const io={};function Gw(){io.enc=new Array(255),io.dec={};for(let e=0;e<=255;++e){const t=e.toString(16).padStart(2,"0");io.enc[e]=t,io.dec[t]=e}}function Hm(e){io.enc||Gw();const t=e.length,i=new Array(t);for(let s=0;s<t;++s)i[s]=io.enc[e[s]];return i.join("")}function q4(e){if(io.dec||Gw(),typeof e!="string")throw new Error("Expected string containing hex digits");if(e.length%2)throw new Error("Odd number of hex digits");e=e.toLowerCase();const t=e.length/2,i=new Uint8Array(t);for(let s=0;s<t;s++){const r=io.dec[e[s*2]+e[s*2+1]];if(r===void 0)throw new Error("Expected hex string");i[s]=r}return i}function nf(e){return N3(e)}let vb=!1;function ve(e,t){if(e instanceof t)return!0;if(e==null||typeof e!="object")return!1;const i=t.__className||t.abiName;if(!i)return!1;let s=e.constructor,r=!1;for(;s&&!r;){const n=s.__className||s.abiName;if(!n)break;r=i==n,s=Object.getPrototypeOf(s)}return r&&!vb&&(console.warn(`Detected alien instance of ${i}, this usually means more than one version of @wharfkit/antelope has been included in your bundle.`),vb=!0),r}let nu=class{static from(t){if(ve(t,this))return t;if(typeof t=="string")return this.fromString(t);throw new Error("Invalid blob")}static fromString(t){if(typeof Buffer=="function")return new this(new Uint8Array(Buffer.from(t,"base64")));switch(t.length%4){case 2:t+="==";break;case 3:t+="=";break;case 1:t=t.substring(0,t.length-1);break}const i=atob(t),s=new Uint8Array(i.length);for(let r=0;r<i.length;r++)s[r]=i.charCodeAt(r);return new this(s)}constructor(t){this.array=t}equals(t){const i=this.constructor;try{return Rl(this.array,i.from(t).array)}catch{return!1}}get base64String(){return typeof Buffer=="function"?Buffer.from(this.array).toString("base64"):btoa(this.utf8String)}get utf8String(){return new TextDecoder().decode(this.array)}toABI(t){t.writeArray(this.array)}toString(){return this.base64String}toJSON(){return this.toString()}};nu.abiName="blob";class pe{static from(t,i){return ve(t,this)?t:typeof t=="string"?this.fromString(t,i):ArrayBuffer.isView(t)?new this(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)):ve(t.array,Uint8Array)?new this(t.array):new this(new Uint8Array(t))}static fromString(t,i="hex"){if(i==="hex"){const s=q4(t);return new this(s)}else if(i=="utf8"){const s=new TextEncoder;return new this(s.encode(t))}else throw new Error(`Unknown encoding: ${i}`)}static fromABI(t){const i=t.readVaruint32();return new this(t.readArray(i))}static abiDefault(){return new pe}static equal(t,i){return this.from(t).equals(this.from(i))}static random(t){return new this(nf(t))}static isBytes(t){return!!(ve(t,pe)||ve(t,Uint8Array)||Array.isArray(t)&&t.every(i=>typeof i=="number")||typeof t=="string"&&(/[\da-f]/i.test(t)||t===""))}constructor(t=new Uint8Array){this.array=t}get length(){return this.array.byteLength}get hexString(){return Hm(this.array)}get utf8String(){return new TextDecoder().decode(this.array)}append(t){t=pe.from(t);const i=this.array.byteLength+t.array.byteLength,s=new ArrayBuffer(i),r=new Uint8Array(s);r.set(this.array),r.set(t.array,this.array.byteLength),this.array=r}appending(t){const i=new pe(this.array);return i.append(t),i}zeropad(t,i=!1){const s=i?t:Math.max(t,this.array.byteLength),r=new ArrayBuffer(s),n=new Uint8Array(r);n.fill(0),i&&this.array.byteLength>s?n.set(this.array.slice(0,s),0):n.set(this.array,s-this.array.byteLength),this.array=n}zeropadded(t,i=!1){const s=new pe(this.array);return s.zeropad(t,i),s}dropFirst(t=1){this.array=this.array.subarray(t)}droppingFirst(t=1){return new pe(this.array.subarray(t))}copy(){const t=new ArrayBuffer(this.array.byteLength),i=new Uint8Array(t);return i.set(this.array),new pe(i)}equals(t){return Rl(this.array,pe.from(t).array)}toString(t="hex"){if(t==="hex")return this.hexString;if(t==="utf8")return this.utf8String;throw new Error(`Unknown encoding: ${t}`)}toABI(t){t.writeVaruint32(this.array.byteLength),t.writeArray(this.array)}toJSON(){return this.hexString}}pe.abiName="bytes";class oc{static from(t){return ve(t,this)?t:ve(t,oc)?new this(t.array):new this(pe.from(t).array)}static fromABI(t){return new this(t.readArray(this.byteSize))}static abiDefault(){return new this(new Uint8Array(this.byteSize))}constructor(t){const i=this.constructor.byteSize;if(t.byteLength!==i)throw new Error(`Checksum size mismatch, expected ${i} bytes got ${t.byteLength}`);this.array=t}equals(t){const i=this.constructor;try{return Rl(this.array,i.from(t).array)}catch{return!1}}get hexString(){return Hm(this.array)}toABI(t){t.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}}oc.abiName="__checksum";class Me extends oc{static from(t){return super.from(t)}static hash(t){const i=new Uint8Array(Tr.sha256().update(pe.from(t).array).digest());return new Me(i)}}Me.abiName="checksum256";Me.byteSize=32;class Oa extends oc{static from(t){return super.from(t)}static hash(t){const i=new Uint8Array(Tr.sha512().update(pe.from(t).array).digest());return new Oa(i)}}Oa.abiName="checksum512";Oa.byteSize=64;class mo extends oc{static from(t){return super.from(t)}static hash(t){const i=new Uint8Array(Tr.ripemd160().update(pe.from(t).array).digest());return new mo(i)}}mo.abiName="checksum160";mo.byteSize=20;var Ke;(function(e){e.K1="K1",e.R1="R1",e.WA="WA"})(Ke||(Ke={}));(function(e){function t(s){switch(s){case e.K1:return 0;case e.R1:return 1;case e.WA:return 2;default:throw new Error(`Unknown curve type: ${s}`)}}e.indexFor=t;function i(s){let r;switch(typeof s!="number"?r=e.indexFor(s):r=s,r){case 0:return e.K1;case 1:return e.R1;case 2:return e.WA;default:throw new Error("Unknown curve type")}}e.from=i})(Ke||(Ke={}));class Ye{static get max(){return new Xt(2).pow(new Xt(this.byteWidth*8-(this.isSigned?1:0))).isubn(1)}static get min(){return this.isSigned?this.max.ineg().isubn(1):new Xt(0)}static add(t,i,s="truncate"){return Ye.operator(t,i,s,(r,n)=>r.add(n))}static sub(t,i,s){return Ye.operator(t,i,s,(r,n)=>r.sub(n))}static mul(t,i,s){return Ye.operator(t,i,s,(r,n)=>r.mul(n))}static div(t,i,s){return Ye.operator(t,i,s,(r,n)=>{if(n.isZero())throw new Error("Division by zero");return r.div(n)})}static divRound(t,i,s){return Ye.operator(t,i,s,(r,n)=>{if(n.isZero())throw new Error("Division by zero");return r.divRound(n)})}static divCeil(t,i,s){return Ye.operator(t,i,s,(r,n)=>{if(n.isZero())throw new Error("Division by zero");const o=r.divmod(n);return o.mod.isZero()?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)})}static gt(t,i){return t.value.gt(i.value)}static lt(t,i){return t.value.lt(i.value)}static gte(t,i){return t.value.gte(i.value)}static lte(t,i){return t.value.lte(i.value)}static operator(t,i,s="truncate",r){const{a:n,b:o}=eE(t,i),a=n.constructor,l=r(n.value,o.value);return a.from(l,s)}static from(t,i){if(ve(t,this))return t;let s=this,r;if(ve(t,Ye))s=t.constructor,r=t.value.clone();else if(t instanceof Uint8Array)r=new Xt(t,void 0,"le"),s.isSigned&&(r=r.fromTwos(s.byteWidth*8));else{if(typeof t=="string"&&!/[0-9]+/.test(t)||typeof t=="number"&&!Number.isFinite(t))throw new Error("Invalid number");r=Xt.isBN(t)?t.clone():new Xt(t,10),r.isNeg()&&!s.isSigned&&(s={byteWidth:s.byteWidth,isSigned:!0})}switch(i){case"clamp":r=K4(r,this.min,this.max);break;case"truncate":r=$4(r,s,this);break}return new this(r)}static fromABI(t){return this.from(t.readArray(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){return this.from(nf(this.byteWidth))}constructor(t){const i=this.constructor;if(i.isSigned===void 0||i.byteWidth===void 0)throw new Error("Cannot instantiate abstract class Int");if(t.gt(i.max))throw new Error(`Number ${t} overflows ${i.abiName}`);if(t.lt(i.min))throw new Error(`Number ${t} underflows ${i.abiName}`);this.value=t}cast(t,i="truncate"){return this.constructor===t?this:t.from(this,i)}get byteArray(){const t=this.constructor;return(t.isSigned?this.value.toTwos(t.byteWidth*8):this.value).toArrayLike(Uint8Array,"le",t.byteWidth)}equals(t,i=!1){const s=this.constructor;if(i===!0&&ve(t,Ye)){const r=t.constructor;if(s.byteWidth!==r.byteWidth||s.isSigned!==r.isSigned)return!1}try{return this.value.eq(s.from(t).value)}catch{return!1}}add(t){this.value=this.operator(t,Ye.add).value}adding(t){return this.operator(t,Ye.add)}subtract(t){this.value=this.operator(t,Ye.sub).value}subtracting(t){return this.operator(t,Ye.sub)}multiply(t){this.value=this.operator(t,Ye.mul).value}multiplying(t){return this.operator(t,Ye.mul)}divide(t,i){this.value=this.dividing(t,i).value}dividing(t,i){let s=Ye.div;switch(i){case"ceil":s=Ye.divCeil;break;case"round":s=Ye.divRound;break}return this.operator(t,s)}gt(t){return Ye.gt(this,t)}lt(t){return Ye.lt(this,t)}gte(t){return Ye.gte(this,t)}lte(t){return Ye.lte(this,t)}operator(t,i){let s;return ve(t,Ye)?s=t:s=me.from(t,"truncate"),i(this,s).cast(this.constructor)}toNumber(){return this.value.toNumber()}toString(){return this.value.toString()}[Symbol.toPrimitive](t){return t==="number"?this.toNumber():this.toString()}toABI(t){t.writeArray(this.byteArray)}toJSON(){return this.value.bitLength()>32?this.value.toString():this.value.toNumber()}}Ye.abiName="__int";class of extends Ye{}of.abiName="int8";of.byteWidth=1;of.isSigned=!0;class af extends Ye{}af.abiName="int16";af.byteWidth=2;af.isSigned=!0;class In extends Ye{}In.abiName="int32";In.byteWidth=4;In.isSigned=!0;class me extends Ye{}me.abiName="int64";me.byteWidth=8;me.isSigned=!0;class lf extends Ye{}lf.abiName="int128";lf.byteWidth=16;lf.isSigned=!0;class Gt extends Ye{}Gt.abiName="uint8";Gt.byteWidth=1;Gt.isSigned=!1;class li extends Ye{}li.abiName="uint16";li.byteWidth=2;li.isSigned=!1;class ge extends Ye{}ge.abiName="uint32";ge.byteWidth=4;ge.isSigned=!1;class Oe extends Ye{}Oe.abiName="uint64";Oe.byteWidth=8;Oe.isSigned=!1;class Hi extends Ye{}Hi.abiName="uint128";Hi.byteWidth=16;Hi.isSigned=!1;class cf extends Ye{static fromABI(t){return new this(new Xt(t.readVarint32()))}toABI(t){t.writeVarint32(Number(this))}}cf.abiName="varint32";cf.byteWidth=32;cf.isSigned=!0;class ac extends Ye{static fromABI(t){return new this(new Xt(t.readVaruint32()))}toABI(t){t.writeVaruint32(Number(this))}}ac.abiName="varuint32";ac.byteWidth=32;ac.isSigned=!1;function K4(e,t,i){return Xt.min(Xt.max(e,t),i)}function $4(e,t,i){const s=e.isNeg()?255:0,n=(t.isSigned?e.toTwos(t.byteWidth*8):e).toArrayLike(Uint8Array,"le"),o=new Uint8Array(i.byteWidth);o.fill(s),o.set(n.slice(0,i.byteWidth));const a=new Xt(o,void 0,"le");return i.isSigned?a.fromTwos(i.byteWidth*8):a}function eE(e,t){e=bb(e),t=bb(t);const i=e.constructor,s=t.constructor;return i!==s&&(i.isSigned===s.isSigned?i.byteWidth>s.byteWidth?t=t.cast(i):s.byteWidth>i.byteWidth&&(e=e.cast(s)):i.isSigned===!1&&i.byteWidth>=s.byteWidth?t=t.cast(i):s.isSigned===!1&&s.byteWidth>=i.byteWidth?e=e.cast(s):i.isSigned===!0&&i.max.gte(s.max)&&i.min.lte(s.min)?t=t.cast(i):s.isSigned===!0&&s.max.gte(i.max)&&s.min.lte(i.min)&&(e=e.cast(s))),{a:e,b:t}}function bb(e){let t=e;return e.constructor.byteWidth<4&&(t=e.cast(In)),t}function df(e){const t=[],i=[],s=[],r=new Set,n=l=>{let c;return typeof l.type!="string"?c=o(l.type):c=l.type,l.array===!0&&(c+="[]"),l.optional===!0&&(c+="?"),l.extension===!0&&(c+="$"),c},o=l=>{if(l.abiName){if(l.abiName==="__struct")throw new Error("Misconfigured Struct subclass, did you forget @Struct.type?")}else throw new Error("Encountered non-conforming type");if(r.has(l))return l.abiName;if(r.add(l),l.abiAlias)s.push({new_type_name:l.abiName,type:n(l.abiAlias)});else if(l.abiFields){const c=l.abiFields.map(u=>({name:u.name,type:n(u)})),d={base:l.abiBase?o(l.abiBase):"",name:l.abiName,fields:c};t.push(d)}else if(l.abiVariant){const c={name:l.abiName,types:l.abiVariant.map(n)};i.push(c)}return l.abiName},a=o(e);return{abi:ze.from({structs:t,variants:i,types:s}),types:Array.from(r),root:a}}function oh(e){let t=typeof e.type=="string"?e.type:e.type.abiName;return e.array===!0&&(t+="[]"),e.optional===!0&&(t+="?"),e.extension===!0&&(t+="$"),t}function tE(e){return typeof e!="string"&&e.abiName===void 0&&e.type!==void 0}function Dw(e){return typeof e=="string"?{type:e}:typeof e.abiName<"u"?{type:e}:e}const Ww={abiName:"string",abiDefault:()=>"",fromABI:e=>e.readString(),from:e=>e,toABI:(e,t)=>{t.writeString(e)}},Tw={abiName:"bool",abiDefault:()=>!1,fromABI:e=>e.readByte()===1,from:e=>e,toABI:(e,t)=>{t.writeByte(e===!0?1:0)}};function iE(){return[Tw,Ww,ie,ie.Symbol,ie.SymbolCode,so,pe,mo,Me,Oa,dd,uf,jm,yi,lf,af,In,me,of,N,ei,Di,Rs,ci,Hi,li,ge,Oe,Gt,cf,ac]}function ig(e=[]){const t={},i=iE();for(const s of i)t[s.abiName]=s;for(const s of e){if(!s.abiName)throw new Error("Invalid type");t[s.abiName]=s}return t}function Ym(e){if(e.constructor&&e.constructor.abiName!==void 0)return e.constructor.abiName;if(Array.isArray(e)){const t=e.map(Ym),i=t[0];return!i||!t.every(s=>s===i)?void 0:i+"[]"}switch(typeof e){case"boolean":return"bool";case"string":return"string"}}function ah(e,t="jsobj"){var i;if(e.constructor&&e.constructor.abiName!==void 0)return e.constructor;if(Array.isArray(e)){const r=e.map(o=>ah(o,t)),n=r[0];return!n||!r.every(o=>o&&o.abiName===n.abiName)?void 0:n}const s=typeof e;if(s==="object"&&e!==null){const r=Object.keys(e).map(n=>({name:n,type:ah(e[n],t+"_nested")}));return r.find(n=>!n.type)?void 0:(i=class extends h{},i.abiName=t,i.abiFields=r,i)}switch(s){case"boolean":return Tw;case"string":return Ww}}class Nw extends Error{constructor(t,i){const s=t.codingPath.map(({field:r,type:n})=>typeof r=="number"?r:`${r}<${n.typeName}>`).join(".");super(`Decoding error at ${s}: ${i.message}`),this.stack=i.stack,this.ctx=t,this.underlyingError=i}}Nw.__className="DecodingError";function Fn(e){const t=Dw(e.type),i=oh(t),s=e.customTypes||[];let r;if(e.abi)r=ze.from(e.abi);else try{let a;if(typeof t.type=="string"){const c=ig(s),d=new ze.ResolvedType(t.type).name;if(a=c[d],!a)throw new Error(`Unknown type: ${t.type}`)}else a=t.type;const l=df(a);r=l.abi,s.push(...l.types)}catch(a){throw Error(`Unable to synthesize ABI for: ${i} (${a.message}). To decode non-class types you need to pass the ABI definition manually.`)}const n=r.resolveType(i);typeof t.type!="string"&&s.unshift(t.type);const o={types:ig(s),strictExtensions:e.strictExtensions||!1,codingPath:[{field:"root",type:n}]};try{if(e.data||e.data===""){let a;if(ve(e.data,Al))a=e.data;else{const l=pe.from(e.data),c=e.ignoreInvalidUTF8===void 0?!0:!e.ignoreInvalidUTF8;a=new Al(l.array,new TextDecoder("utf-8",{fatal:c}))}return e.metadata&&(a.metadata=e.metadata),Zu(n,a,o)}else{if(e.object!==void 0)return Yc(e.object,n,o);if(e.json)return Yc(JSON.parse(e.json),n,o);throw new Error("Nothing to decode, you must set one of data, json, object")}}catch(a){throw new Nw(o,a)}}const fa=Symbol("Resolved");function Zu(e,t,i){if(i.codingPath.length>32)throw new Error("Maximum decoding depth exceeded");if(e.isExtension&&!t.canRead())return i.strictExtensions?zc(e,i):null;if(e.isOptional&&t.readByte()===0)return null;if(e.isArray){const r=t.readVaruint32(),n=[];for(let o=0;o<r;o++)i.codingPath.push({field:o,type:e}),n.push(s()),i.codingPath.pop();return n}else return s();function s(){const r=i.types[e.name];if(r&&r.fromABI)return r.fromABI(t);if(e.ref){i.codingPath.push({field:"",type:e.ref});const n=Zu(e.ref,t,i);return i.codingPath.pop(),n}else if(e.fields){const n=e.allFields;if(!n)throw new Error("Invalid struct fields");const o={};for(const a of n)i.codingPath.push({field:a.name,type:a.type}),o[a.name]=Zu(a.type,t,i),i.codingPath.pop();return r?(o[fa]=!0,r.from(o)):o}else if(e.variant){const n=t.readByte(),o=e.variant[n];if(!o)throw new Error(`Unknown variant idx: ${n}`);i.codingPath.push({field:`v${n}`,type:o});const a=[o.typeName,Zu(o,t,i)];return i.codingPath.pop(),r?r.from(a):a}else throw r?new Error("Invalid type"):new Error(e.name==="any"?"Unable to decode 'any' type from binary":"Unknown type")}}function Yc(e,t,i){if(e==null){if(t.isOptional)return null;if(t.isExtension)return i.strictExtensions?zc(t,i):null;throw new Error(`Unexpectedly encountered ${e} for non-optional (${i.codingPath.map(r=>r.field).join(".")})`)}else if(t.isArray){if(!Array.isArray(e))throw new Error("Expected array");const r=[],n=e.length;for(let o=0;o<n;o++)i.codingPath.push({field:o,type:t}),r.push(s(e[o])),i.codingPath.pop();return r}else return s(e);function s(r){const n=i.types[t.name];if(t.ref&&!n)return Yc(r,t.ref,i);if(t.fields){if(typeof r!="object")throw new Error("Expected object");if(typeof n=="function"&&ve(r,n))return r;const o=t.allFields;if(!o)throw new Error("Invalid struct fields");const a={};for(const l of o)i.codingPath.push({field:l.name,type:l.type}),a[l.name]=Yc(r[l.name],l.type,i),i.codingPath.pop();return n?(a[fa]=!0,n.from(a)):a}else if(t.variant){let o;Array.isArray(r)&&r.length===2&&typeof r[0]=="string"?(o=r[0],r=r[1]):ve(r,ji)?(o=r.variantName,r=r.value):o=Ym(r);const a=t.variant.findIndex(d=>d.typeName===o);if(a===-1)throw new Error(`Unknown variant type: ${o}`);const l=t.variant[a];i.codingPath.push({field:`v${a}`,type:l});const c=[l.typeName,Yc(r,l,i)];return i.codingPath.pop(),n?(c[fa]=!0,n.from(c)):c}else{if(!n){if(t.name==="any")return r;throw new Error("Unknown type")}return n.from(r)}}}function zc(e,t,i=new Set){if(e.isArray)return[];if(e.isOptional)return null;const s=t.types[e.name];if(s&&s.abiDefault)return s.abiDefault();if(i.has(e.name))throw new Error("Circular type reference");if(i.add(e.name),e.allFields){const r={};for(const n of e.allFields)t.codingPath.push({field:n.name,type:n.type}),r[n.name]=zc(n.type,t,i),t.codingPath.pop();return s?(r[fa]=!0,s.from(r)):r}if(e.variant&&e.variant.length>0){const r=[e.variant[0].typeName,zc(e.variant[0],t)];return s?(r[fa]=!0,s.from(r)):r}if(e.ref){t.codingPath.push({field:"",type:e.ref});const r=zc(e.ref,t,i);return t.codingPath.pop(),r}throw new Error("Unable to determine default value")}class Al{constructor(t,i){this.array=t,this.pos=0,this.metadata={},this.textDecoder=i||new TextDecoder("utf-8",{fatal:!0}),this.data=new DataView(t.buffer,t.byteOffset,t.byteLength)}canRead(t=1){return!(this.pos+t>this.array.byteLength)}ensure(t){if(!this.canRead(t))throw new Error("Read past end of buffer")}setPosition(t){if(t<0||t>this.array.byteLength)throw new Error("Invalid position");this.pos=t}getPosition(){return this.pos}advance(t){this.ensure(t),this.pos+=t}readByte(){return this.ensure(1),this.array[this.pos++]}readFloat(t){this.ensure(t);let i;switch(t){case 4:i=this.data.getFloat32(this.pos,!0);break;case 8:i=this.data.getFloat64(this.pos,!0);break;default:throw new Error("Invalid float size")}return this.pos+=t,i}readVaruint32(){let t=0,i=0;for(;;){const s=this.readByte();if(t|=(s&127)<<i,i+=7,!(s&128))break}return t>>>0}readVarint32(){const t=this.readVaruint32();return t&1?~t>>1|2147483648:t>>>1}readArray(t){this.ensure(t);const i=this.array.subarray(this.pos,this.pos+t);return this.pos+=t,i}readString(){const t=this.readVaruint32();return this.textDecoder.decode(this.readArray(t))}}Al.__className="ABIDecoder";class Bw extends Error{constructor(t,i){const s=t.codingPath.map(({field:r,type:n})=>typeof r=="number"?r:`${r}<${n.typeName}>`).join(".");super(`Encoding error at ${s}: ${i.message}`),this.stack=i.stack,this.ctx=t,this.underlyingError=i}}Bw.__className="EncodingError";function Xs(e){let t,i;typeof e.type=="string"?i=e.type:e.type&&tE(e.type)?(typeof e.type.type!="string"&&(t=e.type.type),i=oh(e.type)):e.type&&e.type.abiName!==void 0?(t=e.type,i=e.type.abiName):(t=ah(e.object),t&&(i=t.abiName,Array.isArray(e.object)&&(i+="[]")));const s=e.customTypes?e.customTypes.slice():[];if(t)s.unshift(t);else if(i){const l=new ze.ResolvedType(i).name;t=s.find(c=>c.abiName===l)}let r;if(e.abi&&i)r=ze.from(e.abi).resolveType(i);else if(t){const l=df(t);r=l.abi.resolveType(i||t.abiName),s.push(...l.types)}else if(i)r=new ze.ResolvedType(i);else throw new Error("Unable to determine the type of the object to be encoded. To encode custom ABI types you must pass the type argument.");const n=ig(s),o=e.encoder||new zm;e.metadata&&(o.metadata=e.metadata);const a={types:n,encoder:o,codingPath:[{field:"root",type:r}]};try{Hu(e.object,r,a)}catch(l){throw new Bw(a,l)}return pe.from(o.getData())}function Hu(e,t,i){const s=e!=null;if(t.isOptional&&(i.encoder.writeByte(s?1:0),!s))return;if(t.isArray){if(!Array.isArray(e))throw new Error(`Expected array for: ${t.typeName}`);const n=e.length;i.encoder.writeVaruint32(n);for(let o=0;o<n;o++)i.codingPath.push({field:o,type:t}),r(e[o]),i.codingPath.pop()}else r(e);function r(n){const o=i.types[t.name];if(t.ref&&!o){Hu(n,t.ref,i);return}if(!s){if(t.isExtension)return;throw new Error(`Found ${n} for non-optional type: ${t.typeName} (${i.codingPath.map(a=>a.field).join(".")})`)}if(o&&o.toABI)o.toABI(n,i.encoder);else if(typeof n.toABI=="function"&&n.constructor.abiName===t.name)n.toABI(i.encoder);else if(t.fields){if(typeof n!="object")throw new Error(`Expected object for: ${t.name}`);const a=t.allFields;if(!a)throw new Error("Invalid struct fields");for(const l of a)i.codingPath.push({field:l.name,type:l.type}),Hu(n[l.name],l.type,i),i.codingPath.pop()}else if(t.variant){let a;Array.isArray(n)&&n.length===2&&typeof n[0]=="string"?(a=n[0],n=n[1]):ve(n,ji)?(a=n.variantName,n=n.value):a=Ym(n);const l=t.variant.findIndex(d=>d.typeName===a);if(l===-1){const d=t.variant.map(u=>`'${u.typeName}'`).join(", ");throw new Error(`Unknown variant type '${a}', expected one of ${d}`)}const c=t.variant[l];i.encoder.writeVaruint32(l),i.codingPath.push({field:`v${l}`,type:c}),Hu(n,c,i),i.codingPath.pop()}else{if(!o)throw new Error(t.name==="any"?"Unable to encode any type to binary":"Unknown type");const a=o.from(n);if(!a.toABI)throw new Error(`Invalid type ${t.name}, no encoding methods implemented`);a.toABI(i.encoder)}}}class zm{constructor(t=1024){this.pageSize=t,this.pos=0,this.textEncoder=new TextEncoder,this.metadata={};const i=new ArrayBuffer(t);this.data=new DataView(i),this.array=new Uint8Array(i)}ensure(t){if(this.data.byteLength>=this.pos+t)return;const i=Math.ceil(t/this.pageSize),s=this.data.byteLength+this.pageSize*i,r=new ArrayBuffer(s),n=new DataView(r),o=new Uint8Array(r);o.set(this.array),this.data=n,this.array=o}writeByte(t){this.ensure(1),this.array[this.pos++]=t}writeArray(t){const i=t.length;this.ensure(i),this.array.set(t,this.pos),this.pos+=i}writeFloat(t,i){switch(this.ensure(i),i){case 4:this.data.setFloat32(this.pos,t,!0);break;case 8:this.data.setFloat64(this.pos,t,!0);break;default:throw new Error("Invalid float size")}this.pos+=i}writeVaruint32(t){for(this.ensure(4);;)if(t>>>7)this.array[this.pos++]=128|t&127,t=t>>>7;else{this.array[this.pos++]=t;break}}writeVarint32(t){this.writeVaruint32(t<<1^t>>31)}writeString(t){const i=this.textEncoder.encode(t);this.writeVaruint32(i.byteLength),this.writeArray(i)}getData(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.pos)}getBytes(){return new pe(this.getData())}}zm.__className="ABIEncoder";class ze{constructor(t){this.version=t.version||ze.version,this.types=t.types||[],this.variants=t.variants||[],this.structs=t.structs||[],this.actions=t.actions||[],this.tables=t.tables||[],this.ricardian_clauses=t.ricardian_clauses||[],this.action_results=t.action_results||[]}static from(t){return ve(t,ze)?t:ve(t,nu)?Fn({data:t.array,type:this}):typeof t=="string"?new ze(JSON.parse(t)):new ze(t)}static fromABI(t){const i=t.readString(),s=[],r=t.readVaruint32();for(let S=0;S<r;S++)s.push({new_type_name:t.readString(),type:t.readString()});const n=[],o=t.readVaruint32();for(let S=0;S<o;S++){const I=t.readString(),F=t.readString(),G=t.readVaruint32(),L=[];for(let T=0;T<G;T++)L.push({name:t.readString(),type:t.readString()});n.push({base:F,name:I,fields:L})}const a=[],l=t.readVaruint32();for(let S=0;S<l;S++){const I=N.fromABI(t),F=t.readString(),G=t.readString();a.push({name:I,type:F,ricardian_contract:G})}const c=[],d=t.readVaruint32();for(let S=0;S<d;S++){const I=N.fromABI(t),F=t.readString(),G=[],L=t.readVaruint32();for(let V=0;V<L;V++)G.push(t.readString());const T=[],O=t.readVaruint32();for(let V=0;V<O;V++)T.push(t.readString());const Q=t.readString();c.push({name:I,index_type:F,key_names:G,key_types:T,type:Q})}const u=[],f=t.readVaruint32();for(let S=0;S<f;S++){const I=t.readString(),F=t.readString();u.push({id:I,body:F})}const g=t.readVaruint32();for(let S=0;S<g;S++)t.advance(8),t.advance(t.readVaruint32());const m=t.readVaruint32();for(let S=0;S<m;S++)t.advance(2),t.advance(t.readVaruint32());const y=[];if(t.canRead()){const S=t.readVaruint32();for(let I=0;I<S;I++){const F=t.readString(),G=[],L=t.readVaruint32();for(let T=0;T<L;T++)G.push(t.readString());y.push({name:F,types:G})}}const b=[];if(t.canRead()){const S=t.readVaruint32();for(let I=0;I<S;I++){const F=N.fromABI(t),G=t.readString();b.push({name:F,result_type:G})}}return new ze({version:i,types:s,structs:n,actions:a,tables:c,ricardian_clauses:u,variants:y,action_results:b})}toABI(t){t.writeString(this.version),t.writeVaruint32(this.types.length);for(const i of this.types)t.writeString(i.new_type_name),t.writeString(i.type);t.writeVaruint32(this.structs.length);for(const i of this.structs){t.writeString(i.name),t.writeString(i.base),t.writeVaruint32(i.fields.length);for(const s of i.fields)t.writeString(s.name),t.writeString(s.type)}t.writeVaruint32(this.actions.length);for(const i of this.actions)N.from(i.name).toABI(t),t.writeString(i.type),t.writeString(i.ricardian_contract);t.writeVaruint32(this.tables.length);for(const i of this.tables){N.from(i.name).toABI(t),t.writeString(i.index_type),t.writeVaruint32(i.key_names.length);for(const s of i.key_names)t.writeString(s);t.writeVaruint32(i.key_types.length);for(const s of i.key_types)t.writeString(s);t.writeString(i.type)}t.writeVaruint32(this.ricardian_clauses.length);for(const i of this.ricardian_clauses)t.writeString(i.id),t.writeString(i.body);t.writeVaruint32(0),t.writeVaruint32(0),t.writeVaruint32(this.variants.length);for(const i of this.variants){t.writeString(i.name),t.writeVaruint32(i.types.length);for(const s of i.types)t.writeString(s)}t.writeVaruint32(this.action_results.length);for(const i of this.action_results)N.from(i.name).toABI(t),t.writeString(i.result_type)}resolveType(t){const i={};return this.resolve({name:t,types:i},{id:0})}resolveAll(){const t={},i={id:0};return{types:this.types.map(s=>this.resolve({name:s.new_type_name,types:t},i)),variants:this.variants.map(s=>this.resolve({name:s.name,types:t},i)),structs:this.structs.map(s=>this.resolve({name:s.name,types:t},i))}}resolve({name:t,types:i},s){const r=i[t];if(r)return r;const n=new ze.ResolvedType(t,++s.id);i[n.typeName]=n;const o=this.types.find(c=>c.new_type_name==n.name);if(o)return n.ref=this.resolve({name:o.type,types:i},s),n;const a=this.getStruct(n.name);if(a)return a.base&&(n.base=this.resolve({name:a.base,types:i},s)),n.fields=a.fields.map(c=>({name:c.name,type:this.resolve({name:c.type,types:i},s)})),n;const l=this.getVariant(n.name);return l&&(n.variant=l.types.map(c=>this.resolve({name:c,types:i},s))),n}getStruct(t){return this.structs.find(i=>i.name==t)}getVariant(t){return this.variants.find(i=>i.name==t)}getActionType(t){const i=N.from(t).toString(),s=this.actions.find(r=>r.name.toString()===i);if(s)return s.type}equals(t){const i=ze.from(t);return this.version!=i.version||this.types.length!=i.types.length||this.structs.length!=i.structs.length||this.actions.length!=i.actions.length||this.tables.length!=i.tables.length||this.ricardian_clauses.length!=i.ricardian_clauses.length||this.variants.length!=i.variants.length||this.action_results.length!=i.action_results.length?!1:Xs({object:this}).equals(Xs({object:i}))}toJSON(){return{version:this.version,types:this.types,structs:this.structs,actions:this.actions,tables:this.tables,ricardian_clauses:this.ricardian_clauses,error_messages:[],abi_extensions:[],variants:this.variants,action_results:this.action_results}}}ze.abiName="abi";ze.version="eosio::abi/1.1";(function(e){class t{constructor(s,r=0){let n=s;n.endsWith("$")?(n=n.slice(0,-1),this.isExtension=!0):this.isExtension=!1,n.endsWith("?")?(n=n.slice(0,-1),this.isOptional=!0):this.isOptional=!1,n.endsWith("[]")?(n=n.slice(0,-2),this.isArray=!0):this.isArray=!1,this.id=r,this.name=n}get typeName(){let s=this.name;return this.isArray&&(s+="[]"),this.isOptional&&(s+="?"),this.isExtension&&(s+="$"),s}get allFields(){let s=this;const r=[],n=new Set;do{if(!s.fields||n.has(s.name))return;for(let o=s.fields.length-1;o>=0;o--)r.unshift(s.fields[o]);n.add(s.name),s=s.base}while(s!==void 0);return r}}e.ResolvedType=t})(ze||(ze={}));class h{static from(t){return t[fa]===!0?new this(t):ve(t,this)?t:Fn({object:t,type:this})}static get structFields(){const t=[],i=s=>{s.abiBase&&i(s.abiBase);for(const r of s.abiFields||[])t.push(r)};return i(this),t}constructor(t){const i=this.constructor;for(const s of i.structFields){const r=typeof s.type=="string"?new ze.ResolvedType(String(s.type)).isOptional:s.optional,n=t[s.name];r&&!n||(this[s.name]=n)}}equals(t){const i=this.constructor;return t.constructor&&typeof t.constructor.abiName=="string"&&t.constructor.abiName!==i.abiName?!1:Xs({object:this}).equals(Xs({object:i.from(t)}))}toJSON(){const t=this.constructor,i={};for(const s of t.structFields)s.optional&&!this[s.name]||(i[s.name]=this[s.name]);return i}}h.abiName="__struct";(function(e){const t=Symbol("FieldsOwner");function i(r){return function(n){return n.abiName=r,n}}e.type=i;function s(r,n={}){return(o,a)=>{const l=o.constructor;l.abiFields?l.abiFields[t]!==l&&(l.abiBase=l.abiFields[t],l.abiFields=[],l.abiFields[t]=l):(l.abiFields=[],l.abiFields[t]=l),l.abiFields.push({...n,name:a,type:r})}}e.field=s})(h||(h={}));function lc(e){return function(t){return t.abiAlias={type:Object.getPrototypeOf(t.prototype).constructor},t.abiName=e,t}}class ji{static from(t){return t[fa]?new this(t):ve(t,this)?t:Fn({object:t,type:this})}constructor(t){const i=this.constructor.abiVariant;this.value=t[1];const s=i.map(oh).findIndex(r=>r===t[0]);if(0>s||i.length<=s)throw new Error(`Unknown variant ${t[0]}`);this.variantIdx=s}equals(t){const s=this.constructor.from(t);return this.variantIdx!==s.variantIdx?!1:Xs({object:this}).equals(Xs({object:s}))}get variantName(){const t=this.constructor.abiVariant[this.variantIdx];return oh(t)}toJSON(){return[this.variantName,this.value]}}ji.abiName="__variant";ji.abiVariant=[];(function(e){function t(i,s){return function(r){return r.abiName=i,r.abiVariant=s.map(Dw),r}}e.type=t})(ji||(ji={}));class ou{static from(t){return ve(t,this)?t:(typeof t=="string"?t=Number.parseFloat(t):ve(t,ou)&&(t=t.value),new this(t))}static fromABI(t){return new this(t.readFloat(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){const t=nf(this.byteWidth),i=new Al(t);return this.fromABI(i)}constructor(t){this.value=t}equals(t){const i=this.constructor;return this.value===i.from(t).value}toABI(t){const i=this.constructor;t.writeFloat(this.value,i.byteWidth)}toString(){return this.value.toString()}toJSON(){return this.toString()}}ou.abiName="__float";class jm extends ou{toString(){return this.value.toFixed(7)}}jm.abiName="float32";jm.byteWidth=4;class yi extends ou{}yi.abiName="float64";yi.byteWidth=8;class uf{static from(t){return ve(t,this)?t:(typeof t=="string"&&t.startsWith("0x")&&(t=t.slice(2)),new this(pe.from(t)))}static fromABI(t){return new this(new pe(t.readArray(this.byteWidth)))}static random(){const t=nf(16),i=new Al(t);return this.fromABI(i)}constructor(t){if(t.array.length!==16)throw new Error("Invalid float128");this.data=t}equals(t){const i=this.constructor;return this.data.equals(i.from(t).data)}toABI(t){t.writeArray(this.data.array)}toString(){return"0x"+this.data.hexString}toJSON(){return this.toString()}}uf.abiName="float128";uf.byteWidth=16;class N{get rawValue(){return this.value}static from(t){if(ve(t,N))return t;if(typeof t=="string")return new N(sE(t));if(ve(t,Oe))return new N(t);throw new Error("Invalid name")}static fromABI(t){return new N(Oe.fromABI(t))}static abiDefault(){return new this(Oe.from(0))}constructor(t){this.value=t}equals(t){return this.value.equals(N.from(t).value)}toString(){return rE(this.value)}toABI(t){this.value.toABI(t)}toJSON(){return this.toString()}}N.abiName="name";N.pattern=/^[a-z1-5.]{0,13}$/;function sE(e){function t(r){return r>=97&&r<=122?r-97+6:r>=49&&r<=53?r-49+1:0}const i=new Uint8Array(8);let s=63;for(let r=0;r<e.length;++r){let n=t(e.charCodeAt(r));s<5&&(n=n<<1);for(let o=4;o>=0;--o)s>=0&&(i[Math.floor(s/8)]|=(n>>o&1)<<s%8,--s)}return Oe.from(i)}function rE(e){const t=e.value.toArray("le",8);let i="";for(let s=63;s>=0;){let r=0;for(let n=0;n<5;++n)s>=0&&(r=r<<1|t[Math.floor(s/8)]>>s%8&1,--s);r>=6?i+=String.fromCharCode(r+97-6):r>=1?i+=String.fromCharCode(r+49-1):i+="."}for(;i.endsWith(".");)i=i.substr(0,i.length-1);return i}class cc{static from(t){return ve(t,this)?t:ve(t,cc)?this.fromMilliseconds(t.toMilliseconds()):ve(t,Date)?this.fromDate(t):typeof t=="string"?this.fromString(t):this.fromInteger(t)}static fromString(t){const i=Date.parse(t+"Z");if(!Number.isFinite(i))throw new Error("Invalid date string");return this.fromMilliseconds(i)}static fromDate(t){return this.fromMilliseconds(t.getTime())}static abiDefault(){return this.from(0)}toABI(t){this.value.toABI(t)}equals(t){const i=this.constructor;return this.toMilliseconds()===i.from(t).toMilliseconds()}toMilliseconds(){throw new Error("Not implemented")}toDate(){return new Date(this.toMilliseconds())}toJSON(){return this.toString()}}cc.abiName="__time_point_base";class Rs extends cc{static fromMilliseconds(t){return new this(me.from(Math.round(t*1e3)))}static fromInteger(t){return new this(me.from(t))}static fromABI(t){return new this(me.fromABI(t))}constructor(t){super(),this.value=t}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.dividing(1e3,"round"))}}Rs.abiName="time_point";class ci extends cc{static fromMilliseconds(t){return new this(ge.from(Math.round(t/1e3)))}static fromInteger(t){return new this(ge.from(t))}static fromABI(t){return new this(ge.fromABI(t))}constructor(t){super(),this.value=t}toString(){return this.toDate().toISOString().slice(0,-5)}toMilliseconds(){return Number(this.value.cast(Oe).multiplying(1e3))}}ci.abiName="time_point_sec";class so extends cc{static fromMilliseconds(t){return new this(ge.from(Math.round((t-9466848e5)/500)))}static fromInteger(t){return new this(ge.from(t))}static fromABI(t){return new this(ge.fromABI(t))}constructor(t){super(),this.value=t}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.cast(Oe).multiplying(500).adding(9466848e5))}}so.abiName="block_timestamp_type";let ie=class ys{static from(t,i){if(ve(t,ys))return t;switch(typeof t){case"number":if(!i)throw new Error("Symbol is required when creating Asset from number");return this.fromFloat(t,i);case"string":return this.fromString(t);default:throw new Error("Invalid asset")}}static fromString(t){const i=(typeof t=="string"?t:"").split(" ");if(i.length!==2)throw new Error("Invalid asset string");const s=i[0].replace(".",""),r=(i[0].split(".")[1]||"").length,n=ys.Symbol.fromParts(i[1],r);return new ys(me.from(s),n)}static fromFloat(t,i){const s=ys.Symbol.from(i);return new ys(s.convertFloat(t),s)}static fromUnits(t,i){return new ys(me.from(t),ys.Symbol.from(i))}static fromABI(t){const i=me.fromABI(t),s=ys.Symbol.fromABI(t);return new ys(i,s)}static abiDefault(){return new this(me.from(0),ys.Symbol.abiDefault())}static formatUnits(t,i){const s=me.from(t).toString().split("");let r=!1;for(s[0]==="-"&&(r=!0,s.shift());s.length<=i;)s.unshift("0");i>0&&s.splice(s.length-i,0,".");let n=s.join("");return r&&(n="-"+n),n}constructor(t,i){this.units=t,this.symbol=i}equals(t){const{symbol:i,units:s}=ys.from(t);return this.symbol.value.equals(i.value)&&this.units.equals(s)}get value(){return this.symbol.convertUnits(this.units)}set value(t){this.units=this.symbol.convertFloat(t)}get quantity(){return ys.formatUnits(this.units,this.symbol.precision)}toABI(t){this.units.toABI(t),this.symbol.toABI(t)}toString(){return this.quantity+" "+this.symbol.name}toJSON(){return this.toString()}};ie.abiName="asset";(function(e){class t{static from(r){if(ve(r,t))return r;if(ve(r,Oe))return new t(r);const n=r.split(",");if(n.length!==2&&r!=="0,")throw new Error("Invalid symbol string");r==="0,"&&n.push("");const o=Number.parseInt(n[0]);return t.fromParts(n[1],o)}static fromParts(r,n){return new t(nE(r,n))}static fromABI(r){return new t(Oe.fromABI(r))}static abiDefault(){return this.from("4,SYS")}constructor(r){if(Cb(r)>t.maxPrecision)throw new Error("Invalid asset symbol, precision too large");if(!r.equals(0)&&!i.pattern.test(lp(r)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=r}equals(r){return this.value.equals(t.from(r).value)}get name(){return lp(this.value)}get precision(){return Cb(this.value)}get code(){return new i(Oe.from(this.value.value.clone().iushrn(8)))}toABI(r){this.value.toABI(r)}convertUnits(r){return r.value.toNumber()/Math.pow(10,this.precision)}convertFloat(r){return me.from(r.toFixed(this.precision).replace(".",""))}toString(){return`${this.precision},${this.name}`}toJSON(){return this.toString()}}t.abiName="symbol",t.maxPrecision=18,e.Symbol=t;class i{static from(r){return ve(r,i)?r:(typeof r=="string"&&(r=Oe.from(Ow(r))),new this(Oe.from(r)))}static fromABI(r){return new i(Oe.fromABI(r))}static abiDefault(){return this.from("SYS")}constructor(r){if(!r.equals(0)&&!i.pattern.test(lp(r)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=r}equals(r){return this.value.equals(i.from(r).value)}toABI(r){this.value.toABI(r)}toString(){return Vw(this.value.value.toArray("be"))}toJSON(){return this.toString()}}i.abiName="symbol_code",i.pattern=/^[A-Z]{0,7}$/,e.SymbolCode=i})(ie||(ie={}));class dd{static from(t){return ve(t,dd)?t:new this(ie.from(t.quantity),N.from(t.contract))}static fromABI(t){return new dd(ie.fromABI(t),N.fromABI(t))}constructor(t,i){this.quantity=t,this.contract=i}equals(t){return this.quantity.equals(t.quantity)&&this.contract.equals(t.contract)}toABI(t){this.quantity.toABI(t),this.contract.toABI(t)}toJSON(){return{quantity:this.quantity,contract:this.contract}}}dd.abiName="extended_asset";function Cb(e){return e.value.and(Oe.from(255).value).toNumber()}function lp(e){const t=e.value.toArray("be").slice(0,-1);return Vw(t)}function Vw(e){return e.map(t=>String.fromCharCode(t)).reverse().join("")}function nE(e,t){const i=Ow(e),s=new Uint8Array(i.length+1);return s[0]=t,s.set(i,1),Oe.from(s)}function Ow(e){const t=Math.min(e.length,7),i=new Uint8Array(t);for(let s=0;s<t;s++)i[s]=e.charCodeAt(s);return i}var ds;(function(e){let t;(function(m){m.E_CHECKSUM="E_CHECKSUM",m.E_INVALID="E_INVALID"})(t=e.ErrorCode||(e.ErrorCode={}));class i extends Error{constructor(y,b,S={}){super(y),this.code=b,this.info=S}}i.__className="DecodingError",e.DecodingError=i;const s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",r=new Int16Array(255).fill(-1);for(let m=0;m<58;++m)r[s.charCodeAt(m)]=m;function n(m,y){if(y==null)return u(m);const b=new Uint8Array(y);for(let S=0;S<m.length;++S){let I=r[m.charCodeAt(S)];if(I<0)throw new i("Invalid Base58 character encountered",t.E_INVALID,{char:m[S]});for(let F=0;F<y;++F){const G=b[F]*58+I;b[F]=G,I=G>>8}if(I)throw new i("Base58 value is out of range",t.E_INVALID)}return b.reverse(),new pe(b)}e.decode=n;function o(m,y){const b=n(m,y!=null?y+4:y),S=b.array.subarray(0,-4),I=b.array.subarray(-4),F=g(S);if(!Rl(I,F))throw new i("Checksum mismatch",t.E_CHECKSUM,{actual:F,expected:I,data:S,hash:"double_sha256"});return new pe(S)}e.decodeCheck=o;function a(m,y,b){const S=n(m,y!=null?y+4:y),I=S.array.subarray(0,-4),F=S.array.subarray(-4),G=f(I,b);if(!Rl(F,G))throw new i("Checksum mismatch",t.E_CHECKSUM,{actual:G,expected:F,data:I,hash:"ripemd160"});return new pe(I)}e.decodeRipemd160Check=a;function l(m){m=pe.from(m);const y=[];for(const b of m.array){let S=b;for(let I=0;I<y.length;++I){const F=(r[y[I]]<<8)+S;y[I]=s.charCodeAt(F%58),S=F/58|0}for(;S;)y.push(s.charCodeAt(S%58)),S=S/58|0}for(const b of m.array){if(b)break;y.push(49)}return y.reverse(),String.fromCharCode(...y)}e.encode=l;function c(m){return m=pe.from(m),m=m.appending(g(m.array)),l(m)}e.encodeCheck=c;function d(m,y){return m=pe.from(m),m=m.appending(f(m.array,y)),l(m)}e.encodeRipemd160Check=d;function u(m){const y=[];for(let b=0;b<m.length;++b){let S=r[m.charCodeAt(b)];if(S<0)throw new i("Invalid Base58 character encountered",t.E_INVALID,{char:m[b]});for(let I=0;I<y.length;++I){const F=y[I]*58+S;y[I]=F&255,S=F>>8}S&&y.push(S)}for(const b of m)if(b==="1")y.push(0);else break;return y.reverse(),pe.from(y)}function f(m,y){const b=Tr.ripemd160().update(m);return y&&b.update(y),new Uint8Array(b.digest().slice(0,4))}function g(m){const y=Tr.sha256().update(m).digest(),b=Tr.sha256().update(y).digest();return new Uint8Array(b.slice(0,4))}})(ds||(ds={}));class ei{static from(t){if(ve(t,ei))return t;if(typeof t=="object"&&t.type&&t.compressed)return new ei(Ke.from(t.type),new pe(t.compressed));if(typeof t!="string")throw new Error("Invalid public key");if(t.startsWith("PUB_")){const i=t.split("_");if(i.length!==3)throw new Error("Invalid public key string");const s=Ke.from(i[1]),r=s===Ke.K1||s===Ke.R1?33:void 0,n=ds.decodeRipemd160Check(i[2],r,s);return new ei(s,n)}else if(t.length>=50){const i=ds.decodeRipemd160Check(t.slice(-50));return new ei(Ke.K1,i)}else throw new Error("Invalid public key string")}static fromABI(t){const i=Ke.from(t.readByte());if(i==Ke.WA){const s=t.getPosition();t.advance(33),t.advance(1),t.advance(t.readVaruint32());const r=t.getPosition()-s;t.setPosition(s);const n=pe.from(t.readArray(r));return new ei(Ke.WA,n)}return new ei(i,new pe(t.readArray(33)))}constructor(t,i){this.type=t,this.data=i}equals(t){const i=ei.from(t);return this.type===i.type&&this.data.equals(i.data)}toLegacyString(t="EOS"){if(this.type!==Ke.K1)throw new Error("Unable to create legacy formatted string for non-K1 key");return`${t}${ds.encodeRipemd160Check(this.data)}`}toString(){return`PUB_${this.type}_${ds.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(Ke.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}ei.abiName="public_key";const cp={};function dc(e){let t=cp[e];if(!t)if(e==="K1")t=cp[e]=new zp.ec("secp256k1");else if(e==="R1")t=cp[e]=new zp.ec("p256");else throw new Error(`Unknown curve type: ${e}`);return t}function oE(e,t,i){const s=dc(i),r=e[0]-31,n=e.subarray(1,33),o=e.subarray(33),a=s.recoverPubKey(t,{r:n,s:o},r);return new Uint8Array(a.encodeCompressed())}function aE(e,t,i,s){const r=dc(s),n=e.subarray(1,33),o=e.subarray(33);return r.verify(t,{r:n,s:o},i)}class Di{static from(t){if(ve(t,Di))return t;if(typeof t=="object"&&t.r&&t.s){const i=new Uint8Array(65);let s=t.recid;const r=Ke.from(t.type);return(t.type===Ke.K1||t.type===Ke.R1)&&(s+=31),i[0]=s,i.set(t.r,1),i.set(t.s,33),new Di(r,new pe(i))}if(typeof t!="string")throw new Error("Invalid signature");if(t.startsWith("SIG_")){const i=t.split("_");if(i.length!==3)throw new Error("Invalid signature string");const s=Ke.from(i[1]),r=s===Ke.K1||s===Ke.R1?65:void 0,n=ds.decodeRipemd160Check(i[2],r,s);return new Di(s,n)}else throw new Error("Invalid signature string")}static fromABI(t){const i=Ke.from(t.readByte());if(i===Ke.WA){const s=t.getPosition();t.advance(65),t.advance(t.readVaruint32()),t.advance(t.readVaruint32());const r=t.getPosition()-s;t.setPosition(s);const n=pe.from(t.readArray(r));return new Di(Ke.WA,n)}return new Di(i,new pe(t.readArray(65)))}constructor(t,i){this.type=t,this.data=i}equals(t){const i=Di.from(t);return this.type===i.type&&this.data.equals(i.data)}recoverDigest(t){t=Me.from(t);const i=oE(this.data.array,t.array,this.type);return ei.from({compressed:i,type:this.type})}recoverMessage(t){return this.recoverDigest(Me.hash(t))}verifyDigest(t,i){return t=Me.from(t),aE(this.data.array,t.array,i.data.array,this.type)}verifyMessage(t,i){return this.verifyDigest(Me.hash(t),i)}toString(){return`SIG_${this.type}_${ds.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(Ke.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}Di.abiName="signature";function lE(e,t){const r=dc(t).keyFromPrivate(e).getPublic();return new Uint8Array(r.encodeCompressed())}function cE(e,t,i){const s=dc(i),r=s.keyFromPrivate(e),n=s.keyFromPublic(t).getPublic();return r.derive(n).toArrayLike(Uint8Array,"be")}function dE(e,t,i){const r=dc(i).keyFromPrivate(e);let n,o,a;if(i==="K1"){let l=1;do n=r.sign(t,{canonical:!0,pers:[l++]}),o=n.r.toArrayLike(Uint8Array,"be",32),a=n.s.toArrayLike(Uint8Array,"be",32);while(!uE(o,a))}else n=r.sign(t,{canonical:!0}),o=n.r.toArrayLike(Uint8Array,"be",32),a=n.s.toArrayLike(Uint8Array,"be",32);return{type:i,r:o,s:a,recid:n.recoveryParam||0}}function uE(e,t){return!(e[0]&128)&&!(e[0]===0&&!(e[1]&128))&&!(t[0]&128)&&!(t[0]===0&&!(t[1]&128))}function hE(e){return dc(e).genKeyPair().getPrivate().toArrayLike(Uint8Array,"be",32)}class ud{static from(t){return ve(t,ud)?t:this.fromString(t)}static fromString(t,i=!1){try{const{type:s,data:r}=fE(t);return new this(s,r)}catch(s){if(s.message=`Invalid private key (${s.message})`,i&&ve(s,ds.DecodingError)&&s.code===ds.ErrorCode.E_CHECKSUM){const r=t.startsWith("PVT_R1")?Ke.R1:Ke.K1,n=new pe(s.info.data);return n.length===33&&n.dropFirst(),n.zeropad(32,!0),new this(r,n)}throw s}}static generate(t){return new ud(Ke.from(t),new pe(hE(t)))}constructor(t,i){if((t===Ke.K1||t===Ke.R1)&&i.length!==32)throw new Error("Invalid private key length");this.type=t,this.data=i}signDigest(t){return t=Me.from(t),Di.from(dE(this.data.array,t.array,this.type))}signMessage(t){return this.signDigest(Me.hash(t))}sharedSecret(t){const i=cE(this.data.array,t.data.array,this.type);return Oa.hash(i)}toPublic(){const t=lE(this.data.array,this.type);return ei.from({compressed:t,type:this.type})}toWif(){if(this.type!==Ke.K1)throw new Error("Unable to generate WIF for non-k1 key");return ds.encodeCheck(pe.from([128]).appending(this.data))}toString(){return`PVT_${this.type}_${ds.encodeRipemd160Check(this.data,this.type)}`}toJSON(){return this.toString()}}function fE(e){const t=typeof e;if(t!=="string")throw new Error(`Expected string, got ${t}`);if(e.startsWith("PVT_")){const i=e.split("_");if(i.length!==3)throw new Error("Invalid PVT format");const s=Ke.from(i[1]);let r;switch(s){case Ke.K1:case Ke.R1:r=32;break}const n=ds.decodeRipemd160Check(i[2],r,s);return{type:s,data:n}}else{const i=Ke.K1,s=ds.decodeCheck(e);if(s.array[0]!==128)throw new Error("Invalid WIF");return{type:i,data:s.droppingFirst()}}}var sg;let dt=sg=class extends h{static from(t){if(typeof t=="string"){const i=t.split("@");if(i.length!==2&&i[0].length>0&&i[1].length>0)throw new Error("Invalid permission level string, should be in the format <actor>@<permission>");t={actor:i[0],permission:i[1]}}return super.from(t)}equals(t){const i=sg.from(t);return this.actor.equals(i.actor)&&this.permission.equals(i.permission)}toString(){return`${this.actor}@${this.permission}`}};p([h.field("name")],dt.prototype,"actor",void 0);p([h.field("name")],dt.prototype,"permission",void 0);dt=sg=p([h.type("permission_level")],dt);var rg;let di=rg=class extends h{static from(t,i){let s={...t};const r=s.data;if(!pe.isBytes(r)){let o;if(i)o=ze.from(i).getActionType(s.name);else if(!r.constructor||r.constructor.abiName===void 0)throw new Error("Missing ABI definition when creating action with untyped action data");s={...s,data:Xs({object:r,type:o,abi:i})}}const n=super.from(s);if(i)n.abi=ze.from(i);else{const o=ah(r);o&&(n.abi=ze.from({...df(o).abi,actions:[{name:n.name,type:o.abiName,ricardian_contract:""}]}))}return n}equals(t){const i=rg.from(t,this.abi);return this.account.equals(i.account)&&this.name.equals(i.name)&&Q4(this.authorization,i.authorization)&&this.data.equals(i.data)}decodeData(t){if(typeof t=="string"||t.abiName)return Fn({data:this.data,type:t});{const i=ze.from(t),s=i.getActionType(this.name);if(!s)throw new Error(`Action ${this.name} does not exist in provided ABI`);return Fn({data:this.data,type:s,abi:i})}}get decoded(){if(!this.abi)throw new Error("Missing ABI definition when decoding action data");return{...this.toJSON(),data:this.decodeData(this.abi)}}};p([h.field("name")],di.prototype,"account",void 0);p([h.field("name")],di.prototype,"name",void 0);p([h.field(dt,{array:!0})],di.prototype,"authorization",void 0);p([h.field("bytes")],di.prototype,"data",void 0);di=rg=p([h.type("action")],di);var ng;let hd=class extends h{};p([h.field("uint16")],hd.prototype,"type",void 0);p([h.field("bytes")],hd.prototype,"data",void 0);hd=p([h.type("transaction_extension")],hd);let Ur=class extends h{static from(t){return super.from({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...t})}};p([h.field("time_point_sec")],Ur.prototype,"expiration",void 0);p([h.field("uint16")],Ur.prototype,"ref_block_num",void 0);p([h.field("uint32")],Ur.prototype,"ref_block_prefix",void 0);p([h.field("varuint32")],Ur.prototype,"max_net_usage_words",void 0);p([h.field("uint8")],Ur.prototype,"max_cpu_usage_ms",void 0);p([h.field("varuint32")],Ur.prototype,"delay_sec",void 0);Ur=p([h.type("transaction_header")],Ur);let Ht=ng=class extends Ur{static from(t,i){const s=l=>{if(i)return Array.isArray(i)?i.filter(c=>N.from(c.contract).equals(l)).map(({abi:c})=>c)[0]:i},r=l=>l instanceof di?l:di.from(l,s(l.account)),n=(t.actions||[]).map(r),o=(t.context_free_actions||[]).map(r),a={transaction_extensions:[],...t,context_free_actions:o,actions:n};return super.from(a)}equals(t){const i=ng.from(t);return this.id.equals(i.id)}get id(){return Me.hash(Xs({object:this}))}signingDigest(t){const i=this.signingData(t);return Me.hash(i)}signingData(t){let i=pe.from(Me.from(t).array);return i=i.appending(Xs({object:this})),i=i.appending(new Uint8Array(32)),i}};p([h.field(di,{array:!0})],Ht.prototype,"context_free_actions",void 0);p([h.field(di,{array:!0})],Ht.prototype,"actions",void 0);p([h.field(hd,{array:!0})],Ht.prototype,"transaction_extensions",void 0);Ht=ng=p([h.type("transaction")],Ht);let ar=class extends Ht{get transaction(){return Ht.from({...this,signatures:void 0,context_free_data:void 0})}get id(){return this.transaction.id}static from(t){return super.from({signatures:[],context_free_data:[],...t})}};p([h.field("signature[]")],ar.prototype,"signatures",void 0);p([h.field("bytes[]")],ar.prototype,"context_free_data",void 0);ar=p([h.type("signed_transaction")],ar);var il;(function(e){e[e.none=0]="none",e[e.zlib=1]="zlib"})(il||(il={}));let Si=class extends h{static from(t){return super.from({signatures:[],packed_context_free_data:"",compression:0,...t})}static fromSigned(t,i=1){let s=Xs({object:Ht.from(t)}),r=Xs({object:t.context_free_data,type:"bytes[]"});switch(i){case il.zlib:{s=uo.deflate(s.array),r=uo.deflate(r.array);break}case il.none:break}return this.from({compression:i,signatures:t.signatures,packed_context_free_data:r,packed_trx:s})}getTransaction(){switch(Number(this.compression)){case il.none:return Fn({data:this.packed_trx,type:Ht});case il.zlib:{const t=uo.inflate(this.packed_trx.array);return Fn({data:t,type:Ht})}default:throw new Error(`Unknown transaction compression ${this.compression}`)}}getSignedTransaction(){const t=this.getTransaction();return ar.from({...t,signatures:this.signatures})}};p([h.field("signature[]")],Si.prototype,"signatures",void 0);p([h.field("uint8")],Si.prototype,"compression",void 0);p([h.field("bytes")],Si.prototype,"packed_context_free_data",void 0);p([h.field("bytes")],Si.prototype,"packed_trx",void 0);Si=p([h.type("packed_transaction")],Si);let pa=class extends h{};p([h.field("string")],pa.prototype,"status",void 0);p([h.field("uint32")],pa.prototype,"cpu_usage_us",void 0);p([h.field("uint32")],pa.prototype,"net_usage_words",void 0);pa=p([h.type("transaction_receipt")],pa);var og;let Il=class extends li{};Il=p([lc("weight_type")],Il);let ga=class extends h{};p([h.field(ei)],ga.prototype,"key",void 0);p([h.field(Il)],ga.prototype,"weight",void 0);ga=p([h.type("key_weight")],ga);let Fl=class extends h{};p([h.field(dt)],Fl.prototype,"permission",void 0);p([h.field(Il)],Fl.prototype,"weight",void 0);Fl=p([h.type("permission_level_weight")],Fl);let ma=class extends h{};p([h.field(ge)],ma.prototype,"wait_sec",void 0);p([h.field(Il)],ma.prototype,"weight",void 0);ma=p([h.type("wait_weight")],ma);let En=og=class extends h{static from(t){if(ve(t,og))return t;const i=super.from({keys:[],accounts:[],waits:[],...t});return i.sort(),i}get waitThreshold(){return this.waits.reduce((t,i)=>t+i.weight.toNumber(),0)}get keyThreshold(){return this.threshold.toNumber()-this.waitThreshold}keyWeight(t){const i=this.keys.find(({key:s})=>s.equals(t));return i?i.weight.toNumber():0}hasPermission(t,i=!1){const s=i?1:this.keyThreshold;return this.keyWeight(t)>=s}sort(){this.keys.sort((t,i)=>String(t.key).localeCompare(String(i.key))),this.accounts.sort((t,i)=>String(t.permission).localeCompare(String(i.permission))),this.waits.sort((t,i)=>String(t.wait_sec).localeCompare(String(i.wait_sec)))}};p([h.field(ge)],En.prototype,"threshold",void 0);p([h.field(ga,{array:!0})],En.prototype,"keys",void 0);p([h.field(Fl,{array:!0})],En.prototype,"accounts",void 0);p([h.field(ma,{array:!0})],En.prototype,"waits",void 0);En=og=p([h.type("authority")],En);class Qt{static from(t){return ve(t,this)?t:pe.isBytes(t)?new this(pe.from(t).array):this.fromBlockChecksum(t.checksum,t.blockNum)}static fromABI(t){return new this(t.readArray(32))}static fromBlockChecksum(t,i){const s=new Qt(Me.from(t).array),r=new Uint8Array(4);return r[0]=Number(i)>>24&255,r[1]=Number(i)>>16&255,r[2]=Number(i)>>8&255,r[3]=Number(i)&255,s.array.set(r,0),s}constructor(t){if(t.byteLength!==32)throw new Error(`BlockId size mismatch, expected 32 bytes got ${t.byteLength}`);this.array=t}equals(t){const i=this.constructor;try{return Rl(this.array,i.from(t).array)}catch{return!1}}toABI(t){t.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}get hexString(){return Hm(this.array)}get blockNum(){const t=this.array.slice(0,4);let i=0;for(let s=0;s<4;s++)i=(i<<8)+t[s];return ge.from(i)}}Qt.abiName="block_id_type";var We;(function(e){e.encode=Xs,e.decode=Fn;function t(r){return df(r).abi}e.synthesize=t;function i(r){return JSON.stringify(r)}e.stringify=i;function s(r){const n=o=>{switch(typeof o){case"boolean":case"number":case"string":return o;case"object":{if(o===null)return o;if(typeof o.toJSON=="function")return n(o.toJSON());if(Array.isArray(o))return o.map(n);const a={};for(const l of Object.keys(o))a[l]=n(o[l]);return a}}};return n(r)}e.objectify=s})(We||(We={}));class au{constructor(t,i={}){if(this.headers={},t=t.trim(),t.endsWith("/")&&(t=t.slice(0,-1)),this.url=t,i.headers&&(this.headers=i.headers),i.fetch)this.fetch=i.fetch;else if(typeof window<"u"&&window.fetch)this.fetch=window.fetch.bind(window);else if(typeof global<"u"&&global.fetch)this.fetch=global.fetch.bind(global);else throw new Error("Missing fetch")}async call(t){const i=this.url+t.path,s=t.params!==void 0?JSON.stringify(t.params):void 0,r={...this.headers,...t.headers},n=await this.fetch(i,{method:t.method||"POST",body:s,headers:r}),o=await n.text();let a;try{a=JSON.parse(o)}catch{}const l={};for(const[c,d]of n.headers.entries())l[c]=d;return{headers:l,status:n.status,json:a,text:o}}}let El=class extends h{};p([h.field("name")],El.prototype,"account",void 0);p([h.field("name",{optional:!0})],El.prototype,"action",void 0);El=p([h.type("account_linked_action")],El);let vo=class extends h{};p([h.field("name")],vo.prototype,"perm_name",void 0);p([h.field("name")],vo.prototype,"parent",void 0);p([h.field(En)],vo.prototype,"required_auth",void 0);p([h.field(El,{optional:!0,array:!0})],vo.prototype,"linked_actions",void 0);vo=p([h.type("account_permission")],vo);let pr=class extends h{};p([h.field("int64")],pr.prototype,"used",void 0);p([h.field("int64")],pr.prototype,"available",void 0);p([h.field("int64")],pr.prototype,"max",void 0);p([h.field("time_point",{optional:!0})],pr.prototype,"last_usage_update_time",void 0);p([h.field("int64",{optional:!0})],pr.prototype,"current_used",void 0);pr=p([h.type("account_resource_limit")],pr);let bo=class extends h{};p([h.field("name")],bo.prototype,"owner",void 0);p([h.field("asset")],bo.prototype,"net_weight",void 0);p([h.field("asset")],bo.prototype,"cpu_weight",void 0);p([h.field("uint64")],bo.prototype,"ram_bytes",void 0);bo=p([h.type("account_total_resources")],bo);let Co=class extends h{};p([h.field("name")],Co.prototype,"from",void 0);p([h.field("name")],Co.prototype,"to",void 0);p([h.field("asset")],Co.prototype,"net_weight",void 0);p([h.field("asset")],Co.prototype,"cpu_weight",void 0);Co=p([h.type("account_self_delegated_bandwidth")],Co);let yo=class extends h{};p([h.field("name")],yo.prototype,"owner",void 0);p([h.field("time_point")],yo.prototype,"request_time",void 0);p([h.field("asset")],yo.prototype,"net_amount",void 0);p([h.field("asset")],yo.prototype,"cpu_amount",void 0);yo=p([h.type("account_refund_request")],yo);let vs=class extends h{};p([h.field("name")],vs.prototype,"owner",void 0);p([h.field("name")],vs.prototype,"proxy",void 0);p([h.field("name",{array:!0})],vs.prototype,"producers",void 0);p([h.field("int64",{optional:!0})],vs.prototype,"staked",void 0);p([h.field("float64")],vs.prototype,"last_vote_weight",void 0);p([h.field("float64")],vs.prototype,"proxied_vote_weight",void 0);p([h.field("bool")],vs.prototype,"is_proxy",void 0);p([h.field("uint32",{optional:!0})],vs.prototype,"flags1",void 0);p([h.field("uint32")],vs.prototype,"reserved2",void 0);p([h.field("string")],vs.prototype,"reserved3",void 0);vs=p([h.type("account_voter_info")],vs);let wo=class extends h{};p([h.field("time_point",{optional:!0})],wo.prototype,"key",void 0);p([h.field("int64",{optional:!0})],wo.prototype,"value",void 0);p([h.field("time_point",{optional:!0})],wo.prototype,"first",void 0);p([h.field("int64",{optional:!0})],wo.prototype,"second",void 0);wo=p([h.type("account_rex_info_maturities")],wo);let Xr=class extends h{};p([h.field("uint32")],Xr.prototype,"version",void 0);p([h.field("name")],Xr.prototype,"owner",void 0);p([h.field("asset")],Xr.prototype,"vote_stake",void 0);p([h.field("asset")],Xr.prototype,"rex_balance",void 0);p([h.field("int64")],Xr.prototype,"matured_rex",void 0);p([h.field(wo,{array:!0})],Xr.prototype,"rex_maturities",void 0);Xr=p([h.type("account_rex_info")],Xr);let So=class extends h{};p([h.field("name")],So.prototype,"account_name",void 0);p([h.field("checksum256")],So.prototype,"code_hash",void 0);p([h.field("checksum256")],So.prototype,"abi_hash",void 0);p([h.field(nu)],So.prototype,"abi",void 0);So=p([h.type("get_raw_abi_response")],So);let Jt=class extends h{getPermission(t){const i=N.from(t),s=this.permissions.find(r=>r.perm_name.equals(i));if(!s)throw new Error(`Unknown permission ${i} on account ${this.account_name}.`);return s}};p([h.field("name")],Jt.prototype,"account_name",void 0);p([h.field("uint32")],Jt.prototype,"head_block_num",void 0);p([h.field("time_point")],Jt.prototype,"head_block_time",void 0);p([h.field("bool")],Jt.prototype,"privileged",void 0);p([h.field("time_point")],Jt.prototype,"last_code_update",void 0);p([h.field("time_point")],Jt.prototype,"created",void 0);p([h.field("asset?")],Jt.prototype,"core_liquid_balance",void 0);p([h.field("int64")],Jt.prototype,"ram_quota",void 0);p([h.field("int64")],Jt.prototype,"net_weight",void 0);p([h.field("int64")],Jt.prototype,"cpu_weight",void 0);p([h.field(pr)],Jt.prototype,"net_limit",void 0);p([h.field(pr)],Jt.prototype,"cpu_limit",void 0);p([h.field(pr,{optional:!0})],Jt.prototype,"subjective_cpu_bill_limit",void 0);p([h.field("uint64")],Jt.prototype,"ram_usage",void 0);p([h.field(vo,{array:!0})],Jt.prototype,"permissions",void 0);p([h.field(bo,{optional:!0})],Jt.prototype,"total_resources",void 0);p([h.field(Co,{optional:!0})],Jt.prototype,"self_delegated_bandwidth",void 0);p([h.field(yo,{optional:!0})],Jt.prototype,"refund_request",void 0);p([h.field(vs,{optional:!0})],Jt.prototype,"voter_info",void 0);p([h.field(Xr,{optional:!0})],Jt.prototype,"rex_info",void 0);Jt=p([h.type("account_object")],Jt);let Jr=class extends h{};p([h.field(N)],Jr.prototype,"account_name",void 0);p([h.field(N)],Jr.prototype,"permission_name",void 0);p([h.field(ei,{optional:!0})],Jr.prototype,"authorizing_key",void 0);p([h.field(dt,{optional:!0})],Jr.prototype,"authorizing_account",void 0);p([h.field(Il)],Jr.prototype,"weight",void 0);p([h.field(ge)],Jr.prototype,"threshold",void 0);Jr=p([h.type("account_by_authorizers_row")],Jr);let fd=class extends h{};p([h.field(Jr,{array:!0})],fd.prototype,"accounts",void 0);fd=p([h.type("account_by_authorizers")],fd);let Ml=class extends h{};p([h.field("name")],Ml.prototype,"producer_name",void 0);p([h.field("public_key")],Ml.prototype,"block_signing_key",void 0);Ml=p([h.type("new_producers_entry")],Ml);let xl=class extends h{};p([h.field("uint32")],xl.prototype,"version",void 0);p([h.field(Ml,{array:!0})],xl.prototype,"producers",void 0);xl=p([h.type("new_producers")],xl);let pd=class extends h{};p([h.field("uint16")],pd.prototype,"type",void 0);p([h.field("bytes")],pd.prototype,"data",void 0);pd=p([h.type("block_extension")],pd);let gd=class extends h{};p([h.field("uint16")],gd.prototype,"type",void 0);p([h.field("bytes")],gd.prototype,"data",void 0);gd=p([h.type("header_extension")],gd);let Um=class{static from(t){let i,s;return typeof t=="string"?(i=Me.from(t),s={}):(i=Me.from(t.id),s=t),new this(i,s)}constructor(t,i){this.id=t,this.extra=i}get transaction(){if(this.extra.packed_trx)switch(this.extra.compression){case"zlib":{const t=uo.inflate(pe.from(this.extra.packed_trx,"hex").array);return We.decode({data:t,type:Ht})}case"none":return We.decode({data:this.extra.packed_trx,type:Ht});default:throw new Error(`Unsupported compression type ${this.extra.compression}`)}}get signatures(){if(this.extra.signatures)return this.extra.signatures.map(Di.from)}equals(t){return this.id.equals(t.id)}toJSON(){return this.id}};Um.abiName="trx_variant";let md=class extends pa{get id(){return this.trx.id}};p([h.field(Um)],md.prototype,"trx",void 0);md=p([h.type("get_block_response_receipt")],md);let hi=class extends h{};p([h.field("time_point")],hi.prototype,"timestamp",void 0);p([h.field("name")],hi.prototype,"producer",void 0);p([h.field("uint16")],hi.prototype,"confirmed",void 0);p([h.field(Qt)],hi.prototype,"previous",void 0);p([h.field("checksum256")],hi.prototype,"transaction_mroot",void 0);p([h.field("checksum256")],hi.prototype,"action_mroot",void 0);p([h.field("uint32")],hi.prototype,"schedule_version",void 0);p([h.field(xl,{optional:!0})],hi.prototype,"new_producers",void 0);p([h.field("any",{optional:!0})],hi.prototype,"header_extensions",void 0);p([h.field("any",{optional:!0})],hi.prototype,"new_protocol_features",void 0);p([h.field("signature")],hi.prototype,"producer_signature",void 0);p([h.field(md,{array:!0})],hi.prototype,"transactions",void 0);p([h.field("block_extension",{optional:!0})],hi.prototype,"block_extensions",void 0);p([h.field(Qt)],hi.prototype,"id",void 0);p([h.field("uint32")],hi.prototype,"block_num",void 0);p([h.field("uint32")],hi.prototype,"ref_block_prefix",void 0);hi=p([h.type("get_block_response")],hi);let Ui=class extends h{};p([h.field("uint32")],Ui.prototype,"block_num",void 0);p([h.field("uint32")],Ui.prototype,"ref_block_num",void 0);p([h.field(Qt)],Ui.prototype,"id",void 0);p([h.field("time_point")],Ui.prototype,"timestamp",void 0);p([h.field("name")],Ui.prototype,"producer",void 0);p([h.field("uint16")],Ui.prototype,"confirmed",void 0);p([h.field(Qt)],Ui.prototype,"previous",void 0);p([h.field("checksum256")],Ui.prototype,"transaction_mroot",void 0);p([h.field("checksum256")],Ui.prototype,"action_mroot",void 0);p([h.field("uint32")],Ui.prototype,"schedule_version",void 0);p([h.field("signature")],Ui.prototype,"producer_signature",void 0);p([h.field("uint32")],Ui.prototype,"ref_block_prefix",void 0);Ui=p([h.type("get_block_response")],Ui);let kl=class extends h{};p([h.field("name")],kl.prototype,"producer_name",void 0);p([h.field("any")],kl.prototype,"authority",void 0);kl=p([h.type("active_schedule_producer_authority")],kl);let _l=class extends h{};p([h.field("name")],_l.prototype,"producer_name",void 0);p([h.field(kl)],_l.prototype,"authority",void 0);_l=p([h.type("active_schedule_producer")],_l);let vd=class extends h{};p([h.field("uint32")],vd.prototype,"version",void 0);p([h.field(_l,{array:!0})],vd.prototype,"producers",void 0);vd=p([h.type("active_schedule")],vd);let xs=class extends h{};p([h.field("time_point")],xs.prototype,"timestamp",void 0);p([h.field("name")],xs.prototype,"producer",void 0);p([h.field("uint16")],xs.prototype,"confirmed",void 0);p([h.field(Qt)],xs.prototype,"previous",void 0);p([h.field("checksum256")],xs.prototype,"transaction_mroot",void 0);p([h.field("checksum256")],xs.prototype,"action_mroot",void 0);p([h.field("uint32")],xs.prototype,"schedule_version",void 0);p([h.field("any",{array:!0,optional:!0})],xs.prototype,"header_extensions",void 0);p([h.field("signature")],xs.prototype,"producer_signature",void 0);xs=p([h.type("block_state_header")],xs);let Ei=class extends h{};p([h.field("uint32")],Ei.prototype,"block_num",void 0);p([h.field("uint32")],Ei.prototype,"dpos_proposed_irreversible_blocknum",void 0);p([h.field("uint32")],Ei.prototype,"dpos_irreversible_blocknum",void 0);p([h.field(Qt)],Ei.prototype,"id",void 0);p([h.field(xs)],Ei.prototype,"header",void 0);p([h.field("any")],Ei.prototype,"active_schedule",void 0);p([h.field("any")],Ei.prototype,"blockroot_merkle",void 0);p([h.field("any")],Ei.prototype,"producer_to_last_produced",void 0);p([h.field("any")],Ei.prototype,"producer_to_last_implied_irb",void 0);p([h.field("any")],Ei.prototype,"valid_block_signing_authority",void 0);p([h.field("any")],Ei.prototype,"confirm_count",void 0);p([h.field("any")],Ei.prototype,"pending_schedule",void 0);p([h.field("any",{optional:!0})],Ei.prototype,"activated_protocol_features",void 0);p([h.field("any")],Ei.prototype,"additional_signatures",void 0);Ei=p([h.type("get_block_header_state_response")],Ei);let vi=class extends h{getTransactionHeader(t=120){const i=ci.fromMilliseconds(this.head_block_time.toMilliseconds()+t*1e3),r=this.last_irreversible_block_id.array.subarray(8,12),n=new Uint32Array(r.buffer,r.byteOffset,1)[0];return Ur.from({expiration:i,ref_block_num:Number(this.last_irreversible_block_num)&65535,ref_block_prefix:n})}};p([h.field("string")],vi.prototype,"server_version",void 0);p([h.field("checksum256")],vi.prototype,"chain_id",void 0);p([h.field("uint32")],vi.prototype,"head_block_num",void 0);p([h.field("uint32")],vi.prototype,"last_irreversible_block_num",void 0);p([h.field(Qt)],vi.prototype,"last_irreversible_block_id",void 0);p([h.field(Qt)],vi.prototype,"head_block_id",void 0);p([h.field("time_point")],vi.prototype,"head_block_time",void 0);p([h.field("name")],vi.prototype,"head_block_producer",void 0);p([h.field("uint64")],vi.prototype,"virtual_block_cpu_limit",void 0);p([h.field("uint64")],vi.prototype,"virtual_block_net_limit",void 0);p([h.field("uint64")],vi.prototype,"block_cpu_limit",void 0);p([h.field("uint64")],vi.prototype,"block_net_limit",void 0);p([h.field("string?")],vi.prototype,"server_version_string",void 0);p([h.field("uint32?")],vi.prototype,"fork_db_head_block_num",void 0);p([h.field("block_id_type?")],vi.prototype,"fork_db_head_block_id",void 0);vi=p([h.type("get_info_response")],vi);let Mn=class extends h{};p([h.field("name")],Mn.prototype,"code",void 0);p([h.field("name")],Mn.prototype,"scope",void 0);p([h.field("name")],Mn.prototype,"table",void 0);p([h.field("name")],Mn.prototype,"payer",void 0);p([h.field("uint32")],Mn.prototype,"count",void 0);Mn=p([h.type("get_table_by_scope_response_row")],Mn);let Gl=class extends h{};p([h.field(Mn,{array:!0})],Gl.prototype,"rows",void 0);p([h.field("string")],Gl.prototype,"more",void 0);Gl=p([h.type("get_table_by_scope_response")],Gl);let Qr=class extends h{};p([h.field(Oe)],Qr.prototype,"global_action_seq",void 0);p([h.field(me)],Qr.prototype,"account_action_seq",void 0);p([h.field(ge)],Qr.prototype,"block_num",void 0);p([h.field(so)],Qr.prototype,"block_time",void 0);p([h.field("any")],Qr.prototype,"action_trace",void 0);p([h.field("boolean?")],Qr.prototype,"irrevirsible",void 0);Qr=p([h.type("ordered_action_result")],Qr);let Ro=class extends h{};p([h.field(Qr,{array:!0})],Ro.prototype,"actions",void 0);p([h.field(In)],Ro.prototype,"last_irreversible_block",void 0);p([h.field(In)],Ro.prototype,"head_block_num",void 0);p([h.field("boolean?")],Ro.prototype,"time_limit_exceeded_error",void 0);Ro=p([h.type("get_actions_response")],Ro);let ag=class extends h{};ag=p([h.type("transaction_trace")],ag);let ks=class extends h{};p([h.field("any")],ks.prototype,"actions",void 0);p([h.field("any")],ks.prototype,"context_free_actions",void 0);p([h.field("any")],ks.prototype,"context_free_data",void 0);p([h.field("number")],ks.prototype,"delay_sec",void 0);p([h.field("string")],ks.prototype,"expiration",void 0);p([h.field("number")],ks.prototype,"max_cpu_usage_ms",void 0);p([h.field("number")],ks.prototype,"max_net_usage_words",void 0);p([h.field("number")],ks.prototype,"ref_block_num",void 0);p([h.field("number")],ks.prototype,"ref_block_prefix",void 0);p([h.field("string",{array:!0})],ks.prototype,"signatures",void 0);ks=p([h.type("trx")],ks);let bd=class extends h{};p([h.field(pa)],bd.prototype,"receipt",void 0);p([h.field("trx")],bd.prototype,"trx",void 0);bd=p([h.type("transaction_info")],bd);let qr=class extends h{};p([h.field(Me)],qr.prototype,"id",void 0);p([h.field(ge)],qr.prototype,"block_num",void 0);p([h.field(so)],qr.prototype,"block_time",void 0);p([h.field(ge)],qr.prototype,"last_irreversible_block",void 0);p([h.field("any?")],qr.prototype,"traces",void 0);p([h.field("any")],qr.prototype,"trx",void 0);qr=p([h.type("get_transaction_response")],qr);let Cd=class extends h{};p([h.field("name",{array:!0})],Cd.prototype,"account_names",void 0);Cd=p([h.type("get_key_accounts_response")],Cd);let xn=class extends h{};p([h.field(ze)],xn.prototype,"abi",void 0);p([h.field("name")],xn.prototype,"account_name",void 0);p([h.field("checksum256")],xn.prototype,"code_hash",void 0);p([h.field("string")],xn.prototype,"wast",void 0);p([h.field("string")],xn.prototype,"wasm",void 0);xn=p([h.type("get_code_response")],xn);let yd=class extends h{};p([h.field("name",{array:!0})],yd.prototype,"controlled_accounts",void 0);yd=p([h.type("get_controlled_accounts_response")],yd);let va=class extends h{};p([h.field("asset")],va.prototype,"supply",void 0);p([h.field("asset")],va.prototype,"max_supply",void 0);p([h.field("name")],va.prototype,"issuer",void 0);va=p([h.type("get_currency_stats_item_response")],va);let _s=class extends h{};p([h.field("string")],_s.prototype,"state",void 0);p([h.field("uint32")],_s.prototype,"head_number",void 0);p([h.field(Qt)],_s.prototype,"head_id",void 0);p([h.field("time_point")],_s.prototype,"head_timestamp",void 0);p([h.field("uint32")],_s.prototype,"irreversible_number",void 0);p([h.field(Qt)],_s.prototype,"irreversible_id",void 0);p([h.field("time_point")],_s.prototype,"irreversible_timestamp",void 0);p([h.field(Qt)],_s.prototype,"earliest_tracked_block_id",void 0);p([h.field("uint32")],_s.prototype,"earliest_tracked_block_number",void 0);_s=p([h.type("get_transaction_status_response")],_s);let Dl=class extends h{};p([h.field(ge)],Dl.prototype,"threshold",void 0);p([h.field(ga,{array:!0})],Dl.prototype,"keys",void 0);Dl=p([h.type("producer_authority")],Dl);let Wl=class extends h{static from(t){return super.from({...t,authority:[t.authority[0],Dl.from(t.authority[1])]})}};p([h.field("name")],Wl.prototype,"producer_name",void 0);p([h.field("any",{array:!0})],Wl.prototype,"authority",void 0);Wl=p([h.type("producer")],Wl);let Ao=class extends h{};p([h.field("uint32")],Ao.prototype,"version",void 0);p([h.field(Wl,{array:!0})],Ao.prototype,"producers",void 0);Ao=p([h.type("producer_schedule")],Ao);let ba=class extends h{};p([h.field(Ao,{optional:!0})],ba.prototype,"active",void 0);p([h.field(Ao,{optional:!0})],ba.prototype,"pending",void 0);p([h.field(Ao,{optional:!0})],ba.prototype,"proposed",void 0);ba=p([h.type("get_producer_schedule_response")],ba);let gr=class extends h{};p([h.field("checksum256")],gr.prototype,"feature_digest",void 0);p([h.field("uint32")],gr.prototype,"activation_ordinal",void 0);p([h.field("uint32")],gr.prototype,"activation_block_num",void 0);p([h.field("checksum256")],gr.prototype,"description_digest",void 0);p([h.field("string",{array:!0})],gr.prototype,"dependencies",void 0);p([h.field("string")],gr.prototype,"protocol_feature_type",void 0);p([h.field("any",{array:!0})],gr.prototype,"specification",void 0);gr=p([h.type("protocol_feature")],gr);let Tl=class extends h{};p([h.field(gr,{array:!0})],Tl.prototype,"activated_protocol_features",void 0);p([h.field("uint32",{optional:!0})],Tl.prototype,"more",void 0);Tl=p([h.type("get_protocol_features_response")],Tl);var pE=Object.freeze({__proto__:null,get AccountByAuthorizersRow(){return Jr},get AccountLinkedAction(){return El},get AccountObject(){return Jt},get AccountPermission(){return vo},get AccountRefundRequest(){return yo},get AccountResourceLimit(){return pr},get AccountRexInfo(){return Xr},get AccountRexInfoMaturities(){return wo},get AccountSelfDelegatedBandwidth(){return Co},get AccountTotalResources(){return bo},get AccountVoterInfo(){return vs},get AccountsByAuthorizers(){return fd},get ActiveSchedule(){return vd},get ActiveScheduleProducer(){return _l},get ActiveScheduleProducerAuthority(){return kl},get BlockExtension(){return pd},get BlockStateHeader(){return xs},get GetActionsResponse(){return Ro},get GetBlockHeaderStateResponse(){return Ei},get GetBlockInfoResponse(){return Ui},get GetBlockResponse(){return hi},get GetBlockResponseTransactionReceipt(){return md},get GetCodeResponse(){return xn},get GetControlledAccountsResponse(){return yd},get GetCurrencyStatsItemResponse(){return va},get GetInfoResponse(){return vi},get GetKeyAccountsResponse(){return Cd},get GetProducerScheduleResponse(){return ba},get GetProtocolFeaturesResponse(){return Tl},get GetRawAbiResponse(){return So},get GetTableByScopeResponse(){return Gl},get GetTableByScopeResponseRow(){return Mn},get GetTransactionResponse(){return qr},get GetTransactionStatusResponse(){return _s},get HeaderExtension(){return gd},get NewProducers(){return xl},get NewProducersEntry(){return Ml},get OrderedActionsResult(){return Qr},get Producer(){return Wl},get ProducerAuthority(){return Dl},get ProducerSchedule(){return Ao},get ProtocolFeature(){return gr},get TransactionInfo(){return bd},get TransactionTrace(){return ag},get Trx(){return ks},TrxVariant:Um});class gE{constructor(t){this.client=t}async get_abi(t){return this.client.call({path:"/v1/chain/get_abi",params:{account_name:N.from(t)}})}async get_code(t){return this.client.call({path:"/v1/chain/get_code",params:{account_name:N.from(t)},responseType:xn})}async get_raw_abi(t){return this.client.call({path:"/v1/chain/get_raw_abi",params:{account_name:N.from(t)},responseType:So})}async get_account(t,i=Jt){return this.client.call({path:"/v1/chain/get_account",params:{account_name:N.from(t)},responseType:i})}async get_accounts_by_authorizers(t){return this.client.call({path:"/v1/chain/get_accounts_by_authorizers",params:t,responseType:fd})}async get_activated_protocol_features(t){return this.client.call({path:"/v1/chain/get_activated_protocol_features",params:t,responseType:Tl})}async get_block(t){return this.client.call({path:"/v1/chain/get_block",params:{block_num_or_id:t},responseType:hi})}async get_block_header_state(t){return this.client.call({path:"/v1/chain/get_block_header_state",params:{block_num_or_id:t},responseType:Ei})}async get_block_info(t){return this.client.call({path:"/v1/chain/get_block_info",params:{block_num:t},responseType:Ui})}async get_currency_balance(t,i,s){const r={account:N.from(i),code:N.from(t)};return s&&(r.symbol=s),this.client.call({path:"/v1/chain/get_currency_balance",params:r,responseType:"asset[]"})}async get_currency_stats(t,i){const s={code:N.from(t),symbol:i},r=await this.client.call({path:"/v1/chain/get_currency_stats",params:s}),n={};return Object.keys(r).forEach(o=>n[o]=va.from(r[o])),n}async get_info(){return this.client.call({path:"/v1/chain/get_info",responseType:vi,method:"GET"})}async get_producer_schedule(){return this.client.call({path:"/v1/chain/get_producer_schedule",responseType:ba})}async compute_transaction(t){return ve(t,Si)||(t=Si.fromSigned(ar.from(t))),this.client.call({path:"/v1/chain/compute_transaction",params:{transaction:t}})}async send_read_only_transaction(t){return ve(t,Si)||(t=Si.fromSigned(ar.from(t))),this.client.call({path:"/v1/chain/send_read_only_transaction",params:{transaction:t}})}async push_transaction(t){return ve(t,Si)||(t=Si.fromSigned(ar.from(t))),this.client.call({path:"/v1/chain/push_transaction",params:t})}async send_transaction(t){return ve(t,Si)||(t=Si.fromSigned(ar.from(t))),this.client.call({path:"/v1/chain/send_transaction",params:t})}async send_transaction2(t,i){return ve(t,Si)||(t=Si.fromSigned(ar.from(t))),this.client.call({path:"/v1/chain/send_transaction2",params:{return_failure_trace:!0,retry_trx:!1,retry_trx_num_blocks:0,transaction:t,...i}})}async get_table_rows(t){const i=t.type;let s=t.key_type;const r=t.lower_bound||t.upper_bound;!s&&r&&(ve(r,Oe)?s="i64":ve(r,Hi)?s="i128":ve(r,Me)?s="sha256":ve(r,mo)&&(s="ripemd160")),s||(s="name");let n=t.json;n===void 0&&(n=i===void 0);let o=t.upper_bound;o&&typeof o!="string"&&(o=String(o));let a=t.lower_bound;a&&typeof a!="string"&&(a=String(a));let l=t.scope;typeof l>"u"?l=String(N.from(t.code)):typeof l!="string"&&(l=String(l));let{rows:c,more:d,next_key:u}=await this.client.call({path:"/v1/chain/get_table_rows",params:{...t,code:N.from(t.code),table:N.from(t.table),limit:t.limit!==void 0?ge.from(t.limit):void 0,scope:l,key_type:s,json:n,upper_bound:o,lower_bound:a}}),f;if(t.show_payer&&(f=[],c=c.map(({data:g,payer:m})=>(f.push(N.from(m)),g))),i&&(n?c=c.map(g=>typeof g=="string"&&pe.isBytes(g)?We.decode({data:pe.from(g),type:i}):We.decode({object:g,type:i})):c=c.map(g=>pe.from(g)).map(g=>We.decode({data:g,type:i}))),u&&u.length>0){let g;switch(s){case"i64":g=Oe;break;case"i128":g=Hi;break;case"name":g=N;break;case"float64":g=yi;break;case"float128":g=uf;break;case"sha256":g=Me;break;case"ripemd160":g=mo;break;default:throw new Error(`Unsupported key type: ${s}`)}g===N?u=N.from(We.decode({object:u,type:Oe})):u=We.decode({object:u,type:g})}else u=void 0;return{rows:c,more:d,next_key:u,ram_payers:f}}async get_table_by_scope(t){return this.client.call({path:"/v1/chain/get_table_by_scope",params:t,responseType:Gl})}async get_transaction_status(t){return this.client.call({path:"/v1/chain/get_transaction_status",params:{id:Me.from(t)},responseType:_s})}}class mE{constructor(t){this.client=t}async get_actions(t,i,s){return this.client.call({path:"/v1/history/get_actions",params:{account_name:N.from(t),pos:In.from(i),offset:In.from(s)},responseType:Ro})}async get_transaction(t,i={}){return this.client.call({path:"/v1/history/get_transaction",params:{id:Me.from(t),block_num_hint:i.blockNumHint&&ge.from(i.blockNumHint),traces:i.excludeTraces===!0?!1:void 0},responseType:qr})}async get_key_accounts(t){return this.client.call({path:"/v1/history/get_key_accounts",params:{public_key:ei.from(t)},responseType:Cd})}async get_controlled_accounts(t){return this.client.call({path:"/v1/history/get_controlled_accounts",params:{controlling_account:N.from(t)},responseType:yd})}}class hf extends Error{static formatError(t){return t.what==="unspecified"&&t.details[0].file&&t.details[0].file==="http_plugin.cpp"&&t.details[0].message.slice(0,11)==="unknown key"?"Account not found":t.what==="unspecified"&&t.details&&t.details.length>0?t.details[0].message:t.what&&t.what.length>0?t.what:"Unknown API error"}constructor(t,i){let s;i.json&&i.json.error?s=`${hf.formatError(i.json.error)} at ${t}`:s=`HTTP ${i.status} at ${t}`,super(s),this.path=t,this.response=i}get error(){const{json:t}=this.response;return t?t.error:void 0}get name(){const{error:t}=this;return t?t.name:"unspecified"}get code(){const{error:t}=this;return t?t.code:0}get details(){const{error:t}=this;return t?t.details:[]}}hf.__className="APIError";class Wo{constructor(t){if(this.v1={chain:new gE(this),history:new mE(this)},t.provider)this.provider=t.provider;else if(t.url)this.provider=new au(t.url,t);else throw new Error("Missing url or provider")}async call(t){const i=await this.provider.call(t),{json:s}=i;if(Math.floor(i.status/100)!==2||s&&typeof s.error=="object")throw new hf(t.path,i);return t.responseType?Fn({type:t.responseType,object:i.json}):i.json||i.text}}Wo.__className="APIClient";var ff=Object.freeze({__proto__:null,v1:pE}),lg;let Mi=class extends h{};p([h.field("uint16")],Mi.prototype,"networkVersion",void 0);p([h.field("checksum256")],Mi.prototype,"chainId",void 0);p([h.field("checksum256")],Mi.prototype,"nodeId",void 0);p([h.field("public_key")],Mi.prototype,"key",void 0);p([h.field("int64")],Mi.prototype,"time",void 0);p([h.field("checksum256")],Mi.prototype,"token",void 0);p([h.field("signature")],Mi.prototype,"sig",void 0);p([h.field("string")],Mi.prototype,"p2pAddress",void 0);p([h.field("uint32")],Mi.prototype,"lastIrreversibleBlockNumber",void 0);p([h.field(Qt)],Mi.prototype,"lastIrreversibleBlockId",void 0);p([h.field("uint32")],Mi.prototype,"headNum",void 0);p([h.field(Qt)],Mi.prototype,"headId",void 0);p([h.field("string")],Mi.prototype,"os",void 0);p([h.field("string")],Mi.prototype,"agent",void 0);p([h.field("int16")],Mi.prototype,"generation",void 0);Mi=p([h.type("handshake_message")],Mi);let Ca=class extends h{};p([h.field("uint32")],Ca.prototype,"lastIrreversibleBlockNumber",void 0);p([h.field(Qt)],Ca.prototype,"lastIrreversibleBlockId",void 0);p([h.field("uint32")],Ca.prototype,"headNum",void 0);p([h.field(Qt)],Ca.prototype,"headId",void 0);Ca=p([h.type("chain_size_message")],Ca);let wd=class extends h{};p([h.field("uint8")],wd.prototype,"reason",void 0);p([h.field("checksum256")],wd.prototype,"nodeId",void 0);wd=p([h.type("go_away_message")],wd);let ya=class extends h{};p([h.field("int64")],ya.prototype,"org",void 0);p([h.field("int64")],ya.prototype,"rec",void 0);p([h.field("int64")],ya.prototype,"xmt",void 0);p([h.field("int64")],ya.prototype,"dst",void 0);ya=p([h.type("time_message")],ya);let Sd=class extends h{};p([h.field("checksum256",{array:!0})],Sd.prototype,"knownTrx",void 0);p([h.field(Qt,{array:!0})],Sd.prototype,"knownBlocks",void 0);Sd=p([h.type("notice_message")],Sd);let Rd=class extends h{};p([h.field("checksum256",{array:!0})],Rd.prototype,"reqTrx",void 0);p([h.field(Qt,{array:!0})],Rd.prototype,"reqBlocks",void 0);Rd=p([h.type("request_message")],Rd);let Ad=class extends h{};p([h.field("uint32")],Ad.prototype,"startBlock",void 0);p([h.field("uint32")],Ad.prototype,"endBlock",void 0);Ad=p([h.type("sync_request_message")],Ad);let Id=class extends h{};p([h.field("name")],Id.prototype,"producer_name",void 0);p([h.field("public_key")],Id.prototype,"block_signing_key",void 0);Id=p([h.type("new_producers_entry")],Id);let Fd=class extends h{};p([h.field("uint32")],Fd.prototype,"version",void 0);p([h.field(Id,{array:!0})],Fd.prototype,"producers",void 0);Fd=p([h.type("new_producers")],Fd);let Ed=class extends h{};p([h.field("uint16")],Ed.prototype,"type",void 0);p([h.field("bytes")],Ed.prototype,"data",void 0);Ed=p([h.type("block_extension")],Ed);let lh=class extends h{};p([h.field("uint16")],lh.prototype,"type",void 0);p([h.field("bytes")],lh.prototype,"data",void 0);lh=p([h.type("header_extension")],lh);let cg=class extends ji{};cg=p([ji.type("trx_variant",[Me,Si])],cg);let wa=class extends h{};p([h.field(Gt)],wa.prototype,"status",void 0);p([h.field(ge)],wa.prototype,"cpu_usage_us",void 0);p([h.field(ac)],wa.prototype,"net_usage_words",void 0);p([h.field(cg)],wa.prototype,"trx",void 0);wa=p([h.type("full_transaction_receipt")],wa);let Js=lg=class extends h{get blockNum(){return this.previous.blockNum.adding(1)}get id(){const t=Me.hash(We.encode({object:this,type:lg}));return Qt.fromBlockChecksum(t,this.blockNum)}};p([h.field("uint32")],Js.prototype,"timeSlot",void 0);p([h.field("name")],Js.prototype,"producer",void 0);p([h.field("uint16")],Js.prototype,"confirmed",void 0);p([h.field(Qt)],Js.prototype,"previous",void 0);p([h.field(Qt)],Js.prototype,"transaction_mroot",void 0);p([h.field(Qt)],Js.prototype,"action_mroot",void 0);p([h.field("uint32")],Js.prototype,"schedule_version",void 0);p([h.field(Fd,{optional:!0})],Js.prototype,"new_producers",void 0);p([h.field("any",{array:!0})],Js.prototype,"header_extensions",void 0);Js=lg=p([h.type("block_header")],Js);let Nl=class extends Js{};p([h.field("signature")],Nl.prototype,"producer_signature",void 0);p([h.field(wa,{array:!0})],Nl.prototype,"transactions",void 0);p([h.field(Ed,{array:!0})],Nl.prototype,"block_extensions",void 0);Nl=p([h.type("signed_block")],Nl);let yb=class extends ji{};yb=p([ji.type("net_message",[Mi,Ca,wd,ya,Sd,Rd,Ad,Nl,Si])],yb);/**
 * EOSIO Signing Request v3.2.0
 * https://github.com/greymass/eosio-signing-request
 *
 * @license
 * Copyright © 2021 Greymass Inc.
 * 
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the “Software”), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR
 * INTENDED FOR USE IN THE DESIGN, CONSTRUCTION, OPERATION OR
 * MAINTENANCE OF ANY MILITARY FACILITY.
 */const Pw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",gn=new Uint8Array(256);for(let e=0;e<62;e++)gn[Pw.charCodeAt(e)]=e;gn[43]=gn[45]=62;gn[47]=gn[95]=63;function Lw(e,t=!0){const i=e.byteLength,s=i%3,r=i-s,n=Pw+(t?"-_":"+/"),o=[];let a,l,c,d,u;for(let f=0;f<r;f+=3)u=e[f]<<16|e[f+1]<<8|e[f+2],a=(u&16515072)>>18,l=(u&258048)>>12,c=(u&4032)>>6,d=u&63,o.push(n[a]+n[l]+n[c]+n[d]);return s===1?(u=e[r],a=(u&252)>>2,l=(u&3)<<4,o.push(n[a]+n[l])):s===2&&(u=e[r]<<8|e[r+1],a=(u&64512)>>10,l=(u&1008)>>4,c=(u&15)<<2,o.push(n[a]+n[l]+n[c])),o.join("")}function Zw(e){const t=e.length*.75,i=new Uint8Array(t);let s,r,n,o,a=0;for(let l=0;l<e.length;l+=4)s=gn[e.charCodeAt(l)],r=gn[e.charCodeAt(l+1)],n=gn[e.charCodeAt(l+2)],o=gn[e.charCodeAt(l+3)],i[a++]=s<<2|r>>4,i[a++]=(r&15)<<4|n>>2,i[a++]=(n&3)<<6|o&63;return i}var Ci;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.EOS=1]="EOS",e[e.TELOS=2]="TELOS",e[e.JUNGLE=3]="JUNGLE",e[e.KYLIN=4]="KYLIN",e[e.WORBLI=5]="WORBLI",e[e.BOS=6]="BOS",e[e.MEETONE=7]="MEETONE",e[e.INSIGHTS=8]="INSIGHTS",e[e.BEOS=9]="BEOS",e[e.WAX=10]="WAX",e[e.PROTON=11]="PROTON",e[e.FIO=12]="FIO"})(Ci||(Ci={}));let Zi=class extends Me{static from(t){if(ve(t,this))return t;if(typeof t=="number"&&(t=wb.get(t),!t))throw new Error("Unknown chain id alias");return super.from(t)}get chainVariant(){const t=this.chainName;return t!==Ci.UNKNOWN?Dr.from(["chain_alias",t]):Dr.from(this)}get chainName(){const t=this.hexString;for(const[i,s]of wb)if(s===t)return i;return Ci.UNKNOWN}};Zi=p([lc("chain_id")],Zi);let dg=class extends Gt{};dg=p([lc("chain_alias")],dg);let Dr=class extends ji{get chainId(){return ve(this.value,Zi)?this.value:Zi.from(Number(this.value.value))}};Dr=p([ji.type("variant_id",[dg,Zi])],Dr);const wb=new Map([[Ci.EOS,"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"],[Ci.TELOS,"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"],[Ci.JUNGLE,"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"],[Ci.KYLIN,"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"],[Ci.WORBLI,"73647cde120091e0a4b85bced2f3cfdb3041e266cbbe95cee59b73235a1b3b6f"],[Ci.BOS,"d5a3d18fbb3c084e3b1f3fa98c21014b5f3db536cc15d08f9f6479517c6a3d86"],[Ci.MEETONE,"cfe6486a83bad4962f232d48003b1824ab5665c36778141034d75e57b956e422"],[Ci.INSIGHTS,"b042025541e25a472bffde2d62edd457b7e70cee943412b1ea0f044f88591664"],[Ci.BEOS,"b912d19a6abd2b1b05611ae5be473355d64d95aeff0c09bedc8c166cd6468fe4"],[Ci.WAX,"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"],[Ci.PROTON,"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0"],[Ci.FIO,"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c"]]);var Qa;let Sb=class extends N{};Sb=p([lc("account_name")],Sb);let Rb=class extends N{};Rb=p([lc("permission_name")],Rb);let Md=class extends h{};p([h.field(dt,{optional:!0})],Md.prototype,"permission",void 0);Md=p([h.type("identity")],Md);let Io=class extends h{};p([h.field("name")],Io.prototype,"scope",void 0);p([h.field(dt,{optional:!0})],Io.prototype,"permission",void 0);Io=p([h.type("identity")],Io);let ug=class extends ji{};ug=p([ji.type("variant_req",[di,{type:di,array:!0},Ht,Md])],ug);let hg=class extends ji{};hg=p([ji.type("variant_req",[di,{type:di,array:!0},Ht,Io])],hg);let Fo=Qa=class extends Gt{get broadcast(){return(Number(this)&Qa.broadcast)!==0}set broadcast(t){this.setFlag(Qa.broadcast,t)}get background(){return(Number(this)&Qa.background)!==0}set background(t){this.setFlag(Qa.background,t)}setFlag(t,i){i?this.value=Gt.from(Number(this)|t).value:this.value=Gt.from(Number(this)&~t).value}};Fo.broadcast=1;Fo.background=2;Fo=Qa=p([lc("request_flags")],Fo);let Sa=class extends h{};p([h.field("string")],Sa.prototype,"key",void 0);p([h.field("bytes")],Sa.prototype,"value",void 0);Sa=p([h.type("info_pair")],Sa);let kn=class extends h{};p([h.field(Dr)],kn.prototype,"chain_id",void 0);p([h.field(ug)],kn.prototype,"req",void 0);p([h.field(Fo)],kn.prototype,"flags",void 0);p([h.field("string")],kn.prototype,"callback",void 0);p([h.field(Sa,{array:!0})],kn.prototype,"info",void 0);kn=p([h.type("signing_request")],kn);let _n=class extends h{};p([h.field(Dr)],_n.prototype,"chain_id",void 0);p([h.field(hg)],_n.prototype,"req",void 0);p([h.field(Fo)],_n.prototype,"flags",void 0);p([h.field("string")],_n.prototype,"callback",void 0);p([h.field(Sa,{array:!0})],_n.prototype,"info",void 0);_n=p([h.type("signing_request")],_n);let mn=class extends h{};p([h.field("name")],mn.prototype,"signer",void 0);p([h.field("signature")],mn.prototype,"signature",void 0);mn=p([h.type("request_signature")],mn);var Dc;let Gn=Dc=class extends h{static from(t){return ve(t,Dc)?t:typeof t=="string"?Dc.fromString(t):super.from(t)}static fromString(t){const i=t.split(" ");if(i.length!==2||i[0]!=="EOSIO")throw new Error("Invalid IdentityProof string");const s=Zw(i[1]);return We.decode({data:s,type:Dc})}static fromPayload(t,i={}){const s=Wi.from(t.req,i);if(!(s.version>=3&&s.isIdentity()))throw new Error("Not an identity request");return this.from({chainId:t.cid||s.getChainId(),scope:s.getIdentityScope(),expiration:t.ex,signer:{actor:t.sa,permission:t.sp},signature:t.sig})}get transaction(){const t=di.from({account:"",name:"identity",authorization:[this.signer],data:Io.from({scope:this.scope,permission:this.signer})});return Ht.from({ref_block_num:0,ref_block_prefix:0,expiration:this.expiration,actions:[t]})}recover(){return this.signature.recoverDigest(this.transaction.signingDigest(this.chainId))}verify(t,i){return ci.from(i||new Date).toMilliseconds()<this.expiration.toMilliseconds()&&En.from(t).hasPermission(this.recover())}toString(){const t=We.encode({object:this});return`EOSIO ${Lw(t.array,!1)}`}};p([h.field(Zi)],Gn.prototype,"chainId",void 0);p([h.field(N)],Gn.prototype,"scope",void 0);p([h.field(ci)],Gn.prototype,"expiration",void 0);p([h.field(dt)],Gn.prototype,"signer",void 0);p([h.field(Di)],Gn.prototype,"signature",void 0);Gn=Dc=p([h.type("identity_proof")],Gn);const Zo=N.from("............1"),qa=N.from("............2"),fg=dt.from({actor:Zo,permission:qa});class Wi{constructor(t,i,s,r,n){if(i.flags.broadcast&&i.req.variantName==="identity")throw new Error("Invalid request (identity request cannot be broadcast)");this.version=t,this.data=i,this.zlib=s,this.abiProvider=r,this.signature=n}static identityAbi(t){const i=We.synthesize(this.identityType(t));return i.actions=[{name:"identity",type:"identity",ricardian_contract:""}],i}static identityType(t){return t===2?Md:Io}static storageType(t){return t===2?kn:_n}static async create(t,i={}){let s;t.action?s=[t.action]:t.actions?s=t.actions:t.transaction?s=t.transaction.actions||[]:s=[];const r=s.filter(o=>!pe.isBytes(o.data)&&o.data.constructor.abiName===void 0).map(o=>N.from(o.account)),n={};if(r.length>0){const o=i.abiProvider;if(!o)throw new Error("Missing abi provider");const a=await Promise.all(r.map(l=>o.getAbi(l)));for(const[l,c]of a.entries())n[r[l].toString()]=c}return this.createSync(t,i,n)}static createSync(t,i={},s={}){let r=2;const n={},o=d=>vE(d,s);if(t.chainId===null&&(r=3),t.identity!==void 0)t.identity.scope&&(r=3),n.req=["identity",this.identityType(r).from(t.identity)];else if(t.action&&!t.actions&&!t.transaction)n.req=["action",o(t.action)];else if(t.actions&&!t.action&&!t.transaction)t.actions.length===1?n.req=["action",o(t.actions[0])]:n.req=["action[]",t.actions.map(o)];else if(t.transaction&&!t.action&&!t.actions){const d=t.transaction;d.expiration===void 0&&(d.expiration="1970-01-01T00:00:00.000"),d.ref_block_num===void 0&&(d.ref_block_num=0),d.ref_block_prefix===void 0&&(d.ref_block_prefix=0),d.context_free_actions===void 0&&(d.context_free_actions=[]),d.transaction_extensions===void 0&&(d.transaction_extensions=[]),d.delay_sec===void 0&&(d.delay_sec=0),d.max_cpu_usage_ms===void 0&&(d.max_cpu_usage_ms=0),d.max_net_usage_words===void 0&&(d.max_net_usage_words=0),d.actions===void 0&&(d.actions=[]),d.context_free_actions===void 0&&(d.context_free_actions=[]),d.actions=d.actions.map(o),n.req=["transaction",d]}else throw new TypeError("Invalid arguments: Must have exactly one of action, actions or transaction");t.chainId===null?n.chain_id=Dr.from(["chain_alias",0]):n.chain_id=Zi.from(t.chainId||Ci.EOS).chainVariant;const a=Fo.from(0);let l="";if(a.broadcast=t.broadcast!==void 0?t.broadcast:n.req[0]!=="identity",typeof t.callback=="string"?l=t.callback:typeof t.callback=="object"&&(l=t.callback.url,a.background=t.callback.background||!1),n.flags=a,n.callback=l,n.info=[],typeof t.info=="object"){for(const d in t.info)if(Object.prototype.hasOwnProperty.call(t.info,d)){let f=t.info[d];typeof f=="string"?f=pe.from(f,"utf8"):f instanceof pe||(f=We.encode({object:f})),n.info.push({key:d,value:f})}}if(t.chainIds&&t.chainId===null){const d=t.chainIds.map(u=>Zi.from(u).chainVariant);n.info.push({key:"chain_ids",value:We.encode({object:d,type:{type:Dr,array:!0}})})}const c=new Wi(r,this.storageType(r).from(n),i.zlib,i.abiProvider);return i.signatureProvider&&c.sign(i.signatureProvider),c}static identity(t,i={}){let s={actor:t.account||Zo,permission:t.permission||qa};return s.actor===Zo&&s.permission===qa&&(s=void 0),this.createSync({...t,identity:{permission:s,scope:t.scope},broadcast:!1},i)}static fromTransaction(t,i,s={}){const r=Zi.from(t);i=pe.from(i);const n=new zm;return n.writeByte(2),n.writeArray(We.encode({object:r.chainVariant}).array),n.writeByte(2),n.writeArray(pe.from(i).array),n.writeByte(Fo.broadcast),n.writeByte(0),n.writeByte(0),Wi.fromData(n.getData(),s)}static from(t,i={}){if(typeof t!="string")throw new Error("Invalid request uri");const[,s]=t.split(":"),r=Zw(s.startsWith("//")?s.slice(2):s);return Wi.fromData(r,i)}static fromData(t,i={}){t=pe.from(t);const s=t.array[0],r=s&-129;if(r!==2&&r!==3)throw new Error("Unsupported protocol version");let n=t.droppingFirst(1);if(s&128){if(!i.zlib)throw new Error("Compressed URI needs zlib");n=pe.from(i.zlib.inflateRaw(n.array))}const o=new Al(n.array),a=We.decode({data:o,type:this.storageType(r)});let l;return o.canRead()&&(l=We.decode({data:o,type:mn})),new Wi(r,a,i.zlib,i.abiProvider,l)}sign(t){const i=this.getSignatureDigest();this.signature=mn.from(t.sign(i))}getSignatureDigest(){const t=[this.version,114,101,113,117,101,115,116];return Me.hash(pe.from(t).appending(this.getData()))}setSignature(t,i){this.signature=mn.from({signer:t,signature:i})}setCallback(t,i){this.data.callback=t,this.data.flags.background=i}setBroadcast(t){this.data.flags.broadcast=t}encode(t,i,s="esr:"){const r=t!==void 0?t:this.zlib!==void 0;if(r&&this.zlib===void 0)throw new Error("Need zlib to compress");let n=this.version;const o=this.getData(),a=this.getSignatureData();let l=new Uint8Array(o.byteLength+a.byteLength);if(l.set(o,0),l.set(a,o.byteLength),r){const d=this.zlib.deflateRaw(l);l.byteLength>d.byteLength&&(n|=128,l=d)}const c=new Uint8Array(1+l.byteLength);return c[0]=n,c.set(l,1),i!==!1&&(s+="//"),s+Lw(c)}getData(){return We.encode({object:this.data}).array}getSignatureData(){return this.signature?We.encode({object:this.signature}).array:new Uint8Array(0)}getRequiredAbis(){return this.getRawActions().filter(t=>!dp(t)).map(t=>t.account).filter((t,i,s)=>s.indexOf(t)===i)}requiresTapos(){const t=this.getRawTransaction();return!this.isIdentity()&&!Ab(t)}async fetchAbis(t){const i=this.getRequiredAbis();if(i.length>0){const s=t||this.abiProvider;if(!s)throw new Error("Missing ABI provider");const r=new Map;return await Promise.all(i.map(async n=>{r.set(n.toString(),ze.from(await s.getAbi(n)))})),r}else return new Map}resolveActions(t,i){return this.getRawActions().map(s=>{let r;if(dp(s))r=this.constructor.identityAbi(this.version);else{const l=t.get(s.account.toString());if(!l)throw new Error(`Missing ABI definition for ${s.account}`);r=ze.from(l)}if(!r.getActionType(s.name))throw new Error(`Missing type for action ${s.account}:${s.name} in ABI`);let o=s.decodeData(r),a=s.authorization;if(i){const l=dt.from(i),c=d=>{if(d instanceof N)return d.equals(Zo)?l.actor:d.equals(qa)?l.permission:d;if(Array.isArray(d))return d.map(c);if(typeof d=="object"&&d!==null){for(const u of Object.keys(d))d[u]=c(d[u]);return d}else return d};o=c(o),a=a.map(d=>{let{actor:u,permission:f}=d;return u.equals(Zo)&&(u=l.actor),f.equals(qa)&&(f=l.permission),f.equals(Zo)&&(f=l.permission),dt.from({actor:u,permission:f})})}return{...s,authorization:a,data:o}})}resolveTransaction(t,i,s={}){const r=this.getRawTransaction();if(!this.isIdentity()&&!Ab(r))if(s.expiration!==void 0&&s.ref_block_num!==void 0&&s.ref_block_prefix!==void 0)r.expiration=ci.from(s.expiration),r.ref_block_num=li.from(s.ref_block_num,"truncate"),r.ref_block_prefix=ge.from(s.ref_block_prefix);else if(s.block_num!==void 0&&s.ref_block_prefix!==void 0&&s.timestamp!==void 0)r.expiration=Ib(s.timestamp,s.expire_seconds),r.ref_block_num=li.from(s.block_num,"truncate"),r.ref_block_prefix=ge.from(s.ref_block_prefix);else throw new Error("Invalid transaction context, need either a reference block or explicit TaPoS values");else this.isIdentity()&&this.version>2&&(r.expiration=s.expiration?ci.from(s.expiration):Ib(s.timestamp,s.expire_seconds));const n=this.resolveActions(t,i),o=r.context_free_actions;return{...r,context_free_actions:o,actions:n}}resolve(t,i,s={}){const r=this.resolveTransaction(t,i,s),n=r.actions.map(l=>{let c;if(dp(l)?c=this.constructor.identityAbi(this.version):c=t.get(l.account.toString()),!c)throw new Error(`Missing ABI definition for ${l.account}`);const d=c.getActionType(l.name),u=We.encode({object:l.data,type:d,abi:c});return di.from({...l,data:u})}),o=Ht.from({...r,actions:n});let a;if(this.isMultiChain()){if(!s.chainId)throw new Error("Missing chosen chain ID for multi-chain request");a=Zi.from(s.chainId);const l=this.getChainIds();if(l&&!l.some(c=>a.equals(c)))throw new Error("Trying to resolve for chain ID not defined in request")}else a=this.getChainId();return new xd(this,dt.from(i),o,r,a)}getChainId(){return this.data.chain_id.chainId}getChainIds(){if(!this.isMultiChain())return null;const t=this.getInfoKey("chain_ids",{type:Dr,array:!0});return t?t.map(i=>i.chainId):null}setChainIds(t){const i=t.map(s=>Zi.from(s).chainVariant);this.setInfoKey("chain_ids",i,{type:Dr,array:!0})}isMultiChain(){return this.data.chain_id.variantIdx===0&&this.data.chain_id.value.equals(Ci.UNKNOWN)}getRawActions(){const t=this.data.req;switch(t.variantName){case"action":return[t.value];case"action[]":return t.value;case"identity":if(this.version===2){const i=t.value;let s="0101000000000000000200000000000000",r=[fg];i.permission&&(s=We.encode({object:i}),r=[i.permission]);const n=di.from({account:"",name:"identity",authorization:r,data:s});return delete n.abi,[n]}else{let{scope:i,permission:s}=t.value;s||(s=fg);const r=We.encode({object:{scope:i,permission:s},type:Io}),n=di.from({account:"",name:"identity",authorization:[s],data:r});return delete n.abi,[n]}case"transaction":return t.value.actions;default:throw new Error("Invalid signing request data")}}getRawTransaction(){const t=this.data.req;switch(t.variantName){case"transaction":return Ht.from({...t.value});case"action":case"action[]":case"identity":return Ht.from({actions:this.getRawActions(),context_free_actions:[],transaction_extensions:[],expiration:"1970-01-01T00:00:00.000",ref_block_num:0,ref_block_prefix:0,max_cpu_usage_ms:0,max_net_usage_words:0,delay_sec:0});default:throw new Error("Invalid signing request data")}}isIdentity(){return this.data.req.variantName==="identity"}shouldBroadcast(){return this.isIdentity()?!1:this.data.flags.broadcast}getIdentity(){if(!this.isIdentity())return null;const t=this.data.req.value;return t.permission&&!t.permission.actor.equals(Zo)?t.permission.actor:null}getIdentityPermission(){if(!this.isIdentity())return null;const t=this.data.req.value;return t.permission&&!t.permission.permission.equals(qa)?t.permission.permission:null}getIdentityScope(){return!this.isIdentity()||this.version<=2?null:this.data.req.value.scope}getRawInfo(){const t={};for(const{key:i,value:s}of this.data.info)t[i]=s;return t}getRawInfoKey(t){const i=this.data.info.find(s=>s.key===t);if(i)return i.value}setRawInfoKey(t,i){let s=this.data.info.find(r=>r.key===t);s?s.value=pe.from(i):(s=Sa.from({key:t,value:i}),this.data.info.push(s))}setInfoKey(t,i,s){let r;typeof i=="string"&&!s?r=pe.from(i,"utf8"):r=We.encode({object:i,type:s}),this.setRawInfoKey(t,r)}getInfoKey(t,i){const s=this.getRawInfoKey(t);if(s)return i?We.decode({data:s,type:i}):s.utf8String}clone(){let t;this.signature&&(t=mn.from(JSON.parse(JSON.stringify(this.signature))));const s=this.constructor.storageType(this.version).from(JSON.parse(JSON.stringify(this.data)));return new Wi(this.version,s,this.zlib,this.abiProvider,t)}toString(){return this.encode()}toJSON(){return this.encode()}}class xd{constructor(t,i,s,r,n){this.request=t,this.signer=i,this.transaction=s,this.resolvedTransaction=r,this.chainId=n}static async fromPayload(t,i={}){const s=Wi.from(t.req,i),r=await s.fetchAbis();return s.resolve(r,{actor:t.sa,permission:t.sp},{ref_block_num:t.rbn,ref_block_prefix:t.rid,expiration:t.ex,chainId:t.cid||s.getChainId()})}get serializedTransaction(){return We.encode({object:this.transaction}).array}get signingDigest(){return this.transaction.signingDigest(this.chainId)}get signingData(){return this.transaction.signingData(this.chainId)}getCallback(t,i){const{callback:s,flags:r}=this.request.data;if(!s||s.length===0)return null;if(!t||t.length===0)throw new Error("Must have at least one signature to resolve callback");const n=t.map(l=>Di.from(l)),o={sig:String(n[0]),tx:String(this.transaction.id),rbn:String(this.transaction.ref_block_num),rid:String(this.transaction.ref_block_prefix),ex:String(this.transaction.expiration),req:this.request.encode(),sa:String(this.signer.actor),sp:String(this.signer.permission),cid:String(this.chainId)};for(const[l,c]of n.slice(1).entries())o[`sig${l}`]=String(c);i&&(o.bn=String(ge.from(i)));const a=s.replace(/({{([a-z0-9]+)}})/g,(l,c,d)=>o[d]||"");return{background:r.background,payload:o,url:a}}getIdentityProof(t){if(!this.request.isIdentity())throw new Error("Not a identity request");return Gn.from({chainId:this.chainId,scope:this.request.getIdentityScope(),expiration:this.transaction.expiration,signer:this.signer,signature:t})}}function vE(e,t){if(pe.isBytes(e.data)||e.data.constructor.abiName!==void 0)return di.from(e);const i=t[String(N.from(e.account))];if(!i)throw new Error(`Missing ABI for ${e.account}`);const s=di.from(e,i);return delete s.abi,s}function dp(e){const t=N.from(e.account),i=N.from(e.name);return t.rawValue.equals(0)&&i.equals("identity")}function Ab(e){return!(e.expiration.equals(0)&&e.ref_block_num.equals(0)&&e.ref_block_prefix.equals(0))}function Ib(e,t=60){const i=ci.from(e||new Date),s=ge.from(t);return ci.fromInteger(i.value.adding(s))}class Hw{constructor(t){this.client=t,this.cache=new Map,this.pending=new Map}async getAbi(t){const i=String(t);let s=this.cache.get(i);if(!s){let r=this.pending.get(i);r||(r=this.client.v1.chain.get_raw_abi(t),this.pending.set(i,r));const n=await r;if(this.pending.delete(i),n.abi)s=ze.from(n.abi),this.cache.set(i,s);else throw new Error(`ABI for ${i} could not be loaded.`)}return s}setAbi(t,i,s=!1){const r=String(t),n=ze.from(i),o=this.cache.get(r);s&&o?this.cache.set(r,ze.from({action_results:Lo(o.action_results,n.action_results),types:Lo(o.types,n.types,"new_type_name"),structs:Lo(o.structs,n.structs),actions:Lo(o.actions,n.actions),tables:Lo(o.tables,n.tables),ricardian_clauses:Lo(o.ricardian_clauses,n.ricardian_clauses,"id"),variants:Lo(o.variants,n.variants),version:n.version})):this.cache.set(r,n)}}function Lo(e,t,i="name"){return t.reduce((s,r)=>(s.some(n=>String(n[i])===String(r[i]))||s.push(r),s),e.slice())}function bE(e){return["primary","secondary","tertiary","fourth","fifth","sixth","seventh","eighth","ninth","tenth"][e]}function Jn(e){if(e)return ve(e,Hi)||ve(e,Oe)||ve(e,yi)||ve(e,Me)||ve(e,mo)?e:typeof e=="number"?Oe.from(e):N.from(e)}const CE={json:!1,limit:1e3};class Yw{constructor(t){this.endReached=!1,this.rowsCount=0,this.maxRows=Number.MAX_SAFE_INTEGER,this.abi=ze.from(t.abi),this.client=t.client,this.params={...CE,...t.params},t.maxRows&&(this.maxRows=t.maxRows);const i=this.abi.tables.find(s=>N.from(s.name).equals(this.params.table));if(!i)throw new Error("Table not found");this.type=i.type}async*[Symbol.asyncIterator](){for(;;){const t=await this.next();for(const i of t)yield i;if(t.length===0||!this.next_key)return}}async reset(){this.next_key=void 0,this.endReached=!1,this.rowsCount=0}async all(){const t=[];for await(const i of this)t.push(i);return t}}class yE extends Yw{async next(t=Number.MAX_SAFE_INTEGER){if(this.endReached)return[];let i=this.params.lower_bound;this.next_key&&(i=this.next_key);const s=this.maxRows-this.rowsCount,r=Math.min(s,t,this.params.limit),n={...this.params,limit:r,lower_bound:Jn(i),upper_bound:Jn(this.params.upper_bound)},o=await this.client.v1.chain.get_table_rows(n),l=this.params.json===!1&&!n.type?o.rows.map(c=>We.decode({data:c,abi:this.abi,type:this.type})):o.rows;return this.next_key=o.next_key,this.rowsCount+=l.length,(!o.next_key||l.length===0||this.rowsCount===this.maxRows)&&(this.endReached=!0),l}}class wE extends Yw{async next(t=Number.MAX_SAFE_INTEGER){if(this.endReached)return[];let i=this.params.lower_bound;this.next_key&&(i=this.next_key);const s=this.maxRows-this.rowsCount,r=Math.min(s,t,this.params.limit),n={code:this.params.code,table:this.params.table,limit:r,lower_bound:i?String(i):void 0,upper_bound:this.params.upper_bound?String(this.params.upper_bound):void 0},o=await this.client.v1.chain.get_table_by_scope(n),a=o.rows;return this.next_key=o.more,this.rowsCount+=a.length,(!o.more||a.length===0||this.rowsCount===this.maxRows)&&(this.endReached=!0),a}}class Xm{constructor(t){this.defaultRowLimit=1e3,this.abi=ze.from(t.abi),this.account=N.from(t.account),this.name=N.from(t.name),this.client=t.client,this.rowType=t.rowType,this.fieldToIndex=t.fieldToIndex;const i=this.abi.tables.find(s=>this.name.equals(s.name));if(!i)throw new Error(`Table ${this.name} not found in ABI`);this.tableABI=i,this.defaultScope=t.defaultScope}static from(t){return new Xm(t)}query(t={}){const i={table:this.name,code:this.account,scope:t.scope!==void 0?String(t.scope):this.defaultScope||this.account,type:this.rowType,index_position:t.index_position,key_type:t.key_type,lower_bound:Jn(t.from),upper_bound:Jn(t.to),limit:t.rowsPerAPIRequest||this.defaultRowLimit,reverse:t.reverse};if(t.index){const s=this.getFieldToIndex();if(!s[t.index])throw new Error(`Field ${t.index} is not listed in the ABI under key_names/key_types. Try using 'index_position' instead.`);i.index_position=s[t.index].index_position}return new yE({abi:this.abi,client:this.client,maxRows:t.maxRows,params:i})}async get(t,i={}){const s={table:this.name,code:this.account,scope:i.scope!==void 0?String(i.scope):this.defaultScope||this.account,type:this.rowType,limit:1,lower_bound:Jn(t),upper_bound:Jn(t),index_position:i.index_position,key_type:i.key_type,json:!1,reverse:i.reverse};if(i.index){const o=this.getFieldToIndex();if(!o[i.index])throw new Error(`Field ${i.index} is not listed in the ABI under key_names/key_types. Try using 'index_position' instead.`);s.index_position=o[i.index].index_position}const{rows:r}=await this.client.v1.chain.get_table_rows(s);if(r.length===0)return;let[n]=r;return this.rowType||(n=We.decode({data:n,abi:this.abi,type:this.tableABI.type})),i.json&&(n=We.objectify(n)),n}first(t,i={}){return this.query({...i,maxRows:t})}async all(t={}){return this.query(t).all()}getFieldToIndex(){if(this.fieldToIndex)return this.fieldToIndex;const t={};for(let i=0;i<this.tableABI.key_names.length;i++)t[this.tableABI.key_names[i]]={type:this.tableABI.key_types[i],index_position:bE(i)};return t}scopes(t={}){const i={code:this.account,table:this.name,lower_bound:Jn(t.from),upper_bound:Jn(t.to),limit:t.rowsPerAPIRequest||this.defaultRowLimit,reverse:t.reverse};return new wE({abi:this.abi,client:this.client,maxRows:t.maxRows,params:i})}}let Jm=class{constructor(t){if(!t.abi)throw new Error("Contract requires an ABI");if(this.abi=ze.from(t.abi),!t.account)throw new Error("Contract requires an account name");if(this.account=N.from(t.account),!t.client)throw new Error("Contract requires an APIClient");this.client=t.client}get tableNames(){return this.abi.tables.map(t=>String(t.name))}hasTable(t){return this.tableNames.includes(String(t))}table(t,i,s){if(!this.hasTable(t))throw new Error(`Contract (${this.account}) does not have a table named (${t})`);return Xm.from({abi:this.abi,account:this.account,client:this.client,defaultScope:i,name:t,rowType:s})}get actionNames(){return this.abi.actions.map(t=>String(t.name))}hasAction(t){return this.actionNames.includes(String(t))}action(t,i,s){if(!this.hasAction(t))throw new Error(`Contract (${this.account}) does not have an action named (${t})`);let r=[fg];return s&&s.authorization&&(r=s.authorization.map(n=>dt.from(n))),di.from({account:this.account,name:t,authorization:r,data:i},this.abi)}async readonly(t,i){i||(i={});const s=this.action(t,i);s.authorization=[];const r=Ht.from({ref_block_num:0,ref_block_prefix:0,expiration:0,actions:[s]}),o=(await this.client.v1.chain.send_read_only_transaction(r)).processed.action_traces[0].return_value_hex_data,a=this.abi.action_results.find(l=>N.from(l.name).equals(t));if(!a)throw new Error(`Return type for ${t} not defined in the ABI.`);return We.decode({data:o,type:a.result_type,abi:this.abi})}actions(t,i){return t.map(s=>this.action(s.name,s.data,{authorization:s.authorization||(i==null?void 0:i.authorization)}))}ricardian(t){if(!this.hasAction(t))throw new Error(`Contract (${this.account}) does not have an action named (${t})`);const i=this.abi.actions.find(s=>N.from(s.name).equals(t));if(!i||!i.ricardian_contract)throw new Error(`Contract (${this.account}) action named (${t}) does not have a defined ricardian contract`);return i.ricardian_contract}};const SE={};class Qm{constructor(t,i=SE){if(t.client)this.client=t.client;else throw new Error("A `client` must be passed when initializing the ContractKit.");i.abiCache?this.abiCache=i.abiCache:this.abiCache=new Hw(this.client),i.abis&&i.abis.forEach(({name:s,abi:r})=>this.abiCache.setAbi(N.from(s),ze.from(r)))}async load(t){const i=N.from(t),s=await this.abiCache.getAbi(i);return new Jm({abi:ze.from(s),account:i,client:this.client})}}class lu extends Error{constructor(t,i=!1){super(t),this.silent=!1,this.silent=i,Object.setPrototypeOf(this,lu.prototype)}}function ll(e,t){let i=null;const s=new Promise((r,n)=>{i=(o="",a=!1)=>{try{t&&t(new lu(o,a))}catch(l){n(l)}return s},e.then(r,n)});return i&&(s.cancel=i),s}function It(e,t,i,s){var r=arguments.length,n=r<3?t:s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(n=(r<3?o(n):r>3?o(t,i,n):o(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n}let kd=class extends h{url(t){return`${this.prefix}${t}${this.suffix}`}};It([h.field("string")],kd.prototype,"prefix",void 0);It([h.field("string")],kd.prototype,"suffix",void 0);kd=It([h.type("explorer_definition")],kd);var pg;let Bs=pg=class extends h{static from(t){return typeof t=="string"?new pg({light:t,dark:t}):super.from(t)}getVariant(t){return this[t]}toString(){return this.light}};It([h.field("string")],Bs.prototype,"dark",void 0);It([h.field("string")],Bs.prototype,"light",void 0);Bs=pg=It([h.type("logo")],Bs);let Ra=class extends h{};It([h.field(Me)],Ra.prototype,"chain",void 0);It([h.field(N)],Ra.prototype,"contract",void 0);It([h.field(ie.Symbol)],Ra.prototype,"symbol",void 0);Ra=It([h.type("token_identifier")],Ra);let _d=class extends h{};It([h.field(Ra)],_d.prototype,"id",void 0);It([h.field("string",{optional:!0})],_d.prototype,"logo",void 0);_d=It([h.type("token_meta")],_d);let Gd=class extends h{};It([h.field(ie)],Gd.prototype,"asset",void 0);It([h.field(N)],Gd.prototype,"contract",void 0);It([h.field(_d)],Gd.prototype,"metadata",void 0);Gd=It([h.type("token_balance")],Gd);class qt{constructor(t){this.id=Me.from(t.id),this.url=t.url,this.logo=t.logo,this.explorer=t.explorer,this.accountDataType=t.accountDataType,this.coinType=t.coinType,t.systemTokenContract&&t.systemTokenSymbol&&(this.systemToken=Ra.from({chain:this.id,contract:t.systemTokenContract,symbol:t.systemTokenSymbol})),t.systemToken&&(this.systemToken=t.systemToken)}static from(t){return new qt({...t,explorer:t.explorer?kd.from(t.explorer):void 0,logo:t.logo?Bs.from(t.logo):void 0})}get name(){const t=AE.get(String(this.id));return t?RE[t]:"Unknown blockchain"}getLogo(){const t=String(this.id);if(this.logo)return Bs.from(this.logo);if(Fb.has(t)){const i=Fb.get(t);if(i)return Bs.from(i)}}equals(t){const i=qt.from(t);return this.id.equals(i.id)&&this.url===i.url}}const RE={EOS:"EOS",FIO:"FIO",FIOTestnet:"FIO (Testnet)",Jungle4:"Jungle 4 (Testnet)",KylinTestnet:"Kylin (Testnet)",Libre:"Libre",LibreTestnet:"Libre (Testnet)",Proton:"XPR Network",ProtonTestnet:"XPR Network (Testnet)",Telos:"Telos",TelosTestnet:"Telos (Testnet)",UX:"UX Network",WAX:"WAX",WAXTestnet:"WAX (Testnet)",XPR:"XPR Network",XPRTestnet:"XPR Network (Testnet)"};let ch=class extends ff.v1.AccountVoterInfo{};It([h.field(me)],ch.prototype,"last_stake",void 0);ch=It([h.type("telos_account_voter_info")],ch);let Dd=class extends ff.v1.AccountObject{};It([h.field(ch,{optional:!0})],Dd.prototype,"voter_info",void 0);Dd=It([h.type("telos_account_object")],Dd);let Aa=class extends ff.v1.AccountVoterInfo{};It([h.field(yi)],Aa.prototype,"unpaid_voteshare",void 0);It([h.field(Rs)],Aa.prototype,"unpaid_voteshare_last_updated",void 0);It([h.field(yi)],Aa.prototype,"unpaid_voteshare_change_rate",void 0);It([h.field(Rs)],Aa.prototype,"last_claim_time",void 0);Aa=It([h.type("wax_account_voter_info")],Aa);let Wd=class extends ff.v1.AccountObject{};It([h.field(Aa,{optional:!0})],Wd.prototype,"voter_info",void 0);Wd=It([h.type("wax_account_object")],Wd);var bi;(function(e){e.EOS=qt.from({id:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",url:"https://eos.greymass.com",coinType:194,systemTokenSymbol:"4,EOS",systemTokenContract:"eosio.token"}),e.FIO=qt.from({id:"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c",url:"https://fio.greymass.com",coinType:235,systemTokenSymbol:"9,FIO",systemTokenContract:"eosio.token"}),e.FIOTestnet=qt.from({id:"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e",url:"https://fiotestnet.greymass.com",systemTokenSymbol:"9,FIO",systemTokenContract:"fio.token"}),e.Jungle4=qt.from({id:"73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d",url:"https://jungle4.greymass.com",coinType:194,systemTokenSymbol:"4,EOS",systemTokenContract:"eosio.token"}),e.KylinTestnet=qt.from({id:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191",url:"https://kylintestnet.greymass.com",coinType:194,systemTokenSymbol:"4,EOS",systemTokenContract:"eosio.token"}),e.Libre=qt.from({id:"38b1d7815474d0c60683ecbea321d723e83f5da6ae5f1c1f9fecc69d9ba96465",url:"https://libre.greymass.com",systemTokenSymbol:"4,LIBRE",systemTokenContract:"eosio.token"}),e.LibreTestnet=qt.from({id:"b64646740308df2ee06c6b72f34c0f7fa066d940e831f752db2006fcc2b78dee",url:"https://libretestnet.greymass.com",systemTokenSymbol:"4,LIBRE",systemTokenContract:"eosio.token"}),e.Proton=qt.from({id:"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0",url:"https://proton.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"}),e.ProtonTestnet=qt.from({id:"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd",url:"https://proton-testnet.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"}),e.Telos=qt.from({id:"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11",url:"https://telos.greymass.com",accountDataType:Dd,coinType:977,systemTokenSymbol:"4,TLOS",systemTokenContract:"eosio.token"}),e.TelosTestnet=qt.from({id:"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f",url:"https://telostestnet.greymass.com",accountDataType:Dd,coinType:977,systemTokenSymbol:"4,TLOS",systemTokenContract:"eosio.token"}),e.UX=qt.from({id:"8fc6dce7942189f842170de953932b1f66693ad3788f766e777b6f9d22335c02",url:"https://api.uxnetwork.io",systemTokenSymbol:"4,UTX",systemTokenContract:"eosio.token"}),e.WAX=qt.from({id:"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4",url:"https://wax.greymass.com",accountDataType:Wd,coinType:14001,systemTokenSymbol:"8,WAX",systemTokenContract:"eosio.token"}),e.WAXTestnet=qt.from({id:"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12",url:"https://waxtestnet.greymass.com",accountDataType:Wd,coinType:14001,systemTokenSymbol:"8,WAX",systemTokenContract:"eosio.token"}),e.XPR=qt.from({id:"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0",url:"https://proton.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"}),e.XPRTestnet=qt.from({id:"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd",url:"https://proton-testnet.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"})})(bi||(bi={}));const AE=new Map([["aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","EOS"],["21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c","FIO"],["b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e","FIOTestnet"],["73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d","Jungle4"],["5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191","KylinTestnet"],["38b1d7815474d0c60683ecbea321d723e83f5da6ae5f1c1f9fecc69d9ba96465","Libre"],["b64646740308df2ee06c6b72f34c0f7fa066d940e831f752db2006fcc2b78dee","LibreTestnet"],["384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0","XPR"],["71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd","XPRTestnet"],["4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11","Telos"],["1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f","TelosTestnet"],["8fc6dce7942189f842170de953932b1f66693ad3788f766e777b6f9d22335c02","UX"],["1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4","WAX"],["f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12","WAXTestnet"]]),Fb=new Map([["aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","https://assets.wharfkit.com/chain/eos.png"],["21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c","https://assets.wharfkit.com/chain/fio.png"],["b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e","https://assets.wharfkit.com/chain/fio.png"],["2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840","https://assets.wharfkit.com/chain/jungle.png"],["73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d","https://assets.wharfkit.com/chain/jungle.png"],["38b1d7815474d0c60683ecbea321d723e83f5da6ae5f1c1f9fecc69d9ba96465","https://assets.wharfkit.com/chain/libre.png"],["b64646740308df2ee06c6b72f34c0f7fa066d940e831f752db2006fcc2b78dee","https://assets.wharfkit.com/chain/libre.png"],["384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0","https://assets.wharfkit.com/chain/xprnetwork.png"],["71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd","https://assets.wharfkit.com/chain/xprnetwork.png"],["4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11","https://assets.wharfkit.com/chain/telos.png"],["1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f","https://assets.wharfkit.com/chain/telos.png"],["8fc6dce7942189f842170de953932b1f66693ad3788f766e777b6f9d22335c02","https://assets.wharfkit.com/chain/ux.png"],["1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4","https://assets.wharfkit.com/chain/wax.png"],["f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12","https://assets.wharfkit.com/chain/wax.png"]]);function dh(e,t){var i;t===void 0&&(t="0");var s=0,r=-1;e[0]=="-"&&(e=e.substring(1),gg(e)||(s++,r=1,e.length)),t[0]=="-"&&(t=t.substring(1),gg(t)||(s++,r=2,t.length)),e=Pi(e),t=Pi(t),i=qm(Pi(e),Pi(t)),e=i[0],t=i[1],s==1&&(r===1?e=up(e):r===2&&(t=up(t)));var n=zw(e,t);return s?s==2?"-"+Pi(n):e.length<n.length?Pi(n.substring(1)):"-"+Pi(up(n)):Pi(n)}function up(e){if(gg(e))return e;for(var t="",i=e.length,s=e.split(".")[1],r=s?s.length:0,n=0;n<i;n++)e[n]>="0"&&e[n]<="9"?t+=9-parseInt(e[n]):t+=e[n];var o=r>0?"0."+new Array(r).join("0")+"1":"1";return zw(t,o)}function Pi(e){var t=e.split(".");for(t[0]||(t[0]="0");t[0][0]=="0"&&t[0].length>1;)t[0]=t[0].substring(1);return t[0]+(t[1]?"."+t[1]:"")}function qm(e,t){var i=e.split("."),s=t.split("."),r=i[0].length,n=s[0].length;return r>n?s[0]=new Array(Math.abs(r-n)+1).join("0")+(s[0]?s[0]:""):i[0]=new Array(Math.abs(r-n)+1).join("0")+(i[0]?i[0]:""),r=i[1]?i[1].length:0,n=s[1]?s[1].length:0,(r||n)&&(r>n?s[1]=(s[1]?s[1]:"")+new Array(Math.abs(r-n)+1).join("0"):i[1]=(i[1]?i[1]:"")+new Array(Math.abs(r-n)+1).join("0")),e=i[0]+(i[1]?"."+i[1]:""),t=s[0]+(s[1]?"."+s[1]:""),[e,t]}function zw(e,t){var i;i=qm(e,t),e=i[0],t=i[1];for(var s="",r=0,n=e.length-1;n>=0;n--){if(e[n]==="."){s="."+s;continue}var o=parseInt(e[n])+parseInt(t[n])+r;s=o%10+s,r=Math.floor(o/10)}return r?r.toString()+s:s}function gg(e){return/^0[0]*[.]{0,1}[0]*$/.test(e)}function Eb(e){return(typeof e=="number"||typeof e=="bigint")&&(e=e.toString()),e[0]=="-"?e.substring(1):e}var si;(function(e){e[e.CEILING=0]="CEILING",e[e.DOWN=1]="DOWN",e[e.FLOOR=2]="FLOOR",e[e.HALF_DOWN=3]="HALF_DOWN",e[e.HALF_EVEN=4]="HALF_EVEN",e[e.HALF_UP=5]="HALF_UP",e[e.UNNECESSARY=6]="UNNECESSARY",e[e.UP=7]="UP"})(si||(si={}));function Td(e,t,i){if(t===void 0&&(t=0),i===void 0&&(i=si.HALF_EVEN),i===si.UNNECESSARY)throw new Error("UNNECESSARY Rounding Mode has not yet been implemented");(typeof e=="number"||typeof e=="bigint")&&(e=e.toString());var s=!1;e[0]==="-"&&(s=!0,e=e.substring(1));var r=e.split("."),n=r[0],o=r[1];if(t<0){if(t=-t,n.length<=t)return"0";var a=n.substr(0,n.length-t);return e=a+"."+n.substr(n.length-t)+o,a=Td(e,0,i),(s?"-":"")+a+new Array(t+1).join("0")}if(t==0)return n.length,Mb(r[1],n,s,i)&&(n=hp(n)),(s&&parseInt(n)?"-":"")+n;if(r[1]){if(r[1].length<t)return(s?"-":"")+n+"."+r[1]+new Array(t-r[1].length+1).join("0")}else return(s?"-":"")+n+"."+new Array(t+1).join("0");o=r[1].substring(0,t);var l=r[1].substring(t);return l&&Mb(l,o,s,i)&&(o=hp(o),o.length>t)?(s?"-":"")+hp(n,parseInt(o[0]))+"."+o.substring(1):(s&&(parseInt(n)||parseInt(o))?"-":"")+n+"."+o}function Mb(e,t,i,s){if(!e||e===new Array(e.length+1).join("0")||s===si.DOWN||!i&&s===si.FLOOR||i&&s===si.CEILING)return!1;if(s===si.UP||i&&s===si.FLOOR||!i&&s===si.CEILING)return!0;var r="5"+new Array(e.length).join("0");if(e>r)return!0;if(e<r)return!1;switch(s){case si.HALF_DOWN:return!1;case si.HALF_UP:return!0;case si.HALF_EVEN:default:return parseInt(t[t.length-1])%2==1}}function hp(e,t){t===void 0&&(t=0),t||(t=1),typeof e=="number"&&e.toString();for(var i=e.length-1,s="",r=i;r>=0;r--){var n=parseInt(e[r])+t;n==10?(t=1,n=0):t=0,s+=n}return t&&(s+=t),s.split("").reverse().join("")}function $n(e){var t=e[0]==="-";for(t&&(e=e.substr(1));e[0]=="0";)e=e.substr(1);if(e.indexOf(".")!=-1)for(;e[e.length-1]=="0";)e=e.substr(0,e.length-1);return e==""||e=="."?e="0":e[e.length-1]=="."&&(e=e.substr(0,e.length-1)),e[0]=="."&&(e="0"+e),t&&e!="0"&&(e="-"+e),e}function mg(e,t){e=e.toString(),t=t.toString();var i=0;e[0]=="-"&&(i++,e=e.substr(1)),t[0]=="-"&&(i++,t=t.substr(1)),e=$n(e),t=$n(t);var s=0,r=0;e.indexOf(".")!=-1&&(s=e.length-e.indexOf(".")-1),t.indexOf(".")!=-1&&(r=t.length-t.indexOf(".")-1);var n=s+r;if(e=$n(e.replace(".","")),t=$n(t.replace(".","")),e.length<t.length){var o=e;e=t,t=o}if(t=="0")return"0";for(var a=t.length,l=0,c=[],d=a-1,u="",f=0;f<a;f++)c[f]=e.length-1;for(var f=0;f<2*e.length;f++){for(var g=0,m=t.length-1;m>=d&&m>=0;m--)c[m]>-1&&c[m]<e.length&&(g+=parseInt(e[c[m]--])*parseInt(t[m]));g+=l,l=Math.floor(g/10),u=g%10+u,d--}return u=$n(IE(u,n)),i==1&&(u="-"+u),u}function IE(e,t){return t==0?e:(e=t>=e.length?new Array(t-e.length+1).join("0")+e:e,e.substr(0,e.length-t)+"."+e.substr(e.length-t,t))}function vg(e,t,i,s){if(i===void 0&&(i=8),s===void 0&&(s=si.HALF_EVEN),t==0)throw new Error("Cannot divide by 0");if(e=e.toString(),t=t.toString(),e=e.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),t=t.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),e==0)return"0";var r=0;t[0]=="-"&&(t=t.substring(1),r++),e[0]=="-"&&(e=e.substring(1),r++);var n=t.indexOf(".")>0?t.length-t.indexOf(".")-1:-1;if(t=Pi(t.replace(".","")),n>=0){var o=e.indexOf(".")>0?e.length-e.indexOf(".")-1:-1;if(o==-1)e=Pi(e+new Array(n+1).join("0"));else if(n>o)e=e.replace(".",""),e=Pi(e+new Array(n-o+1).join("0"));else if(n<o){e=e.replace(".","");var a=e.length-o+n;e=Pi(e.substring(0,a)+"."+e.substring(a))}else n==o&&(e=Pi(e.replace(".","")))}var l=0,c=t.length,d="",u=e.indexOf(".")>-1&&e.indexOf(".")<c?e.substring(0,c+1):e.substring(0,c);if(e=e.indexOf(".")>-1&&e.indexOf(".")<c?e.substring(c+1):e.substring(c),u.indexOf(".")>-1){var f=u.length-u.indexOf(".")-1;u=u.replace(".",""),c>u.length&&(f+=c-u.length,u=u+new Array(c-u.length+1).join("0")),l=f,d="0."+new Array(f).join("0")}for(i=i+2;l<=i;){for(var g=0;parseInt(u)>=parseInt(t);)u=dh(u,"-"+t),g++;d+=g,e?(e[0]=="."&&(d+=".",l++,e=e.substring(1)),u=u+e.substring(0,1),e=e.substring(1)):(l||(d+="."),l++,u=u+"0")}return(r==1?"-":"")+Pi(Td(d,i-2,s))}function bg(e,t){return e=e.toString(),t=t.toString(),t=Cg(t),dh(e,t)}function Cg(e){return e[0]=="-"?e=e.substr(1):e="-"+e,e}function xb(e,t){if(t==0)throw new Error("Cannot divide by 0");e=e.toString(),t=t.toString(),kb(e),kb(t);var i="";e[0]=="-"&&(i="-",e=e.substr(1)),t[0]=="-"&&(t=t.substr(1));var s=bg(e,mg(t,Td(vg(e,t),0,si.FLOOR)));return i+s}function kb(e){if(e.indexOf(".")!=-1)throw new Error("Modulus of non-integers not supported")}function _b(e,t){var i,s,r=!1;if(i=[e,t].map(function(o){return $n(o)}),e=i[0],t=i[1],e[0]=="-"&&t[0]!="-")return-1;if(e[0]!="-"&&t[0]=="-")return 1;if(e[0]=="-"&&t[0]=="-"&&(e=e.substr(1),t=t.substr(1),r=!0),s=qm(e,t),e=s[0],t=s[1],e.localeCompare(t)==0)return 0;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return e[n]>t[n]?r?-1:1:r?1:-1;return 0}var Gb=function(){function e(t){t===void 0&&(t="0"),this.value=e.validate(t)}return e.validate=function(t){if(t){if(t=t.toString(),isNaN(t))throw Error("Parameter is not a number: "+t);t[0]=="+"&&(t=t.substring(1))}else t="0";if(t.startsWith(".")?t="0"+t:t.startsWith("-.")&&(t="-0"+t.substr(1)),/e/i.test(t)){var i=t.split(/[eE]/),s=i[0],r=i[1];s=Pi(s);var n="";s[0]=="-"&&(n="-",s=s.substring(1)),s.indexOf(".")>=0?(r=parseInt(r)+s.indexOf("."),s=s.replace(".","")):r=parseInt(r)+s.length,s.length<r?t=n+s+new Array(r-s.length+1).join("0"):s.length>=r&&r>0?t=n+Pi(s.substring(0,r))+(s.length>r?"."+s.substring(r):""):t=n+"0."+new Array(-r+1).join("0")+s}return t},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t){this.value=e.validate(t)},e.getPrettyValue=function(t,i,s){i===void 0&&(i=3),s===void 0&&(s=","),t=e.validate(t);var r=t.charAt(0)=="-";r&&(t=t.substring(1));var n=t.indexOf(".");n=n>0?n:t.length;for(var o="",a=n;a>0;)a<i?(i=a,a=0):a-=i,o=t.substring(a,a+i)+(a<n-i&&a>=0?s:"")+o;return(r?"-":"")+o+t.substring(n)},e.prototype.getPrettyValue=function(t,i){return t===void 0&&(t=3),i===void 0&&(i=","),e.getPrettyValue(this.value,t,i)},e.round=function(t,i,s){if(i===void 0&&(i=0),s===void 0&&(s=si.HALF_EVEN),t=e.validate(t),isNaN(i))throw Error("Precision is not a number: "+i);return Td(t,i,s)},e.prototype.round=function(t,i){if(t===void 0&&(t=0),i===void 0&&(i=si.HALF_EVEN),isNaN(t))throw Error("Precision is not a number: "+t);return new e(Td(this.value,t,i))},e.abs=function(t){return t=e.validate(t),Eb(t)},e.prototype.abs=function(){return new e(Eb(this.value))},e.floor=function(t){return t=e.validate(t),t.indexOf(".")===-1?t:e.round(t,0,si.FLOOR)},e.prototype.floor=function(){return this.value.indexOf(".")===-1?new e(this.value):new e(this.value).round(0,si.FLOOR)},e.ceil=function(t){return t=e.validate(t),t.indexOf(".")===-1?t:e.round(t,0,si.CEILING)},e.prototype.ceil=function(){return this.value.indexOf(".")===-1?new e(this.value):new e(this.value).round(0,si.CEILING)},e.add=function(t,i){return t=e.validate(t),i=e.validate(i),dh(t,i)},e.prototype.add=function(t){return new e(dh(this.value,t.getValue()))},e.subtract=function(t,i){return t=e.validate(t),i=e.validate(i),bg(t,i)},e.prototype.subtract=function(t){return new e(bg(this.value,t.getValue()))},e.multiply=function(t,i){return t=e.validate(t),i=e.validate(i),mg(t,i)},e.prototype.multiply=function(t){return new e(mg(this.value,t.getValue()))},e.divide=function(t,i,s,r){return t=e.validate(t),i=e.validate(i),vg(t,i,s,r)},e.prototype.divide=function(t,i,s){return new e(vg(this.value,t.getValue(),i,s))},e.modulus=function(t,i){return t=e.validate(t),i=e.validate(i),xb(t,i)},e.prototype.modulus=function(t){return new e(xb(this.value,t.getValue()))},e.compareTo=function(t,i){return t=e.validate(t),i=e.validate(i),_b(t,i)},e.prototype.compareTo=function(t){return _b(this.value,t.getValue())},e.negate=function(t){return t=e.validate(t),Cg(t)},e.prototype.negate=function(){return new e(Cg(this.value))},e.stripTrailingZero=function(t){return t=e.validate(t),$n(t)},e.prototype.stripTrailingZero=function(){return new e($n(this.value))},e.RoundingModes=si,e}();/**
 * @wharfkit/resources v1.3.1
 * https://github.com/wharfkit/resources
 *
 * @license
 * Copyright (c) 2021 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */class Vi extends h{constructor(){super(...arguments),this.default_block_cpu_limit=Oe.from(2e5),this.default_block_net_limit=Oe.from(1048576e3)}get allocated(){return 1-Number(this.weight_ratio)/Number(this.target_weight_ratio)/100}get reserved(){return new Xt(String(this.utilization))/new Xt(String(this.weight))}get symbol(){return this.min_price.symbol}cast(){return{adjusted_utilization:Number(this.adjusted_utilization),decay_secs:Number(this.decay_secs.value),exponent:Number(this.exponent),utilization:Number(this.utilization),utilization_timestamp:Number(this.utilization_timestamp.value),weight:new Xt(String(this.weight)),weight_ratio:Number(this.weight_ratio)}}utilization_increase(t,i){const{weight:s}=this,r=Hi.from(i),n=new Xt(s.value.mul(new Xt(r.value)))/Math.pow(10,15);return Math.ceil(n)}price_function(t){const{exponent:i,weight:s}=this.cast(),r=this.max_price.value,n=this.min_price.value;let o=n;const a=i-1;if(a<=0)return r;{const l=new Xt(t)/s;o+=(r-n)*Math.pow(l,a)}return o}price_integral_delta(t,i){const{exponent:s,weight:r}=this.cast(),n=this.max_price.value,o=this.min_price.value,a=(n-o)/s,l=new Xt(t)/r,c=new Xt(i)/r;return o*c-o*l+a*Math.pow(c,s)-a*Math.pow(l,s)}fee(t,i){const{utilization:s,weight:r}=this.cast();let n=s;const o=n+t;let a=0;if(n<i){const l=Math.min(t,i-n);a+=Number(new Gb(this.price_function(i)*l).divide(new Gb(r.toString())).getValue()),n=i}return n<o&&(a+=this.price_integral_delta(n,o)),a}determine_adjusted_utilization(t){const{decay_secs:i,utilization:s,utilization_timestamp:r}=this.cast();let{adjusted_utilization:n}=this.cast();if(s<n){const o=t&&t.timestamp?t.timestamp:new Date,a=ci.from(o).toMilliseconds()/1e3,l=n-s;let c=l*Math.exp(-(a-r)/i);c=Math.min(Math.max(c,0),l),n=s+c}return n}}p([h.field("uint8")],Vi.prototype,"version",void 0);p([h.field("int64")],Vi.prototype,"weight",void 0);p([h.field("int64")],Vi.prototype,"weight_ratio",void 0);p([h.field("int64")],Vi.prototype,"assumed_stake_weight",void 0);p([h.field("int64")],Vi.prototype,"initial_weight_ratio",void 0);p([h.field("int64")],Vi.prototype,"target_weight_ratio",void 0);p([h.field("time_point_sec")],Vi.prototype,"initial_timestamp",void 0);p([h.field("time_point_sec")],Vi.prototype,"target_timestamp",void 0);p([h.field("float64")],Vi.prototype,"exponent",void 0);p([h.field("uint32")],Vi.prototype,"decay_secs",void 0);p([h.field("asset")],Vi.prototype,"min_price",void 0);p([h.field("asset")],Vi.prototype,"max_price",void 0);p([h.field("int64")],Vi.prototype,"utilization",void 0);p([h.field("int64")],Vi.prototype,"adjusted_utilization",void 0);p([h.field("time_point_sec")],Vi.prototype,"utilization_timestamp",void 0);let yg=class extends Vi{constructor(){super(...arguments),this.per_day=t=>this.us_per_day(t),this.frac=(t,i)=>this.frac_by_us(t,i),this.frac_by_ms=(t,i)=>this.frac_by_us(t,i*1e3),this.price_per=(t,i=1e3,s)=>this.price_per_us(t,i,s),this.price_per_ms=(t,i=1,s)=>this.price_per_us(t,i*1e3,s)}ms_per_day(t){return this.us_per_day(t)/1e3}us_per_day(t){const i=t&&t.virtual_block_cpu_limit?t.virtual_block_cpu_limit:this.default_block_cpu_limit;return Number(i)*2*60*60*24}weight_to_us(t,i){return Math.ceil(i*Number(t)/Ia)}us_to_weight(t,i){return Math.floor(i/Number(t)*Ia)}frac_by_us(t,i){const{weight:s}=this.cast(),r=new Xt(this.us_to_weight(t.cpu,i))/s;return Math.floor(r*Math.pow(10,15))}price_per_us(t,i=1e3,s){const r=Hi.from(this.frac(t,i)),n=this.utilization_increase(t.cpu,r),o=this.determine_adjusted_utilization(s),a=this.fee(n,o),l=Math.pow(10,this.max_price.symbol.precision);return Math.ceil(a*l)/l}};yg=p([h.type("powerupstateresourcecpu")],yg);let wg=class extends Vi{constructor(){super(...arguments),this.per_day=t=>this.bytes_per_day(t),this.frac=(t,i)=>this.frac_by_bytes(t,i),this.frac_by_kb=(t,i)=>this.frac_by_bytes(t,i*1e3),this.price_per=(t,i=1e3,s)=>this.price_per_byte(t,i,s),this.price_per_kb=(t,i=1,s)=>this.price_per_byte(t,i*1e3,s)}kb_per_day(t){return this.bytes_per_day(t)/1e3}bytes_per_day(t){const i=t&&t.virtual_block_net_limit?t.virtual_block_net_limit:this.default_block_net_limit;return Number(i)*2*60*60*24}weight_to_bytes(t,i){return Math.ceil(i*Number(t)/Ia)}bytes_to_weight(t,i){return Math.floor(i/Number(t)*Ia)}frac_by_bytes(t,i){const{weight:s}=this.cast(),r=new Xt(this.bytes_to_weight(t.net,i))/s;return Math.floor(r*Math.pow(10,15))}price_per_byte(t,i=1e3,s){const r=Hi.from(this.frac(t,i)),n=this.utilization_increase(t.net,r),o=this.determine_adjusted_utilization(s),a=this.fee(n,o),l=Math.pow(10,this.max_price.symbol.precision);return Math.ceil(a*l)/l}};wg=p([h.type("powerupstateresourcenet")],wg);let Eo=class extends h{};p([h.field("uint8")],Eo.prototype,"version",void 0);p([h.field(wg)],Eo.prototype,"net",void 0);p([h.field(yg)],Eo.prototype,"cpu",void 0);p([h.field("uint32")],Eo.prototype,"powerup_days",void 0);p([h.field("asset")],Eo.prototype,"min_powerup_fee",void 0);Eo=p([h.type("powerupstate")],Eo);class FE{constructor(t){this.parent=t}async get_state(){return(await this.parent.api.v1.chain.get_table_rows({code:"eosio",scope:"",table:"powup.state",type:Eo})).rows[0]}}let Bl=class extends h{};p([h.field("asset")],Bl.prototype,"balance",void 0);p([h.field("float64")],Bl.prototype,"weight",void 0);Bl=p([h.type("connector")],Bl);let Vl=class extends h{};p([h.field("asset")],Vl.prototype,"supply",void 0);p([h.field(Bl)],Vl.prototype,"base",void 0);p([h.field(Bl)],Vl.prototype,"quote",void 0);Vl=p([h.type("exchange_state")],Vl);let Sg=class extends Vl{price_per(t){const i=this.base.balance.units,s=this.quote.balance.units;return ie.fromUnits(this.get_input(i,s,me.from(t)),this.quote.balance.symbol)}price_per_kb(t){return this.price_per(t*1e3)}get_input(t,i,s){return i.multiplying(s).dividing(t.subtracting(s),"ceil")}};Sg=p([h.type("ramstate")],Sg);class EE{constructor(t){this.parent=t}async get_state(){return(await this.parent.api.v1.chain.get_table_rows({code:"eosio",scope:"eosio",table:"rammarket",type:Sg})).rows[0]}}let mr=class extends h{get reserved(){return Number(this.total_lent.units)/Number(this.total_lendable.units)}get symbol(){return this.total_lent.symbol}get precision(){return this.total_lent.symbol.precision}get value(){return(Number(this.total_lent.units)+Number(this.total_unlent.units))/Number(this.total_rex.units)}exchange(t){return ie.from(t.value*this.total_lendable.value/this.total_rex.value,this.symbol)}cpu_price_per_ms(t,i=1){return this.cpu_price_per_us(t,i*1e3)}cpu_price_per_us(t,i=1e3){return this.price_per(t,i,t.cpu)}net_price_per_kb(t,i=1){return this.net_price_per_byte(t,i*1e3)}net_price_per_byte(t,i=1e3){return this.price_per(t,i,t.net)}price_per(t,i=1e3,s=t.cpu){const r=ie.fromUnits(1e4,this.symbol),o=Number(r.units)/(this.total_rent.value/this.total_unlent.value)*(Number(s)/Ia);return Number(r.units)/o*i/Math.pow(10,this.precision)}};p([h.field("uint8")],mr.prototype,"version",void 0);p([h.field("asset")],mr.prototype,"total_lent",void 0);p([h.field("asset")],mr.prototype,"total_unlent",void 0);p([h.field("asset")],mr.prototype,"total_rent",void 0);p([h.field("asset")],mr.prototype,"total_lendable",void 0);p([h.field("asset")],mr.prototype,"total_rex",void 0);p([h.field("asset")],mr.prototype,"namebid_proceeds",void 0);p([h.field("uint64")],mr.prototype,"loan_num",void 0);mr=p([h.type("rexstate")],mr);class ME{constructor(t){this.parent=t}async get_state(){return(await this.parent.api.v1.chain.get_table_rows({code:"eosio",scope:"eosio",table:"rexpool",type:mr})).rows[0]}}const Ia=new Xt(100*1e3*1e3);class jw{constructor(t){if(this.sampleAccount="greymassfuel",this.symbol="4,EOS",this.v1={powerup:new FE(this),ram:new EE(this),rex:new ME(this)},t.sampleAccount&&(this.sampleAccount=t.sampleAccount),t.symbol&&(this.symbol=t.symbol),t.api)this.api=t.api;else if(t.url)this.api=new Wo({provider:new au(t.url,t)});else throw new Error("Missing url or api client")}async getSampledUsage(){const t=await this.api.v1.chain.get_account(this.sampleAccount),i=Hi.from(t.cpu_limit.max.value.mul(Ia)),s=Hi.from(t.net_limit.max.value.mul(Ia)),r=Hi.from(t.cpu_weight.value),n=Hi.from(t.net_weight.value);return{account:t,cpu:Db(i.value,r.value),net:Db(s.value,n.value)}}}jw.__className="Resources";function Db(e,t){let i=e.div(t);const s=new Xt(0),r=new Xt(1);return e.mod(t).gt(s)&&i.gt(r)&&(i=i.sub(r)),Hi.from(i)}/**
 * @wharfkit/token v1.1.2
 * https://github.com/wharfkit/token
 *
 * @license
 * Copyright (c) 2021 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */const xE=nu.from("DmVvc2lvOjphYmkvMS4xAAgHYWNjb3VudAABB2JhbGFuY2UFYXNzZXQFY2xvc2UAAgVvd25lcgRuYW1lBnN5bWJvbAZzeW1ib2wGY3JlYXRlAAIGaXNzdWVyBG5hbWUObWF4aW11bV9zdXBwbHkFYXNzZXQOY3VycmVuY3lfc3RhdHMAAwZzdXBwbHkFYXNzZXQKbWF4X3N1cHBseQVhc3NldAZpc3N1ZXIEbmFtZQVpc3N1ZQADAnRvBG5hbWUIcXVhbnRpdHkFYXNzZXQEbWVtbwZzdHJpbmcEb3BlbgADBW93bmVyBG5hbWUGc3ltYm9sBnN5bWJvbAlyYW1fcGF5ZXIEbmFtZQZyZXRpcmUAAghxdWFudGl0eQVhc3NldARtZW1vBnN0cmluZwh0cmFuc2ZlcgAEBGZyb20EbmFtZQJ0bwRuYW1lCHF1YW50aXR5BWFzc2V0BG1lbW8Gc3RyaW5nBgAAAAAAhWlEBWNsb3Nl7QMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDbG9zZSBUb2tlbiBCYWxhbmNlCnN1bW1hcnk6ICdDbG9zZSB7e25vd3JhcCBvd25lcn194oCZcyB6ZXJvIHF1YW50aXR5IGJhbGFuY2UnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jcnlwdG9reWxpbi9lb3Npby5jb250cmFjdHMvdjEuNy4wL2NvbnRyYWN0cy9pY29ucy90b2tlbi5wbmcjMjA3ZmY2OGIwNDA2ZWFhNTY2MThiMDhiZGE4MWQ2YTA5NTQ1NDNmMzZhZGMzMjhhYjMwNjVmMzFhNWM1ZDY1NAotLS0KCnt7b3duZXJ9fSBhZ3JlZXMgdG8gY2xvc2UgdGhlaXIgemVybyBxdWFudGl0eSBiYWxhbmNlIGZvciB0aGUge3tzeW1ib2xfdG9fc3ltYm9sX2NvZGUgc3ltYm9sfX0gdG9rZW4uCgpSQU0gd2lsbCBiZSByZWZ1bmRlZCB0byB0aGUgUkFNIHBheWVyIG9mIHRoZSB7e3N5bWJvbF90b19zeW1ib2xfY29kZSBzeW1ib2x9fSB0b2tlbiBiYWxhbmNlIGZvciB7e293bmVyfX0uAAAAAKhs1EUGY3JlYXRljgUtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDcmVhdGUgTmV3IFRva2VuCnN1bW1hcnk6ICdDcmVhdGUgYSBuZXcgdG9rZW4nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jcnlwdG9reWxpbi9lb3Npby5jb250cmFjdHMvdjEuNy4wL2NvbnRyYWN0cy9pY29ucy90b2tlbi5wbmcjMjA3ZmY2OGIwNDA2ZWFhNTY2MThiMDhiZGE4MWQ2YTA5NTQ1NDNmMzZhZGMzMjhhYjMwNjVmMzFhNWM1ZDY1NAotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gYWdyZWVzIHRvIGNyZWF0ZSBhIG5ldyB0b2tlbiB3aXRoIHN5bWJvbCB7e2Fzc2V0X3RvX3N5bWJvbF9jb2RlIG1heGltdW1fc3VwcGx5fX0gdG8gYmUgbWFuYWdlZCBieSB7e2lzc3Vlcn19LgoKVGhpcyBhY3Rpb24gd2lsbCBub3QgcmVzdWx0IGFueSBhbnkgdG9rZW5zIGJlaW5nIGlzc3VlZCBpbnRvIGNpcmN1bGF0aW9uLgoKe3tpc3N1ZXJ9fSB3aWxsIGJlIGFsbG93ZWQgdG8gaXNzdWUgdG9rZW5zIGludG8gY2lyY3VsYXRpb24sIHVwIHRvIGEgbWF4aW11bSBzdXBwbHkgb2Yge3ttYXhpbXVtX3N1cHBseX19LgoKUkFNIHdpbGwgZGVkdWN0ZWQgZnJvbSB7eyRhY3Rpb24uYWNjb3VudH194oCZcyByZXNvdXJjZXMgdG8gY3JlYXRlIHRoZSBuZWNlc3NhcnkgcmVjb3Jkcy4AAAAAAKUxdgVpc3N1ZeIHLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogSXNzdWUgVG9rZW5zIGludG8gQ2lyY3VsYXRpb24Kc3VtbWFyeTogJ0lzc3VlIHt7bm93cmFwIHF1YW50aXR5fX0gaW50byBjaXJjdWxhdGlvbiBhbmQgdHJhbnNmZXIgaW50byB7e25vd3JhcCB0b3194oCZcyBhY2NvdW50JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vY3J5cHRva3lsaW4vZW9zaW8uY29udHJhY3RzL3YxLjcuMC9jb250cmFjdHMvaWNvbnMvdG9rZW4ucG5nIzIwN2ZmNjhiMDQwNmVhYTU2NjE4YjA4YmRhODFkNmEwOTU0NTQzZjM2YWRjMzI4YWIzMDY1ZjMxYTVjNWQ2NTQKLS0tCgpUaGUgdG9rZW4gbWFuYWdlciBhZ3JlZXMgdG8gaXNzdWUge3txdWFudGl0eX19IGludG8gY2lyY3VsYXRpb24sIGFuZCB0cmFuc2ZlciBpdCBpbnRvIHt7dG99feKAmXMgYWNjb3VudC4KCnt7I2lmIG1lbW99fVRoZXJlIGlzIGEgbWVtbyBhdHRhY2hlZCB0byB0aGUgdHJhbnNmZXIgc3RhdGluZzoKe3ttZW1vfX0Ke3svaWZ9fQoKSWYge3t0b319IGRvZXMgbm90IGhhdmUgYSBiYWxhbmNlIGZvciB7e2Fzc2V0X3RvX3N5bWJvbF9jb2RlIHF1YW50aXR5fX0sIG9yIHRoZSB0b2tlbiBtYW5hZ2VyIGRvZXMgbm90IGhhdmUgYSBiYWxhbmNlIGZvciB7e2Fzc2V0X3RvX3N5bWJvbF9jb2RlIHF1YW50aXR5fX0sIHRoZSB0b2tlbiBtYW5hZ2VyIHdpbGwgYmUgZGVzaWduYXRlZCBhcyB0aGUgUkFNIHBheWVyIG9mIHRoZSB7e2Fzc2V0X3RvX3N5bWJvbF9jb2RlIHF1YW50aXR5fX0gdG9rZW4gYmFsYW5jZSBmb3Ige3t0b319LiBBcyBhIHJlc3VsdCwgUkFNIHdpbGwgYmUgZGVkdWN0ZWQgZnJvbSB0aGUgdG9rZW4gbWFuYWdlcuKAmXMgcmVzb3VyY2VzIHRvIGNyZWF0ZSB0aGUgbmVjZXNzYXJ5IHJlY29yZHMuCgpUaGlzIGFjdGlvbiBkb2VzIG5vdCBhbGxvdyB0aGUgdG90YWwgcXVhbnRpdHkgdG8gZXhjZWVkIHRoZSBtYXggYWxsb3dlZCBzdXBwbHkgb2YgdGhlIHRva2VuLgAAAAAAMFWlBG9wZW66BS0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IE9wZW4gVG9rZW4gQmFsYW5jZQpzdW1tYXJ5OiAnT3BlbiBhIHplcm8gcXVhbnRpdHkgYmFsYW5jZSBmb3Ige3tub3dyYXAgb3duZXJ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NyeXB0b2t5bGluL2Vvc2lvLmNvbnRyYWN0cy92MS43LjAvY29udHJhY3RzL2ljb25zL3Rva2VuLnBuZyMyMDdmZjY4YjA0MDZlYWE1NjYxOGIwOGJkYTgxZDZhMDk1NDU0M2YzNmFkYzMyOGFiMzA2NWYzMWE1YzVkNjU0Ci0tLQoKe3tyYW1fcGF5ZXJ9fSBhZ3JlZXMgdG8gZXN0YWJsaXNoIGEgemVybyBxdWFudGl0eSBiYWxhbmNlIGZvciB7e293bmVyfX0gZm9yIHRoZSB7e3N5bWJvbF90b19zeW1ib2xfY29kZSBzeW1ib2x9fSB0b2tlbi4KCklmIHt7b3duZXJ9fSBkb2VzIG5vdCBoYXZlIGEgYmFsYW5jZSBmb3Ige3tzeW1ib2xfdG9fc3ltYm9sX2NvZGUgc3ltYm9sfX0sIHt7cmFtX3BheWVyfX0gd2lsbCBiZSBkZXNpZ25hdGVkIGFzIHRoZSBSQU0gcGF5ZXIgb2YgdGhlIHt7c3ltYm9sX3RvX3N5bWJvbF9jb2RlIHN5bWJvbH19IHRva2VuIGJhbGFuY2UgZm9yIHt7b3duZXJ9fS4gQXMgYSByZXN1bHQsIFJBTSB3aWxsIGJlIGRlZHVjdGVkIGZyb20ge3tyYW1fcGF5ZXJ9feKAmXMgcmVzb3VyY2VzIHRvIGNyZWF0ZSB0aGUgbmVjZXNzYXJ5IHJlY29yZHMuAAAAAKjrsroGcmV0aXJl0AMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBSZW1vdmUgVG9rZW5zIGZyb20gQ2lyY3VsYXRpb24Kc3VtbWFyeTogJ1JlbW92ZSB7e25vd3JhcCBxdWFudGl0eX19IGZyb20gY2lyY3VsYXRpb24nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jcnlwdG9reWxpbi9lb3Npby5jb250cmFjdHMvdjEuNy4wL2NvbnRyYWN0cy9pY29ucy90b2tlbi5wbmcjMjA3ZmY2OGIwNDA2ZWFhNTY2MThiMDhiZGE4MWQ2YTA5NTQ1NDNmMzZhZGMzMjhhYjMwNjVmMzFhNWM1ZDY1NAotLS0KClRoZSB0b2tlbiBtYW5hZ2VyIGFncmVlcyB0byByZW1vdmUge3txdWFudGl0eX19IGZyb20gY2lyY3VsYXRpb24sIHRha2VuIGZyb20gdGhlaXIgb3duIGFjY291bnQuCgp7eyNpZiBtZW1vfX0gVGhlcmUgaXMgYSBtZW1vIGF0dGFjaGVkIHRvIHRoZSBhY3Rpb24gc3RhdGluZzoKe3ttZW1vfX0Ke3svaWZ9fQAAAFctPM3NCHRyYW5zZmVyqgctLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBUcmFuc2ZlciBUb2tlbnMKc3VtbWFyeTogJ1NlbmQge3tub3dyYXAgcXVhbnRpdHl9fSBmcm9tIHt7bm93cmFwIGZyb219fSB0byB7e25vd3JhcCB0b319JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vY3J5cHRva3lsaW4vZW9zaW8uY29udHJhY3RzL3YxLjcuMC9jb250cmFjdHMvaWNvbnMvdHJhbnNmZXIucG5nIzVkZmFkMGRmNzI3NzJlZTFjY2MxNTVlNjcwYzFkMTI0ZjVjNTEyMmYxZDUwMjc1NjVkZjM4YjQxODA0MmQxZGQKLS0tCgp7e2Zyb219fSBhZ3JlZXMgdG8gc2VuZCB7e3F1YW50aXR5fX0gdG8ge3t0b319LgoKe3sjaWYgbWVtb319VGhlcmUgaXMgYSBtZW1vIGF0dGFjaGVkIHRvIHRoZSB0cmFuc2ZlciBzdGF0aW5nOgp7e21lbW99fQp7ey9pZn19CgpJZiB7e2Zyb219fSBpcyBub3QgYWxyZWFkeSB0aGUgUkFNIHBheWVyIG9mIHRoZWlyIHt7YXNzZXRfdG9fc3ltYm9sX2NvZGUgcXVhbnRpdHl9fSB0b2tlbiBiYWxhbmNlLCB7e2Zyb219fSB3aWxsIGJlIGRlc2lnbmF0ZWQgYXMgc3VjaC4gQXMgYSByZXN1bHQsIFJBTSB3aWxsIGJlIGRlZHVjdGVkIGZyb20ge3tmcm9tfX3igJlzIHJlc291cmNlcyB0byByZWZ1bmQgdGhlIG9yaWdpbmFsIFJBTSBwYXllci4KCklmIHt7dG99fSBkb2VzIG5vdCBoYXZlIGEgYmFsYW5jZSBmb3Ige3thc3NldF90b19zeW1ib2xfY29kZSBxdWFudGl0eX19LCB7e2Zyb219fSB3aWxsIGJlIGRlc2lnbmF0ZWQgYXMgdGhlIFJBTSBwYXllciBvZiB0aGUge3thc3NldF90b19zeW1ib2xfY29kZSBxdWFudGl0eX19IHRva2VuIGJhbGFuY2UgZm9yIHt7dG99fS4gQXMgYSByZXN1bHQsIFJBTSB3aWxsIGJlIGRlZHVjdGVkIGZyb20ge3tmcm9tfX3igJlzIHJlc291cmNlcyB0byBjcmVhdGUgdGhlIG5lY2Vzc2FyeSByZWNvcmRzLgIAAAA4T00RMgNpNjQAAAdhY2NvdW50AAAAAACQTcYDaTY0AAAOY3VycmVuY3lfc3RhdHMAAAAAAA=="),kE=ze.from(xE);var uh;(function(e){let t=class extends h{};p([h.field(ie)],t.prototype,"balance",void 0),t=p([h.type("account")],t),e.account=t;let i=class extends h{};p([h.field(N)],i.prototype,"owner",void 0),p([h.field(ie.Symbol)],i.prototype,"symbol",void 0),i=p([h.type("close")],i),e.close=i;let s=class extends h{};p([h.field(N)],s.prototype,"issuer",void 0),p([h.field(ie)],s.prototype,"maximum_supply",void 0),s=p([h.type("create")],s),e.create=s;let r=class extends h{};p([h.field(ie)],r.prototype,"supply",void 0),p([h.field(ie)],r.prototype,"max_supply",void 0),p([h.field(N)],r.prototype,"issuer",void 0),r=p([h.type("currency_stats")],r),e.currency_stats=r;let n=class extends h{};p([h.field(N)],n.prototype,"to",void 0),p([h.field(ie)],n.prototype,"quantity",void 0),p([h.field("string")],n.prototype,"memo",void 0),n=p([h.type("issue")],n),e.issue=n;let o=class extends h{};p([h.field(N)],o.prototype,"owner",void 0),p([h.field(ie.Symbol)],o.prototype,"symbol",void 0),p([h.field(N)],o.prototype,"ram_payer",void 0),o=p([h.type("open")],o),e.open=o;let a=class extends h{};p([h.field(ie)],a.prototype,"quantity",void 0),p([h.field("string")],a.prototype,"memo",void 0),a=p([h.type("retire")],a),e.retire=a;let l=class extends h{};p([h.field(N)],l.prototype,"from",void 0),p([h.field(N)],l.prototype,"to",void 0),p([h.field(ie)],l.prototype,"quantity",void 0),p([h.field("string")],l.prototype,"memo",void 0),l=p([h.type("transfer")],l),e.transfer=l})(uh||(uh={}));const _E={accounts:uh.account,stat:uh.currency_stats};let GE=class extends Jm{constructor(t){super({client:t.client,abi:kE,account:t.account||N.from("eosio.token")})}action(t,i,s){return super.action(t,i,s)}table(t,i){return super.table(t,i,_E[t])}};class DE{constructor({client:t,contract:i}){this.client=t,this.contract=i||new GE({client:t}),this.contractKit=new Qm({client:t})}async getContract(t){return t?this.contractKit.load(t):this.contract}async transfer(t,i,s,r=""){const n=ie.from(s);return(await this.getContract()).action("transfer",{from:N.from(t),to:N.from(i),quantity:n,memo:r})}async balance(t,i,s){const n=(await this.getContract(s)).table("accounts",t);let o;return i?o=n.get(String(i),{index_position:"primary"}):o=n.get(),o.then(a=>{if(!a)throw new Error(`Account ${t} does not exist.`);if(i&&!a.balance.symbol.code.equals(i))throw new Error(`Symbol '${i}' does not exist.`);return a==null?void 0:a.balance}).catch(a=>{throw new Error(`Failed to fetch balance for ${t}: ${a}`)})}}var Rg;let Nd=class extends h{};p([h.field("name")],Nd.prototype,"account",void 0);p([h.field("name",{optional:!0})],Nd.prototype,"action",void 0);Nd=p([h.type("linked_actions")],Nd);let Mo=Rg=class extends h{static from(t){return ve(t,Rg)?t:super.from(t)}get name(){return this.perm_name}addKey(t,i=1){if(this.required_auth.keys.find(r=>ei.from(t).equals(r.key)))throw new Error(`The provided key (${String(t)}) already exists on the "${this.perm_name}" permission.`);this.required_auth.keys.push(ga.from({key:t,weight:i})),this.required_auth.sort()}removeKey(t){const i=this.required_auth.keys.findIndex(s=>ei.from(t).equals(s.key));if(i===-1)throw new Error(`The provided key (${String(t)}) does not exist on the "${this.perm_name}" permission.`);this.required_auth.keys.splice(i,1)}addAccount(t,i=1){if(this.required_auth.accounts.find(r=>dt.from(t).equals(r.permission)))throw new Error(`The provided account (${String(dt.from(t))}) already exists on the "${this.perm_name}" permission.`);this.required_auth.accounts.push(Fl.from({permission:dt.from(t),weight:i})),this.required_auth.sort()}removeAccount(t){const i=this.required_auth.accounts.findIndex(s=>dt.from(t).equals(s.permission));if(i===-1)throw new Error(`The provided permission (${String(t)}) does not exist on the "${this.perm_name}" permission.`);this.required_auth.accounts.splice(i,1)}addWait(t){this.required_auth.waits.push(ma.from(t)),this.required_auth.sort()}removeWait(t){this.required_auth.waits=this.required_auth.waits.filter(i=>!ma.from(t).equals(i))}};p([h.field("name")],Mo.prototype,"perm_name",void 0);p([h.field("name")],Mo.prototype,"parent",void 0);p([h.field(En)],Mo.prototype,"required_auth",void 0);p([h.field(Nd,{array:!0,optional:!0})],Mo.prototype,"linked_actions",void 0);Mo=Rg=p([h.type("permission")],Mo);const WE=nu.from("DmVvc2lvOjphYmkvMS4yAhdibG9ja19zaWduaW5nX2F1dGhvcml0eSJ2YXJpYW50X2Jsb2NrX3NpZ25pbmdfYXV0aG9yaXR5X3YwF2Jsb2NrY2hhaW5fcGFyYW1ldGVyc190GGJsb2NrY2hhaW5fcGFyYW1ldGVyc192MWcIYWJpX2hhc2gAAgVvd25lcgRuYW1lBGhhc2gLY2hlY2tzdW0yNTYIYWN0aXZhdGUAAQ5mZWF0dXJlX2RpZ2VzdAtjaGVja3N1bTI1NglhdXRob3JpdHkABAl0aHJlc2hvbGQGdWludDMyBGtleXMMa2V5X3dlaWdodFtdCGFjY291bnRzGXBlcm1pc3Npb25fbGV2ZWxfd2VpZ2h0W10Fd2FpdHMNd2FpdF93ZWlnaHRbXQpiaWRfcmVmdW5kAAIGYmlkZGVyBG5hbWUGYW1vdW50BWFzc2V0B2JpZG5hbWUAAwZiaWRkZXIEbmFtZQduZXduYW1lBG5hbWUDYmlkBWFzc2V0CWJpZHJlZnVuZAACBmJpZGRlcgRuYW1lB25ld25hbWUEbmFtZQxibG9ja19oZWFkZXIACAl0aW1lc3RhbXAGdWludDMyCHByb2R1Y2VyBG5hbWUJY29uZmlybWVkBnVpbnQxNghwcmV2aW91cwtjaGVja3N1bTI1NhF0cmFuc2FjdGlvbl9tcm9vdAtjaGVja3N1bTI1NgxhY3Rpb25fbXJvb3QLY2hlY2tzdW0yNTYQc2NoZWR1bGVfdmVyc2lvbgZ1aW50MzINbmV3X3Byb2R1Y2VycxJwcm9kdWNlcl9zY2hlZHVsZT8RYmxvY2tfaW5mb19yZWNvcmQAAwd2ZXJzaW9uBXVpbnQ4DGJsb2NrX2hlaWdodAZ1aW50MzIPYmxvY2tfdGltZXN0YW1wCnRpbWVfcG9pbnQaYmxvY2tfc2lnbmluZ19hdXRob3JpdHlfdjAAAgl0aHJlc2hvbGQGdWludDMyBGtleXMMa2V5X3dlaWdodFtdFWJsb2NrY2hhaW5fcGFyYW1ldGVycwARE21heF9ibG9ja19uZXRfdXNhZ2UGdWludDY0GnRhcmdldF9ibG9ja19uZXRfdXNhZ2VfcGN0BnVpbnQzMhltYXhfdHJhbnNhY3Rpb25fbmV0X3VzYWdlBnVpbnQzMh5iYXNlX3Blcl90cmFuc2FjdGlvbl9uZXRfdXNhZ2UGdWludDMyEG5ldF91c2FnZV9sZWV3YXkGdWludDMyI2NvbnRleHRfZnJlZV9kaXNjb3VudF9uZXRfdXNhZ2VfbnVtBnVpbnQzMiNjb250ZXh0X2ZyZWVfZGlzY291bnRfbmV0X3VzYWdlX2RlbgZ1aW50MzITbWF4X2Jsb2NrX2NwdV91c2FnZQZ1aW50MzIadGFyZ2V0X2Jsb2NrX2NwdV91c2FnZV9wY3QGdWludDMyGW1heF90cmFuc2FjdGlvbl9jcHVfdXNhZ2UGdWludDMyGW1pbl90cmFuc2FjdGlvbl9jcHVfdXNhZ2UGdWludDMyGG1heF90cmFuc2FjdGlvbl9saWZldGltZQZ1aW50MzIeZGVmZXJyZWRfdHJ4X2V4cGlyYXRpb25fd2luZG93BnVpbnQzMhVtYXhfdHJhbnNhY3Rpb25fZGVsYXkGdWludDMyFm1heF9pbmxpbmVfYWN0aW9uX3NpemUGdWludDMyF21heF9pbmxpbmVfYWN0aW9uX2RlcHRoBnVpbnQxNhNtYXhfYXV0aG9yaXR5X2RlcHRoBnVpbnQxNhhibG9ja2NoYWluX3BhcmFtZXRlcnNfdjEVYmxvY2tjaGFpbl9wYXJhbWV0ZXJzARxtYXhfYWN0aW9uX3JldHVybl92YWx1ZV9zaXplB3VpbnQzMiQGYnV5cmFtAAMFcGF5ZXIEbmFtZQhyZWNlaXZlcgRuYW1lBXF1YW50BWFzc2V0C2J1eXJhbWJ5dGVzAAMFcGF5ZXIEbmFtZQhyZWNlaXZlcgRuYW1lBWJ5dGVzBnVpbnQzMgZidXlyZXgAAgRmcm9tBG5hbWUGYW1vdW50BWFzc2V0C2NhbmNlbGRlbGF5AAIOY2FuY2VsaW5nX2F1dGgQcGVybWlzc2lvbl9sZXZlbAZ0cnhfaWQLY2hlY2tzdW0yNTYKY2ZncG93ZXJ1cAABBGFyZ3MOcG93ZXJ1cF9jb25maWcMY2xhaW1yZXdhcmRzAAEFb3duZXIEbmFtZQhjbG9zZXJleAABBW93bmVyBG5hbWUMY25jbHJleG9yZGVyAAEFb3duZXIEbmFtZQljb25uZWN0b3IAAgdiYWxhbmNlBWFzc2V0BndlaWdodAdmbG9hdDY0C2NvbnNvbGlkYXRlAAEFb3duZXIEbmFtZQpkZWZjcHVsb2FuAAMEZnJvbQRuYW1lCGxvYW5fbnVtBnVpbnQ2NAZhbW91bnQFYXNzZXQKZGVmbmV0bG9hbgADBGZyb20EbmFtZQhsb2FuX251bQZ1aW50NjQGYW1vdW50BWFzc2V0CmRlbGVnYXRlYncABQRmcm9tBG5hbWUIcmVjZWl2ZXIEbmFtZRJzdGFrZV9uZXRfcXVhbnRpdHkFYXNzZXQSc3Rha2VfY3B1X3F1YW50aXR5BWFzc2V0CHRyYW5zZmVyBGJvb2wTZGVsZWdhdGVkX2JhbmR3aWR0aAAEBGZyb20EbmFtZQJ0bwRuYW1lCm5ldF93ZWlnaHQFYXNzZXQKY3B1X3dlaWdodAVhc3NldApkZWxldGVhdXRoAAMHYWNjb3VudARuYW1lCnBlcm1pc3Npb24EbmFtZQ1hdXRob3JpemVkX2J5BW5hbWUkB2RlcG9zaXQAAgVvd25lcgRuYW1lBmFtb3VudAVhc3NldBJlb3Npb19nbG9iYWxfc3RhdGUVYmxvY2tjaGFpbl9wYXJhbWV0ZXJzDQxtYXhfcmFtX3NpemUGdWludDY0GHRvdGFsX3JhbV9ieXRlc19yZXNlcnZlZAZ1aW50NjQPdG90YWxfcmFtX3N0YWtlBWludDY0HWxhc3RfcHJvZHVjZXJfc2NoZWR1bGVfdXBkYXRlFGJsb2NrX3RpbWVzdGFtcF90eXBlGGxhc3RfcGVydm90ZV9idWNrZXRfZmlsbAp0aW1lX3BvaW50DnBlcnZvdGVfYnVja2V0BWludDY0D3BlcmJsb2NrX2J1Y2tldAVpbnQ2NBN0b3RhbF91bnBhaWRfYmxvY2tzBnVpbnQzMhV0b3RhbF9hY3RpdmF0ZWRfc3Rha2UFaW50NjQbdGhyZXNoX2FjdGl2YXRlZF9zdGFrZV90aW1lCnRpbWVfcG9pbnQbbGFzdF9wcm9kdWNlcl9zY2hlZHVsZV9zaXplBnVpbnQxNhp0b3RhbF9wcm9kdWNlcl92b3RlX3dlaWdodAdmbG9hdDY0D2xhc3RfbmFtZV9jbG9zZRRibG9ja190aW1lc3RhbXBfdHlwZRNlb3Npb19nbG9iYWxfc3RhdGUyAAURbmV3X3JhbV9wZXJfYmxvY2sGdWludDE2EWxhc3RfcmFtX2luY3JlYXNlFGJsb2NrX3RpbWVzdGFtcF90eXBlDmxhc3RfYmxvY2tfbnVtFGJsb2NrX3RpbWVzdGFtcF90eXBlHHRvdGFsX3Byb2R1Y2VyX3ZvdGVwYXlfc2hhcmUHZmxvYXQ2NAhyZXZpc2lvbgV1aW50OBNlb3Npb19nbG9iYWxfc3RhdGUzAAIWbGFzdF92cGF5X3N0YXRlX3VwZGF0ZQp0aW1lX3BvaW50HHRvdGFsX3ZwYXlfc2hhcmVfY2hhbmdlX3JhdGUHZmxvYXQ2NBNlb3Npb19nbG9iYWxfc3RhdGU0AAMPY29udGludW91c19yYXRlB2Zsb2F0NjQUaW5mbGF0aW9uX3BheV9mYWN0b3IFaW50NjQOdm90ZXBheV9mYWN0b3IFaW50NjQOZXhjaGFuZ2Vfc3RhdGUAAwZzdXBwbHkFYXNzZXQEYmFzZQljb25uZWN0b3IFcXVvdGUJY29ubmVjdG9yC2Z1bmRjcHVsb2FuAAMEZnJvbQRuYW1lCGxvYW5fbnVtBnVpbnQ2NAdwYXltZW50BWFzc2V0C2Z1bmRuZXRsb2FuAAMEZnJvbQRuYW1lCGxvYW5fbnVtBnVpbnQ2NAdwYXltZW50BWFzc2V0BGluaXQAAgd2ZXJzaW9uCXZhcnVpbnQzMgRjb3JlBnN5bWJvbAprZXlfd2VpZ2h0AAIDa2V5CnB1YmxpY19rZXkGd2VpZ2h0BnVpbnQxNgxsaW1pdGF1dGhjaGcAAwdhY2NvdW50BG5hbWULYWxsb3dfcGVybXMGbmFtZVtdDmRpc2FsbG93X3Blcm1zBm5hbWVbXQhsaW5rYXV0aAAFB2FjY291bnQEbmFtZQRjb2RlBG5hbWUEdHlwZQRuYW1lC3JlcXVpcmVtZW50BG5hbWUNYXV0aG9yaXplZF9ieQVuYW1lJAttdmZyc2F2aW5ncwACBW93bmVyBG5hbWUDcmV4BWFzc2V0C212dG9zYXZpbmdzAAIFb3duZXIEbmFtZQNyZXgFYXNzZXQIbmFtZV9iaWQABAduZXduYW1lBG5hbWULaGlnaF9iaWRkZXIEbmFtZQhoaWdoX2JpZAVpbnQ2NA1sYXN0X2JpZF90aW1lCnRpbWVfcG9pbnQKbmV3YWNjb3VudAAEB2NyZWF0b3IEbmFtZQRuYW1lBG5hbWUFb3duZXIJYXV0aG9yaXR5BmFjdGl2ZQlhdXRob3JpdHkHb25ibG9jawABBmhlYWRlcgxibG9ja19oZWFkZXIHb25lcnJvcgACCXNlbmRlcl9pZAd1aW50MTI4CHNlbnRfdHJ4BWJ5dGVzGXBhaXJfdGltZV9wb2ludF9zZWNfaW50NjQAAgVmaXJzdA50aW1lX3BvaW50X3NlYwZzZWNvbmQFaW50NjQQcGVybWlzc2lvbl9sZXZlbAACBWFjdG9yBG5hbWUKcGVybWlzc2lvbgRuYW1lF3Blcm1pc3Npb25fbGV2ZWxfd2VpZ2h0AAIKcGVybWlzc2lvbhBwZXJtaXNzaW9uX2xldmVsBndlaWdodAZ1aW50MTYHcG93ZXJ1cAAGBXBheWVyBG5hbWUIcmVjZWl2ZXIEbmFtZQRkYXlzBnVpbnQzMghuZXRfZnJhYwVpbnQ2NAhjcHVfZnJhYwVpbnQ2NAttYXhfcGF5bWVudAVhc3NldA5wb3dlcnVwX2NvbmZpZwAEA25ldBdwb3dlcnVwX2NvbmZpZ19yZXNvdXJjZQNjcHUXcG93ZXJ1cF9jb25maWdfcmVzb3VyY2UMcG93ZXJ1cF9kYXlzB3VpbnQzMj8PbWluX3Bvd2VydXBfZmVlBmFzc2V0Pxdwb3dlcnVwX2NvbmZpZ19yZXNvdXJjZQAIFGN1cnJlbnRfd2VpZ2h0X3JhdGlvBmludDY0PxN0YXJnZXRfd2VpZ2h0X3JhdGlvBmludDY0PxRhc3N1bWVkX3N0YWtlX3dlaWdodAZpbnQ2ND8QdGFyZ2V0X3RpbWVzdGFtcA90aW1lX3BvaW50X3NlYz8IZXhwb25lbnQIZmxvYXQ2ND8KZGVjYXlfc2Vjcwd1aW50MzI/CW1pbl9wcmljZQZhc3NldD8JbWF4X3ByaWNlBmFzc2V0Pw1wb3dlcnVwX29yZGVyAAYHdmVyc2lvbgV1aW50OAJpZAZ1aW50NjQFb3duZXIEbmFtZQpuZXRfd2VpZ2h0BWludDY0CmNwdV93ZWlnaHQFaW50NjQHZXhwaXJlcw50aW1lX3BvaW50X3NlYw1wb3dlcnVwX3N0YXRlAAUHdmVyc2lvbgV1aW50OANuZXQWcG93ZXJ1cF9zdGF0ZV9yZXNvdXJjZQNjcHUWcG93ZXJ1cF9zdGF0ZV9yZXNvdXJjZQxwb3dlcnVwX2RheXMGdWludDMyD21pbl9wb3dlcnVwX2ZlZQVhc3NldBZwb3dlcnVwX3N0YXRlX3Jlc291cmNlAA8HdmVyc2lvbgV1aW50OAZ3ZWlnaHQFaW50NjQMd2VpZ2h0X3JhdGlvBWludDY0FGFzc3VtZWRfc3Rha2Vfd2VpZ2h0BWludDY0FGluaXRpYWxfd2VpZ2h0X3JhdGlvBWludDY0E3RhcmdldF93ZWlnaHRfcmF0aW8FaW50NjQRaW5pdGlhbF90aW1lc3RhbXAOdGltZV9wb2ludF9zZWMQdGFyZ2V0X3RpbWVzdGFtcA50aW1lX3BvaW50X3NlYwhleHBvbmVudAdmbG9hdDY0CmRlY2F5X3NlY3MGdWludDMyCW1pbl9wcmljZQVhc3NldAltYXhfcHJpY2UFYXNzZXQLdXRpbGl6YXRpb24FaW50NjQUYWRqdXN0ZWRfdXRpbGl6YXRpb24FaW50NjQVdXRpbGl6YXRpb25fdGltZXN0YW1wDnRpbWVfcG9pbnRfc2VjC3Bvd2VydXBleGVjAAIEdXNlcgRuYW1lA21heAZ1aW50MTYNcHJvZHVjZXJfaW5mbwAJBW93bmVyBG5hbWULdG90YWxfdm90ZXMHZmxvYXQ2NAxwcm9kdWNlcl9rZXkKcHVibGljX2tleQlpc19hY3RpdmUEYm9vbAN1cmwGc3RyaW5nDXVucGFpZF9ibG9ja3MGdWludDMyD2xhc3RfY2xhaW1fdGltZQp0aW1lX3BvaW50CGxvY2F0aW9uBnVpbnQxNhJwcm9kdWNlcl9hdXRob3JpdHkYYmxvY2tfc2lnbmluZ19hdXRob3JpdHkkDnByb2R1Y2VyX2luZm8yAAMFb3duZXIEbmFtZQ12b3RlcGF5X3NoYXJlB2Zsb2F0NjQZbGFzdF92b3RlcGF5X3NoYXJlX3VwZGF0ZQp0aW1lX3BvaW50DHByb2R1Y2VyX2tleQACDXByb2R1Y2VyX25hbWUEbmFtZRFibG9ja19zaWduaW5nX2tleQpwdWJsaWNfa2V5EXByb2R1Y2VyX3NjaGVkdWxlAAIHdmVyc2lvbgZ1aW50MzIJcHJvZHVjZXJzDnByb2R1Y2VyX2tleVtdBnJlZnVuZAABBW93bmVyBG5hbWUOcmVmdW5kX3JlcXVlc3QABAVvd25lcgRuYW1lDHJlcXVlc3RfdGltZQ50aW1lX3BvaW50X3NlYwpuZXRfYW1vdW50BWFzc2V0CmNwdV9hbW91bnQFYXNzZXQLcmVncHJvZHVjZXIABAhwcm9kdWNlcgRuYW1lDHByb2R1Y2VyX2tleQpwdWJsaWNfa2V5A3VybAZzdHJpbmcIbG9jYXRpb24GdWludDE2DHJlZ3Byb2R1Y2VyMgAECHByb2R1Y2VyBG5hbWUScHJvZHVjZXJfYXV0aG9yaXR5F2Jsb2NrX3NpZ25pbmdfYXV0aG9yaXR5A3VybAZzdHJpbmcIbG9jYXRpb24GdWludDE2CHJlZ3Byb3h5AAIFcHJveHkEbmFtZQdpc3Byb3h5BGJvb2wHcmVudGNwdQAEBGZyb20EbmFtZQhyZWNlaXZlcgRuYW1lDGxvYW5fcGF5bWVudAVhc3NldAlsb2FuX2Z1bmQFYXNzZXQHcmVudG5ldAAEBGZyb20EbmFtZQhyZWNlaXZlcgRuYW1lDGxvYW5fcGF5bWVudAVhc3NldAlsb2FuX2Z1bmQFYXNzZXQLcmV4X2JhbGFuY2UABgd2ZXJzaW9uBXVpbnQ4BW93bmVyBG5hbWUKdm90ZV9zdGFrZQVhc3NldAtyZXhfYmFsYW5jZQVhc3NldAttYXR1cmVkX3JleAVpbnQ2NA5yZXhfbWF0dXJpdGllcxtwYWlyX3RpbWVfcG9pbnRfc2VjX2ludDY0W10IcmV4X2Z1bmQAAwd2ZXJzaW9uBXVpbnQ4BW93bmVyBG5hbWUHYmFsYW5jZQVhc3NldAhyZXhfbG9hbgAIB3ZlcnNpb24FdWludDgEZnJvbQRuYW1lCHJlY2VpdmVyBG5hbWUHcGF5bWVudAVhc3NldAdiYWxhbmNlBWFzc2V0DHRvdGFsX3N0YWtlZAVhc3NldAhsb2FuX251bQZ1aW50NjQKZXhwaXJhdGlvbgp0aW1lX3BvaW50CXJleF9vcmRlcgAHB3ZlcnNpb24FdWludDgFb3duZXIEbmFtZQ1yZXhfcmVxdWVzdGVkBWFzc2V0CHByb2NlZWRzBWFzc2V0DHN0YWtlX2NoYW5nZQVhc3NldApvcmRlcl90aW1lCnRpbWVfcG9pbnQHaXNfb3BlbgRib29sCHJleF9wb29sAAgHdmVyc2lvbgV1aW50OAp0b3RhbF9sZW50BWFzc2V0DHRvdGFsX3VubGVudAVhc3NldAp0b3RhbF9yZW50BWFzc2V0DnRvdGFsX2xlbmRhYmxlBWFzc2V0CXRvdGFsX3JleAVhc3NldBBuYW1lYmlkX3Byb2NlZWRzBWFzc2V0CGxvYW5fbnVtBnVpbnQ2NBJyZXhfcmV0dXJuX2J1Y2tldHMAAgd2ZXJzaW9uBXVpbnQ4DnJldHVybl9idWNrZXRzG3BhaXJfdGltZV9wb2ludF9zZWNfaW50NjRbXQ9yZXhfcmV0dXJuX3Bvb2wABwd2ZXJzaW9uBXVpbnQ4Dmxhc3RfZGlzdF90aW1lDnRpbWVfcG9pbnRfc2VjE3BlbmRpbmdfYnVja2V0X3RpbWUOdGltZV9wb2ludF9zZWMSb2xkZXN0X2J1Y2tldF90aW1lDnRpbWVfcG9pbnRfc2VjF3BlbmRpbmdfYnVja2V0X3Byb2NlZWRzBWludDY0GGN1cnJlbnRfcmF0ZV9vZl9pbmNyZWFzZQVpbnQ2NAhwcm9jZWVkcwVpbnQ2NAdyZXhleGVjAAIEdXNlcgRuYW1lA21heAZ1aW50MTYLcm12cHJvZHVjZXIAAQhwcm9kdWNlcgRuYW1lB3NlbGxyYW0AAgdhY2NvdW50BG5hbWUFYnl0ZXMFaW50NjQHc2VsbHJleAACBGZyb20EbmFtZQNyZXgFYXNzZXQGc2V0YWJpAAMHYWNjb3VudARuYW1lA2FiaQVieXRlcwRtZW1vB3N0cmluZyQKc2V0YWNjdGNwdQACB2FjY291bnQEbmFtZQpjcHVfd2VpZ2h0BmludDY0PwpzZXRhY2N0bmV0AAIHYWNjb3VudARuYW1lCm5ldF93ZWlnaHQGaW50NjQ/CnNldGFjY3RyYW0AAgdhY2NvdW50BG5hbWUJcmFtX2J5dGVzBmludDY0PwpzZXRhbGltaXRzAAQHYWNjb3VudARuYW1lCXJhbV9ieXRlcwVpbnQ2NApuZXRfd2VpZ2h0BWludDY0CmNwdV93ZWlnaHQFaW50NjQHc2V0Y29kZQAFB2FjY291bnQEbmFtZQZ2bXR5cGUFdWludDgJdm12ZXJzaW9uBXVpbnQ4BGNvZGUFYnl0ZXMEbWVtbwdzdHJpbmckDHNldGluZmxhdGlvbgADC2FubnVhbF9yYXRlBWludDY0FGluZmxhdGlvbl9wYXlfZmFjdG9yBWludDY0DnZvdGVwYXlfZmFjdG9yBWludDY0CXNldHBhcmFtcwABBnBhcmFtcxdibG9ja2NoYWluX3BhcmFtZXRlcnNfdAdzZXRwcml2AAIHYWNjb3VudARuYW1lB2lzX3ByaXYFdWludDgGc2V0cmFtAAEMbWF4X3JhbV9zaXplBnVpbnQ2NApzZXRyYW1yYXRlAAEPYnl0ZXNfcGVyX2Jsb2NrBnVpbnQxNgZzZXRyZXgAAQdiYWxhbmNlBWFzc2V0DHVuZGVsZWdhdGVidwAEBGZyb20EbmFtZQhyZWNlaXZlcgRuYW1lFHVuc3Rha2VfbmV0X3F1YW50aXR5BWFzc2V0FHVuc3Rha2VfY3B1X3F1YW50aXR5BWFzc2V0CnVubGlua2F1dGgABAdhY2NvdW50BG5hbWUEY29kZQRuYW1lBHR5cGUEbmFtZQ1hdXRob3JpemVkX2J5BW5hbWUkCXVucmVncHJvZAABCHByb2R1Y2VyBG5hbWUMdW5zdGFrZXRvcmV4AAQFb3duZXIEbmFtZQhyZWNlaXZlcgRuYW1lCGZyb21fbmV0BWFzc2V0CGZyb21fY3B1BWFzc2V0CnVwZGF0ZWF1dGgABQdhY2NvdW50BG5hbWUKcGVybWlzc2lvbgRuYW1lBnBhcmVudARuYW1lBGF1dGgJYXV0aG9yaXR5DWF1dGhvcml6ZWRfYnkFbmFtZSQJdXBkYXRlcmV4AAEFb3duZXIEbmFtZQx1cGR0cmV2aXNpb24AAQhyZXZpc2lvbgV1aW50OA51c2VyX3Jlc291cmNlcwAEBW93bmVyBG5hbWUKbmV0X3dlaWdodAVhc3NldApjcHVfd2VpZ2h0BWFzc2V0CXJhbV9ieXRlcwVpbnQ2NAx2b3RlcHJvZHVjZXIAAwV2b3RlcgRuYW1lBXByb3h5BG5hbWUJcHJvZHVjZXJzBm5hbWVbXQp2b3Rlcl9pbmZvAAoFb3duZXIEbmFtZQVwcm94eQRuYW1lCXByb2R1Y2VycwZuYW1lW10Gc3Rha2VkBWludDY0EGxhc3Rfdm90ZV93ZWlnaHQHZmxvYXQ2NBNwcm94aWVkX3ZvdGVfd2VpZ2h0B2Zsb2F0NjQIaXNfcHJveHkEYm9vbAZmbGFnczEGdWludDMyCXJlc2VydmVkMgZ1aW50MzIJcmVzZXJ2ZWQzBWFzc2V0CnZvdGV1cGRhdGUAAQp2b3Rlcl9uYW1lBG5hbWULd2FpdF93ZWlnaHQAAgh3YWl0X3NlYwZ1aW50MzIGd2VpZ2h0BnVpbnQxNgd3YXNtY2ZnAAEIc2V0dGluZ3MEbmFtZQh3aXRoZHJhdwACBW93bmVyBG5hbWUGYW1vdW50BWFzc2V0EWxpbWl0X2F1dGhfY2hhbmdlAAQHdmVyc2lvbgV1aW50OAdhY2NvdW50BG5hbWULYWxsb3dfcGVybXMGbmFtZVtdDmRpc2FsbG93X3Blcm1zBm5hbWVbXT4AAAAqm+0yMghhY3RpdmF0ZYgDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQWN0aXZhdGUgUHJvdG9jb2wgRmVhdHVyZQpzdW1tYXJ5OiAnQWN0aXZhdGUgcHJvdG9jb2wgZmVhdHVyZSB7e25vd3JhcCBmZWF0dXJlX2RpZ2VzdH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWRtaW4ucG5nIzliZjFjZWM2NjQ4NjNiZDZhYWFjMGY4MTRiMjM1Zjg3OTlmYjAyYzg1MGU5YWE1ZGEzNGU4YTAwNGJkNjUxOGUKLS0tCgp7eyRhY3Rpb24uYWNjb3VudH19IGFjdGl2YXRlcyB0aGUgcHJvdG9jb2wgZmVhdHVyZSB3aXRoIGEgZGlnZXN0IG9mIHt7ZmVhdHVyZV9kaWdlc3R9fS4AAABASTOTOwdiaWRuYW1lqQ4tLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBCaWQgT24gYSBQcmVtaXVtIEFjY291bnQgTmFtZQpzdW1tYXJ5OiAne3tub3dyYXAgYmlkZGVyfX0gYmlkcyBvbiB0aGUgcHJlbWl1bSBhY2NvdW50IG5hbWUge3tub3dyYXAgbmV3bmFtZX19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCnt7YmlkZGVyfX0gYmlkcyB7e2JpZH19IG9uIGFuIGF1Y3Rpb24gdG8gb3duIHRoZSBwcmVtaXVtIGFjY291bnQgbmFtZSB7e25ld25hbWV9fS4KCnt7YmlkZGVyfX0gdHJhbnNmZXJzIHt7YmlkfX0gdG8gdGhlIHN5c3RlbSB0byBjb3ZlciB0aGUgY29zdCBvZiB0aGUgYmlkLCB3aGljaCB3aWxsIGJlIHJldHVybmVkIHRvIHt7YmlkZGVyfX0gb25seSBpZiB7e2JpZGRlcn19IGlzIGxhdGVyIG91dGJpZCBpbiB0aGUgYXVjdGlvbiBmb3Ige3tuZXduYW1lfX0gYnkgYW5vdGhlciBhY2NvdW50LgoKSWYgdGhlIGF1Y3Rpb24gZm9yIHt7bmV3bmFtZX19IGNsb3NlcyB3aXRoIHt7YmlkZGVyfX0gcmVtYWluaW5nIGFzIHRoZSBoaWdoZXN0IGJpZGRlciwge3tiaWRkZXJ9fSB3aWxsIGJlIGF1dGhvcml6ZWQgdG8gY3JlYXRlIHRoZSBhY2NvdW50IHdpdGggbmFtZSB7e25ld25hbWV9fS4KCiMjIEJpZCByZWZ1bmQgYmVoYXZpb3IKCklmIHt7YmlkZGVyfX3igJlzIGJpZCBvbiB7e25ld25hbWV9fSBpcyBsYXRlciBvdXRiaWQgYnkgYW5vdGhlciBhY2NvdW50LCB7e2JpZGRlcn19IHdpbGwgYmUgYWJsZSB0byBjbGFpbSBiYWNrIHRoZSB0cmFuc2ZlcnJlZCBhbW91bnQgb2Yge3tiaWR9fS4gVGhlIHN5c3RlbSB3aWxsIGF0dGVtcHQgdG8gYXV0b21hdGljYWxseSBkbyB0aGlzIG9uIGJlaGFsZiBvZiB7e2JpZGRlcn19LCBidXQgdGhlIGF1dG9tYXRpYyByZWZ1bmQgbWF5IG9jY2FzaW9uYWxseSBmYWlsIHdoaWNoIHdpbGwgdGhlbiByZXF1aXJlIHt7YmlkZGVyfX0gdG8gbWFudWFsbHkgY2xhaW0gdGhlIHJlZnVuZCB3aXRoIHRoZSBiaWRyZWZ1bmQgYWN0aW9uLgoKIyMgQXVjdGlvbiBjbG9zZSBjcml0ZXJpYQoKVGhlIHN5c3RlbSBzaG91bGQgYXV0b21hdGljYWxseSBjbG9zZSB0aGUgYXVjdGlvbiBmb3Ige3tuZXduYW1lfX0gaWYgaXQgc2F0aXNmaWVzIHRoZSBjb25kaXRpb24gdGhhdCBvdmVyIGEgcGVyaW9kIG9mIHR3byBtaW51dGVzIHRoZSBmb2xsb3dpbmcgdHdvIHByb3BlcnRpZXMgY29udGludW91c2x5IGhvbGQ6CgotIG5vIG9uZSBoYXMgYmlkIG9uIHt7bmV3bmFtZX19IHdpdGhpbiB0aGUgbGFzdCAyNCBob3VyczsKLSBhbmQsIHRoZSB2YWx1ZSBvZiB0aGUgbGF0ZXN0IGJpZCBvbiB7e25ld25hbWV9fSBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIHRoZSBiaWRzIG9uIGVhY2ggb2YgdGhlIG90aGVyIG9wZW4gYXVjdGlvbnMuCgpCZSBhd2FyZSB0aGF0IHRoZSBjb25kaXRpb24gdG8gY2xvc2UgdGhlIGF1Y3Rpb24gZGVzY3JpYmVkIGFib3ZlIGFyZSBzdWZmaWNpZW50IGJ1dCBub3QgbmVjZXNzYXJ5LiBUaGUgYXVjdGlvbiBmb3Ige3tuZXduYW1lfX0gY2Fubm90IGNsb3NlIHVubGVzcyBib3RoIG9mIHRoZSBwcm9wZXJ0aWVzIGFyZSBzaW11bHRhbmVvdXNseSBzYXRpc2ZpZWQsIGJ1dCBpdCBtYXkgYmUgY2xvc2VkIHdpdGhvdXQgcmVxdWlyaW5nIHRoZSBwcm9wZXJ0aWVzIHRvIGhvbGQgZm9yIGEgcGVyaW9kIG9mIDIgbWludXRlcy4AAEhTL3WTOwliaWRyZWZ1bmT0Ai0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IENsYWltIFJlZnVuZCBvbiBOYW1lIEJpZApzdW1tYXJ5OiAnQ2xhaW0gcmVmdW5kIG9uIHt7bm93cmFwIG5ld25hbWV9fSBiaWQnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hY2NvdW50LnBuZyMzZDU1YTJmYzNhNWMyMGI0NTZmNTY1N2ZhZjY2NmJjMjVmZmQwNmY0ODM2YzVlODI1NmY3NDExNDliMGIyOTRmCi0tLQoKe3tiaWRkZXJ9fSBjbGFpbXMgcmVmdW5kIG9uIHt7bmV3bmFtZX19IGJpZCBhZnRlciBiZWluZyBvdXRiaWQgYnkgc29tZW9uZSBlbHNlLgAAAABIc70+BmJ1eXJhbfoDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQnV5IFJBTQpzdW1tYXJ5OiAne3tub3dyYXAgcGF5ZXJ9fSBidXlzIFJBTSBvbiBiZWhhbGYgb2Yge3tub3dyYXAgcmVjZWl2ZXJ9fSBieSBwYXlpbmcge3tub3dyYXAgcXVhbnR9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3Jlc291cmNlLnBuZyMzODMwZjFjZThjYjA3Zjc3NTdkYmNmMzgzYjFlYzFiMTE5MTRhYzM0YTFmOWQ4YjA2NWYwNzYwMGZhOWRhYzE5Ci0tLQoKe3twYXllcn19IGJ1eXMgUkFNIG9uIGJlaGFsZiBvZiB7e3JlY2VpdmVyfX0gYnkgcGF5aW5nIHt7cXVhbnR9fS4gVGhpcyB0cmFuc2FjdGlvbiB3aWxsIGluY3VyIGEgMC41JSBmZWUgb3V0IG9mIHt7cXVhbnR9fSBhbmQgdGhlIGFtb3VudCBvZiBSQU0gZGVsaXZlcmVkIHdpbGwgZGVwZW5kIG9uIG1hcmtldCByYXRlcy4AsMr+SHO9PgtidXlyYW1ieXRlc4EELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQnV5IFJBTQpzdW1tYXJ5OiAne3tub3dyYXAgcGF5ZXJ9fSBidXlzIHt7bm93cmFwIGJ5dGVzfX0gYnl0ZXMgb2YgUkFNIG9uIGJlaGFsZiBvZiB7e25vd3JhcCByZWNlaXZlcn19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmVzb3VyY2UucG5nIzM4MzBmMWNlOGNiMDdmNzc1N2RiY2YzODNiMWVjMWIxMTkxNGFjMzRhMWY5ZDhiMDY1ZjA3NjAwZmE5ZGFjMTkKLS0tCgp7e3BheWVyfX0gYnV5cyBhcHByb3hpbWF0ZWx5IHt7Ynl0ZXN9fSBieXRlcyBvZiBSQU0gb24gYmVoYWxmIG9mIHt7cmVjZWl2ZXJ9fSBieSBwYXlpbmcgbWFya2V0IHJhdGVzIGZvciBSQU0uIFRoaXMgdHJhbnNhY3Rpb24gd2lsbCBpbmN1ciBhIDAuNSUgZmVlIGFuZCB0aGUgY29zdCB3aWxsIGRlcGVuZCBvbiBtYXJrZXQgcmF0ZXMuAAAAAHR1vT4GYnV5cmV41wYtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBCdXkgUkVYIFRva2VucwpzdW1tYXJ5OiAne3tub3dyYXAgZnJvbX19IGJ1eXMgUkVYIHRva2VucyBpbiBleGNoYW5nZSBmb3Ige3tub3dyYXAgYW1vdW50fX0gYW5kIHRoZWlyIHZvdGUgc3Rha2UgaW5jcmVhc2VzIGJ5IHt7bm93cmFwIGFtb3VudH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKe3thbW91bnR9fSBpcyB0YWtlbiBvdXQgb2Yge3tmcm9tfX3igJlzIFJFWCBmdW5kIGFuZCB1c2VkIHRvIHB1cmNoYXNlIFJFWCB0b2tlbnMgYXQgdGhlIGN1cnJlbnQgbWFya2V0IGV4Y2hhbmdlIHJhdGUuIEluIG9yZGVyIGZvciB0aGUgYWN0aW9uIHRvIHN1Y2NlZWQsIHt7ZnJvbX19IG11c3QgaGF2ZSB2b3RlZCBmb3IgYSBwcm94eSBvciBhdCBsZWFzdCAyMSBibG9jayBwcm9kdWNlcnMuIHt7YW1vdW50fX0gaXMgYWRkZWQgdG8ge3tmcm9tfX3igJlzIHZvdGUgc3Rha2UuCgpBIHNlbGwgb3JkZXIgb2YgdGhlIHB1cmNoYXNlZCBhbW91bnQgY2FuIG9ubHkgYmUgaW5pdGlhdGVkIGFmdGVyIHdhaXRpbmcgZm9yIHRoZSBtYXR1cml0eSBwZXJpb2Qgb2YgNCB0byA1IGRheXMgdG8gcGFzcy4gRXZlbiB0aGVuLCBkZXBlbmRpbmcgb24gdGhlIG1hcmtldCBjb25kaXRpb25zLCB0aGUgaW5pdGlhdGVkIHNlbGwgb3JkZXIgbWF5IG5vdCBiZSBleGVjdXRlZCBpbW1lZGlhdGVseS4AvIkqRYWmQQtjYW5jZWxkZWxheYoDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQ2FuY2VsIERlbGF5ZWQgVHJhbnNhY3Rpb24Kc3VtbWFyeTogJ3t7bm93cmFwIGNhbmNlbGluZ19hdXRoLmFjdG9yfX0gY2FuY2VscyBhIGRlbGF5ZWQgdHJhbnNhY3Rpb24nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hY2NvdW50LnBuZyMzZDU1YTJmYzNhNWMyMGI0NTZmNTY1N2ZhZjY2NmJjMjVmZmQwNmY0ODM2YzVlODI1NmY3NDExNDliMGIyOTRmCi0tLQoKe3tjYW5jZWxpbmdfYXV0aC5hY3Rvcn19IGNhbmNlbHMgdGhlIGRlbGF5ZWQgdHJhbnNhY3Rpb24gd2l0aCBpZCB7e3RyeF9pZH19LgBA1VdxWtlCCmNmZ3Bvd2VydXAAgNM1XF3pTEQMY2xhaW1yZXdhcmRz5wItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDbGFpbSBCbG9jayBQcm9kdWNlciBSZXdhcmRzCnN1bW1hcnk6ICd7e25vd3JhcCBvd25lcn19IGNsYWltcyBibG9jayBhbmQgdm90ZSByZXdhcmRzJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWRtaW4ucG5nIzliZjFjZWM2NjQ4NjNiZDZhYWFjMGY4MTRiMjM1Zjg3OTlmYjAyYzg1MGU5YWE1ZGEzNGU4YTAwNGJkNjUxOGUKLS0tCgp7e293bmVyfX0gY2xhaW1zIGJsb2NrIGFuZCB2b3RlIHJld2FyZHMgZnJvbSB0aGUgc3lzdGVtLgAAAF1dhWlECGNsb3NlcmV4lAQtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDbGVhbnVwIFVudXNlZCBSRVggRGF0YQpzdW1tYXJ5OiAnRGVsZXRlIFJFWCByZWxhdGVkIERCIGVudHJpZXMgYW5kIGZyZWUgYXNzb2NpYXRlZCBSQU0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgpEZWxldGUgUkVYIHJlbGF0ZWQgREIgZW50cmllcyBhbmQgZnJlZSBhc3NvY2lhdGVkIFJBTSBmb3Ige3tvd25lcn19LgoKVG8gZnVsbHkgZGVsZXRlIGFsbCBSRVggcmVsYXRlZCBEQiBlbnRyaWVzLCB7e293bmVyfX0gbXVzdCBlbnN1cmUgdGhhdCB0aGVpciBSRVggYmFsYW5jZSBhbmQgUkVYIGZ1bmQgYW1vdW50cyBhcmUgYm90aCB6ZXJvIGFuZCB0aGV5IGhhdmUgbm8gb3V0c3RhbmRpbmcgbG9hbnMucFW6tKsb0UQMY25jbHJleG9yZGVy6wItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDYW5jZWwgU2NoZWR1bGVkIFJFWCBTZWxsIE9yZGVyCnN1bW1hcnk6ICd7e25vd3JhcCBvd25lcn19IGNhbmNlbHMgYSBzY2hlZHVsZWQgc2VsbCBvcmRlciBpZiBub3QgeWV0IGZpbGxlZCcKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7b3duZXJ9fSBjYW5jZWxzIHRoZWlyIG9wZW4gc2VsbCBvcmRlci4AVDbJRYonRQtjb25zb2xpZGF0ZaYDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQ29uc29saWRhdGUgUkVYIE1hdHVyaXR5IEJ1Y2tldHMgSW50byBPbmUKc3VtbWFyeTogJ0NvbnNvbGlkYXRlIFJFWCBtYXR1cml0eSBidWNrZXRzIGludG8gb25lJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKQ29uc29saWRhdGUgUkVYIG1hdHVyaXR5IGJ1Y2tldHMgaW50byBvbmUgYnVja2V0IHRoYXQge3tvd25lcn19IHdpbGwgbm90IGJlIGFibGUgdG8gc2VsbCB1bnRpbCA0IHRvIDUgZGF5cyBsYXRlci4AwDQ06oqWSgpkZWZjcHVsb2Fu3gMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBXaXRoZHJhdyBmcm9tIHRoZSBGdW5kIG9mIGEgU3BlY2lmaWMgQ1BVIExvYW4Kc3VtbWFyeTogJ3t7bm93cmFwIGZyb219fSB0cmFuc2ZlcnMge3tub3dyYXAgYW1vdW50fX0gZnJvbSB0aGUgZnVuZCBvZiBDUFUgbG9hbiBudW1iZXIge3tub3dyYXAgbG9hbl9udW19fSBiYWNrIHRvIFJFWCBmdW5kJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKe3tmcm9tfX0gdHJhbnNmZXJzIHt7YW1vdW50fX0gZnJvbSB0aGUgZnVuZCBvZiBDUFUgbG9hbiBudW1iZXIge3tsb2FuX251bX19IGJhY2sgdG8gUkVYIGZ1bmQuAMA0NGY1l0oKZGVmbmV0bG9hbt4DLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogV2l0aGRyYXcgZnJvbSB0aGUgRnVuZCBvZiBhIFNwZWNpZmljIE5FVCBMb2FuCnN1bW1hcnk6ICd7e25vd3JhcCBmcm9tfX0gdHJhbnNmZXJzIHt7bm93cmFwIGFtb3VudH19IGZyb20gdGhlIGZ1bmQgb2YgTkVUIGxvYW4gbnVtYmVyIHt7bm93cmFwIGxvYW5fbnVtfX0gYmFjayB0byBSRVggZnVuZCcKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7ZnJvbX19IHRyYW5zZmVycyB7e2Ftb3VudH19IGZyb20gdGhlIGZ1bmQgb2YgTkVUIGxvYW4gbnVtYmVyIHt7bG9hbl9udW19fSBiYWNrIHRvIFJFWCBmdW5kLgAAPyobpqJKCmRlbGVnYXRlYnfzBi0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFN0YWtlIFRva2VucyBmb3IgTkVUIGFuZC9vciBDUFUKc3VtbWFyeTogJ1N0YWtlIHRva2VucyBmb3IgTkVUIGFuZC9vciBDUFUgYW5kIG9wdGlvbmFsbHkgdHJhbnNmZXIgb3duZXJzaGlwJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmVzb3VyY2UucG5nIzM4MzBmMWNlOGNiMDdmNzc1N2RiY2YzODNiMWVjMWIxMTkxNGFjMzRhMWY5ZDhiMDY1ZjA3NjAwZmE5ZGFjMTkKLS0tCgp7eyNpZiB0cmFuc2Zlcn19IHt7ZnJvbX19IHN0YWtlcyBvbiBiZWhhbGYgb2Yge3tyZWNlaXZlcn19IHt7c3Rha2VfbmV0X3F1YW50aXR5fX0gZm9yIE5FVCBiYW5kd2lkdGggYW5kIHt7c3Rha2VfY3B1X3F1YW50aXR5fX0gZm9yIENQVSBiYW5kd2lkdGguCgpTdGFrZWQgdG9rZW5zIHdpbGwgYWxzbyBiZSB0cmFuc2ZlcnJlZCB0byB7e3JlY2VpdmVyfX0uIFRoZSBzdW0gb2YgdGhlc2UgdHdvIHF1YW50aXRpZXMgd2lsbCBiZSBkZWR1Y3RlZCBmcm9tIHt7ZnJvbX194oCZcyBsaXF1aWQgYmFsYW5jZSBhbmQgYWRkIHRvIHRoZSB2b3RlIHdlaWdodCBvZiB7e3JlY2VpdmVyfX0uCnt7ZWxzZX19Cnt7ZnJvbX19IHN0YWtlcyB0byBzZWxmIGFuZCBkZWxlZ2F0ZXMgdG8ge3tyZWNlaXZlcn19IHt7c3Rha2VfbmV0X3F1YW50aXR5fX0gZm9yIE5FVCBiYW5kd2lkdGggYW5kIHt7c3Rha2VfY3B1X3F1YW50aXR5fX0gZm9yIENQVSBiYW5kd2lkdGguCgpUaGUgc3VtIG9mIHRoZXNlIHR3byBxdWFudGl0aWVzIGFkZCB0byB0aGUgdm90ZSB3ZWlnaHQgb2Yge3tmcm9tfX0uCnt7L2lmfX0AQMvaqKyiSgpkZWxldGVhdXRo9QItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBEZWxldGUgQWNjb3VudCBQZXJtaXNzaW9uCnN1bW1hcnk6ICdEZWxldGUgdGhlIHt7bm93cmFwIHBlcm1pc3Npb259fSBwZXJtaXNzaW9uIG9mIHt7bm93cmFwIGFjY291bnR9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FjY291bnQucG5nIzNkNTVhMmZjM2E1YzIwYjQ1NmY1NjU3ZmFmNjY2YmMyNWZmZDA2ZjQ4MzZjNWU4MjU2Zjc0MTE0OWIwYjI5NGYKLS0tCgpEZWxldGUgdGhlIHt7cGVybWlzc2lvbn19IHBlcm1pc3Npb24gb2Yge3thY2NvdW50fX0uAAAAIDtMq0oHZGVwb3NpdIgELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogRGVwb3NpdCBJbnRvIFJFWCBGdW5kCnN1bW1hcnk6ICdBZGQgdG8ge3tub3dyYXAgb3duZXJ9feKAmXMgUkVYIGZ1bmQgYnkgdHJhbnNmZXJyaW5nIHt7bm93cmFwIGFtb3VudH19IGZyb20ge3tub3dyYXAgb3duZXJ9feKAmXMgbGlxdWlkIGJhbGFuY2UnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgpUcmFuc2ZlciB7e2Ftb3VudH19IGZyb20ge3tvd25lcn194oCZcyBsaXF1aWQgYmFsYW5jZSB0byB7e293bmVyfX3igJlzIFJFWCBmdW5kLiBBbGwgcHJvY2VlZHMgYW5kIGV4cGVuc2VzIHJlbGF0ZWQgdG8gUkVYIGFyZSBhZGRlZCB0byBvciB0YWtlbiBvdXQgb2YgdGhpcyBmdW5kLgCmoVFXlKZeC2Z1bmRjcHVsb2Fu/AMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBEZXBvc2l0IGludG8gdGhlIEZ1bmQgb2YgYSBTcGVjaWZpYyBDUFUgTG9hbgpzdW1tYXJ5OiAne3tub3dyYXAgZnJvbX19IGZ1bmRzIGEgQ1BVIGxvYW4nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgp7e2Zyb219fSB0cmFuc2ZlcnMge3twYXltZW50fX0gZnJvbSBSRVggZnVuZCB0byB0aGUgZnVuZCBvZiBDUFUgbG9hbiBudW1iZXIge3tsb2FuX251bX19IGluIG9yZGVyIHRvIGJlIHVzZWQgaW4gbG9hbiByZW5ld2FsIGF0IGV4cGlyeS4ge3tmcm9tfX0gY2FuIHdpdGhkcmF3IHRoZSB0b3RhbCBiYWxhbmNlIG9mIHRoZSBsb2FuIGZ1bmQgYXQgYW55IHRpbWUuAKahMauZpl4LZnVuZG5ldGxvYW78Ay0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IERlcG9zaXQgaW50byB0aGUgRnVuZCBvZiBhIFNwZWNpZmljIE5FVCBMb2FuCnN1bW1hcnk6ICd7e25vd3JhcCBmcm9tfX0gZnVuZHMgYSBORVQgbG9hbicKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7ZnJvbX19IHRyYW5zZmVycyB7e3BheW1lbnR9fSBmcm9tIFJFWCBmdW5kIHRvIHRoZSBmdW5kIG9mIE5FVCBsb2FuIG51bWJlciB7e2xvYW5fbnVtfX0gaW4gb3JkZXIgdG8gYmUgdXNlZCBpbiBsb2FuIHJlbmV3YWwgYXQgZXhwaXJ5LiB7e2Zyb219fSBjYW4gd2l0aGRyYXcgdGhlIHRvdGFsIGJhbGFuY2Ugb2YgdGhlIGxvYW4gZnVuZCBhdCBhbnkgdGltZS4AAAAAAJDddARpbml04wItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBJbml0aWFsaXplIFN5c3RlbSBDb250cmFjdApzdW1tYXJ5OiAnSW5pdGlhbGl6ZSBzeXN0ZW0gY29udHJhY3QnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCkluaXRpYWxpemUgc3lzdGVtIGNvbnRyYWN0LiBUaGUgY29yZSB0b2tlbiBzeW1ib2wgd2lsbCBiZSBzZXQgdG8ge3tjb3JlfX0uwBpqWZvspIsMbGltaXRhdXRoY2hnAAAAAC1rA6eLCGxpbmthdXRonQUtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBMaW5rIEFjdGlvbiB0byBQZXJtaXNzaW9uCnN1bW1hcnk6ICd7e25vd3JhcCBhY2NvdW50fX0gc2V0cyB0aGUgbWluaW11bSByZXF1aXJlZCBwZXJtaXNzaW9uIGZvciB0aGUge3sjaWYgdHlwZX19e3tub3dyYXAgdHlwZX19IGFjdGlvbiBvZiB0aGV7ey9pZn19IHt7bm93cmFwIGNvZGV9fSBjb250cmFjdCB0byB7e25vd3JhcCByZXF1aXJlbWVudH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCnt7YWNjb3VudH19IHNldHMgdGhlIG1pbmltdW0gcmVxdWlyZWQgcGVybWlzc2lvbiBmb3IgdGhlIHt7I2lmIHR5cGV9fXt7dHlwZX19IGFjdGlvbiBvZiB0aGV7ey9pZn19IHt7Y29kZX19IGNvbnRyYWN0IHRvIHt7cmVxdWlyZW1lbnR9fS4KCnt7I2lmIHR5cGV9fXt7ZWxzZX19QW55IGxpbmtzIGV4cGxpY2l0bHkgYXNzb2NpYXRlZCB0byBzcGVjaWZpYyBhY3Rpb25zIG9mIHt7Y29kZX19IHdpbGwgdGFrZSBwcmVjZWRlbmNlLnt7L2lmfX0AMJtuG3zXlgttdmZyc2F2aW5nc5wDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogVW5sb2NrIFJFWCBUb2tlbnMKc3VtbWFyeTogJ3t7bm93cmFwIG93bmVyfX0gdW5sb2NrcyBSRVggVG9rZW5zJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKe3tvd25lcn19IHVubG9ja3Mge3tyZXh9fSBieSBtb3ZpbmcgaXQgb3V0IG9mIHRoZSBSRVggc2F2aW5ncyBidWNrZXQuIFRoZSB1bmxvY2tlZCBSRVggdG9rZW5zIGNhbm5vdCBiZSBzb2xkIHVudGlsIDQgdG8gNSBkYXlzIGxhdGVyLgAwm24bTPOWC212dG9zYXZpbmdzugMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBMb2NrIFJFWCBUb2tlbnMKc3VtbWFyeTogJ3t7bm93cmFwIG93bmVyfX0gbG9ja3MgUkVYIFRva2VucycKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7b3duZXJ9fSBsb2NrcyB7e3JleH19IGJ5IG1vdmluZyBpdCBpbnRvIHRoZSBSRVggc2F2aW5ncyBidWNrZXQuIFRoZSBsb2NrZWQgUkVYIHRva2VucyBjYW5ub3QgYmUgc29sZCBkaXJlY3RseSBhbmQgd2lsbCBoYXZlIHRvIGJlIHVubG9ja2VkIGV4cGxpY2l0bHkgYmVmb3JlIHNlbGxpbmcuAECemiJkuJoKbmV3YWNjb3VudIAELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQ3JlYXRlIE5ldyBBY2NvdW50CnN1bW1hcnk6ICd7e25vd3JhcCBjcmVhdG9yfX0gY3JlYXRlcyBhIG5ldyBhY2NvdW50IHdpdGggdGhlIG5hbWUge3tub3dyYXAgbmFtZX19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCnt7Y3JlYXRvcn19IGNyZWF0ZXMgYSBuZXcgYWNjb3VudCB3aXRoIHRoZSBuYW1lIHt7bmFtZX19IGFuZCB0aGUgZm9sbG93aW5nIHBlcm1pc3Npb25zOgoKb3duZXIgcGVybWlzc2lvbiB3aXRoIGF1dGhvcml0eToKe3t0b19qc29uIG93bmVyfX0KCmFjdGl2ZSBwZXJtaXNzaW9uIHdpdGggYXV0aG9yaXR5Ogp7e3RvX2pzb24gYWN0aXZlfX0AAAAAIhrPpAdvbmJsb2NrAAAAAODSe9WkB29uZXJyb3IAAAAAoOqrOK0HcG93ZXJ1cNQCLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogUG93ZXJ1cCByZXNvdXJjZXMKc3VtbWFyeTogJ1VzZXIgbWF5IHBvd2VydXAgdG8gcmVzZXJ2ZSByZXNvdXJjZXMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXNvdXJjZS5wbmcjMzgzMGYxY2U4Y2IwN2Y3NzU3ZGJjZjM4M2IxZWMxYjExOTE0YWMzNGExZjlkOGIwNjVmMDc2MDBmYTlkYWMxOQotLS0KClVzZXJzIG1heSB1c2UgdGhlIHBvd2VydXAgYWN0aW9uIHRvIHJlc2VydmUgcmVzb3VyY2VzLgCQ6qrqqzitC3Bvd2VydXBleGVjAAAAAACkqZe6BnJlZnVuZIcDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQ2xhaW0gVW5zdGFrZWQgVG9rZW5zCnN1bW1hcnk6ICdSZXR1cm4gcHJldmlvdXNseSB1bnN0YWtlZCB0b2tlbnMgdG8ge3tub3dyYXAgb3duZXJ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FjY291bnQucG5nIzNkNTVhMmZjM2E1YzIwYjQ1NmY1NjU3ZmFmNjY2YmMyNWZmZDA2ZjQ4MzZjNWU4MjU2Zjc0MTE0OWIwYjI5NGYKLS0tCgpSZXR1cm4gcHJldmlvdXNseSB1bnN0YWtlZCB0b2tlbnMgdG8ge3tvd25lcn19IGFmdGVyIHRoZSB1bnN0YWtpbmcgcGVyaW9kIGhhcyBlbGFwc2VkLgCuQjrRW5m6C3JlZ3Byb2R1Y2VymQQtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBSZWdpc3RlciBhcyBhIEJsb2NrIFByb2R1Y2VyIENhbmRpZGF0ZQpzdW1tYXJ5OiAnUmVnaXN0ZXIge3tub3dyYXAgcHJvZHVjZXJ9fSBhY2NvdW50IGFzIGEgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvdm90aW5nLnBuZyNkYjI4Y2QzZGI2ZTYyZDQ1MDlhZjM2NDRjZTdkMzc3MzI5NDgyYTE0YmI0YmZhY2EyYWE1ZjE0MDBkOGU4YTg0Ci0tLQoKUmVnaXN0ZXIge3twcm9kdWNlcn19IGFjY291bnQgYXMgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhdGUuCgpVUkw6IHt7dXJsfX0KTG9jYXRpb24gY29kZToge3tsb2NhdGlvbn19CkJsb2NrIHNpZ25pbmcga2V5OiB7e3Byb2R1Y2VyX2tleX19CgojIyBCbG9jayBQcm9kdWNlciBBZ3JlZW1lbnQKe3skY2xhdXNlcy5CbG9ja1Byb2R1Y2VyQWdyZWVtZW50fX0grkI60VuZugxyZWdwcm9kdWNlcjKtBC0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFJlZ2lzdGVyIGFzIGEgQmxvY2sgUHJvZHVjZXIgQ2FuZGlkYXRlCnN1bW1hcnk6ICdSZWdpc3RlciB7e25vd3JhcCBwcm9kdWNlcn19IGFjY291bnQgYXMgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhdGUnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy92b3RpbmcucG5nI2RiMjhjZDNkYjZlNjJkNDUwOWFmMzY0NGNlN2QzNzczMjk0ODJhMTRiYjRiZmFjYTJhYTVmMTQwMGQ4ZThhODQKLS0tCgpSZWdpc3RlciB7e3Byb2R1Y2VyfX0gYWNjb3VudCBhcyBhIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZS4KClVSTDoge3t1cmx9fQpMb2NhdGlvbiBjb2RlOiB7e2xvY2F0aW9ufX0KQmxvY2sgc2lnbmluZyBhdXRob3JpdHk6Cnt7dG9fanNvbiBwcm9kdWNlcl9hdXRob3JpdHl9fQoKIyMgQmxvY2sgUHJvZHVjZXIgQWdyZWVtZW50Cnt7JGNsYXVzZXMuQmxvY2tQcm9kdWNlckFncmVlbWVudH19AAAAvtNbmboIcmVncHJveHmjBC0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFJlZ2lzdGVyL3VucmVnaXN0ZXIgYXMgYSBQcm94eQpzdW1tYXJ5OiAnUmVnaXN0ZXIvdW5yZWdpc3RlciB7e25vd3JhcCBwcm94eX19IGFzIGEgcHJveHkgYWNjb3VudCcKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3ZvdGluZy5wbmcjZGIyOGNkM2RiNmU2MmQ0NTA5YWYzNjQ0Y2U3ZDM3NzMyOTQ4MmExNGJiNGJmYWNhMmFhNWYxNDAwZDhlOGE4NAotLS0KCnt7I2lmIGlzcHJveHl9fQp7e3Byb3h5fX0gcmVnaXN0ZXJzIGFzIGEgcHJveHkgdGhhdCBjYW4gdm90ZSBvbiBiZWhhbGYgb2YgYWNjb3VudHMgdGhhdCBhcHBvaW50IGl0IGFzIHRoZWlyIHByb3h5Lgp7e2Vsc2V9fQp7e3Byb3h5fX0gdW5yZWdpc3RlcnMgYXMgYSBwcm94eSB0aGF0IGNhbiB2b3RlIG9uIGJlaGFsZiBvZiBhY2NvdW50cyB0aGF0IGFwcG9pbnQgaXQgYXMgdGhlaXIgcHJveHkuCnt7L2lmfX0AAABAV5SnugdyZW50Y3B13AktLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBSZW50IENQVSBCYW5kd2lkdGggZm9yIDMwIERheXMKc3VtbWFyeTogJ3t7bm93cmFwIGZyb219fSBwYXlzIHt7bm93cmFwIGxvYW5fcGF5bWVudH19IHRvIHJlbnQgQ1BVIGJhbmR3aWR0aCBmb3Ige3tub3dyYXAgcmVjZWl2ZXJ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7ZnJvbX19IHBheXMge3tsb2FuX3BheW1lbnR9fSB0byByZW50IENQVSBiYW5kd2lkdGggb24gYmVoYWxmIG9mIHt7cmVjZWl2ZXJ9fSBmb3IgYSBwZXJpb2Qgb2YgMzAgZGF5cy4KCnt7bG9hbl9wYXltZW50fX0gaXMgdGFrZW4gb3V0IG9mIHt7ZnJvbX194oCZcyBSRVggZnVuZC4gVGhlIG1hcmtldCBwcmljZSBkZXRlcm1pbmVzIHRoZSBudW1iZXIgb2YgdG9rZW5zIHRvIGJlIHN0YWtlZCB0byB7e3JlY2VpdmVyfX3igJlzIENQVSByZXNvdXJjZXMuIEluIGFkZGl0aW9uLCB7e2Zyb219fSBwcm92aWRlcyB7e2xvYW5fZnVuZH19LCB3aGljaCBpcyBhbHNvIHRha2VuIG91dCBvZiB7e2Zyb219feKAmXMgUkVYIGZ1bmQsIHRvIGJlIHVzZWQgZm9yIGF1dG9tYXRpYyByZW5ld2FsIG9mIHRoZSBsb2FuLgoKQXQgZXhwaXJhdGlvbiwgaWYgdGhlIGxvYW4gaGFzIGxlc3MgZnVuZHMgdGhhbiB7e2xvYW5fcGF5bWVudH19LCBpdCBpcyBjbG9zZWQgYW5kIGxlbnQgdG9rZW5zIHRoYXQgaGF2ZSBiZWVuIHN0YWtlZCBhcmUgdGFrZW4gb3V0IG9mIHt7cmVjZWl2ZXJ9feKAmXMgQ1BVIGJhbmR3aWR0aC4gT3RoZXJ3aXNlLCBpdCBpcyByZW5ld2VkIGF0IHRoZSBtYXJrZXQgcHJpY2UgYXQgdGhlIHRpbWUgb2YgcmVuZXdhbCwgdGhhdCBpcywgdGhlIG51bWJlciBvZiBzdGFrZWQgdG9rZW5zIGlzIHJlY2FsY3VsYXRlZCBhbmQge3tyZWNlaXZlcn194oCZcyBDUFUgYmFuZHdpZHRoIGlzIHVwZGF0ZWQgYWNjb3JkaW5nbHkuIHt7ZnJvbX19IGNhbiBmdW5kIG9yIGRlZnVuZCBhIGxvYW4gYXQgYW55IHRpbWUgYmVmb3JlIGV4cGlyYXRpb24uIFdoZW4gdGhlIGxvYW4gaXMgY2xvc2VkLCB7e2Zyb219fSBpcyByZWZ1bmRlZCBhbnkgdG9rZW5zIHJlbWFpbmluZyBpbiB0aGUgbG9hbiBmdW5kLgAAACCrmae6B3JlbnRuZXToCS0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFJlbnQgTkVUIEJhbmR3aWR0aCBmb3IgMzAgRGF5cwpzdW1tYXJ5OiAne3tub3dyYXAgZnJvbX19IHBheXMge3tub3dyYXAgbG9hbl9wYXltZW50fX0gdG8gcmVudCBORVQgYmFuZHdpZHRoIGZvciB7e25vd3JhcCByZWNlaXZlcn19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKe3tmcm9tfX0gcGF5cyB7e2xvYW5fcGF5bWVudH19IHRvIHJlbnQgTkVUIGJhbmR3aWR0aCBvbiBiZWhhbGYgb2Yge3tyZWNlaXZlcn19IGZvciBhIHBlcmlvZCBvZiAzMCBkYXlzLgoKe3tsb2FuX3BheW1lbnR9fSBpcyB0YWtlbiBvdXQgb2Yge3tmcm9tfX3igJlzIFJFWCBmdW5kLiBUaGUgbWFya2V0IHByaWNlIGRldGVybWluZXMgdGhlIG51bWJlciBvZiB0b2tlbnMgdG8gYmUgc3Rha2VkIHRvIHt7cmVjZWl2ZXJ9feKAmXMgTkVUIHJlc291cmNlcyBmb3IgMzAgZGF5cy4gSW4gYWRkaXRpb24sIHt7ZnJvbX19IHByb3ZpZGVzIHt7bG9hbl9mdW5kfX0sIHdoaWNoIGlzIGFsc28gdGFrZW4gb3V0IG9mIHt7ZnJvbX194oCZcyBSRVggZnVuZCwgdG8gYmUgdXNlZCBmb3IgYXV0b21hdGljIHJlbmV3YWwgb2YgdGhlIGxvYW4uCgpBdCBleHBpcmF0aW9uLCBpZiB0aGUgbG9hbiBoYXMgbGVzcyBmdW5kcyB0aGFuIHt7bG9hbl9wYXltZW50fX0sIGl0IGlzIGNsb3NlZCBhbmQgbGVudCB0b2tlbnMgdGhhdCBoYXZlIGJlZW4gc3Rha2VkIGFyZSB0YWtlbiBvdXQgb2Yge3tyZWNlaXZlcn194oCZcyBORVQgYmFuZHdpZHRoLiBPdGhlcndpc2UsIGl0IGlzIHJlbmV3ZWQgYXQgdGhlIG1hcmtldCBwcmljZSBhdCB0aGUgdGltZSBvZiByZW5ld2FsLCB0aGF0IGlzLCB0aGUgbnVtYmVyIG9mIHN0YWtlZCB0b2tlbnMgaXMgcmVjYWxjdWxhdGVkIGFuZCB7e3JlY2VpdmVyfX3igJlzIE5FVCBiYW5kd2lkdGggaXMgdXBkYXRlZCBhY2NvcmRpbmdseS4ge3tmcm9tfX0gY2FuIGZ1bmQgb3IgZGVmdW5kIGEgbG9hbiBhdCBhbnkgdGltZSBiZWZvcmUgZXhwaXJhdGlvbi4gV2hlbiB0aGUgbG9hbiBpcyBjbG9zZWQsIHt7ZnJvbX19IGlzIHJlZnVuZGVkIGFueSB0b2tlbnMgcmVtYWluaW5nIGluIHRoZSBsb2FuIGZ1bmQuAAAAAKmuuroHcmV4ZXhlY6IDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogUGVyZm9ybSBSRVggTWFpbnRlbmFuY2UKc3VtbWFyeTogJ1Byb2Nlc3Mgc2VsbCBvcmRlcnMgYW5kIGV4cGlyZWQgbG9hbnMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgpQZXJmb3JtcyBSRVggbWFpbnRlbmFuY2UgYnkgcHJvY2Vzc2luZyBhIG1heGltdW0gb2Yge3ttYXh9fSBSRVggc2VsbCBvcmRlcnMgYW5kIGV4cGlyZWQgbG9hbnMuIEFueSBhY2NvdW50IGNhbiBleGVjdXRlIHRoaXMgYWN0aW9uLgCuQjrRW7e8C3JtdnByb2R1Y2VyggUtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBGb3JjaWJseSBVbnJlZ2lzdGVyIGEgQmxvY2sgUHJvZHVjZXIgQ2FuZGlkYXRlCnN1bW1hcnk6ICd7e25vd3JhcCBwcm9kdWNlcn19IGlzIHVucmVnaXN0ZXJlZCBhcyBhIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FkbWluLnBuZyM5YmYxY2VjNjY0ODYzYmQ2YWFhYzBmODE0YjIzNWY4Nzk5ZmIwMmM4NTBlOWFhNWRhMzRlOGEwMDRiZDY1MThlCi0tLQoKe3skYWN0aW9uLmFjY291bnR9fSB1bnJlZ2lzdGVycyB7e3Byb2R1Y2VyfX0gYXMgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhdGUuIHt7cHJvZHVjZXJ9fSBhY2NvdW50IHdpbGwgcmV0YWluIGl0cyB2b3RlcyBhbmQgdGhvc2Ugdm90ZXMgY2FuIGNoYW5nZSBiYXNlZCBvbiB2b3RlciBzdGFrZSBjaGFuZ2VzIG9yIHZvdGVzIHJlbW92ZWQgZnJvbSB7e3Byb2R1Y2VyfX0uIEhvd2V2ZXIgbmV3IHZvdGVycyB3aWxsIG5vdCBiZSBhYmxlIHRvIHZvdGUgZm9yIHt7cHJvZHVjZXJ9fSB3aGlsZSBpdCByZW1haW5zIHVucmVnaXN0ZXJlZC4AAABAmhujwgdzZWxscmFtxQMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBTZWxsIFJBTSBGcm9tIEFjY291bnQKc3VtbWFyeTogJ1NlbGwgdW51c2VkIFJBTSBmcm9tIHt7bm93cmFwIGFjY291bnR9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3Jlc291cmNlLnBuZyMzODMwZjFjZThjYjA3Zjc3NTdkYmNmMzgzYjFlYzFiMTE5MTRhYzM0YTFmOWQ4YjA2NWYwNzYwMGZhOWRhYzE5Ci0tLQoKU2VsbCB7e2J5dGVzfX0gYnl0ZXMgb2YgdW51c2VkIFJBTSBmcm9tIGFjY291bnQge3thY2NvdW50fX0gYXQgbWFya2V0IHByaWNlLiBUaGlzIHRyYW5zYWN0aW9uIHdpbGwgaW5jdXIgYSAwLjUlIGZlZSBvbiB0aGUgcHJvY2VlZHMgd2hpY2ggZGVwZW5kIG9uIG1hcmtldCByYXRlcy4AAACgqxujwgdzZWxscmV4qQotLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBTZWxsIFJFWCBUb2tlbnMgaW4gRXhjaGFuZ2UgZm9yIEVPUwpzdW1tYXJ5OiAne3tub3dyYXAgZnJvbX19IHNlbGxzIHt7bm93cmFwIHJleH19IHRva2VucycKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7ZnJvbX19IGluaXRpYXRlcyBhIHNlbGwgb3JkZXIgdG8gc2VsbCB7e3JleH19IHRva2VucyBhdCB0aGUgbWFya2V0IGV4Y2hhbmdlIHJhdGUgZHVyaW5nIHRoZSB0aW1lIGF0IHdoaWNoIHRoZSBvcmRlciBpcyB1bHRpbWF0ZWx5IGV4ZWN1dGVkLiBJZiB7e2Zyb219fSBhbHJlYWR5IGhhcyBhbiBvcGVuIHNlbGwgb3JkZXIgaW4gdGhlIHNlbGwgcXVldWUsIHt7cmV4fX0gd2lsbCBiZSBhZGRlZCB0byB0aGUgYW1vdW50IG9mIHRoZSBzZWxsIG9yZGVyIHdpdGhvdXQgY2hhbmdlIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2VsbCBvcmRlciB3aXRoaW4gdGhlIHF1ZXVlLiBPbmNlIHRoZSBzZWxsIG9yZGVyIGlzIGV4ZWN1dGVkLCBwcm9jZWVkcyBhcmUgYWRkZWQgdG8ge3tmcm9tfX3igJlzIFJFWCBmdW5kLCB0aGUgdmFsdWUgb2Ygc29sZCBSRVggdG9rZW5zIGlzIGRlZHVjdGVkIGZyb20ge3tmcm9tfX3igJlzIHZvdGUgc3Rha2UsIGFuZCB2b3RlcyBhcmUgdXBkYXRlZCBhY2NvcmRpbmdseS4KCkRlcGVuZGluZyBvbiB0aGUgbWFya2V0IGNvbmRpdGlvbnMsIGl0IG1heSBub3QgYmUgcG9zc2libGUgdG8gZmlsbCB0aGUgZW50aXJlIHNlbGwgb3JkZXIgaW1tZWRpYXRlbHkuIEluIHN1Y2ggYSBjYXNlLCB0aGUgc2VsbCBvcmRlciBpcyBhZGRlZCB0byB0aGUgYmFjayBvZiBhIHNlbGwgcXVldWUuIEEgc2VsbCBvcmRlciBhdCB0aGUgZnJvbnQgb2YgdGhlIHNlbGwgcXVldWUgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGV4ZWN1dGVkIHdoZW4gdGhlIG1hcmtldCBjb25kaXRpb25zIGFsbG93IGZvciB0aGUgZW50aXJlIG9yZGVyIHRvIGJlIGZpbGxlZC4gUmVnYXJkbGVzcyBvZiB0aGUgbWFya2V0IGNvbmRpdGlvbnMsIHRoZSBzeXN0ZW0gaXMgZGVzaWduZWQgdG8gZXhlY3V0ZSB0aGlzIHNlbGwgb3JkZXIgd2l0aGluIDMwIGRheXMuIHt7ZnJvbX19IGNhbiBjYW5jZWwgdGhlIG9yZGVyIGF0IGFueSB0aW1lIGJlZm9yZSBpdCBpcyBmaWxsZWQgdXNpbmcgdGhlIGNuY2xyZXhvcmRlciBhY3Rpb24uAAAAALhjssIGc2V0YWJp8wItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBEZXBsb3kgQ29udHJhY3QgQUJJCnN1bW1hcnk6ICdEZXBsb3kgY29udHJhY3QgQUJJIG9uIGFjY291bnQge3tub3dyYXAgYWNjb3VudH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCkRlcGxveSB0aGUgQUJJIGZpbGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb250cmFjdCBvbiBhY2NvdW50IHt7YWNjb3VudH19LgCArigjZLLCCnNldGFjY3RjcHWeBi0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IEV4cGxpY2l0bHkgTWFuYWdlIHRoZSBDUFUgUXVvdGEgb2YgQWNjb3VudApzdW1tYXJ5OiAnRXhwbGljaXRseSBtYW5hZ2UgdGhlIENQVSBiYW5kd2lkdGggcXVvdGEgb2YgYWNjb3VudCB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7I2lmX2hhc192YWx1ZSBjcHVfd2VpZ2h0fX0KRXhwbGljaXRseSBtYW5hZ2UgdGhlIENQVSBiYW5kd2lkdGggcXVvdGEgb2YgYWNjb3VudCB7e2FjY291bnR9fSBieSBwaW5uaW5nIGl0IHRvIGEgd2VpZ2h0IG9mIHt7Y3B1X3dlaWdodH19LgoKe3thY2NvdW50fX0gY2FuIHN0YWtlIGFuZCB1bnN0YWtlLCBob3dldmVyLCBpdCB3aWxsIG5vdCBjaGFuZ2UgdGhlaXIgQ1BVIGJhbmR3aWR0aCBxdW90YSBhcyBsb25nIGFzIGl0IHJlbWFpbnMgcGlubmVkLgp7e2Vsc2V9fQpVbnBpbiB0aGUgQ1BVIGJhbmR3aWR0aCBxdW90YSBvZiBhY2NvdW50IHt7YWNjb3VudH19LiBUaGUgQ1BVIGJhbmR3aWR0aCBxdW90YSBvZiB7e2FjY291bnR9fSB3aWxsIGJlIGRyaXZlbiBieSB0aGUgY3VycmVudCB0b2tlbnMgc3Rha2VkIGZvciBDUFUgYmFuZHdpZHRoIGJ5IHt7YWNjb3VudH19Lgp7ey9pZl9oYXNfdmFsdWV9fQBAVjMjZLLCCnNldGFjY3RuZXSiBi0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IEV4cGxpY2l0bHkgTWFuYWdlIHRoZSBORVQgUXVvdGEgb2YgQWNjb3VudApzdW1tYXJ5OiAnRXhwbGljaXRseSBtYW5hZ2UgdGhlIE5FVCBiYW5kd2lkdGggcXVvdGEgb2YgYWNjb3VudCB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7I2lmX2hhc192YWx1ZSBuZXRfd2VpZ2h0fX0KRXhwbGljaXRseSBtYW5hZ2UgdGhlIG5ldHdvcmsgYmFuZHdpZHRoIHF1b3RhIG9mIGFjY291bnQge3thY2NvdW50fX0gYnkgcGlubmluZyBpdCB0byBhIHdlaWdodCBvZiB7e25ldF93ZWlnaHR9fS4KCnt7YWNjb3VudH19IGNhbiBzdGFrZSBhbmQgdW5zdGFrZSwgaG93ZXZlciwgaXQgd2lsbCBub3QgY2hhbmdlIHRoZWlyIE5FVCBiYW5kd2lkdGggcXVvdGEgYXMgbG9uZyBhcyBpdCByZW1haW5zIHBpbm5lZC4Ke3tlbHNlfX0KVW5waW4gdGhlIE5FVCBiYW5kd2lkdGggcXVvdGEgb2YgYWNjb3VudCB7e2FjY291bnR9fS4gVGhlIE5FVCBiYW5kd2lkdGggcXVvdGEgb2Yge3thY2NvdW50fX0gd2lsbCBiZSBkcml2ZW4gYnkgdGhlIGN1cnJlbnQgdG9rZW5zIHN0YWtlZCBmb3IgTkVUIGJhbmR3aWR0aCBieSB7e2FjY291bnR9fS4Ke3svaWZfaGFzX3ZhbHVlfX0AgDQ3I2SywgpzZXRhY2N0cmFt0AUtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBFeHBsaWNpdGx5IE1hbmFnZSB0aGUgUkFNIFF1b3RhIG9mIEFjY291bnQKc3VtbWFyeTogJ0V4cGxpY2l0bHkgbWFuYWdlIHRoZSBSQU0gcXVvdGEgb2YgYWNjb3VudCB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7I2lmX2hhc192YWx1ZSByYW1fYnl0ZXN9fQpFeHBsaWNpdGx5IG1hbmFnZSB0aGUgUkFNIHF1b3RhIG9mIGFjY291bnQge3thY2NvdW50fX0gYnkgcGlubmluZyBpdCB0byB7e3JhbV9ieXRlc319IGJ5dGVzLgoKe3thY2NvdW50fX0gY2FuIGJ1eSBhbmQgc2VsbCBSQU0sIGhvd2V2ZXIsIGl0IHdpbGwgbm90IGNoYW5nZSB0aGVpciBSQU0gcXVvdGEgYXMgbG9uZyBhcyBpdCByZW1haW5zIHBpbm5lZC4Ke3tlbHNlfX0KVW5waW4gdGhlIFJBTSBxdW90YSBvZiBhY2NvdW50IHt7YWNjb3VudH19LiBUaGUgUkFNIHF1b3RhIG9mIHt7YWNjb3VudH19IHdpbGwgYmUgZHJpdmVuIGJ5IHRoZSBjdXJyZW50IFJBTSBob2xkaW5ncyBvZiB7e2FjY291bnR9fS4Ke3svaWZfaGFzX3ZhbHVlfX0AAM5OumiywgpzZXRhbGltaXRz9gMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBBZGp1c3QgUmVzb3VyY2UgTGltaXRzIG9mIEFjY291bnQKc3VtbWFyeTogJ0FkanVzdCByZXNvdXJjZSBsaW1pdHMgb2YgYWNjb3VudCB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gdXBkYXRlcyB7e2FjY291bnR9feKAmXMgcmVzb3VyY2UgbGltaXRzIHRvIGhhdmUgYSBSQU0gcXVvdGEgb2Yge3tyYW1fYnl0ZXN9fSBieXRlcywgYSBORVQgYmFuZHdpZHRoIHF1b3RhIG9mIHt7bmV0X3dlaWdodH19IGFuZCBhIENQVSBiYW5kd2lkdGggcXVvdGEgb2Yge3tjcHVfd2VpZ2h0fX0uAAAAQCWKssIHc2V0Y29kZeYCLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogRGVwbG95IENvbnRyYWN0IENvZGUKc3VtbWFyeTogJ0RlcGxveSBjb250cmFjdCBjb2RlIG9uIGFjY291bnQge3tub3dyYXAgYWNjb3VudH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCkRlcGxveSBjb21waWxlZCBjb250cmFjdCBjb2RlIHRvIHRoZSBhY2NvdW50IHt7YWNjb3VudH19LjCpyyau6bLCDHNldGluZmxhdGlvbusELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogU2V0IEluZmxhdGlvbiBQYXJhbWV0ZXJzCnN1bW1hcnk6ICdTZXQgaW5mbGF0aW9uIHBhcmFtZXRlcnMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gc2V0cyB0aGUgaW5mbGF0aW9uIHBhcmFtZXRlcnMgYXMgZm9sbG93czoKCiogQW5udWFsIGluZmxhdGlvbiByYXRlIChpbiB1bml0cyBvZiBhIGh1bmRyZWR0aCBvZiBhIHBlcmNlbnQpOiB7e2FubnVhbF9yYXRlfX0KKiBGcmFjdGlvbiBvZiBpbmZsYXRpb24gdXNlZCB0byByZXdhcmQgYmxvY2sgcHJvZHVjZXJzOiAxMDAwMC97e2luZmxhdGlvbl9wYXlfZmFjdG9yfX0KKiBGcmFjdGlvbiBvZiBibG9jayBwcm9kdWNlciByZXdhcmRzIHRvIGJlIGRpc3RyaWJ1dGVkIHByb3BvcnRpb25hbCB0byBibG9ja3MgcHJvZHVjZWQ6IDEwMDAwL3t7dm90ZXBheV9mYWN0b3J9fQAAwNJcU7PCCXNldHBhcmFtc9ACLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogU2V0IFN5c3RlbSBQYXJhbWV0ZXJzCnN1bW1hcnk6ICdTZXQgU3lzdGVtIFBhcmFtZXRlcnMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gc2V0cyBzeXN0ZW0gcGFyYW1ldGVycyB0bzoKe3t0b19qc29uIHBhcmFtc319AAAAYLtbs8IHc2V0cHJpdo0ELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogTWFrZSBhbiBBY2NvdW50IFByaXZpbGVnZWQgb3IgVW5wcml2aWxlZ2VkCnN1bW1hcnk6ICd7eyNpZiBpc19wcml2fX1NYWtlIHt7bm93cmFwIGFjY291bnR9fSBwcml2aWxlZ2Vke3tlbHNlfX1SZW1vdmUgcHJpdmlsZWdlZCBzdGF0dXMgb2Yge3tub3dyYXAgYWNjb3VudH19e3svaWZ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FkbWluLnBuZyM5YmYxY2VjNjY0ODYzYmQ2YWFhYzBmODE0YjIzNWY4Nzk5ZmIwMmM4NTBlOWFhNWRhMzRlOGEwMDRiZDY1MThlCi0tLQoKe3sjaWYgaXNfcHJpdn19Cnt7JGFjdGlvbi5hY2NvdW50fX0gbWFrZXMge3thY2NvdW50fX0gcHJpdmlsZWdlZC4Ke3tlbHNlfX0Ke3skYWN0aW9uLmFjY291bnR9fSByZW1vdmVzIHByaXZpbGVnZWQgc3RhdHVzIG9mIHt7YWNjb3VudH19Lgp7ey9pZn19AAAAAEhzs8IGc2V0cmFt5gItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDb25maWd1cmUgdGhlIEF2YWlsYWJsZSBSQU0Kc3VtbWFyeTogJ0NvbmZpZ3VyZSB0aGUgYXZhaWxhYmxlIFJBTScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FkbWluLnBuZyM5YmYxY2VjNjY0ODYzYmQ2YWFhYzBmODE0YjIzNWY4Nzk5ZmIwMmM4NTBlOWFhNWRhMzRlOGEwMDRiZDY1MThlCi0tLQoKe3skYWN0aW9uLmFjY291bnR9fSBjb25maWd1cmVzIHRoZSBhdmFpbGFibGUgUkFNIHRvIHt7bWF4X3JhbV9zaXplfX0gYnl0ZXMuAIDK5kpzs8IKc2V0cmFtcmF0ZYUDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogU2V0IHRoZSBSYXRlIG9mIEluY3JlYXNlIG9mIFJBTQpzdW1tYXJ5OiAnU2V0IHRoZSByYXRlIG9mIGluY3JlYXNlIG9mIFJBTSBwZXIgYmxvY2snCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gc2V0cyB0aGUgcmF0ZSBvZiBpbmNyZWFzZSBvZiBSQU0gdG8ge3tieXRlc19wZXJfYmxvY2t9fSBieXRlcy9ibG9jay4AAAAAdHWzwgZzZXRyZXi3Ay0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IEFkanVzdCBSRVggUG9vbCBWaXJ0dWFsIEJhbGFuY2UKc3VtbWFyeTogJ0FkanVzdCBSRVggUG9vbCBWaXJ0dWFsIEJhbGFuY2UnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gYWRqdXN0cyBSRVggbG9hbiByYXRlIGJ5IHNldHRpbmcgUkVYIHBvb2wgdmlydHVhbCBiYWxhbmNlIHRvIHt7YmFsYW5jZX19LiBObyB0b2tlbiB0cmFuc2ZlciBvciBpc3N1ZSBpcyBleGVjdXRlZCBpbiB0aGlzIGFjdGlvbi7Aj8qGqajS1Ax1bmRlbGVnYXRlYnehBy0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFVuc3Rha2UgVG9rZW5zIGZvciBORVQgYW5kL29yIENQVQpzdW1tYXJ5OiAnVW5zdGFrZSB0b2tlbnMgZm9yIE5FVCBhbmQvb3IgQ1BVIGZyb20ge3tub3dyYXAgcmVjZWl2ZXJ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3Jlc291cmNlLnBuZyMzODMwZjFjZThjYjA3Zjc3NTdkYmNmMzgzYjFlYzFiMTE5MTRhYzM0YTFmOWQ4YjA2NWYwNzYwMGZhOWRhYzE5Ci0tLQoKe3tmcm9tfX0gdW5zdGFrZXMgZnJvbSB7e3JlY2VpdmVyfX0ge3t1bnN0YWtlX25ldF9xdWFudGl0eX19IGZvciBORVQgYmFuZHdpZHRoIGFuZCB7e3Vuc3Rha2VfY3B1X3F1YW50aXR5fX0gZm9yIENQVSBiYW5kd2lkdGguCgpUaGUgc3VtIG9mIHRoZXNlIHR3byBxdWFudGl0aWVzIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSB2b3RlIHdlaWdodCBvZiB7e3JlY2VpdmVyfX0gYW5kIHdpbGwgYmUgbWFkZSBhdmFpbGFibGUgdG8ge3tmcm9tfX0gYWZ0ZXIgYW4gdW5pbnRlcnJ1cHRlZCAzIGRheSBwZXJpb2Qgd2l0aG91dCBmdXJ0aGVyIHVuc3Rha2luZyBieSB7e2Zyb219fS4gQWZ0ZXIgdGhlIHVuaW50ZXJydXB0ZWQgMyBkYXkgcGVyaW9kIHBhc3NlcywgdGhlIHN5c3RlbSB3aWxsIGF0dGVtcHQgdG8gYXV0b21hdGljYWxseSByZXR1cm4gdGhlIGZ1bmRzIHRvIHt7ZnJvbX194oCZcyByZWd1bGFyIHRva2VuIGJhbGFuY2UuIEhvd2V2ZXIsIHRoaXMgYXV0b21hdGljIHJlZnVuZCBtYXkgb2NjYXNpb25hbGx5IGZhaWwgd2hpY2ggd2lsbCB0aGVuIHJlcXVpcmUge3tmcm9tfX0gdG8gbWFudWFsbHkgY2xhaW0gdGhlIGZ1bmRzIHdpdGggdGhlIHJlZnVuZCBhY3Rpb24uAEDL2sDp4tQKdW5saW5rYXV0aJEFLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogVW5saW5rIEFjdGlvbiBmcm9tIFBlcm1pc3Npb24Kc3VtbWFyeTogJ3t7bm93cmFwIGFjY291bnR9fSB1bnNldHMgdGhlIG1pbmltdW0gcmVxdWlyZWQgcGVybWlzc2lvbiBmb3IgdGhlIHt7I2lmIHR5cGV9fXt7bm93cmFwIHR5cGV9fSBhY3Rpb24gb2YgdGhle3svaWZ9fSB7e25vd3JhcCBjb2RlfX0gY29udHJhY3QnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hY2NvdW50LnBuZyMzZDU1YTJmYzNhNWMyMGI0NTZmNTY1N2ZhZjY2NmJjMjVmZmQwNmY0ODM2YzVlODI1NmY3NDExNDliMGIyOTRmCi0tLQoKe3thY2NvdW50fX0gcmVtb3ZlcyB0aGUgYXNzb2NpYXRpb24gYmV0d2VlbiB0aGUge3sjaWYgdHlwZX19e3t0eXBlfX0gYWN0aW9uIG9mIHRoZXt7L2lmfX0ge3tjb2RlfX0gY29udHJhY3QgYW5kIGl0cyBtaW5pbXVtIHJlcXVpcmVkIHBlcm1pc3Npb24uCgp7eyNpZiB0eXBlfX17e2Vsc2V9fVRoaXMgd2lsbCBub3QgcmVtb3ZlIGFueSBsaW5rcyBleHBsaWNpdGx5IGFzc29jaWF0ZWQgdG8gc3BlY2lmaWMgYWN0aW9ucyBvZiB7e2NvZGV9fS57ey9pZn19AABI9Fam7tQJdW5yZWdwcm9k5QQtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBVbnJlZ2lzdGVyIGFzIGEgQmxvY2sgUHJvZHVjZXIgQ2FuZGlkYXRlCnN1bW1hcnk6ICd7e25vd3JhcCBwcm9kdWNlcn19IHVucmVnaXN0ZXJzIGFzIGEgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvdm90aW5nLnBuZyNkYjI4Y2QzZGI2ZTYyZDQ1MDlhZjM2NDRjZTdkMzc3MzI5NDgyYTE0YmI0YmZhY2EyYWE1ZjE0MDBkOGU4YTg0Ci0tLQoKe3twcm9kdWNlcn19IHVucmVnaXN0ZXJzIGFzIGEgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlLiB7e3Byb2R1Y2VyfX0gYWNjb3VudCB3aWxsIHJldGFpbiBpdHMgdm90ZXMgYW5kIHRob3NlIHZvdGVzIGNhbiBjaGFuZ2UgYmFzZWQgb24gdm90ZXIgc3Rha2UgY2hhbmdlcyBvciB2b3RlcyByZW1vdmVkIGZyb20ge3twcm9kdWNlcn19LiBIb3dldmVyIG5ldyB2b3RlcnMgd2lsbCBub3QgYmUgYWJsZSB0byB2b3RlIGZvciB7e3Byb2R1Y2VyfX0gd2hpbGUgaXQgcmVtYWlucyB1bnJlZ2lzdGVyZWQu0NWlWUGT8dQMdW5zdGFrZXRvcmV44wYtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBCdXkgUkVYIFRva2VucyBVc2luZyBTdGFrZWQgVG9rZW5zCnN1bW1hcnk6ICd7e25vd3JhcCBvd25lcn19IGJ1eXMgUkVYIHRva2VucyBpbiBleGNoYW5nZSBmb3IgdG9rZW5zIGN1cnJlbnRseSBzdGFrZWQgdG8gTkVUIGFuZC9vciBDUFUnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgp7e2Zyb21fbmV0fX0gYW5kIHt7ZnJvbV9jcHV9fSBhcmUgd2l0aGRyYXduIGZyb20ge3tyZWNlaXZlcn194oCZcyBORVQgYW5kIENQVSBiYW5kd2lkdGhzIHJlc3BlY3RpdmVseS4gVGhlc2UgZnVuZHMgYXJlIHVzZWQgdG8gcHVyY2hhc2UgUkVYIHRva2VucyBhdCB0aGUgY3VycmVudCBtYXJrZXQgZXhjaGFuZ2UgcmF0ZS4gSW4gb3JkZXIgZm9yIHRoZSBhY3Rpb24gdG8gc3VjY2VlZCwge3tvd25lcn19IG11c3QgaGF2ZSB2b3RlZCBmb3IgYSBwcm94eSBvciBhdCBsZWFzdCAyMSBibG9jayBwcm9kdWNlcnMuCgpBIHNlbGwgb3JkZXIgb2YgdGhlIHB1cmNoYXNlZCBhbW91bnQgY2FuIG9ubHkgYmUgaW5pdGlhdGVkIGFmdGVyIHdhaXRpbmcgZm9yIHRoZSBtYXR1cml0eSBwZXJpb2Qgb2YgNCB0byA1IGRheXMgdG8gcGFzcy4gRXZlbiB0aGVuLCBkZXBlbmRpbmcgb24gdGhlIG1hcmtldCBjb25kaXRpb25zLCB0aGUgaW5pdGlhdGVkIHNlbGwgb3JkZXIgbWF5IG5vdCBiZSBleGVjdXRlZCBpbW1lZGlhdGVseS4AQMvaqGxS1Qp1cGRhdGVhdXRo7QMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBNb2RpZnkgQWNjb3VudCBQZXJtaXNzaW9uCnN1bW1hcnk6ICdBZGQgb3IgdXBkYXRlIHRoZSB7e25vd3JhcCBwZXJtaXNzaW9ufX0gcGVybWlzc2lvbiBvZiB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hY2NvdW50LnBuZyMzZDU1YTJmYzNhNWMyMGI0NTZmNTY1N2ZhZjY2NmJjMjVmZmQwNmY0ODM2YzVlODI1NmY3NDExNDliMGIyOTRmCi0tLQoKTW9kaWZ5LCBhbmQgY3JlYXRlIGlmIG5lY2Vzc2FyeSwgdGhlIHt7cGVybWlzc2lvbn19IHBlcm1pc3Npb24gb2Yge3thY2NvdW50fX0gdG8gaGF2ZSBhIHBhcmVudCBwZXJtaXNzaW9uIG9mIHt7cGFyZW50fX0gYW5kIHRoZSBmb2xsb3dpbmcgYXV0aG9yaXR5Ogp7e3RvX2pzb24gYXV0aH19AADo6qpsUtUJdXBkYXRlcmV4gQMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBVcGRhdGUgUkVYIE93bmVyIFZvdGUgV2VpZ2h0CnN1bW1hcnk6ICdVcGRhdGUgdm90ZSB3ZWlnaHQgdG8gY3VycmVudCB2YWx1ZSBvZiBoZWxkIFJFWCB0b2tlbnMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgpVcGRhdGUgdm90ZSB3ZWlnaHQgb2Yge3tvd25lcn19IGFjY291bnQgdG8gY3VycmVudCB2YWx1ZSBvZiBoZWxkIFJFWCB0b2tlbnMuMKnDbqubU9UMdXBkdHJldmlzaW9uggMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBVcGRhdGUgU3lzdGVtIENvbnRyYWN0IFJldmlzaW9uIE51bWJlcgpzdW1tYXJ5OiAnVXBkYXRlIHN5c3RlbSBjb250cmFjdCByZXZpc2lvbiBudW1iZXInCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gYWR2YW5jZXMgdGhlIHN5c3RlbSBjb250cmFjdCByZXZpc2lvbiBudW1iZXIgdG8ge3tyZXZpc2lvbn19LnAV0oneqjLdDHZvdGVwcm9kdWNlcq0GLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogVm90ZSBmb3IgQmxvY2sgUHJvZHVjZXJzCnN1bW1hcnk6ICd7e25vd3JhcCB2b3Rlcn19IHZvdGVzIGZvciB7eyNpZiBwcm94eX19dGhlIHByb3h5IHt7bm93cmFwIHByb3h5fX17e2Vsc2V9fXVwIHRvIDMwIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZXN7ey9pZn19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvdm90aW5nLnBuZyNkYjI4Y2QzZGI2ZTYyZDQ1MDlhZjM2NDRjZTdkMzc3MzI5NDgyYTE0YmI0YmZhY2EyYWE1ZjE0MDBkOGU4YTg0Ci0tLQoKe3sjaWYgcHJveHl9fQp7e3ZvdGVyfX0gdm90ZXMgZm9yIHRoZSBwcm94eSB7e3Byb3h5fX0uCkF0IHRoZSB0aW1lIG9mIHZvdGluZyB0aGUgZnVsbCB3ZWlnaHQgb2Ygdm90ZXLigJlzIHN0YWtlZCAoQ1BVICsgTkVUKSB0b2tlbnMgd2lsbCBiZSBjYXN0IHRvd2FyZHMgZWFjaCBvZiB0aGUgcHJvZHVjZXJzIHZvdGVkIGJ5IHt7cHJveHl9fS4Ke3tlbHNlfX0Ke3t2b3Rlcn19IHZvdGVzIGZvciB0aGUgZm9sbG93aW5nIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZXM6Cgp7eyNlYWNoIHByb2R1Y2Vyc319CiAgKyB7e3RoaXN9fQp7ey9lYWNofX0KCkF0IHRoZSB0aW1lIG9mIHZvdGluZyB0aGUgZnVsbCB3ZWlnaHQgb2Ygdm90ZXLigJlzIHN0YWtlZCAoQ1BVICsgTkVUKSB0b2tlbnMgd2lsbCBiZSBjYXN0IHRvd2FyZHMgZWFjaCBvZiB0aGUgYWJvdmUgcHJvZHVjZXJzLgp7ey9pZn19AIDKJlWtMt0Kdm90ZXVwZGF0ZQAAAACALSSx4Qd3YXNtY2ZnAAAAANzc1LLjCHdpdGhkcmF3yQMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBXaXRoZHJhdyBmcm9tIFJFWCBGdW5kCnN1bW1hcnk6ICdXaXRoZHJhdyB7e25vd3JhcCBhbW91bnR9fSBmcm9tIHt7bm93cmFwIG93bmVyfX3igJlzIFJFWCBmdW5kIGJ5IHRyYW5zZmVycmluZyB0byB7e293bmVyfX3igJlzIGxpcXVpZCBiYWxhbmNlJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKV2l0aGRyYXdzIHt7YW1vdW50fX0gZnJvbSB7e293bmVyfX3igJlzIFJFWCBmdW5kIGFuZCB0cmFuc2ZlciB0aGVtIHRvIHt7b3duZXJ9feKAmXMgbGlxdWlkIGJhbGFuY2UuGgAAAKBh09wxA2k2NAAACGFiaV9oYXNoAABOUy91kzsDaTY0AAAKYmlkX3JlZnVuZAAAoGs6iGg8A2k2NAAAEWJsb2NrX2luZm9fcmVjb3JkAAAAYBoadUUDaTY0AAAIcmV4X2xvYW4AAAAgTXOiSgNpNjQAABNkZWxlZ2F0ZWRfYmFuZHdpZHRoAAAAAERzaGQDaTY0AAASZW9zaW9fZ2xvYmFsX3N0YXRlAAAAQERzaGQDaTY0AAATZW9zaW9fZ2xvYmFsX3N0YXRlMgAAAGBEc2hkA2k2NAAAE2Vvc2lvX2dsb2JhbF9zdGF0ZTMAAACARHNoZANpNjQAABNlb3Npb19nbG9iYWxfc3RhdGU0AAAAOLmjpJkDaTY0AAAIbmFtZV9iaWQAAABgGhqzmgNpNjQAAAhyZXhfbG9hbgCuSpeCqjmtA2k2NAAADXBvd2VydXBfb3JkZXIAVDYZg6o5rQNpNjQAAA1wb3dlcnVwX3N0YXRlAADAVyGd6K0DaTY0AAANcHJvZHVjZXJfaW5mbwCAwFchneitA2k2NAAADnByb2R1Y2VyX2luZm8yAADICl4jpbkDaTY0AAAOZXhjaGFuZ2Vfc3RhdGUAAAAAp6mXugNpNjQAAA5yZWZ1bmRfcmVxdWVzdAAAzgoifbK6A2k2NAAAEnJleF9yZXR1cm5fYnVja2V0cwAAAABEc7q6A2k2NAAAC3JleF9iYWxhbmNlAAAAIE29uroDaTY0AAAIcmV4X2Z1bmQAAAAgUlq7ugNpNjQAAAhyZXhfcG9vbAAAAEorbbu6A2k2NAAACXJleF9vcmRlcgBApLRmdbu6A2k2NAAAD3JleF9yZXR1cm5fcG9vbAAAAACrexXWA2k2NAAADnVzZXJfcmVzb3VyY2VzAAAAAOCrMt0DaTY0AAAKdm90ZXJfaW5mb8Aaalmb7KSLA2k2NAAAEWxpbWl0X2F1dGhfY2hhbmdlAg1Vc2VyQWdyZWVtZW507H8jIEVPUyBVc2VyIEFncmVlbWVudAoKIyMgRGVmaW5pdGlvbnMKCiBBbGwgY2FwaXRhbGl6ZWQsIGl0YWxpY2l6ZWQsIG9yIGlubGluZSBjb2RlIHRlcm1zIGluICpUaGUgRU9TIFVzZXIgQWdyZWVtZW50KiB3aWxsIGJlIGdpdmVuIHRoZSBzYW1lIGVmZmVjdCBhbmQgbWVhbmluZyBhcyBpbiAqRGVmaW5pdGlvbnMqLgoKKiBFT1MgVXNlciBBZ3JlZW1lbnQ6IFRoaXMgZG9jdW1lbnQgKCpFVUEqKQoKKiBDaGFpbiBJRDogYGNoYWluX2lkYOKAii3igIphY2EzNzZmMjA2YjhmYzI1YTZlZDQ0ZGJkYzY2NTQ3YzM2YzZjMzNlM2ExMTlmZmJlYWVmOTQzNjQyZjBlOTA2CgoqIFVzZXI6IEFueSBwZXJzb24gb3Igb3JnYW5pemF0aW9uIG9mIHBlcnNvbnMgd2hvIG1haW50YWluKHMpIGRpcmVjdCBvciBpbmRpcmVjdCBvd25lcnNoaXAgb2YgYW4gRU9TIGFjY291bnQsIG9yIEVPUy1iYXNlZCBwcm9wZXJ0eSBjb25uZWN0ZWQgdG8gYW4gRU9TIGFjY291bnQuCgoqIE93bmVyc2hpcDogRGlyZWN0IG9yIGluZGlyZWN0IGFjY2VzcyB0byBhbiBFT1MgYWNjb3VudCB0aHJvdWdoIG9uZSBvciBtb3JlIHZhbGlkIHBlcm1pc3Npb25zIGNoZWNrcy4gT3duZXJzaGlwIG1heSBiZSBwYXJ0aWFsbHkgc2hhcmVkIGJldHdlZW4gVXNlcnMgdGhyb3VnaCB0aGUgdXNlIG9mIG11bHRpLXNpZ25hdHVyZSBwZXJtaXNzaW9ucy4KCiogQmxvY2sgUHJvZHVjZXI6IFVzZXJzIHdobyBoYXZlIGNhbGxlZCBgcmVncHJvZHVjZXJgIGFuZCByZWNlaXZlIHJld2FyZHMgZnJvbSBlb3Npby52cGF5LgoKKiBgZW9zaW8ucHJvZHNgOiBBbiBFT1MgYWNjb3VudCB3aXRoIGEgZHluYW1pYyBwZXJtaXNzaW9ucyBzdHJ1Y3R1cmUgdGhhdCBjYW4gYXNzdW1lIHRoZSBwcml2aWxlZ2VzIG9mIHRoZSBgZW9zaW9gIGFjY291bnQgd2hlbiAxNS8yMSBCbG9jayBQcm9kdWNlcnMgYWdyZWUgdG8gZG8gc28uCgoqIE5ldHdvcmsgRnVuZHM6IFRva2VucyBjb250YWluZWQgd2l0aGluIHRoZSBmb2xsb3dpbmcgYWNjb3VudHM6IGBlb3Npby5uYW1lc2AsIGBlb3Npby5yYW1mZWVgLCBgZW9zaW8uc2F2aW5nYC4KCiogR292ZXJuaW5nIERvY3VtZW50czogKnJlZ3Byb2R1Y2VyKiBpcyBjb25zaWRlcmVkIGEgZ292ZXJuaW5nIGRvY3VtZW50LgoKKiBPbi1DaGFpbjogQW55IHRyYW5zYWN0aW9uLCBzbWFydCBjb250cmFjdCwgb3IgUmljYXJkaWFuIGNvbnRyYWN0IHdoaWNoIGlzIGxvY2F0ZWQgd2l0aGluIGEgYmxvY2sgdGhhdCBpcyBpcnJldmVyc2libGUgYW5kIGFwcGVuZGVkIHRvIHRoZSBFT1MgYmxvY2tjaGFpbiBgY2hhaW5faWRgLgoKKiBFT1MtYmFzZWQgUHJvcGVydHk6IEFueXRoaW5nIHRoYXQgcmVxdWlyZXMgYSB2YWxpZCBwZXJtaXNzaW9uIGluIG9yZGVyIHRvIGRpcmVjdGx5IG1hbmlwdWxhdGUsIGFsdGVyLCB0cmFuc2ZlciwgaW5mbHVlbmNlLCBvciBvdGhlcndpc2UgZWZmZWN0IG9uIHRoZSBFT1MgQmxvY2tjaGFpbgoKKiBDYWxsOiBUbyBzdWJtaXQgYW4gYWN0aW9uIHRvIHRoZSBFT1MgQmxvY2tjaGFpbiBgY2hhaW5faWRgLgoKKiBBdXRob3JpemF0aW9ucyAmIFBlcm1pc3Npb25zOiBQZXJtaXNzaW9ucyBhcmUgYXJiaXRyYXJ5IG5hbWVzIHVzZWQgdG8gZGVmaW5lIHRoZSByZXF1aXJlbWVudHMgZm9yIGEgdHJhbnNhY3Rpb24gc2VudCBvbiBiZWhhbGYgb2YgdGhhdCBwZXJtaXNzaW9uLiBQZXJtaXNzaW9ucyBjYW4gYmUgYXNzaWduZWQgZm9yIGF1dGhvcml0eSBvdmVyIHNwZWNpZmljIGNvbnRyYWN0IGFjdGlvbnMuCgoqIFJpY2FyZGlhbiBDb250cmFjdDogQSBjb250cmFjdCB0aGF0IHBsYWNlcyB0aGUgZGVmaW5pbmcgZWxlbWVudHMgb2YgYSBsZWdhbCBhZ3JlZW1lbnQgaW4gYSBmb3JtYXQgdGhhdCBjYW4gYmUgZXhwcmVzc2VkIGFuZCBleGVjdXRlZCBpbiBzb2Z0d2FyZS4KCiMjIEFydGljbGUgSSAt4oCKIFVzZXIgQWNrbm93bGVkZ2VtZW50IG9mIFJpc2tzCklmIFVzZXIgbG9zZXMgYWNjZXNzIHRvIHRoZWlyIEVPUyBhY2NvdW50IG9uIGBjaGFpbl9pZGAgYW5kIGhhcyBub3QgdGFrZW4gYXBwcm9wcmlhdGUgbWVhc3VyZXMgdG8gc2VjdXJlIGFjY2VzcyB0byB0aGVpciBFT1MgYWNjb3VudCBieSBvdGhlciBtZWFucywgdGhlIFVzZXIgYWNrbm93bGVkZ2VzIGFuZCBhZ3JlZXMgdGhhdCB0aGF0IEVPUyBhY2NvdW50IHdpbGwgYmVjb21lIGluYWNjZXNzaWJsZS4gVXNlcnMgYWNrbm93bGVkZ2UgdGhhdCB0aGUgVXNlciBoYXMgYW4gYWRlcXVhdGUgdW5kZXJzdGFuZGluZyBvZiB0aGUgcmlza3MsIHVzYWdlIGFuZCBpbnRyaWNhY2llcyBvZiBjcnlwdG9ncmFwaGljIHRva2VucyBhbmQgYmxvY2tjaGFpbi1iYXNlZCBzb2Z0d2FyZS4gVGhlIFVzZXIgYWNrbm93bGVkZ2VzIGFuZCBhZ3JlZXMgdGhhdCB0aGUgVXNlciBpcyB1c2luZyB0aGUgRU9TIGJsb2NrY2hhaW4gYXQgdGhlaXIgc29sZSByaXNrLgoKIyMgQXJ0aWNsZSBJSeKAii3igIpTcGVjaWFsIFVzZXIgVHlwZXMKVXNlcnMgd2hvIGNhbGwgYHJlZ3Byb2R1Y2VyYCBhZ3JlZSB0bywgYW5kIGFyZSBib3VuZCBieSwgdGhlICpyZWdwcm9kdWNlciogUmljYXJkaWFuIENvbnRyYWN0LgoKIyMgQXJ0aWNsZSBJSUnigIot4oCKQ29uc2VudCBvZiB0aGUgRVVBClRoZSBuYXR1cmUgb2YgdGhlICpFT1MgVXNlciBBZ3JlZW1lbnQqIGlzIHN1Y2ggdGhhdCBpdCBzZXJ2ZXMgYXMgYSBkZXNjcmlwdGlvbiBvZiB0aGUgY3VycmVudCBFT1MgTWFpbm5ldCBnb3Zlcm5hbmNlIGZ1bmN0aW9ucyB0aGF0IGFyZSBpbiBwbGFjZS4gVGhlc2UgZnVuY3Rpb25zLCBlbmZvcmNlZCBieSBjb2RlLCBkbyBub3QgcmVxdWlyZSB0aGUgY29uc2VudCBvZiBVc2VycyBhcyB0aGVzZSBmdW5jdGlvbnMgYXJlIGluaGVyZW50IGFuZCBzeXN0ZW1pYyB0byB0aGUgRU9TIE1haW5uZXQgaXRzZWxmLgoKIyMgQXJ0aWNsZSBJVuKAii3igIpHb3Zlcm5pbmcgRG9jdW1lbnRzCkFueSBtb2RpZmljYXRpb25zIHRvIHRoZSAqRVVBKiBhbmQgKmdvdmVybmluZyBkb2N1bWVudHMqIG1heSBiZSBtYWRlIGJ5IGBlb3Npby5wcm9kc2AuIEl0IGlzIGFkbW9uaXNoZWQgdGhhdCBhIHN0YXRlbWVudCBiZSBjcmFmdGVkIGFuZCBpc3N1ZWQgdGhyb3VnaCBgZW9zaW8ucHJvZHNgIHZpYSBlb3Npby5mb3J1bSByZWZlcmVuZHVtIGNvbnRyYWN0IGRlc2NyaWJpbmcgc3VjaCBhIG1vZGlmaWNhdGlvbiBpbiBhZHZhbmNlLgoKIyMgQXJ0aWNsZSBW4oCKLeKAik5hdGl2ZSBVbml0IG9mIFZhbHVlClRoZSBuYXRpdmUgdW5pdCBvZiB2YWx1ZSBvbiBFT1MgY2hhaW5faWQgc2hhbGwgYmUgdGhlIEVPUyB0b2tlbiBhcyBkZWZpbmVkIGFuZCBjcmVhdGVkIGJ5IHRoZSBgZW9zaW8udG9rZW5gIHNtYXJ0IGNvbnRyYWN0LgoKIyMgQXJ0aWNsZSBWSeKAii3igIpNYWludGFpbmluZyB0aGUgRU9TIGJsb2NrY2hhaW4KYGVvc2lvLnByb2RzYCB3aWxsIG1haW50YWluIHRoZSBhY3RpdmUgYmxvY2tjaGFpbiBjb2RlYmFzZSB3aGljaCBpbmNsdWRlcywgYnV0IGlzIG5vdCBsaW1pdGVkIHRvLCB0aGUgaW1wbGVtZW50YXRpb24gb2YgYWxsIG1vZGlmaWNhdGlvbnMgb2YgYWxsIGZlYXR1cmVzLCBvcHRpbWl6YXRpb25zLCBhbmQgdXBncmFkZXM6IHByZXNlbnQgYW5kIGZ1dHVyZS4KCiMjIEFydGljbGUgVklJ4oCKLeKAik5ldHdvcmsgRnVuZHMKSXQgaXMgYWRtb25pc2hlZCB0aGF0IGFueSBhbHRlcmluZyBvZiB0aGUgc3RhdGUgb2YgYW55IHRva2VucyBjb250YWluZWQgd2l0aGluIG5ldHdvcmsgZnVuZCBhY2NvdW50cywgb3IgYWx0ZXJpbmcgYW55IHByZS1leGlzdGluZyBjb2RlIHRoYXQgZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBnb3Zlcm5zIHRoZSBhbGxvY2F0aW9uLCBmdWxmaWxsbWVudCwgb3IgZGlzdHJpYnV0aW9uIG9mIGFueSAqbmV0d29yayBmdW5kcyogYmUgcHJlY2VkZWQgYnkgYSBzdGF0ZW1lbnQgY3JhZnRlZCBhbmQgaXNzdWVkIGJ5IGBlb3Npby5wcm9kc2AgdG8gdGhlICplb3Npby5mb3J1bSogcmVmZXJlbmR1bSBzeXN0ZW0gY29udHJhY3QgZGVzY3JpYmluZyB0aGUgZWZmZWN0IGluIGFkdmFuY2UuCgojIyBBcnRpY2xlIFZJSUnigIot4oCKRnJlZWRvbSBvZiBBY2NvdW50IENyZWF0aW9uCkFueSBjdXJyZW50IG9yIGZ1dHVyZSBVc2VyIGlzIGFibGUgdG8gY3JlYXRlIGFuIEVPUyBBY2NvdW50IHdpdGhvdXQgdGhlIHBlcm1pc3Npb24gYnkgYW55IG90aGVyIFVzZXIuIGBlb3Npby5wcm9kc2AgbWF5IG5ldmVyIGFmZmVjdCBhbiBFT1MgVXNlciBBY2NvdW50KHMpIHdpdGhvdXQgdmFsaWQgcGVybWlzc2lvbihzKSB3aGljaCBoYXZlIGJlZW4gc2hhcmVkIHdpdGggYGVvc2lvLnByb2RzYCBieSBhbiBFT1MgYWNjb3VudC4gYGVvc2lvLnByb2RzYCBtYXkgY2hhcmdlIGEgZmVlIGZvciBhbnkgYWN0aW9ucyB0aGF0IGFyZSByZXF1ZXN0ZWQgYnkgb3RoZXIgVXNlcnMgcGVydGFpbmluZyB0byBhbiBFT1MgYWNjb3VudCB3aGVyZSBwZXJtaXNzaW9ucyBhcmUgc2hhcmVkLgoKIyMgQXJ0aWNsZSBJWOKAii3igIpObyBGaWR1Y2lhcnkKTm8gVXNlciBzaGFsbCBoYXZlIGEgZmlkdWNpYXJ5IHB1cnBvc2UgdG8gc3VwcG9ydCB0aGUgdmFsdWUgb2YgdGhlIEVPUyB0b2tlbi4gTm8gVXNlciBjYW4gYXV0aG9yaXplIGFueW9uZSB0byBob2xkIGFzc2V0cywgYm9ycm93LCBzcGVhaywgY29udHJhY3Qgb24gYmVoYWxmIG9mIG90aGVyIEVPUyBVc2VycyBvciB0aGUgRU9TIGJsb2NrY2hhaW4gYGNoYWluX2lkYCBjb2xsZWN0aXZlbHkuIFRoaXMgRU9TIGJsb2NrY2hhaW4gc2hhbGwgaGF2ZSBubyBvd25lcnMsIG1hbmFnZXJzLCBvciBmaWR1Y2lhcmllcy4KCiMjIEFydGljbGUgWOKAii3igIpVc2VyIFNlY3VyaXR5CkFsbCBpdGVtcyBwZXJ0YWluaW5nIHRvIHBlcnNvbmFsIGFjY291bnQgc2VjdXJpdHksIGluY2x1ZGluZyBidXQgbm90IGxpbWl0ZWQgdG8gdGhlIHNhZmVrZWVwaW5nIG9mIHByaXZhdGUga2V5cywgaXMgc29sZWx5IHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgVXNlciB0byBzZWN1cmUuCgojIyBBcnRpY2xlIFhJIC0gYGVvc2lvLnByb2RzYCBMaW1pdGVkIExpYWJpbGl0eQpUaGUgVXNlciBhY2tub3dsZWRnZXMgYW5kIGFncmVlcyB0aGF0LCB0byB0aGUgZnVsbGVzdCBleHRlbnQgcGVybWl0dGVkIGJ5IGFueSBhcHBsaWNhYmxlIGxhdywgdGhpcyBkaXNjbGFpbWVyIG9mIGxpYWJpbGl0eSBhcHBsaWVzIHRvIGFueSBhbmQgYWxsIGRhbWFnZXMgb3IgaW5qdXJ5IHdoYXRzb2V2ZXIgY2F1c2VkIGJ5IG9yIHJlbGF0ZWQgdG8gcmlza3Mgb2YsIHVzZSBvZiwgb3IgaW5hYmlsaXR5IHRvIHVzZSwgdGhlIEVPUyB0b2tlbiBvciB0aGUgRU9TIGJsb2NrY2hhaW4gYGNoYWluX2lkYCB1bmRlciBhbnkgY2F1c2Ugb2YgYWN0aW9uIHdoYXRzb2V2ZXIgb2YgYW55IGtpbmQgaW4gYW55IGp1cmlzZGljdGlvbiwgaW5jbHVkaW5nLCB3aXRob3V0IGxpbWl0YXRpb24sIGFjdGlvbnMgZm9yIGJyZWFjaCBvZiB3YXJyYW50eSwgYnJlYWNoIG9mIGNvbnRyYWN0IG9yIHRvcnQgKGluY2x1ZGluZyBuZWdsaWdlbmNlKSBhbmQgdGhhdCBgZW9zaW8ucHJvZHNgLCBub3IgdGhlIGluZGl2aWR1YWwgcGVybWlzc2lvbnMgdGhhdCBvcGVyYXRlIGl0LCBzaGFsbCBub3QgYmUgbGlhYmxlIGZvciBhbnkgaW5kaXJlY3QsIGluY2lkZW50YWwsIHNwZWNpYWwsIGV4ZW1wbGFyeSBvciBjb25zZXF1ZW50aWFsIGRhbWFnZXMsIGluY2x1ZGluZyBmb3IgbG9zcyBvZiBwcm9maXRzLCBnb29kd2lsbCBvciBkYXRhLgoKIyBFT1Mg7IKs7Jqp7J6QIOuPmeydmOyEnAoKIyMg7KCV7J2YCgpFT1Mg7IKs7Jqp7J6QIOuPmeydmOyEnOydmCDrqqjrk6Ag64yA66y47J6QLCDquLDsmrjsnoQg6ry0LCDrmJDripQg7J2465287J24IOy9lOuTnCDsmqnslrTripQg7KCV7J2Y7JeQ7ISc7JmAIOuPmeydvO2VnCDtmqjqs7zsmYAg7J2Y66+46rCAIOu2gOyXrOuQqeuLiOuLpC4KCi0gICBFT1Mg7IKs7Jqp7J6QIOuPmeydmOyEnDog67O4IOusuOyEnCAoRVVBKQotICAg7LK07J24IElEOiBjaGFpbl9pZOKAii0tLeKAimFjYTM3NmYyMDZiOGZjMjVhNmVkNDRkYmRjNjY1NDdjMzZjNmMzM2UzYTExOWZmYmVhZWY5NDM2NDJmMGU5MDYKLSAgIOyCrOyaqeyekDogRU9TIOqzhOygleydhCDsp4HsoJEg65iQ64qUIOqwhOygkeyggeycvOuhnCDshozsnKDtlZjqsbDrgpggRU9TIOqzhOygleyXkCDsl7DqsrDrkJwgRU9TIOq4sOuwmCDsho3shLHsnYQg7Jyg7KeA7ZWY6rGw64KYIOq0gOumrO2VmOuKlCDsgqzrnowsIOyhsOyngSwg65iQ64qUIOyhsOyngeydmCDrqqjrk6Ag7IKs656MLgotICAg7IaM7Jyg6raMOiDtlZjrgpgg7J207IOB7J2YIOycoO2aqO2VnCDsgqzsmqnqtoztlZwg7ZmV7J247J2EIO2Gte2VtCBFT1Mg6rOE7KCV7JeQIOyngeygkSDrmJDripQg6rCE7KCR7KCB7Jy866GcIOygkeq3vO2VqeuLiOuLpC4g7IaM7Jyg6raM7J2AIOuLpOykkSDshJzrqoXqtoztlZzsnYQg7IKs7Jqp7ZWY7JesIOyCrOyaqeyekOqwhOyXkCDrtoDrtoTsoIHsnLzroZwg6rO17JygIOuQoCDsiJgg7J6I7Iq164uI64ukLgotICAg67iU66GdIO2UhOuhnOuTgOyEnDogcmVncHJvZHVjZXLrpbwg7Iuk7ZaJ7ZWY6rOgIGVvc2lvLnZwYXnroZzrtoDthLAg67O07IOB7J2EIOuwm+uKlCDsgqzsmqnsnpAuCi0gICBlb3Npby5wcm9kczogMTUvMjEg67iU66GdIO2UhOuhnOuTgOyEnOuTpOydtCDrj5nsnZgg7ZWgIOuVjCBlb3NpbyDqs4TsoJXsnZgg6raM7ZWc7J2EIOqwgOyniCDsiJgg7J6I64qUIOuPmeyggSDqtoztlZwg6rWs7KGw66W8IOqwgOynhCBFT1Mg6rOE7KCVLgotICAg64Sk7Yq47JuM7YGsIOyekOq4iDog64uk7J2MIOqzhOygleyXkCDtj6ztlagg65CcIO2GoO2BsDogZW9zaW8ubmFtZXMsIGVvc2lvLnJhbWZlZSwgZW9zaW8uc2F2aW5nLgotICAg6rSA66asIOusuOyEnDogcmVncHJvZHVjZXLripQg6rSA66asIOusuOyEnOuhnCDqsITso7zrkKnri4jri6QuCi0gICDsmKjssrTsnbg6IEVPUyDruJTroZ3ssrTsnbggY2hhaW5faWTsl5Ag67mE6rCA7Jet7KCB7J2066mwIOy2lOqwgCDtlaAg7IiYIOyeiOuKlCDruJTroZ0g64K07JeQIOychOy5mO2VnCDrqqjrk6Ag6rGw656YLCDsiqTrp4jtirgg6rOE7JW9IOuYkOuKlCDrpqzsubTrpbTrlJTslYgg6rOE7JW9LgotICAgRU9TIOq4sOuwmCDsho3shLE6IEVPUyDruJTroZ3ssrTsnbjsnYQg7KeB7KCRIOyhsOyekSwg67OA6rK9LCDsoITshqEsIOyYge2WpSDrmJDripQg64us66asIOyggeyaqe2VmOq4sCDsnITtlbQg7Jyg7Zqo7ZWcIOyCrOyaqSDqtoztlZzsnbQg7ZWE7JqU7ZWcIOuqqOuToCDqsoMKLSAgIOy9nDogRU9TIOu4lOuhneyytOyduCBjaGFpbl9pZOyXkCDsnpHsl4XsnYQg7Iug7LKt7ZWY64qUIOqygy4KLSAgIO2XiOqwgCDrsI8g6raM7ZWcOiAn7ZeI6rCAJ+uKlCDtlbTri7kg6raM7ZWc7J2EIOuMgOyLoO2VmOyXrCDsoITshqHrkJjripQg7Yq4656c7J6t7IWY7J2YIOyalOq1rOyCrO2VreydhCDsoJXsnZjtlZjripQg642wIOyCrOyaqeuQqeuLiOuLpC4gJ+q2jO2VnCfsnYAg7Yq57KCVIOqzhOyVvSDsobDsuZjsl5Ag64yA7ZWcIOq2jO2VnOydhCDrtoDsl6ztlanri4jri6QuCi0gICDrpqzsubTrpbTrlJTslYgg6rOE7JW9OiDtlanrspXsoIEg6rOE7JW97J2YIOygleydmCDsmpTshozrpbwg7IaM7ZSE7Yq47Juo7Ja066GcIO2RnO2YhO2VmOqzoCDsi6TtlontlaAg7IiYIOyeiOuKlCDtmJXsi53snLzroZwg67Cw7LmY7ZWY64qUIOqzhOyVvS4KCiMjIOygnCAx7KGw4oCKLS0t4oCK7JyE7ZeY7JeQIOuMgO2VnCDsgqzsmqnsnpDrk6TsnZgg7J247KeACgrsgqzsmqnsnpDqsIAgY2hhaW5faWTsl5DshJwgRU9TIOqzhOygleyXkCDrjIDtlZwg7KCR6re8IOq2jO2VnOydhCDsnoPqs6AsIOuLpOuluCDrsKnrspXsnLzroZwgRU9TIOqzhOygleyXkCDrjIDtlZwg7KCR6re87J2EIOuztO2YuO2VmOq4sCDsnITtlbQg7KCB7KCI7ZWcIOyhsOy5mOulvCDst6jtlZjsp4Ag7JWK64qUIOqyveyasOyXkOuKlCBFT1Mg6rOE7KCV7JeQIOygkeq3vO2VoCDsiJgg7JeG6rKMIOuQnOuLpOuKlCDqsoPsnYQg7J247KCV7ZWY6rOgIOuPmeydmO2VqeuLiOuLpC4g7IKs7Jqp7J6Q64qUIOyVlO2YuO2ZlCDthqDtgbDqs7wg67iU66Gd7LK07J24IOq4sOuwmCDshoztlITtirjsm6jslrTsnZgg7JyE7ZeYLCDsgqzsmqnrspUsIOq3uOumrOqzoCDrs7XsnqHshLHsl5Ag64yA7ZW0IOy2qeu2hO2eiCDsnbTtlbTtlZjqs6Ag7J6I7J2M7J2EIOyduOygle2VqeuLiOuLpC4g7IKs7Jqp7J6Q64qUIEVPUyDruJTroZ3ssrTsnbjsnZgg7IKs7Jqp7JeQIOuMgO2VnCDsoITsoIHsnbgg7LGF7J6E7J2EIOynhOuLpOuKlCDqsoPsl5Ag7J247KCV7ZWY6rOgIOuPmeydmO2VqeuLiOuLpC4KCiMjIOygnCAy7KGw4oCKLS0t4oCK7Yq567OE7ZWcIOyCrOyaqeyekCDsnKDtmJUKCnJlZ3Byb2R1Y2Vy66W8IOyLpO2Wie2VmOuKlCDsgqzsmqnsnpDripQgcmVncHJvZHVjZXIg66as7Lm066W065SU7JWIIOqzhOyVveyXkCDrj5nsnZjtlZjqs6AsIOydtOyXkCDqtazsho3rkKnri4jri6QuCgojIyDsoJwgM+yhsOKAii0tLeKAikVVQeydmCDrj5nsnZgKCkVPUyDsgqzsmqnsnpAg64+Z7J2Y7ISc64qUIO2YhOyerCDsi5ztlonspJHsnbggRU9TIOuplOyduOuEtyDqsbDrsoTrhIzsiqTsl5Ag64yA7ZWcIOyEpOuqheycvOuhnCDsgqzsmqnrkKnri4jri6QuIOy9lOuTnOyXkCDsnZjtlbQg7Iuc7ZaJ65CY64qUIOydtOufrO2VnCDquLDriqXsnYAgRU9TIOuplOyduOuEtyDsnpDssrTsnZgg7LK06rOE7KCB7J206rOgIOqzoOycoO2VnCDquLDriqXsnbTrr4DroZwg7IKs7Jqp7J6Q7J2YIOuPmeydmOulvCDtlYTsmpTroZwg7ZWY7KeAIOyViuyKteuLiOuLpC4KCiMjIOygnCA07KGw4oCKLS0t4oCK6rSA66asIOusuOyEnAoKRVVB7JmAIOq0gOumrCDrrLjshJzripQgZW9zaW8ucHJvZHPrpbwg7Ya17ZW0IOyImOygleydtCDqsIDriqXtlanri4jri6QuIO2KueyglSDrs4Dqsr3sgqztla3snYQg7IKs7KCE7JeQIOyEpOuqhe2VmOuKlCBlb3Npby5mb3J1bSDtiKztkZwg6rOE7JW97J2EIO2Gte2VtCBlb3Npby5wcm9kc+qwgCDshLHrqoXshJzrpbwg7J6R7ISx7ZWY6rOgIOuwnOq4ie2VoCDqsoPsnYQg6raM6rOg7ZWp64uI64ukLgoKIyMg7KCcIDXsobDigIotLS3igIrqsIDsuZjsnZgg6riw67O4IOuLqOychAoKRU9TIGNoYWluX2lk7J2YIOq4sOuzuCDri6jsnITripQgZW9zaW8udG9rZW4g7Iqk66eI7Yq4IOqzhOyVveyXkCDsnZjtlbQg7KCV7J2Y65CY6rOgIOyekeyEseuQnCBFT1Mg7Yag7YGw7J6F64uI64ukLgoKIyMg7KCcIDbsobDigIotLS3igIpFT1Mg67iU66Gd7LK07J24IOycoOyngAoKZW9zaW8ucHJvZHPripQg66qo65OgIOq4sOuKpSwg7LWc7KCB7ZmULCDqt7jrpqzqs6Ag7JeF6re466CI7J2065Oc7J2YIO2YhOyerOyZgCDrr7jrnpjsnZgg66qo65OgIOyImOygleyCrO2VreydhCDqtaztmITtlZjripQg6rKD7J2EIO2PrO2VqO2VmOuQmCwg7J207JeQIOq1re2VnOuQmOyngCDslYrripQg7Zmc7ISx7ZmU65CcIOu4lOuhneyytOyduCDsvZTrk5zrsqDsnbTsiqTrpbwg7Jyg7KeA7ZWp64uI64ukCgojIyDsoJwgN+yhsOKAii0tLeKAiuuEpO2KuOybjO2BrCDsnpDquIgKCuuEpO2KuOybjO2BrCDsnpDquIgg6rOE7KCV7JeQIO2PrO2VqOuQnCDthqDtgbDsnZgg7IOB7YOc66W8IOuzgOqyve2VmOqxsOuCmCwg64Sk7Yq47JuM7YGsIOyekOq4iOydmCDrsLDrtoQsIOydtO2WiSwg65iQ64qUIOuwsO2PrOulvCDsp4Ev6rCE7KCR7KCB7Jy866GcIOq0gOumrO2VmOuKlCDquLDsobQg7L2U65Oc66W8IOuzgOqyve2VmOuKlCDqsr3smrDsl5DripQgZW9zaW8ucHJvZHPrpbwgZW9zaW8uZm9ydW0g7LSdIO2IrO2RnCDsi5zsiqTthZwg6rOE7JW97JeQIOy2lOqwgO2VmOyXrCDsgqzsoITsl5Ag7Lap67aE7ZWcIOyEpOuqheydtCDsnbTro6jslrTsoLjslbwg7ZWp64uI64ukLgoKIyMg7KCcIDjsobDigIotLS3igIrqs4TsoJUg7IOd7ISx7J2YIOyekOycoAoK7ZiE7J6sLCDrmJDripQg66+4656Y7J2YIOyCrOyaqeyekOuKlCDri6Trpbgg7IKs7Jqp7J6Q7J2YIO2XiOqwgCDsl4bsnbQgRU9TIOqzhOygleydhCDrp4zrk6Qg7IiYIOyeiOyKteuLiOuLpC4gZW9zaW8ucHJvZHPripQgRU9TIOqzhOygleyXkCDsnZjtlbQg6rO17Jyg65CcIOycoO2aqO2VnCDtl4jqsIAg7JeG7J2064qUIEVPUyDsgqzsmqnsnpAg6rOE7KCV7JeQIOyYge2WpeydhCDspIQg7IiYIOyXhuyKteuLiOuLpC4gZW9zaW8ucHJvZHPripQg6raM7ZWc7J20IOqzteycoOuQmOuKlCBFT1Mg6rOE7KCV6rO8IOq0gOugqO2VmOyXrCDri6Trpbgg7IKs7Jqp7J6Q6rCAIOyalOyyre2VnCDrqqjrk6Ag7J6R7JeF7JeQIOuMgO2VtCDsmpTquIjsnYQg67aA6rO87ZWgIOyImCDsnojsirXri4jri6QuCgojIyDsoJwgOeyhsOKAii0tLeKAiuyLoO2DgSDrtojqsIAKCuyCrOyaqeyekOuKlCBFT1Mg7Yag7YGw7J2YIOqwgOy5mOulvCDrkrfrsJvsuajtlaAg7IiYIOyeiOuKlCDsi6Dtg4Eg66qp7KCB7J2EIOqwgOyguOyEnOuKlCDslYjrkKnri4jri6QuIOyCrOyaqeyekOuKlCBFT1Mg7IKs7Jqp7J6QIOuYkOuKlCBFT1Mg67iU66Gd7LK07J24IGNoYWluX2lk66W8IOuMgO2RnO2VmOyXrCDriITqtazsl5Dqsozrj4Qg7J6Q7IKw7J2EIOuztOycoO2VmOqxsOuCmCwg64yA7Jes7ZWY6rGw64KYLCDsnpDsgrDsl5Ag64yA7ZW0IOyWmOq4sO2VmOqxsOuCmCwg6rOE7JW97J2EIOunuuydhCDqtoztlZzsnYQg67aA7Jes7ZWgIOyImCDsl4bsirXri4jri6QuIEVPUyDruJTroZ3ssrTsnbjsl5DripQg7IaM7Jyg7J6QLCDqtIDrpqzsnpAsIOq3uOumrOqzoCDsiJjtg4HsnpDqsIAg7JeG7Ja07JW8IO2VqeuLiOuLpC4KCiMjIOygnCAxMOyhsOKAii0tLeKAiuyCrOyaqeyekCDrs7TslYgKCuu5hOqzteqwnCDtgqTsnZgg67O06rSA7J2EIO2PrO2VqO2VmOuQmCwg7J207JeQIOq1re2VnOuQmOyngCDslYrripQg6rCc7J24IOqzhOyijCDrs7TslYjqs7wg6rSA66Co65CcIOuqqOuToCDtla3rqqnrk6Qg65iQ7ZWcIOyghOyggeycvOuhnCDsgqzsmqnsnpDqsIAg7JWI7KCE7ZWY6rKMIOuztOq0gO2VtOyVvCDtlanri4jri6QuCgojIyDsoJwgMTHsobDigIotLS3igIplb3Npby5wcm9kcyDsnKDtlZzssYXsnoQKCuyCrOyaqeyekOuKlCDrspXrpaDsnbQg7ZeI7Jqp7ZWY64qUIO2VnOuPhCDrgrTsl5DshJwgRU9TIO2GoO2BsOydmCDsnITtl5gsIOyCrOyaqSwg65iQ64qUIOyCrOyaqSDrtojqsIDroZwg7J247ZW0IOuwnOyDne2VmOuKlCDrqqjrk6Ag7IaQ7ZW07JeQIOuMgO2VtCDssYXsnoTsnZgg66m07LGFIOyhsO2VreydtCDsoIHsmqnrkJzri6TripQg6rKD7J2EIOyduOygle2VmOqzoCwg64+Z7J2Y7ZWp64uI64ukLiDqs4Tslb0g7JyE67CYLCDrtojrspUg7ZaJ7JyELCDqt7jrpqzqs6Ag7JyE67CYIO2WieychCAo6rSA66asIO2DnOunjCDtj6ztlagp7JmAIGVvc2lvLnByb2RzIOuYkOuKlCDsnbTrpbwg7Jq07JiB7ZWY64qUIOqwnOuzhCDsgqzsmqkg6raM7ZWc7J2EIO2PrO2VqO2VmOuQmCwg7J207JeQIOq1re2VnO2VmOyngCDslYrqs6Ag66qo65OgIOq0gO2VoCDsp4Dsl63sl5DshJzsnZgg66qo65OgIOyiheulmOydmCDsgqzsnKDroZwg7J247ZWcIEVPUyDruJTroZ3ssrTsnbggY2hhaW5faWQg7J207J21LCDsmIHsl4XqtowsIOuYkOuKlCDrjbDsnbTthLDsnZgg7IaQ7Iuk7J2EIO2PrO2VqO2VmOyXrCDqsITsoJHsoIEsIOyasOuwnOyggSwg7Yq57IiY7ZWcLCDrjIDtkZzsoIEsIOq3uOumrOqzoCDtjIzsg53soIHsnbgg7IaQ7ZW07JeQIOuMgO2VnCDssYXsnoTsnYQg7KeA7KeAIOyViuyKteuLiOuLpC4KCiMgRU9T55So5oi35Y2P6K6uCgojIyAqKuWumuS5iSoqCgpFT1PnlKjmiLfljY/orq7kuK3nmoTmiYDmnInlpKflhpnvvIzmlpzkvZPmiJblhoXogZTku6PnoIHmnK/or63lsIblhbfmnInkuI7ku6XkuIvlrprkuYnnm7jlkIznmoTmlYjmnpzlkozlkKvkuYnjgIIKCi0gRU9T55So5oi35Y2P6K6u77ya5Y2z5pys5paH5qGj77yIRVVB77yJCgotIOmTvuS4iklEOiBjaGFpbl9pZCAtIGFjYTM3NmYyMDZiOGZjMjVhNmVkNDRkYmRjNjY1NDdjMzZjNmMzM2UzYTExOWZmYmVhZWY5NDM2NDJmMGU5MDYKCi0g55So5oi377ya5Lu75oSP5ruh6Laz5LiL5YiX6KaB5rGC55qE5Liq5Lq65oiW57uE57uH77ya55u05o6l5oiW6ICF6Ze05o6l5oul5pyJRU9T6LSm5oi35oiW5LiORU9T6LSm5oi35YWz6IGU55qE5Z+65LqORU9T5Y+R6KGM55qE6LSi5Lqn44CCCgotIOaJgOacieadg++8muebtOaOpeaIluiAhemXtOaOpemAmui/h+S4gOS4quaIluWkmuS4quacieaViOeahOadg+mZkOajgOafpeiuv+mXruS4gOS4qkVPU+i0puaIt+OAguaJgOacieadg+WPr+S7pemAmui/h+Wkmuetvuadg+mZkOiuuOWPr+WcqOeUqOaIt+mXtOWFseS6q+OAggoKLSDmiafooYzkuoZyZWdwcm9kdWNl77yM5bm25LiU5LuOZW9zaW8udnBheemihuWPluaUtuWFpeeahOeUqOaIt+OAggoKLSBlb3Npby5wcm9kczrlhbfmnInliqjmgIHmnYPpmZDnu5PmnoTnmoRFT1PluJDmiLfvvIzlvZMxNS8yMSBCbG9jayBQcm9kdWNlcnPlkIzmhI/ml7bvvIzor6XluJDmiLflj6/ku6Xmib/mi4Vlb3Npb+W4kOaIt+eahOadg+mZkOOAggoKLSDnvZHnu5zotYTkuqfvvJrljIXlkKvlnKjku6XkuIvotKbmiLfkuK3nmoTku6PluIHvvJplb3Npby5uYW1lc+OAgWVvc2lvLnJhbWZlZeOAgSAgZW9zaW8uc2F2aW5n44CCCgotIOayu+eQhuaWh+aho++8mnJlZ3Byb2R1Y2Vy5piv5rK755CG5paH5qGj44CCCgotIOS7u+S9leS6pOaYk+OAgeaZuuiDveWQiOe6puaIluiAheadjuWYieWbvuWQiOe6pu+8jOWug+S7rOW3sue7j+S9jeS6juS4gOS4quWMuuWdl+S4re+8jOW5tuS4lOi/meS4quWMuuWdl+aYr+S4jeWPr+mAhui9rOeahOOAgeW3sumZhOWKoOWIsOWQjeS4umNoYWluX2lk55qERU9T5Yy65Z2X6ZO+5Lit44CCCgotIOWfuuS6jkVPU+i1hOS6p++8muS7u+S9lemcgOimgeacieaViOiuuOWPr+adpeaTjeS9nOOAgeaUueWPmOOAgei9rOenu+OAgeW9seWTjeaIluiAhei/m+ihjOWFtuS7luaTjeS9nOeahOS4nOilv+OAggoKLSDmiafooYzvvJrlnKjlkI3kuLpjaGFpbl9pZOeahEVPU+WMuuWdl+mTvuS4reaPkOS6pOS4gOS4quihjOWKqOOAggoKLSDmjojmnYPlkozmnYPpmZDvvJrmnYPpmZDvvIhQZXJtaXNzaW9uc++8ieaYr+eUqOadpeWumuS5ieS7o+ihqOivpeadg+mZkOWPkemAgeeahOS6pOaYk+eahOimgeaxgueahOS7u+aEj+WQjeWtl+OAguWPr+S7pee7meeJueWumueahOWQiOe6puaTjeS9nOeahOaOiOadg++8iEF1dGhvcml6YXRpb25z77yJ5YiG6YWN5p2D6ZmQ77yIUGVybWlzc2lvbnPvvInjgIIKCi0g5p2O5ZiJ5Zu+5ZCI57qm77ya5bCG5rOV5b6L5Y2P6K6u5Lit55qE5a6a5LmJ6KaB57Sg5Lul6IO95Zyo6L2v5Lu25Lit6KGo6L6+5ZKM5omn6KGM55qE5qC85byP6KGo6L6+55qE5ZCI57qm44CCCgojIyAqKuadoeasvuS4gCoqKirnlKgqKioq5oi36aOO6Zmp56Gu6K6kKioKCuWmguaenOeUqOaIt+S4ouWksei0puaIt+iuv+mXruadg+mZkOaIluiAheayoeaciemHh+WPluWQiOmAgueahOaWueW8j+S/neaKpOi0puaIt+iuv+mXruadg+mZkO+8jOeUqOaIt+W6lOefpeaCieW5tuWQjOaEj++8jEVPU+i0puaIt+WwhuaXoOazleiuv+mXruOAgueUqOaIt+W6lOehruiupOeUqOaIt+WvueWKoOWvhuS7o+W4geWSjOWMuuWdl+mTvui9r+S7tueahOmjjumZqeOAgeeUqOazleWSjOWkjeadguaAp+acieWFheWIhuS6huino+OAgueUqOaIt+aJv+iupOW5tuWQjOaEj+eUqOaIt+iHquihjOaJv+aLheS9v+eUqEVPU+WMuuWdl+mTvueahOmjjumZqeOAggoKIyMgKirmnaHmrL7kuowqKioq54m55q6K55SoKioqKuaIt+exu+WeiyoqCgrmiafooYxyZWdwcm9kdWNl77yM5ZCM5oSP5bm25LiU5Y+XcmVncHJvZHVjZXLmnY7lmInlm77lkIjnuqbnuqbmnZ/nmoTnlKjmiLfjgIIKCiMjICoq5p2h5qy+5LiJKioqKuWQjOaEjyoqKipFT1MqKioq55SoKioqKuaIt+WNj+iurioqCgpFT1PnlKjmiLfljY/orq7nmoTlrp7otKjmmK/lr7nlvZPliY1FT1PkuLvnvZHmsrvnkIblip/og73nmoTmj4/ov7DjgILnlLHku6PnoIHlvLrliLbmiafooYznmoTlip/og73kuI3pnIDopoHnlKjmiLfnmoTlkIzmhI/vvIzlm6DkuLrov5nkupvlip/og73mmK9FT1PkuLvnvZHns7vnu5/oh6rluKbnmoTjgIIKCiMjICoq5p2h5qy+5ZubKiogLSAqKuayu+eQhuaWh+ahoyoqCgplb3Npby5wcm9kc+WPr+S7peWvuUVPU+eUqOaIt+WNj+iuruWSjOayu+eQhuaWh+aho+i/m+ihjOS7u+S9leS/ruaUueOAguS4peato+aPkOmGku+8jOaPkOWJjeeUqGVvc2lvLmZvcnVt5YWs5oqV5ZCI57qm77yM6YCa6L+HZW9zaW8ucHJvZHPnvJblhpnjgIHlj5HluIPkuIDkuKrlo7DmmI7mnaXmj4/ov7DpgqPkuKrkv67mlLnjgIIKCiMjICoq5p2h5qy+5LqUKioqKuWOn+eUn+S7tyoqKirlgLzljZXkvY0qKgoKRU9T5YWs6ZO+5LiK55qE5Y6f55Sf5Lu35YC85Y2V5L2N5bqU5Li6ZW9zaW8udG9rZW7mmbrog73lkIjnuqblrprkuYnlkozliJvlu7rnmoRFT1PpgJror4HjgIIKCiMjICoq5p2h5qy+5YWtKioqKue7tOaKpCoqKipFT1MqKioq5Yy6KioqKuWdl+mTvioqCgrml6DorrrnjrDlnKjmiJblsIbmnaXlsIbmnaXvvIxlb3Npby5wcm9kc+Wwhue7tOaKpOa0u+i3g+eahOWMuuWdl+mTvuS7o+eggeW6k++8jOWMheaLrOS9huS4jemZkOS6juaJgOacieWKn+iDveOAgeS8mOWMluOAgeWNh+e6p+eahOaJgOacieS/ruaUueOAgeWunueOsOOAggoKIyMg5p2h5qy+5LiDIC0gKioqKuWumioqKirkuYkqKioqRU9TKioqKue9kee7nOi1hOS6pwoK5pu05pS5572R57uc6LWE5Lqn6LSm5oi35Lit55qE5Lu75L2V5Luj5biB55qE54q25oCB77yM5pu05pS55Lu75L2V546w5a2Y55qE55u05o6l5oiW6Ze05o6l566h55CG5Lu75L2V572R57uc6LWE5Lqn55qE5YiG6YWN44CB5a6e546w5oiW5YiG5Y+R55qE5Luj56CB77yM6ZyA6KaB5LqL5YWI55SoZW9zaW8ucHJvZHPlnKhlb3Npby5mb3J1beWFrOaKleWQiOe6puS4iue8luWGmeWSjOWPkeW4g+aViOaenOaPj+i/sOeahOWjsOaYjuOAggoKIyMgKirmnaHmrL7lhast5Yib5bu66LSm5oi36Ieq55SxKioKCuS7u+S9leeOsOWcqOaIluWwhuadpeeahOeUqOaIt+mDveWPr+S7peWcqOacque7j+S7u+S9leWFtuS7lueUqOaIt+iuuOWPr+eahOaDheWGteS4i+WIm+W7ukVPU+W4kOaIt+OAgiAg5aaC5L2V5rKh5pyJ5pS25YiwRU9T5biQ5oi355qE5pyJ5pWI6K645Y+v77yIcGVybWlzc2lvbu+8ie+8jGVvc2lvLnByb2Rz5rC46L+c5LiN5Lya5b2x5ZONRU9T55So5oi35biQ5oi344CCICDlr7nkuo7lhbHkuqvmnYPpmZDnmoRFT1PluJDmiLfnmoTlhbbku5bnlKjmiLfor7fmsYLnmoTku7vkvZXmk43kvZzvvIxlb3Npby5wcm9kc+WPr+iDveS8muaUtuWPlui0ueeUqOOAggoKIyMgKirmnaHmrL7kuZ3msqHmnInlj5fmiZjkuroqKgoK5rKh5pyJ55So5oi35om/5ouF5L+h5omY6LSj5Lu75p2l57u05oyBRU9T5Luj5biB55qE5Lu35YC844CC5rKh5pyJ55So5oi35Y+v5Lul5Luj6KGoRU9T55So5oi35oiW6ICF5Luj6KGo5ZCN5Li6Y2hhaW5fSUTnmoRFT1PljLrlnZfpk77mjojmnYPku7vkvZXkurrlhbHlkIzmjIHmnInotYTkuqfjgIHlgJ/mrL7jgIHlj5HoqIDmiJblrprlkIjlkIzjgILmraTljLrlnZfpk77kuI3lrZjlnKjmi6XmnInogIXjgIHnrqHnkIbogIXmiJbogIXlj5fmiZjkurrjgIIKCiMjICoq5p2h5qy+5Y2B5Liq5Lq65a6J5YWoKioKCuaJgOacieacieWFs+S4quS6uui0puaIt+WuieWFqOeahOS6i+mhue+8jOWMheaLrOS9huS4jemZkOS6juengemSpeeahOWuieWFqOS/neWtmO+8jOmDveeUseeUqOaIt+iHquW3sei0n+i0o+OAggoKIyMgKirmnaHmrL7ljYHkuIAgZW9zaW8ucHJvZHPnmoTmnInpmZDotKPku7sqKgoK55So5oi35bqU55+l5oKJ5ZKM5ZCM5oSP77yM5Zyo5Lu75L2V6YCC55So5rOV5b6L5YWB6K6455qE5pyA5aSn6IyD5Zu05YaF77yM5pys5YWN6LSj5aOw5piO6YCC55So5LqO5LiORU9T5Luj5biB6aOO6Zmp77yM5L2/55So5oiW5peg5rOV5L2/55SoRU9T5Luj5biB5pyJ5YWz5oiW5a+86Ie055qE5Lu75L2V5oiW5omA5pyJ5o2f5a6z5oiW5Lyk5a6z77yM5Lmf6YCC55So5LqO5Lu75L2V5Y+45rOV566h6L6W5Yy65YaF55qE5Lu75L2V5Lu75L2V6KGM5Li65LiL55qERU9T5Yy65Z2X6ZO+Y2hhaW5faWTvvIzljIXmi6zkvYbkuI3pmZDkuo7ov53lj43mi4Xkv53jgIHov53lj43lkIjlkIzmiJbkvrXmnYPooYzkuLrvvIjljIXmi6znlo/lv73vvInjgIJlb3Npby5wcm9kc+S7peWPiuaTjeS9nOWug+eahOS4quS6uuadg+mZkOWvueS6juS7u+S9lemXtOaOpeeahO+8jOWBtueEtueahO+8jOeJueauiueahO+8jOekuuS+i+aAp+eahOaIluWQjuaenOaAp+eahOaNn+Wus++8jOWMheaLrOWIqea2puaNn+Wkse+8jOWVhuiqieaIluaVsOaNru+8jOS4jeaJv+aLheS7u+S9lei0o+S7u+OAghZCbG9ja1Byb2R1Y2VyQWdyZWVtZW50xmwjIyMgMS4gVGhlIGludGVudCBvZiByZWdwcm9kdWNlcgoKVGhlIGludGVudCBvZiB0aGUgYHJlZ3Byb2R1Y2VyYCBhY3Rpb24gaXMgdG8gcmVnaXN0ZXIgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhY3kuIFRoaXMgY29udHJhY3QgaXMgY29uc2lkZXJlZCBhIGdvdmVybmluZyBkb2N1bWVudCBhcyBkZWZpbmVkIGJ5IHRoZSBFT1MgVXNlciBBZ3JlZW1lbnQgKEVVQSkuCgpyZWdwcm9kdWNlcuydmCDrqqnsoIEKCmByZWdwcm9kdWNlcmAg7J6R7JeF7J2YIOuqqeyggeydgCDruJTroZ3sg53sgrDsnpAg7J6F7ZuE67O0IOuTseuhneydhCDtlZjripQg6rKD7J6F64uI64ukLiDsnbQg6rOE7JW97J2AIEVPUyDsgqzsmqnsnpAg6rOE7JW97IScIChFVUEp7JeQIOygleydmOuQnCDrsJTsmYAg6rCZ7J20IOq0gOumrCDrrLjshJzroZwg6rCE7KO865Cp64uI64ukLgoKcmVncHJvZHVjZXIg55qE55uu55qECgpgcmVncHJvZHVjZXJg5pON5L2c55qE55uu55qE5piv5rOo5YaM5oiQ5Li65Ye65Z2X6IqC54K55YCZ6YCJ6ICF44CC5qC55o2uIEVPUyDnlKjmiLfljY/orq4oRVVBKeeahOWumuS5ie+8jOacrOWQiOe6puWxnuS6juayu+eQhuaWh+acrChnb3Zlcm5pbmcgZG9jdW1lbnQpCgojIyMgMi4gTm9taW5hdGlvbgoKSSwge3sgcHJvZHVjZXIgfX0sIGhlcmVieSBub21pbmF0ZSBteXNlbGYgZm9yIGNvbnNpZGVyYXRpb24gYXMgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhdGUuIFRoaXMgbm9taW5hdGlvbiBpbmNsdWRlcyBhZ3JlZW1lbnQgdG8gdGhlIHRlcm1zIG9mIHRoaXMgY29udHJhY3QgYnkgbXkgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlIGVudGl0eSwgaW5jbHVkaW5nIGFsbCBvZiBpdHMgc2hhcmVob2xkZXJzLCBvd25lcnMsIGVtcGxveWVlcywgc3RhZmYsIG1lbWJlcnMsIGFuZCBhbnkgaW5kaXZpZHVhbCB3b3JraW5nIGluIG9mZmljaWFsLCBkaXJlY3QsIG9yIGFmZmlsaWF0ZWQgY2FwYWNpdHkgZm9yIG15IEJsb2NrIFByb2R1Y2VyIGVudGl0eS4KCuyngOuqhQoK64KYLCB7eyBwcm9kdWNlciB9feuKlCDruJTroZ3tlITroZzrk4DshJwg7ZuE67O066GcIOqzoOugpOuQmOuPhOuhnSDsnpDsi6DsnYQg7KeA66qF7ZWp64uI64ukLiDsnbQg7KeA66qF7JeQ64qUIOu4lOuhne2UhOuhnOuTgOyEnO2ajOyCrOydmCDrqqjrk6Ag7KO87KO8LCDshozsnKDsnpAsIOyngeybkCwg66mk67KELCDtmozsm5Ag67CPIOqzteyLneyduOybkCwg7KeB7KCRIOuYkOuKlCDqs4Tsl7Tsgqzsl5DshJwg7J287ZWY64qUIOuqqOuToCDqsJzsnbjsnYQg7Y+s7ZWo7ZWcIOu4lOuhne2UhOuhnOuTgOyEnCDtmozsgqzqsIAg6rOE7JW9IOyhsOqxtOyXkCDrjIDtlbQg64+Z7J2Y7ZWo7J2EIOyduOygle2VqeuLiOuLpC4KCuaPkOWQjQoK5pys5Lq677yMe3sgcHJvZHVjZXIgfX3vvIznibnmraTmj5DlkI3mnKzkurrkuLrlh7rlnZfoioLngrnlgJnpgInkurrjgILmnKzmj5DlkI3ljIXmi6zkuobmnKzlh7rlnZfoioLngrnlgJnpgInkurrlrp7kvZPlr7nmnKzlkIjnuqbkuK3miYDmnInmnaHmrL7nmoTmmI7noa7lkIzmhI/vvIzljIXlkKvlhbbmiYDmnInogIXjgIHpm4flkZjjgIHlkZjlt6XjgIHmiJDlkZjvvIzku6Xlj4rku7vkvZXku6XmraPlvI/mlrnlvI/jgIHnm7TmjqXmiJbpmYTlsZ7mlrnlvI/kuLrmnKzlh7rlnZfoioLngrnlrp7kvZPlt6XkvZznmoTkuKrkurrjgIIKCiMjIyAzLiBSZXNpZ25hdGlvbiBhbmQgUmVtb3ZhbCBmb3IgSW5hYmlsaXR5IHRvIFBlcmZvcm0gT2JsaWdhdGlvbnMuCgpJZiBJLCB7eyBwcm9kdWNlciB9fSwgYW0gdW5hYmxlIHRvIHBlcmZvcm0gYW55IG9mIHRoZSBvYmxpZ2F0aW9ucyBzdGlwdWxhdGVkIGluIHRoaXMgY29udHJhY3QsIEkgd2lsbCByZXNpZ24gbXkgcG9zaXRpb24gYnkgY2FsbGluZyB0aGUgYHVucmVncHJvZGAgYWN0aW9uLgoKSWYgSSwge3sgcHJvZHVjZXIgfX0sIGZhaWwgdG8gcmVzaWduIHdoZW4gdW5hYmxlIHRvIHBlcmZvcm0gc2FpZCBvYmxpZ2F0aW9ucywgSSB1bmRlcnN0YW5kIHRoYXQgcHJvY2VkdXJlcyBlbnVtZXJhdGVkIGluIHRoaXMgY29udHJhY3Qgc2hhbGwgYmUgZW5hY3RlZC4KCuydmOustOydmCDrtojsnbTtlonsl5Ag64yA7ZWcIOyCrOyehCDrsI8g7LKg7ZqMCgp7eyBwcm9kdWNlciB9feqwgCDrs7gg6rOE7JW97ISc7JeQIOuqheyLnOuQnCDsnZjrrLTrpbwg7IiY7ZaJIO2VoCDsiJgg7JeG64qUIOqyveyasCwg7IOd7IKw7J6QIO2CpOulvCBudWxsIOuhnCDtlajsnLzroZzsjagg67O47J247J2YIOyngOychOulvCDsgqzsnoTtlanri4jri6QuCgrrp4zslb0g64K06rCAIHt7cHJvZHVjZXJ9feydmCDsnZjrrLTrpbwg7J207ZaJIO2VoCDsiJgg7JeG7J2EIOuVjCDsgqzsnoTtlZjsp4Ag7JWK64qU64uk66m0LCDrgpjripQg67O4IOqzhOyVveyXkCDsl7TqsbDrkJwg7KCI7LCo6rCAIOynke2WieuQqOydhCDrj5nsnZjtlanri4jri6QuCgrlm6DkuI3og73lsaXooYzkuYnliqHogIzpgIDlh7rmiJbooqvlj5bmtojlh7rlnZfotYTmoLwKCuWmguaenOaIke+8jHt7IHByb2R1Y2VyIH1977yM5LiN6IO95bGl6KGM5pys5ZCI57qm5Lit5omA6KeE5a6a55qE5omA5pyJ5LmJ5Yqh77yM5oiR5bCG5L2/55SoIGB1bnJlZ3Byb2RgIOaTjeS9nOadpeiHquaIkemAgOWHuu+8iHJlc2lnbu+8ieOAggoK5aaC5p6c5oiRIHt7IHByb2R1Y2VyIH19LCDlnKjml6Dms5XlsaXooYzkuIrov7DkuYnliqHml7bmnKrog73pgIDlh7oocmVzaWduKe+8jOaIkeefpeaZk+acrOWQiOe6puWwhuS8muaMieeFp+aJgOacieWIl+S4vueahOeoi+W6j+WvueaIkeWunuihjOWItuijgeaIluWkhOe9mueoi+W6j+OAggoKIyMjIDQuIEVPUyBBY2NvdW50cwoKQmxvY2sgUHJvZHVjZXJzIG1heSBuZXZlciBhZmZlY3QgYW4gYWNjb3VudCBvbiB0aGUgRU9TIGJsb2NrY2hhaW4sIGV4Y2VwdCBmb3IgdGhlIHJlYXNvbnMgc3BlY2lmaWNhbGx5IGNpdGVkIGluIHRoaXMgY29udHJhY3QgdGhhdCBwZXJ0YWluIHRvIEJsb2NrIFByb2R1Y2VyIGFjY291bnRzLiBVc2VyIGFjY291bnRzIGNhbiBvbmx5IGJlIGFmZmVjdGVkIG9uIHRoZSBiYXNpcyBvZiBBcnRpY2xlIFZJSUkgaW4gdGhlIEVPUyBVc2VyIEFncmVlbWVudC4KCkVPUyDqs4TsoJUKCuu4lOuhne2UhOuhnOuTgOyEnOuKlCDrs7gg6rOE7JW97JeQ7IScIO2VtOuLue2VmOuKlCDruJTroZ3tlITroZzrk4DshJzsnZgg6rOE7KCVIOywqOuLqOyXkCDqtIDroKjtlZjsl6wg7Yq567OE7Z6IIOyWuOq4ie2VnCDsnbTsnKDrpbwg7KCc7Jm47ZWY6rOg64qUIEVPUyDruJTroZ3ssrTsnbjsnZgg6rOE7KCV7JeQIOqysOy9lCDsmIHtlqXsnYQg66+47LmY7KeAIOyViuyKteuLiOuLpC4g7IKs7Jqp7J6QIOqzhOygleydgCBFT1Mg7IKs7Jqp7J6QIOqzhOyVveyEnOydmCA47KGw7JeQIOq3vOqxsO2VoCDrlYzrp4wg7JiB7Zal7J2EIOuwm+ydhCDsiJgg7J6I7Iq164uI64ukLgoKRU9TIOi0puWPtwoK5Ye65Z2X6IqC54K55rC46L+c5LiN5Lya5a+5IEVPUyDljLrlnZfpk77kuIrnmoTluJDmiLfpgKDmiJDlvbHlk43vvIzpmaTpnZ7mmK/mnKzlkIjnuqbkuK3nibnliKvmj5DliLDkuI7lh7rlnZfoioLngrnluJDmiLfmnInlhbPnmoTljp/lm6DjgILlj6rmnInln7rkuo4gRU9T55So5oi35Y2P6K6u5Lit55qE56ys5YWr5p2h55qE5oOF5b2i5LiL77yM55So5oi355qE6LSm5Y+35omN5Lya5Y+X5Yiw5b2x5ZONLgoKIyMjIDUuIFByb2R1Y2VyIEtleQoKSSwge3sgcHJvZHVjZXIgfX0sIHdpbGwgc2lnbiBibG9ja3Mgd2l0aCB7eyBwcm9kdWNlcl9rZXkgfX0KCklmIEksIHt7IHByb2R1Y2VyIH19IHN1c3BlY3QgbXkga2V5IGhhcyBiZWVuIGNvbXByb21pc2VkIEkgd2lsbCBhbGVydCB0aGUgb3RoZXIgQmxvY2sgUHJvZHVjZXJzIGltbWVkaWF0ZWx5LgoKSSwge3sgcHJvZHVjZXIgfX0sIGFja25vd2xlZGdlIHRoYXQgYW55IGFuZCBhbGwgYWN0aW9ucyBleGVjdXRlZCB3aXRoIG15IHt7IHByb2R1Y2VyX2tleSB9fSBpcyBteSByZXNwb25zaWJpbGl0eSwgcmVnYXJkbGVzcyBvZiB0aGUgYWNjb3VudCBiZWluZyBjb21wcm9taXNlZC4KCu2UhOuhnOuTgOyEnCDtgqQKCuuCmCwge3sgcHJvZHVjZXIgfX3ripQge3sgcHJvZHVjZXIgXyBrZXkgfX0g66GcIOu4lOuhneyXkCDshJzrqoUg7ZWgIOqyg+yeheuLiOuLpC4K66eM7JW9IOuCtCwge3twcm9kdWNlcn19IOqwgCDrs7jsnbjsnZgg7YKk6rCAIOyGkOyDgeuQmOyXiOuLpOqzoCDsnZjsi6zrkJjrqbQg7KaJ7IucIOuLpOuluCDruJTroZ3tlITroZzrk4DshJzsl5Dqsowg7JWM66Ck7KSEIOqyg+yeheuLiOuLpC4K64KYLCB7e3Byb2R1Y2VyfX3ripQgRU9TIOu4lOuhneyytOyduOyXkOyEnCDrs7jsnbjsnZgg67iU66Gd7ZSE66Gc65OA7IScIOqzhOygleydtCDsi6TtlontlZjripQg66qo65OgIOyekeyXheyXkCDrjIDtlbQsIOqzhOyglSDsnbTsg4Eg7Jyg66y07JmAIOq0gOugqCDsl4bsnbQsIOyxheyehOydtCDsnojsnYzsnYQg7J247KCV7ZWp64uI64ukLgoK5Ye65Z2X6IqC54K55YWs6ZKlCgog5oiRLCB7eyBwcm9kdWNlciB9fSwg5bCG5L2/55SoIHt7IHByb2R1Y2VyX2tleSB9fSDlr7nljLrlnZfnrb7lkI3jgIIK5aaC5p6c5oiRLCB7eyBwcm9kdWNlciB9fSwg5oCA55aR5oiR55qE5a+G6ZKl5bey6KKr5rOE6Zyy77yM5oiR5bCG56uL5Y2z6YCa55+l5YW25LuW6IqC54K544CCCuaIke+8jHt7IHByb2R1Y2VyIH1977yM5om/6K6k5oiR55qE5Ye65Z2X6IqC54K55biQ5oi35ZyoRU9T5Yy65Z2X6ZO+5LiK5omA5omn6KGM55qE5Lu75L2V5pON5L2c6YO95piv5oiR55qE6LSj5Lu777yM5peg6K666K+l5biQ5oi35piv5ZCm6KKr55uX44CCCgojIyMgNi4gQVBJIEVuZHBvaW50cwoKSWYgSSwge3sgcHJvZHVjZXIgfX0sIHF1YWxpZnkgZm9yLCBhbmQgY2hvb3NlIHRvIGNsYWltIHJld2FyZHMgZHVlIHRvIHZvdGVzIHJlY2VpdmVkLCBhbmQvb3IgYmxvY2tzIHByb2R1Y2VkLCBJLCB7eyBwcm9kdWNlciB9fSwgd2lsbCBwcm92aWRlIGZ1bmN0aW9uaW5nIGFuZCBxdWVyeWFibGUgcHVibGljIFAyUCBhbmQgQVBJIGVuZHBvaW50cyB0byBtYWludGFpbiBzeW5jaHJvbml6YXRpb24gd2l0aCB0aGUgYmxvY2tjaGFpbiBhbmQgc3VibWl0IHRyYW5zYWN0aW9ucyB0byBiZSBpbmNsdWRlZC4gQVBJIGVuZHBvaW50cyBtdXN0IGJlIHVwZGF0ZWQgdG8gYSByZWNlbnQgZnVuY3Rpb25hbCB2ZXJzaW9uIHRoYXQgZG9lcyBub3QgaGF2ZSBrbm93biBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuCgpJLCB7eyBwcm9kdWNlciB9fSwgaGVyZWJ5IGFja25vd2xlZGdlIHRoYXQgaWYgSSBhbSB1bmFibGUgdG8gZG8gc28gd2l0aGluIDMwIG1pbnV0ZXMgb2YgYmVpbmcgYWxlcnRlZCBieSBhbm90aGVyIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZSwgSSBjYW4gYmUgcmVtb3ZlZCBieSB1c2Ugb2YgdGhlIGBybXZwcm9kdWNlcmAgYWN0aW9uLgoKQVBJIOyXlOuTnO2PrOyduO2KuAoK66eM7JW9IOuCtCwge3sgcHJvZHVjZXIgfX0g6rCAIO2IrO2RnOulvCDrsJvslYQg67iU66GdIOuztOyDgeydhCDssq3qtaztlaAg7IiYIOyeiOuKlCDsnpDqsqnsnYQg7Ja77Jy866m0LCDrgpgge3sgcHJvZHVjZXIgfX3ripQg7J6R64+ZIOuwjyDsv7zrpqwg6rCA64ql7ZWcIOqzteqwnCBQMlAg67CPIEFQSSDsl5Trk5ztj6zsnbjtirjrpbwg67iU66Gd7LK07J246rO87J2YIOuPmeq4sO2ZlCDrsI8g7Yq4656c7J6t7IWY7J2EIOygnOy2nO2VoCDsiJgg7J6I6rKMIOycoOyngOq0gOumrO2VqeuLiOuLpC4gQVBJIOyXlOuTnO2PrOyduO2KuOuKlCDslYzroKTsp4Qg67O07JWIIOy3qOyVveyEseydtCDsl4bripQg7LWc7Iug67KE7KCE7Jy866GcIOyXheuNsOydtO2KuO2VtOyVvCDtlanri4jri6QuCgrrgpgsIHt7IHByb2R1Y2VyIH19IOuKlCDri6TrpbggYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlIOqwgCDqsr3qs6Ag4oCL4oCL7ZWcIO2bhCwgMzDrtoQg7J2064K07JeQIOuwlOuhnOyeoeydhCDsiJgg7JeG64uk66m0IGBybXZwcm9kdWNlcmAg7KGw7LmY66W8IO2Gte2VtCDsnpDqsqnsnbQg7KCc6rGwIOuQoCDsiJgg7J6I7J2M7J2EIOyduOygle2VqeuLiOuLpC4KCkFQSSDnq6/ngrkKCuWmguaenOaIke+8jHt7IHByb2R1Y2VyIH19IOeUseS6juW+l+WIsOaKleelqOWSjC/miJblh7rlnZfnmoTljp/lm6DvvIznrKblkIjpooblj5blpZblirHnmoTmnaHku7blubbpgInmi6nmjqXlj5flpZblirHvvIzpgqPkuYjmiJHvvIwge3sgcHJvZHVjZXIgfX3vvIzlsIbmj5Dkvpvlip/og73mraPluLjnmoTlhazlhbEgUDJQIOWSjCBBUEkg56uv54K55p2l57u05oqk5LiO5Yy65Z2X6ZO+55qE5ZCM5q2l77yM5bm25o+Q5Lqk6KaB5omT5YyF5YWl5Z2X55qE5LqL5Yqh44CCQVBJIOerr+eCueW/hemhu+abtOaWsOWIsOacgOaWsOeahOWPr+eUqOeJiOacrO+8jOW5tuS4lOivpeeJiOacrOayoeacieW3suefpeeahOWuieWFqOa8j+a0ngoK5oiR77yMe3twcm9kdWNlcn1977yM5Zyo5q2k56Gu6K6k77yM5aaC5p6c5oiR5Zyo5pS25Yiw5Y+m5LiA5LiqIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZeeahOitpuWRiuWQjjMw5YiG6ZKf5YaF5LuN5LiN6IO956ym5ZCI5LiK6L+w6KaB5rGC77yM5Y+v5Lul5L2/55SoYHJtdnByb2R1Y2VyYOaTjeS9nOenu+mZpOaIkeeahOi0puaIt+OAggoKIyMjIDcuIEV4ZWN1dGlvbiB0aW1lCgpJLCB7eyBwcm9kdWNlciB9fSwgd2lsbCBkZXBsb3kgYW5kIHJ1biBuZXR3b3JrIGluZnJhc3RydWN0dXJlIGNhcGFibGUgb2YgbWFpbnRhaW5pbmcgMm1zIG9yIGxlc3MgQ1BVIGV4ZWN1dGlvbiB0aW1lcy4KCkksIHt7IHByb2R1Y2VyIH19LCBoZXJlYnkgYWNrbm93bGVkZ2UgdGhhdCBpZiBJIGFtIHVuYWJsZSB0byBkbyBzbyB3aXRoaW4gMzAgbWludXRlcyBvZiBiZWluZyBhbGVydGVkIGJ5IGFub3RoZXIgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlLCBJIGNhbiBiZSByZW1vdmVkIGJ5IHVzZSBvZiB0aGUgYHJtdnByb2R1Y2VyYCBhY3Rpb24uCgrsi6Ttlokg7Iuc6rCECgrrgpgsIHt7IHByb2R1Y2VyIH1964qUIDJtcyDrmJDripQg6re4IOydtO2VmOydmCBDUFUg7Iuk7ZaJIOyLnOqwhOydhCDsnKDsp4DtlaAg7IiYIOyeiOuKlCDrhKTtirjsm4ztgawg7J247ZSE652866W8IOuwsO2PrO2VmOqzoCDsi6Ttlontlanri4jri6QuCgog64KYLCB7eyBwcm9kdWNlciB9fSDripQg64uk66W4IGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZeqwgCDqsr3qs6Ag4oCL4oCL7ZWcIO2bhCwgMzDrtoQg7J2064K07JeQIOuwlOuhnOyeoeydhCDsiJgg7JeG64uk66m0IGBybXZwcm9kdWNlcmAg7KGw7LmY66W8IO2Gte2VtCDsnpDqsqnsnbQg7KCc6rGwIOuQoCDsiJgg7J6I7J2M7J2EIOyduOygle2VqeuLiOuLpC4KCuaJp+ihjOaXtumXtAoK5oiR77yMIHt7IHByb2R1Y2VyIH1977yM5bCG6YOo572y5ZKM6L+Q6KGM572R57uc5Z+656GA6K6+5pa977yM6IO95aSf5bCGIENQVSDmiafooYzml7bpl7Tnu7TmjIHlnKggMm1zIOaIluabtOWwkeeahOawtOW5s+OAggoK5oiR77yMe3sgcHJvZHVjZXIgfX3vvIzlnKjmraTnoa7orqTvvIzlpoLmnpzmiJHlnKjmlLbliLDlj6bkuIDkuKpibG9jayBwcm9kdWNlciBjYW5kaWRhdGXnmoTorablkYrlkI4zMOWIhumSn+WGheS4jeiDveespuWQiOS4iui/sOadoeS7tu+8jOWPr+S7peS9v+eUqCBgcm12cHJvZHVjZXJgIOaTjeS9nOWwhuaIkeenu+mZpOOAggoKIyMjIDguIE9yZGVyaW5nCgpJIHt7IHByb2R1Y2VyIH19IGFncmVlIHRvIHByb2Nlc3MgdHJhbnNhY3Rpb25zIG9uIGEgZmlyc3QtaW4tZmlyc3Qtb3V0IChGSUZPKSBiYXNpcywgYW5kIG5vdCB0byBtYW5pcHVsYXRlIHRoZSBjb250ZW50cyBvZiBibG9ja3MgaW4gb3JkZXIgdG8gZGVyaXZlIHByb2ZpdCBmcm9tIHRoZSBvcmRlciBpbiB3aGljaCB0cmFuc2FjdGlvbnMgYXJlIGluY2x1ZGVkOiB0aGUgaGFzaCBvZiB0aGUgYmxvY2sgdGhhdCBpcyBwcm9kdWNlZC4KCuyDneyCsArrgpgsIHt7IHByb2R1Y2VyIH1964qUIOyEoOyehSDshKDstpzrspUgKEZJRk8pIOuwqeyLneycvOuhnCDqsbDrnpjrpbwg7LKY66as7ZWY6rOgIOqxsOuemOqwgCDruJTroZ3snZgg7ZW07Iuc7JeQIO2PrO2VqOuQmOuKlCDsiJzshJzsl5DshJwg7J207J217J2EIOyWu+ycvOugpOuKlCDrqqnsoIHsnLzroZwg7IOd7IKw7ZWY64qUIOu4lOuhneydmCDrgrTsmqnsnYQg7KGw7J6R7ZWY7KeAIOyViuq4sOuhnCDrj5nsnZjtlanri4jri6QuCgrpobrluo8KCuaIke+8jCB7eyBwcm9kdWNlciB9fSDvvIzlkIzmhI/moLnmja7lhYjov5vlhYjlh7ooRklGTynnmoTmlrnlvI/lpITnkIbkuovliqHvvIzlubbkuJTnu53kuI3kvJrkuLrkuobniZ/liKnogIzliKnnlKjljLrlnZflhoXlrrnjgIHmk43nurXljLrlnZfkuK3kuqTmmJPlpITnkIbnmoTpobrluo/jgIIKCiMjIyA5LiBSYW5kb20gUm90YXRpb24gb2YgU3RhbmRieXMKCkksIHt7IHByb2R1Y2VyIH19LCBhZ3JlZSB0aGF0IGlmIEkgYW0gaW4gYSBwYWlkIHN0YW5kYnkgcG9zaXRpb24sIEkgY2FuIGJlIHJhbmRvbWx5IGNhbGxlZCBpbnRvIGEgcHJvZHVjaW5nIHBvc2l0aW9uLiBVcG9uIGZhaWx1cmUgdG8gcHJvZHVjZSBibG9ja3MsIGNvZGUgbWF5IHNlbGYtZXhlY3V0ZSBwZW5hbHRpZXMgcmVnYXJkaW5nIGZ1dHVyZSB2cGF5IHJld2FyZHMuCgrsnKDquIkg64yA6riwIOu4lOuhne2UhOuhnOuTgOyEnOydmCDrrLTsnpHsnIQg66Gc7YWM7J207IWYCgrrgpgsIHt7IHByb2R1Y2VyIH1964qUIOuzuOyduOydtCDsnKDquIkg64yA6riw7KeB7JeQIOyeiOydhCDrlYwsIOustOyekeychOuhnCDsg53sgrDsp4HsnLzroZwg67aA66aEIOuwm+ydhCDsiJgg7J6I64uk64qUIOqyg+yXkCDrj5nsnZjtlanri4jri6QuIOydtOuVjCDruJTroZ3snYQg7IOd7ISx7ZWY7KeAIOuqu+2VmOuptCDsvZTrk5zripQg7Zal7ZuEIHZwYXkg67O07IOB7JeQIOuMgO2VnCDsspjrsozsnYQg7KeR7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuCgrlpIfpgInoioLngrnpmo/mnLrova7mjaIKCuaIke+8jHt7IHByb2R1Y2VyIH1977yM5ZCM5oSP6Iul5pys6IqC54K55aSE5LqO5pyJ5YG/5aSH6YCJ54q25oCB77yM5Y+v6KKr6ZqP5py66LCD5YWl5Ye65Z2X54q25oCB44CC5aaC5p6c5oiR5peg5rOV5Ye65Z2X77yM5ZCI57qm5Luj56CB5Y+v6IO95Lya6Ieq5Yqo5omn6KGM5bCx5pyq5p2l55qEIHZwYXkg5oql6YWs6L+b6KGM5aSE572a44CCCgojIyMgMTAuIE1pc3NpbmcgVHdvIG9yIE1vcmUgUm91bmRzIG9mIEJsb2NrcwoKSSwge3sgcHJvZHVjZXIgfX0sIGFja25vd2xlZGdlIHRoYXQgaWYgYWZ0ZXIgbWlzc2luZyAyIG9yIG1vcmUgcm91bmRzIG9mIGJsb2NrcyBpbiBzdWNjZXNzaW9uIEkgYW0gdW5hYmxlIHRvIGJlIGNvbnRhY3RlZCB3aXRoaW4gMjAgbWludXRlcywgSSwge3sgcHJvZHVjZXIgfX0sIGFja25vd2xlZGdlIHRoYXQgSSBtYXkgYmUgcmVtb3ZlZCBmcm9tIGEgcHJvZHVjaW5nIHBvc2l0aW9uIGJ5IHVzZSBvZiB0aGUgYHJtdnByb2R1Y2VyYCBhY3Rpb24uCgpJLCB7eyBwcm9kdWNlciB9fSwgYWNrbm93bGVkZ2UgdGhhdCBhZnRlciBtaXNzaW5nIHR3byBvciBtb3JlIHJvdW5kcyBvZiBibG9ja3MgaW4gc3VjY2Vzc2lvbiwgc3RhbmRhcmQgcHJhY3RpY2Ugc3RpcHVsYXRlcyByZW1vdmluZyBteSBwcm9kdWNlciBieSB1c2luZyB0aGUgYHVucmVncHJvZGAgYWN0aW9uIHVudGlsIHRoZSBnaXZlbiBpc3N1ZSBpcyByZXNvbHZlZC4KCuuRkCDrnbzsmrTrk5wg7J207IOB7J2YIOu4lOuhnSDriITrnb0KCuuCmCwge3sgcHJvZHVjZXIgfX3ripQg65GQIOudvOyatOuTnCDsnbTsg4Eg7Jew7IaN7ZWY7JesIOu4lOuhneydhCDriITrnb0g7ZWcIO2bhCwgMjDrtoQg7J2064K07JeQIOyXsOudvSDtlaAg7IiYIOyXhuuLpOuptCB7eyBwcm9kdWNlciB9fSDqsIAgYHJtdnByb2R1Y2VyYCDslaHshZjsnZgg7IKs7Jqp65CY7Ja0IOyDneyCsCDsnITsuZjsl5DshJwg7KCc6rGwIOuQoCDsiJgg7J6I7J2M7J2EIOyduOygle2VqeuLiOuLpC4KCnt7IHByb2R1Y2VyIH1964qUIOuRkCDrnbzsmrTrk5wg7J207IOB7Jy866GcIOu4lOuhneydhCDsl7Dsho3soIHsnLzroZwg64iE65297ZWc64uk66m0LCDso7zslrTsp4Qg66y47KCc6rCAIO2VtOqysCDrkKAg65WM6rmM7KeAIGB1bnJlZ3Byb2RgIOyekeyXheydhCDsgqzsmqntlZjsl6wg67O47J247J20IOyDneyCsCDsnITsuZjsl5DshJwg7KCc6rGw65Co7J20IO2RnOykgCDqtIDtlonsnLzroZwg6rec7KCV65CY7Ja0IOyeiOydjOydhCDsnbjsoJXtlanri4jri6QuCgrkuKTova7miJbmm7TlpJrova7kuKLlnZfnmoTmg4XlvaIKCuaIke+8jHt7IHByb2R1Y2VyIH19LCDnoa7orqTlpoLmnpzov57nu63kuKTova7miJbmm7TlpJrova7kuKLlnZfkuJTml6Dms5XlnKgyMOWIhumSn+WGheiBlOezu+WIsOaIke+8jOaIke+8jHt7IHByb2R1Y2VyIH19LCDlkIzmhI/lj6/og73kvJrnlKggYHJtdnByb2R1Y2VyYCDmk43kvZzlsIbmiJHnp7vpmaTjgIIK5oiR77yMe3sgcHJvZHVjZXIgfX0sIOWmguaenOi/nue7reS4pOi9ruaIluabtOWkmui9ruS4ouWdl++8jOagueaNruagh+WHhuWunui3teS8muWPkei1tyBgdW5yZWdwcm9kYCDmk43kvZzlsIbmiJHnp7vpmaTlh7rlnZfotYTmoLzvvIznm7TliLDpl67popjop6PlhrPjgIIKCiMjIyAxMS4gVXJnZW50IFNlY3VyaXR5IFBhdGNoZXMKCkksIHt7IHByb2R1Y2VyIH19LCBhY2tub3dsZWRnZSB0aGF0IGlmIEkgYW0gbm90IGFibGUgdG8gYmUgY29udGFjdGVkIGluIGFueSBmb3JtIGFmdGVyIGFuIHVyZ2VudCBzZWN1cml0eSBwYXRjaCBpcyBhbm5vdW5jZWQsIEkgbWF5IGJlIHJlbW92ZWQgYnkgdXNlIG9mIHRoZSBgcm12cHJvZHVjZXJgIGFjdGlvbi4KCuq4tOq4iSDrs7TslYgg7Yyo7LmYCuq4tOq4iSDrs7TslYgg7Yyo7LmY6rCAIOuwnO2RnCDrkJwg7ZuELCDslrTrlqQg7ZiV7YOc66Gc65OgIOyXsOudvSDtlaAg7IiYIOyXhuuKlCDqsr3smrAgYHJtdnByb2R1Y2VyYCDsnpHsl4XsnYQg7IKs7Jqp7ZWY7JesIOygnOqxsCDrkKAg7IiYIOyeiOydjOydhCDrgpgsIHt7IHByb2R1Y2VyIH1964qUIOyduOygle2VqeuLiOuLpC4KCue0p+aApeWuieWFqOihpeS4gQoK5oiR77yMe3sgcHJvZHVjZXIgfX3vvIznoa7orqTlpoLmnpzlnKjntKfmgKXlronlhajooaXkuIHlj5HluIPlkI7nlKjku7vkvZXmlrnlvI/pg73ml6Dms5XogZTns7vliLDmiJHvvIzlj6/og73kvJrnlKggYHJtdnByb2R1Y2VyYCDmjIfku6TlsIbmiJHnp7vpmaTjgIIKCiMjIyAxMi4gRGlzY2xvc3VyZSBvZiBFbnRpdHkgYW5kIFNlcnZlciBJbmZvcm1hdGlvbgoKSSwge3sgcHJvZHVjZXIgfX0sIGF0dGVzdCB0aGF0IEkgaGF2ZSBkaXNjbG9zZWQgdGhlIGFwcHJveGltYXRlIGdlb2xvY2F0aW9uIGZvciBteSBtYWluIHByb2R1Y3Rpb24gbm9kZSBhcyBiZWluZyB7eyBsb2NhdGlvbiB9fS4KCuuyleyduCDrsI8g7ISc67KEIOygleuztOydmCDqs7XqsJwKCuuCmCwge3sgcHJvZHVjZXIgfX0g64qUIOyjvCDsg53sgrAg64W465Oc7JeQIOuMgO2VnCDsnITsuZgg7KCV67O066W8IOqzteqwnO2WiOydjOydhCDspp3rqoXtlanri4jri6QuCgrlrp7kvZPlkozmnI3liqHlmajnmoTkv6Hmga/miqvpnLIKCuaIke+8jHt7IHByb2R1Y2VyIH1977yM56Gu6K6k5oiR5bey57uP5oqr6Zyy5LqG5Li75Ye65Z2X6IqC54K55pyN5Yqh5Zmo5Zyw55CG5L2N572u55qE5YeG56Gu5L+h5oGv44CC5YW25Zyw5Z2A5Li6IHt7IGxvY2F0aW9uIH1944CCCgojIyMgMTMuIEVzdGFibGlzaGVzIHRoZSBwZW5hbHR5IGFuZCBwcm9jZWR1cmUgZm9yIHVud2lsbGluZ25lc3MgdG8gY29tcGx5IHdpdGggcGVuYWx0aWVzIG9yIHByb2NlZHVyZXMKCkksIHt7IHByb2R1Y2VyIH19LCBhY2tub3dsZWRnZSB0aGF0IGZhaWxpbmcgdG8gY29tcGx5IHdpdGggcGVuYWx0aWVzIG9yIHByb2NlZHVyZXMgZW5hY3RlZCBhZ2FpbnN0IG1lIHdpbGwgcmVzdWx0IGluIEJsb2NrIFByb2R1Y2VycyBleGVjdXRpbmcgdGhlIGBybXZwcm9kdWNlcmAgY29udHJhY3QgdG8gcmVtb3ZlIG1lLgoKSSwge3sgcHJvZHVjZXIgfX0sIHdpbGwgbm90IGV4ZWN1dGUgdGhlIGByZWdwcm9kdWNlcmAgY29udHJhY3QgdW50aWwgc2VydmluZyBvciBmdWxmaWxsaW5nIHRoZSByZXF1aXJlbWVudHMgZnJvbSBhIHBlbmFsdHkgb3IgcHJvY2VkdXJlIHRoYXQgcmVzdWx0cyBpbiBoYXZpbmcgdGhlIGBybXZwcm9kdWNlcmAgY29udHJhY3QgZXhlY3V0ZWQgdG8gcmVtb3ZlIG1lLgoKSSwge3sgcHJvZHVjZXIgfX0sIGFja25vd2xlZGdlIHRoYXQgaWYgSSBjb250aW51ZSB0byBjYWxsIHRoZSBgcmVncHJvZHVjZXJgIGFjdGlvbiB3aXRob3V0IHNlcnZpbmcgb3IgZnVsZmlsbGluZyB0aGUgcmVxdWlyZW1lbnRzIGZyb20gYnJlYWNoIG9mIGByZWdwcm9kdWNlcmAsIG15IGFjY291bnQga2V5cyBhc3NvY2lhdGVkIHdpdGggdGhlIHJlZ2lzdGVyZWQgQmxvY2sgUHJvZHVjZXIgaW4gcXVlc3Rpb24gbWF5IGJlIG51bGxlZCBieSBCbG9jayBQcm9kdWNlcnMgYnkgdXNpbmcgYGVvc2lvLndyYXBgLgoK7Y6Y64SQ7Yuw66W8IOykgOyImO2VmOyngCDslYrsnYQg6rK97JqwIOuyjOy5mQoK64KYLCB7eyBwcm9kdWNlciB9fSDripQg64KY7JeQ6rKMIOygnOyerOuQnCDsspjrsozsnYQg7KSA7IiY7ZWY7KeAIOyViuycvOuptCDruJTroZ3tlITroZzrk4DshJzrk6TsnbQgYHJtdnByb2R1Y2VyYCDqs4Tslb3snYQg7KeR7ZaJ7ZWY6rKMIOuQoCDqsoPsnbTrnbzqs6Ag7J247KCV7ZWp64uI64ukLiDrgpgsIHt7IHByb2R1Y2VyIH19IOuKlCBgcm12cHJvZHVjZXJgIOqzhOyVveydtCDsp5HtlonrkJzri6TrqbQg7JqU6rWsIOyCrO2VreydhCDstqnsobHrkKAg65WM6rmM7KeAIGByZWdwcm9kdWNlcmAg6rOE7JW97J2EIOydtO2Wie2VmOyngCDslYrsnYQg6rKD7J6F64uI64ukLgpgcmVncHJvZHVjZXJgIOqzhOyVvSDsnITrsJjsnLzroZwg7J247ZWcIOyalOq1rCDsgqztla3snYQg7Lap7KGx7Iuc7YKk7KeAIOyViuqzoCBgcmVncHJvZHVjZXJgIOqzhOyVveydhCDqs4Tsho0g7Zi47Lac7ZWY66m0IO2VtOuLuSDruJTroZ3tlITroZzrk4DshJzsmYAg6rSA66Co65CcIOqzhOyglSDtgqTqsIAgYGVvc2lvLndyYXBgIOydhCDsgqzsmqntlZjsl6wg67iU66Gd7ZSE66Gc65OA7ISc65Ok7JeQIOydmO2VtCDrrLTtmqjtmZQg65CgIOyImCDsnojsnYzsnYQg7J247KCV7ZWp64uI64ukLgoK5a+55LiN5oS/6YG15a6I5aSE572a55qE6KGM5Li65LqI5Lul5aSE572aCgrmiJHvvIx7eyBwcm9kdWNlciB9fe+8jOaJv+iupOiLpeS4jemBteWuiOWvueacrOS6uuWItuijgeeahOWkhOe9mu+8jEJQIOWPr+S7peWunuaWvSBgcm12cHJvZHVjZXJgIOWQiOe6pu+8jOaIkeaOpeWPl+aKleelqOeahOi1hOagvOWwhuiiq+WPlua2iOOAguiLpeaciemSiOWvueaIkeWunuaWvSBgcm12cHJvZHVjZXJgIOWQiOe6pueahOaDheWGteWPkeeUn++8jOaIkSwge3sgcHJvZHVjZXIgfX0g5Zyo6YG15a6IL+WxpeihjOaJgOaUtuWIsOeahOWkhOe9muS5i+WJje+8jOS4jeS8muWGjeasoeaJp+ihjCBgcmVncHJvZHVjZXJgIOWQiOe6puOAggoK5oiR77yMe3sgcHJvZHVjZXIgfX3vvIzlnKjlsaXooYzmg6nnvZrnqIvluo/nmoTopoHmsYLkuYvliY3vvIzkuI3kvJrmiafooYwgYHJlZ3Byb2R1Y2VyYCDlkIjlkIzjgILmiJHnn6XmmZPlpoLkuI3lsaXooYzmraTnqIvluo/vvIwgYHJtdnByb2R1Y2VyYCDlkIjlkIzlsIbkvJrlho3mrKHlsIbmiJHnp7vpmaTjgIIKCuaIkSx7eyBwcm9kdWNlciB9fSwg5om/6K6k5aaC5p6c5rKh5pyJ6YG15a6I5oiW5bGl6KGM5Zug6L+d5Y+NIGByZWdwcm9kdWNlcmAg6ICM5Y+X5Yiw55qE5oOp572a6KaB5rGC5Y2057un57ut6LCD55SoYHJlZ3Byb2R1Y2VyYOaTjeS9nO+8jEJQIOWPr+S7peiwg+eUqCBgZW9zaW8ud3JhcGAg5ZCI57qm5bCG5oiR55So5p2l5rOo5YaM5Ye65Z2X6IqC54K555qE6LSm5Y+35a+G6ZKl6K6+572u5Li65peg5pWI5YC844CCAAABInZhcmlhbnRfYmxvY2tfc2lnbmluZ19hdXRob3JpdHlfdjABGmJsb2NrX3NpZ25pbmdfYXV0aG9yaXR5X3Yw"),TE=ze.from(WE);class NE extends Jm{constructor(t){super({client:t.client,abi:TE,account:N.from("eosio")})}action(t,i,s){return super.action(t,i,s)}table(t,i){return super.table(t,i,BE[t])}}var Rt;(function(e){let t=class extends h{};p([h.field(N)],t.prototype,"owner",void 0),p([h.field(Me)],t.prototype,"hash",void 0),t=p([h.type("abi_hash")],t),e.AbiHash=t;let i=class extends h{};p([h.field(Me)],i.prototype,"feature_digest",void 0),i=p([h.type("activate")],i),e.Activate=i;let s=class extends h{};p([h.field(ei)],s.prototype,"key",void 0),p([h.field(li)],s.prototype,"weight",void 0),s=p([h.type("key_weight")],s),e.KeyWeight=s;let r=class extends h{};p([h.field(N)],r.prototype,"actor",void 0),p([h.field(N)],r.prototype,"permission",void 0),r=p([h.type("permission_level")],r),e.PermissionLevel=r;let n=class extends h{};p([h.field(r)],n.prototype,"permission",void 0),p([h.field(li)],n.prototype,"weight",void 0),n=p([h.type("permission_level_weight")],n),e.PermissionLevelWeight=n;let o=class extends h{};p([h.field(ge)],o.prototype,"wait_sec",void 0),p([h.field(li)],o.prototype,"weight",void 0),o=p([h.type("wait_weight")],o),e.WaitWeight=o;let a=class extends h{};p([h.field(ge)],a.prototype,"threshold",void 0),p([h.field(s,{array:!0})],a.prototype,"keys",void 0),p([h.field(n,{array:!0})],a.prototype,"accounts",void 0),p([h.field(o,{array:!0})],a.prototype,"waits",void 0),a=p([h.type("authority")],a),e.Authority=a;let l=class extends h{};p([h.field(N)],l.prototype,"bidder",void 0),p([h.field(ie)],l.prototype,"amount",void 0),l=p([h.type("bid_refund")],l),e.BidRefund=l;let c=class extends h{};p([h.field(N)],c.prototype,"bidder",void 0),p([h.field(N)],c.prototype,"newname",void 0),p([h.field(ie)],c.prototype,"bid",void 0),c=p([h.type("bidname")],c),e.Bidname=c;let d=class extends h{};p([h.field(N)],d.prototype,"bidder",void 0),p([h.field(N)],d.prototype,"newname",void 0),d=p([h.type("bidrefund")],d),e.Bidrefund=d;let u=class extends h{};p([h.field(N)],u.prototype,"producer_name",void 0),p([h.field(ei)],u.prototype,"block_signing_key",void 0),u=p([h.type("producer_key")],u),e.ProducerKey=u;let f=class extends h{};p([h.field(ge)],f.prototype,"version",void 0),p([h.field(u,{array:!0})],f.prototype,"producers",void 0),f=p([h.type("producer_schedule")],f),e.ProducerSchedule=f;let g=class extends h{};p([h.field(ge)],g.prototype,"timestamp",void 0),p([h.field(N)],g.prototype,"producer",void 0),p([h.field(li)],g.prototype,"confirmed",void 0),p([h.field(Me)],g.prototype,"previous",void 0),p([h.field(Me)],g.prototype,"transaction_mroot",void 0),p([h.field(Me)],g.prototype,"action_mroot",void 0),p([h.field(ge)],g.prototype,"schedule_version",void 0),p([h.field(f,{optional:!0})],g.prototype,"new_producers",void 0),g=p([h.type("block_header")],g),e.BlockHeader=g;let m=class extends h{};p([h.field(Gt)],m.prototype,"version",void 0),p([h.field(ge)],m.prototype,"block_height",void 0),p([h.field(Rs)],m.prototype,"block_timestamp",void 0),m=p([h.type("block_info_record")],m),e.BlockInfoRecord=m;let y=class extends h{};p([h.field(ge)],y.prototype,"threshold",void 0),p([h.field(s,{array:!0})],y.prototype,"keys",void 0),y=p([h.type("block_signing_authority_v0")],y),e.BlockSigningAuthorityV0=y;let b=class extends h{};p([h.field(Oe)],b.prototype,"max_block_net_usage",void 0),p([h.field(ge)],b.prototype,"target_block_net_usage_pct",void 0),p([h.field(ge)],b.prototype,"max_transaction_net_usage",void 0),p([h.field(ge)],b.prototype,"base_per_transaction_net_usage",void 0),p([h.field(ge)],b.prototype,"net_usage_leeway",void 0),p([h.field(ge)],b.prototype,"context_free_discount_net_usage_num",void 0),p([h.field(ge)],b.prototype,"context_free_discount_net_usage_den",void 0),p([h.field(ge)],b.prototype,"max_block_cpu_usage",void 0),p([h.field(ge)],b.prototype,"target_block_cpu_usage_pct",void 0),p([h.field(ge)],b.prototype,"max_transaction_cpu_usage",void 0),p([h.field(ge)],b.prototype,"min_transaction_cpu_usage",void 0),p([h.field(ge)],b.prototype,"max_transaction_lifetime",void 0),p([h.field(ge)],b.prototype,"deferred_trx_expiration_window",void 0),p([h.field(ge)],b.prototype,"max_transaction_delay",void 0),p([h.field(ge)],b.prototype,"max_inline_action_size",void 0),p([h.field(li)],b.prototype,"max_inline_action_depth",void 0),p([h.field(li)],b.prototype,"max_authority_depth",void 0),b=p([h.type("blockchain_parameters")],b),e.BlockchainParameters=b;let S=class extends h{};p([h.field(ge,{optional:!0})],S.prototype,"max_action_return_value_size",void 0),S=p([h.type("blockchain_parameters_v1")],S),e.BlockchainParametersV1=S;let I=class extends h{};p([h.field(N)],I.prototype,"payer",void 0),p([h.field(N)],I.prototype,"receiver",void 0),p([h.field(ie)],I.prototype,"quant",void 0),I=p([h.type("buyram")],I),e.Buyram=I;let F=class extends h{};p([h.field(N)],F.prototype,"payer",void 0),p([h.field(N)],F.prototype,"receiver",void 0),p([h.field(ge)],F.prototype,"bytes",void 0),F=p([h.type("buyrambytes")],F),e.Buyrambytes=F;let G=class extends h{};p([h.field(N)],G.prototype,"from",void 0),p([h.field(ie)],G.prototype,"amount",void 0),G=p([h.type("buyrex")],G),e.Buyrex=G;let L=class extends h{};p([h.field(r)],L.prototype,"canceling_auth",void 0),p([h.field(Me)],L.prototype,"trx_id",void 0),L=p([h.type("canceldelay")],L),e.Canceldelay=L;let T=class extends h{};p([h.field(me,{optional:!0})],T.prototype,"current_weight_ratio",void 0),p([h.field(me,{optional:!0})],T.prototype,"target_weight_ratio",void 0),p([h.field(me,{optional:!0})],T.prototype,"assumed_stake_weight",void 0),p([h.field(ci,{optional:!0})],T.prototype,"target_timestamp",void 0),p([h.field(yi,{optional:!0})],T.prototype,"exponent",void 0),p([h.field(ge,{optional:!0})],T.prototype,"decay_secs",void 0),p([h.field(ie,{optional:!0})],T.prototype,"min_price",void 0),p([h.field(ie,{optional:!0})],T.prototype,"max_price",void 0),T=p([h.type("powerup_config_resource")],T),e.PowerupConfigResource=T;let O=class extends h{};p([h.field(T)],O.prototype,"net",void 0),p([h.field(T)],O.prototype,"cpu",void 0),p([h.field(ge,{optional:!0})],O.prototype,"powerup_days",void 0),p([h.field(ie,{optional:!0})],O.prototype,"min_powerup_fee",void 0),O=p([h.type("powerup_config")],O),e.PowerupConfig=O;let Q=class extends h{};p([h.field(O)],Q.prototype,"args",void 0),Q=p([h.type("cfgpowerup")],Q),e.Cfgpowerup=Q;let V=class extends h{};p([h.field(N)],V.prototype,"owner",void 0),V=p([h.type("claimrewards")],V),e.Claimrewards=V;let U=class extends h{};p([h.field(N)],U.prototype,"owner",void 0),U=p([h.type("closerex")],U),e.Closerex=U;let M=class extends h{};p([h.field(N)],M.prototype,"owner",void 0),M=p([h.type("cnclrexorder")],M),e.Cnclrexorder=M;let v=class extends h{};p([h.field(ie)],v.prototype,"balance",void 0),p([h.field(yi)],v.prototype,"weight",void 0),v=p([h.type("connector")],v),e.Connector=v;let w=class extends h{};p([h.field(N)],w.prototype,"owner",void 0),w=p([h.type("consolidate")],w),e.Consolidate=w;let R=class extends h{};p([h.field(N)],R.prototype,"from",void 0),p([h.field(Oe)],R.prototype,"loan_num",void 0),p([h.field(ie)],R.prototype,"amount",void 0),R=p([h.type("defcpuloan")],R),e.Defcpuloan=R;let A=class extends h{};p([h.field(N)],A.prototype,"from",void 0),p([h.field(Oe)],A.prototype,"loan_num",void 0),p([h.field(ie)],A.prototype,"amount",void 0),A=p([h.type("defnetloan")],A),e.Defnetloan=A;let k=class extends h{};p([h.field(N)],k.prototype,"from",void 0),p([h.field(N)],k.prototype,"receiver",void 0),p([h.field(ie)],k.prototype,"stake_net_quantity",void 0),p([h.field(ie)],k.prototype,"stake_cpu_quantity",void 0),p([h.field("bool")],k.prototype,"transfer",void 0),k=p([h.type("delegatebw")],k),e.Delegatebw=k;let E=class extends h{};p([h.field(N)],E.prototype,"from",void 0),p([h.field(N)],E.prototype,"to",void 0),p([h.field(ie)],E.prototype,"net_weight",void 0),p([h.field(ie)],E.prototype,"cpu_weight",void 0),E=p([h.type("delegated_bandwidth")],E),e.DelegatedBandwidth=E;let D=class extends h{};p([h.field(N)],D.prototype,"account",void 0),p([h.field(N)],D.prototype,"permission",void 0),p([h.field(N,{optional:!0})],D.prototype,"authorized_by",void 0),D=p([h.type("deleteauth")],D),e.Deleteauth=D;let x=class extends h{};p([h.field(N)],x.prototype,"owner",void 0),p([h.field(ie)],x.prototype,"amount",void 0),x=p([h.type("deposit")],x),e.Deposit=x;let C=class extends h{};p([h.field(Oe)],C.prototype,"max_ram_size",void 0),p([h.field(Oe)],C.prototype,"total_ram_bytes_reserved",void 0),p([h.field(me)],C.prototype,"total_ram_stake",void 0),p([h.field(so)],C.prototype,"last_producer_schedule_update",void 0),p([h.field(Rs)],C.prototype,"last_pervote_bucket_fill",void 0),p([h.field(me)],C.prototype,"pervote_bucket",void 0),p([h.field(me)],C.prototype,"perblock_bucket",void 0),p([h.field(ge)],C.prototype,"total_unpaid_blocks",void 0),p([h.field(me)],C.prototype,"total_activated_stake",void 0),p([h.field(Rs)],C.prototype,"thresh_activated_stake_time",void 0),p([h.field(li)],C.prototype,"last_producer_schedule_size",void 0),p([h.field(yi)],C.prototype,"total_producer_vote_weight",void 0),p([h.field(so)],C.prototype,"last_name_close",void 0),C=p([h.type("eosio_global_state")],C),e.EosioGlobalState=C;let _=class extends h{};p([h.field(li)],_.prototype,"new_ram_per_block",void 0),p([h.field(so)],_.prototype,"last_ram_increase",void 0),p([h.field(so)],_.prototype,"last_block_num",void 0),p([h.field(yi)],_.prototype,"total_producer_votepay_share",void 0),p([h.field(Gt)],_.prototype,"revision",void 0),_=p([h.type("eosio_global_state2")],_),e.EosioGlobalState2=_;let ce=class extends h{};p([h.field(Rs)],ce.prototype,"last_vpay_state_update",void 0),p([h.field(yi)],ce.prototype,"total_vpay_share_change_rate",void 0),ce=p([h.type("eosio_global_state3")],ce),e.EosioGlobalState3=ce;let de=class extends h{};p([h.field(yi)],de.prototype,"continuous_rate",void 0),p([h.field(me)],de.prototype,"inflation_pay_factor",void 0),p([h.field(me)],de.prototype,"votepay_factor",void 0),de=p([h.type("eosio_global_state4")],de),e.EosioGlobalState4=de;let ue=class extends h{};p([h.field(ie)],ue.prototype,"supply",void 0),p([h.field(v)],ue.prototype,"base",void 0),p([h.field(v)],ue.prototype,"quote",void 0),ue=p([h.type("exchange_state")],ue),e.ExchangeState=ue;let we=class extends h{};p([h.field(N)],we.prototype,"from",void 0),p([h.field(Oe)],we.prototype,"loan_num",void 0),p([h.field(ie)],we.prototype,"payment",void 0),we=p([h.type("fundcpuloan")],we),e.Fundcpuloan=we;let ke=class extends h{};p([h.field(N)],ke.prototype,"from",void 0),p([h.field(Oe)],ke.prototype,"loan_num",void 0),p([h.field(ie)],ke.prototype,"payment",void 0),ke=p([h.type("fundnetloan")],ke),e.Fundnetloan=ke;let Be=class extends h{};p([h.field(ac)],Be.prototype,"version",void 0),p([h.field(ie.Symbol)],Be.prototype,"core",void 0),Be=p([h.type("init")],Be),e.Init=Be;let he=class extends h{};p([h.field(N)],he.prototype,"account",void 0),p([h.field(N,{array:!0})],he.prototype,"allow_perms",void 0),p([h.field(N,{array:!0})],he.prototype,"disallow_perms",void 0),he=p([h.type("limitauthchg")],he),e.Limitauthchg=he;let J=class extends h{};p([h.field(N)],J.prototype,"account",void 0),p([h.field(N)],J.prototype,"code",void 0),p([h.field(N)],J.prototype,"type",void 0),p([h.field(N)],J.prototype,"requirement",void 0),p([h.field(N,{optional:!0})],J.prototype,"authorized_by",void 0),J=p([h.type("linkauth")],J),e.Linkauth=J;let et=class extends h{};p([h.field(N)],et.prototype,"owner",void 0),p([h.field(ie)],et.prototype,"rex",void 0),et=p([h.type("mvfrsavings")],et),e.Mvfrsavings=et;let rs=class extends h{};p([h.field(N)],rs.prototype,"owner",void 0),p([h.field(ie)],rs.prototype,"rex",void 0),rs=p([h.type("mvtosavings")],rs),e.Mvtosavings=rs;let qe=class extends h{};p([h.field(N)],qe.prototype,"newname",void 0),p([h.field(N)],qe.prototype,"high_bidder",void 0),p([h.field(me)],qe.prototype,"high_bid",void 0),p([h.field(Rs)],qe.prototype,"last_bid_time",void 0),qe=p([h.type("name_bid")],qe),e.NameBid=qe;let ut=class extends h{};p([h.field(N)],ut.prototype,"creator",void 0),p([h.field(N)],ut.prototype,"name",void 0),p([h.field(a)],ut.prototype,"owner",void 0),p([h.field(a)],ut.prototype,"active",void 0),ut=p([h.type("newaccount")],ut),e.Newaccount=ut;let nn=class extends h{};p([h.field(g)],nn.prototype,"header",void 0),nn=p([h.type("onblock")],nn),e.Onblock=nn;let gt=class extends h{};p([h.field(Hi)],gt.prototype,"sender_id",void 0),p([h.field(pe)],gt.prototype,"sent_trx",void 0),gt=p([h.type("onerror")],gt),e.Onerror=gt;let lt=class extends h{};p([h.field(ci)],lt.prototype,"first",void 0),p([h.field(me)],lt.prototype,"second",void 0),lt=p([h.type("pair_time_point_sec_int64")],lt),e.PairTimePointSecInt64=lt;let ns=class extends h{};p([h.field(N)],ns.prototype,"payer",void 0),p([h.field(N)],ns.prototype,"receiver",void 0),p([h.field(ge)],ns.prototype,"days",void 0),p([h.field(me)],ns.prototype,"net_frac",void 0),p([h.field(me)],ns.prototype,"cpu_frac",void 0),p([h.field(ie)],ns.prototype,"max_payment",void 0),ns=p([h.type("powerup")],ns),e.Powerup=ns;let st=class extends h{};p([h.field(Gt)],st.prototype,"version",void 0),p([h.field(Oe)],st.prototype,"id",void 0),p([h.field(N)],st.prototype,"owner",void 0),p([h.field(me)],st.prototype,"net_weight",void 0),p([h.field(me)],st.prototype,"cpu_weight",void 0),p([h.field(ci)],st.prototype,"expires",void 0),st=p([h.type("powerup_order")],st),e.PowerupOrder=st;let xe=class extends h{};p([h.field(Gt)],xe.prototype,"version",void 0),p([h.field(me)],xe.prototype,"weight",void 0),p([h.field(me)],xe.prototype,"weight_ratio",void 0),p([h.field(me)],xe.prototype,"assumed_stake_weight",void 0),p([h.field(me)],xe.prototype,"initial_weight_ratio",void 0),p([h.field(me)],xe.prototype,"target_weight_ratio",void 0),p([h.field(ci)],xe.prototype,"initial_timestamp",void 0),p([h.field(ci)],xe.prototype,"target_timestamp",void 0),p([h.field(yi)],xe.prototype,"exponent",void 0),p([h.field(ge)],xe.prototype,"decay_secs",void 0),p([h.field(ie)],xe.prototype,"min_price",void 0),p([h.field(ie)],xe.prototype,"max_price",void 0),p([h.field(me)],xe.prototype,"utilization",void 0),p([h.field(me)],xe.prototype,"adjusted_utilization",void 0),p([h.field(ci)],xe.prototype,"utilization_timestamp",void 0),xe=p([h.type("powerup_state_resource")],xe),e.PowerupStateResource=xe;let Cs=class extends h{};p([h.field(Gt)],Cs.prototype,"version",void 0),p([h.field(xe)],Cs.prototype,"net",void 0),p([h.field(xe)],Cs.prototype,"cpu",void 0),p([h.field(ge)],Cs.prototype,"powerup_days",void 0),p([h.field(ie)],Cs.prototype,"min_powerup_fee",void 0),Cs=p([h.type("powerup_state")],Cs),e.PowerupState=Cs;let mt=class extends h{};p([h.field(N)],mt.prototype,"user",void 0),p([h.field(li)],mt.prototype,"max",void 0),mt=p([h.type("powerupexec")],mt),e.Powerupexec=mt;let Je=class extends h{};p([h.field(N)],Je.prototype,"owner",void 0),p([h.field(yi)],Je.prototype,"total_votes",void 0),p([h.field(ei)],Je.prototype,"producer_key",void 0),p([h.field("bool")],Je.prototype,"is_active",void 0),p([h.field("string")],Je.prototype,"url",void 0),p([h.field(ge)],Je.prototype,"unpaid_blocks",void 0),p([h.field(Rs)],Je.prototype,"last_claim_time",void 0),p([h.field(li)],Je.prototype,"location",void 0),p([h.field(y,{optional:!0})],Je.prototype,"producer_authority",void 0),Je=p([h.type("producer_info")],Je),e.ProducerInfo=Je;let $s=class extends h{};p([h.field(N)],$s.prototype,"owner",void 0),p([h.field(yi)],$s.prototype,"votepay_share",void 0),p([h.field(Rs)],$s.prototype,"last_votepay_share_update",void 0),$s=p([h.type("producer_info2")],$s),e.ProducerInfo2=$s;let Ft=class extends h{};p([h.field(N)],Ft.prototype,"owner",void 0),Ft=p([h.type("refund")],Ft),e.Refund=Ft;let ct=class extends h{};p([h.field(N)],ct.prototype,"owner",void 0),p([h.field(ci)],ct.prototype,"request_time",void 0),p([h.field(ie)],ct.prototype,"net_amount",void 0),p([h.field(ie)],ct.prototype,"cpu_amount",void 0),ct=p([h.type("refund_request")],ct),e.RefundRequest=ct;let X=class extends h{};p([h.field(N)],X.prototype,"producer",void 0),p([h.field(ei)],X.prototype,"producer_key",void 0),p([h.field("string")],X.prototype,"url",void 0),p([h.field(li)],X.prototype,"location",void 0),X=p([h.type("regproducer")],X),e.Regproducer=X;let H=class extends h{};p([h.field(N)],H.prototype,"producer",void 0),p([h.field(y)],H.prototype,"producer_authority",void 0),p([h.field("string")],H.prototype,"url",void 0),p([h.field(li)],H.prototype,"location",void 0),H=p([h.type("regproducer2")],H),e.Regproducer2=H;let ae=class extends h{};p([h.field(N)],ae.prototype,"proxy",void 0),p([h.field("bool")],ae.prototype,"isproxy",void 0),ae=p([h.type("regproxy")],ae),e.Regproxy=ae;let fe=class extends h{};p([h.field(N)],fe.prototype,"from",void 0),p([h.field(N)],fe.prototype,"receiver",void 0),p([h.field(ie)],fe.prototype,"loan_payment",void 0),p([h.field(ie)],fe.prototype,"loan_fund",void 0),fe=p([h.type("rentcpu")],fe),e.Rentcpu=fe;let Re=class extends h{};p([h.field(N)],Re.prototype,"from",void 0),p([h.field(N)],Re.prototype,"receiver",void 0),p([h.field(ie)],Re.prototype,"loan_payment",void 0),p([h.field(ie)],Re.prototype,"loan_fund",void 0),Re=p([h.type("rentnet")],Re),e.Rentnet=Re;let Ie=class extends h{};p([h.field(Gt)],Ie.prototype,"version",void 0),p([h.field(N)],Ie.prototype,"owner",void 0),p([h.field(ie)],Ie.prototype,"vote_stake",void 0),p([h.field(ie)],Ie.prototype,"rex_balance",void 0),p([h.field(me)],Ie.prototype,"matured_rex",void 0),p([h.field(lt,{array:!0})],Ie.prototype,"rex_maturities",void 0),Ie=p([h.type("rex_balance")],Ie),e.RexBalance=Ie;let vt=class extends h{};p([h.field(Gt)],vt.prototype,"version",void 0),p([h.field(N)],vt.prototype,"owner",void 0),p([h.field(ie)],vt.prototype,"balance",void 0),vt=p([h.type("rex_fund")],vt),e.RexFund=vt;let Se=class extends h{};p([h.field(Gt)],Se.prototype,"version",void 0),p([h.field(N)],Se.prototype,"from",void 0),p([h.field(N)],Se.prototype,"receiver",void 0),p([h.field(ie)],Se.prototype,"payment",void 0),p([h.field(ie)],Se.prototype,"balance",void 0),p([h.field(ie)],Se.prototype,"total_staked",void 0),p([h.field(Oe)],Se.prototype,"loan_num",void 0),p([h.field(Rs)],Se.prototype,"expiration",void 0),Se=p([h.type("rex_loan")],Se),e.RexLoan=Se;let _e=class extends h{};p([h.field(Gt)],_e.prototype,"version",void 0),p([h.field(N)],_e.prototype,"owner",void 0),p([h.field(ie)],_e.prototype,"rex_requested",void 0),p([h.field(ie)],_e.prototype,"proceeds",void 0),p([h.field(ie)],_e.prototype,"stake_change",void 0),p([h.field(Rs)],_e.prototype,"order_time",void 0),p([h.field("bool")],_e.prototype,"is_open",void 0),_e=p([h.type("rex_order")],_e),e.RexOrder=_e;let Yt=class extends h{};p([h.field(Gt)],Yt.prototype,"version",void 0),p([h.field(ie)],Yt.prototype,"total_lent",void 0),p([h.field(ie)],Yt.prototype,"total_unlent",void 0),p([h.field(ie)],Yt.prototype,"total_rent",void 0),p([h.field(ie)],Yt.prototype,"total_lendable",void 0),p([h.field(ie)],Yt.prototype,"total_rex",void 0),p([h.field(ie)],Yt.prototype,"namebid_proceeds",void 0),p([h.field(Oe)],Yt.prototype,"loan_num",void 0),Yt=p([h.type("rex_pool")],Yt),e.RexPool=Yt;let He=class extends h{};p([h.field(Gt)],He.prototype,"version",void 0),p([h.field(lt,{array:!0})],He.prototype,"return_buckets",void 0),He=p([h.type("rex_return_buckets")],He),e.RexReturnBuckets=He;let Ve=class extends h{};p([h.field(Gt)],Ve.prototype,"version",void 0),p([h.field(ci)],Ve.prototype,"last_dist_time",void 0),p([h.field(ci)],Ve.prototype,"pending_bucket_time",void 0),p([h.field(ci)],Ve.prototype,"oldest_bucket_time",void 0),p([h.field(me)],Ve.prototype,"pending_bucket_proceeds",void 0),p([h.field(me)],Ve.prototype,"current_rate_of_increase",void 0),p([h.field(me)],Ve.prototype,"proceeds",void 0),Ve=p([h.type("rex_return_pool")],Ve),e.RexReturnPool=Ve;let Xi=class extends h{};p([h.field(N)],Xi.prototype,"user",void 0),p([h.field(li)],Xi.prototype,"max",void 0),Xi=p([h.type("rexexec")],Xi),e.Rexexec=Xi;let nt=class extends h{};p([h.field(N)],nt.prototype,"producer",void 0),nt=p([h.type("rmvproducer")],nt),e.Rmvproducer=nt;let ht=class extends h{};p([h.field(N)],ht.prototype,"account",void 0),p([h.field(me)],ht.prototype,"bytes",void 0),ht=p([h.type("sellram")],ht),e.Sellram=ht;let ai=class extends h{};p([h.field(N)],ai.prototype,"from",void 0),p([h.field(ie)],ai.prototype,"rex",void 0),ai=p([h.type("sellrex")],ai),e.Sellrex=ai;let Et=class extends h{};p([h.field(N)],Et.prototype,"account",void 0),p([h.field(pe)],Et.prototype,"abi",void 0),p([h.field("string",{optional:!0})],Et.prototype,"memo",void 0),Et=p([h.type("setabi")],Et),e.Setabi=Et;let kt=class extends h{};p([h.field(N)],kt.prototype,"account",void 0),p([h.field(me,{optional:!0})],kt.prototype,"cpu_weight",void 0),kt=p([h.type("setacctcpu")],kt),e.Setacctcpu=kt;let Pn=class extends h{};p([h.field(N)],Pn.prototype,"account",void 0),p([h.field(me,{optional:!0})],Pn.prototype,"net_weight",void 0),Pn=p([h.type("setacctnet")],Pn),e.Setacctnet=Pn;let _t=class extends h{};p([h.field(N)],_t.prototype,"account",void 0),p([h.field(me,{optional:!0})],_t.prototype,"ram_bytes",void 0),_t=p([h.type("setacctram")],_t),e.Setacctram=_t;let bt=class extends h{};p([h.field(N)],bt.prototype,"account",void 0),p([h.field(me)],bt.prototype,"ram_bytes",void 0),p([h.field(me)],bt.prototype,"net_weight",void 0),p([h.field(me)],bt.prototype,"cpu_weight",void 0),bt=p([h.type("setalimits")],bt),e.Setalimits=bt;let er=class extends h{};p([h.field(N)],er.prototype,"account",void 0),p([h.field(Gt)],er.prototype,"vmtype",void 0),p([h.field(Gt)],er.prototype,"vmversion",void 0),p([h.field(pe)],er.prototype,"code",void 0),p([h.field("string",{optional:!0})],er.prototype,"memo",void 0),er=p([h.type("setcode")],er),e.Setcode=er;let Mt=class extends h{};p([h.field(me)],Mt.prototype,"annual_rate",void 0),p([h.field(me)],Mt.prototype,"inflation_pay_factor",void 0),p([h.field(me)],Mt.prototype,"votepay_factor",void 0),Mt=p([h.type("setinflation")],Mt),e.Setinflation=Mt;let Tt=class extends h{};p([h.field(S)],Tt.prototype,"params",void 0),Tt=p([h.type("setparams")],Tt),e.Setparams=Tt;let Ln=class extends h{};p([h.field(N)],Ln.prototype,"account",void 0),p([h.field(Gt)],Ln.prototype,"is_priv",void 0),Ln=p([h.type("setpriv")],Ln),e.Setpriv=Ln;let Nt=class extends h{};p([h.field(Oe)],Nt.prototype,"max_ram_size",void 0),Nt=p([h.type("setram")],Nt),e.Setram=Nt;let Bt=class extends h{};p([h.field(li)],Bt.prototype,"bytes_per_block",void 0),Bt=p([h.type("setramrate")],Bt),e.Setramrate=Bt;let Bo=class extends h{};p([h.field(ie)],Bo.prototype,"balance",void 0),Bo=p([h.type("setrex")],Bo),e.Setrex=Bo;let Ct=class extends h{};p([h.field(N)],Ct.prototype,"from",void 0),p([h.field(N)],Ct.prototype,"receiver",void 0),p([h.field(ie)],Ct.prototype,"unstake_net_quantity",void 0),p([h.field(ie)],Ct.prototype,"unstake_cpu_quantity",void 0),Ct=p([h.type("undelegatebw")],Ct),e.Undelegatebw=Ct;let yt=class extends h{};p([h.field(N)],yt.prototype,"account",void 0),p([h.field(N)],yt.prototype,"code",void 0),p([h.field(N)],yt.prototype,"type",void 0),p([h.field(N,{optional:!0})],yt.prototype,"authorized_by",void 0),yt=p([h.type("unlinkauth")],yt),e.Unlinkauth=yt;let Vo=class extends h{};p([h.field(N)],Vo.prototype,"producer",void 0),Vo=p([h.type("unregprod")],Vo),e.Unregprod=Vo;let wt=class extends h{};p([h.field(N)],wt.prototype,"owner",void 0),p([h.field(N)],wt.prototype,"receiver",void 0),p([h.field(ie)],wt.prototype,"from_net",void 0),p([h.field(ie)],wt.prototype,"from_cpu",void 0),wt=p([h.type("unstaketorex")],wt),e.Unstaketorex=wt;let ft=class extends h{};p([h.field(N)],ft.prototype,"account",void 0),p([h.field(N)],ft.prototype,"permission",void 0),p([h.field(N)],ft.prototype,"parent",void 0),p([h.field(a)],ft.prototype,"auth",void 0),p([h.field(N,{optional:!0})],ft.prototype,"authorized_by",void 0),ft=p([h.type("updateauth")],ft),e.Updateauth=ft;let Oo=class extends h{};p([h.field(N)],Oo.prototype,"owner",void 0),Oo=p([h.type("updaterex")],Oo),e.Updaterex=Oo;let Vt=class extends h{};p([h.field(Gt)],Vt.prototype,"revision",void 0),Vt=p([h.type("updtrevision")],Vt),e.Updtrevision=Vt;let St=class extends h{};p([h.field(N)],St.prototype,"owner",void 0),p([h.field(ie)],St.prototype,"net_weight",void 0),p([h.field(ie)],St.prototype,"cpu_weight",void 0),p([h.field(me)],St.prototype,"ram_bytes",void 0),St=p([h.type("user_resources")],St),e.UserResources=St;let Rr=class extends h{};p([h.field(N)],Rr.prototype,"voter",void 0),p([h.field(N)],Rr.prototype,"proxy",void 0),p([h.field(N,{array:!0})],Rr.prototype,"producers",void 0),Rr=p([h.type("voteproducer")],Rr),e.Voteproducer=Rr;let ki=class extends h{};p([h.field(N)],ki.prototype,"owner",void 0),p([h.field(N)],ki.prototype,"proxy",void 0),p([h.field(N,{array:!0})],ki.prototype,"producers",void 0),p([h.field(me)],ki.prototype,"staked",void 0),p([h.field(yi)],ki.prototype,"last_vote_weight",void 0),p([h.field(yi)],ki.prototype,"proxied_vote_weight",void 0),p([h.field("bool")],ki.prototype,"is_proxy",void 0),p([h.field(ge)],ki.prototype,"flags1",void 0),p([h.field(ge)],ki.prototype,"reserved2",void 0),p([h.field(ie)],ki.prototype,"reserved3",void 0),ki=p([h.type("voter_info")],ki),e.VoterInfo=ki;let Zn=class extends h{};p([h.field(N)],Zn.prototype,"voter_name",void 0),Zn=p([h.type("voteupdate")],Zn),e.Voteupdate=Zn;let Hn=class extends h{};p([h.field(N)],Hn.prototype,"settings",void 0),Hn=p([h.type("wasmcfg")],Hn),e.Wasmcfg=Hn;let on=class extends h{};p([h.field(N)],on.prototype,"owner",void 0),p([h.field(ie)],on.prototype,"amount",void 0),on=p([h.type("withdraw")],on),e.Withdraw=on;let tr=class extends h{};p([h.field(Gt)],tr.prototype,"version",void 0),p([h.field(N)],tr.prototype,"account",void 0),p([h.field(N,{array:!0})],tr.prototype,"allow_perms",void 0),p([h.field(N,{array:!0})],tr.prototype,"disallow_perms",void 0),tr=p([h.type("limit_auth_change")],tr),e.LimitAuthChange=tr})(Rt||(Rt={}));const BE={abihash:Rt.AbiHash,bidrefunds:Rt.BidRefund,blockinfo:Rt.BlockInfoRecord,cpuloan:Rt.RexLoan,delband:Rt.DelegatedBandwidth,global:Rt.EosioGlobalState,global2:Rt.EosioGlobalState2,global3:Rt.EosioGlobalState3,global4:Rt.EosioGlobalState4,namebids:Rt.NameBid,netloan:Rt.RexLoan,"powup.order":Rt.PowerupOrder,"powup.state":Rt.PowerupState,producers:Rt.ProducerInfo,producers2:Rt.ProducerInfo2,rammarket:Rt.ExchangeState,refunds:Rt.RefundRequest,retbuckets:Rt.RexReturnBuckets,rexbal:Rt.RexBalance,rexfund:Rt.RexFund,rexpool:Rt.RexPool,rexqueue:Rt.RexOrder,rexretpool:Rt.RexReturnPool,userres:Rt.UserResources,voters:Rt.VoterInfo,limitauthchg:Rt.LimitAuthChange};class VE{constructor(t,i){switch(this.resource=t,this.data=i,t){case"cpu":{this.available=this.data.cpu_limit.available,this.current_used=this.data.cpu_limit.current_used,this.used=this.data.cpu_limit.used,this.max=this.data.cpu_limit.max,this.weight=this.data.cpu_weight;break}case"net":{this.available=this.data.net_limit.available,this.current_used=this.data.net_limit.current_used,this.used=this.data.net_limit.used,this.max=this.data.net_limit.max,this.weight=this.data.net_weight;break}case"ram":{this.available=this.data.ram_quota.subtracting(this.data.ram_usage),this.used=me.from(this.data.ram_usage),this.max=this.data.ram_quota;break}default:throw new Error(`Unknown resource type (${t}).`)}}toJSON(){return{resource:this.resource,available:this.available,current_used:this.current_used?this.current_used:this.current_used,used:this.used,max:this.max,weight:this.weight?this.weight:void 0}}}class OE{constructor(t){this.data=t.data,t.contract?this.systemContract=t.contract:this.systemContract=new NE({client:t.client}),this.client=t.client,this.token=new DE({client:t.client})}get accountName(){return N.from(this.data.account_name)}get systemToken(){return ie.Symbol.from(this.data.total_resources.cpu_weight.symbol)}balance(t,i){return this.token.balance(this.accountName,t,i)}permission(t){const i=this.data.permissions.find(s=>s.perm_name.equals(t));if(!i)throw new Error(`Permission ${t} does not exist on account ${this.accountName}.`);return Mo.from(i)}get permissions(){return this.data.permissions.map(t=>Mo.from(t))}resource(t){return new VE(t,this.data)}resources(t){return new jw({api:this.client,sampleAccount:t?String(t):void 0,symbol:this.data.core_liquid_balance?String(this.data.core_liquid_balance.symbol):void 0})}setPermission(t){return this.systemContract.action("updateauth",{account:this.accountName,auth:t.required_auth,authorized_by:"",parent:t.parent,permission:t.perm_name})}removePermission(t){return this.systemContract.action("deleteauth",{account:this.accountName,authorized_by:"",permission:t})}linkauth(t,i,s){return this.systemContract.action("linkauth",{account:this.accountName,code:t,type:i,requirement:s,authorized_by:""})}unlinkauth(t,i){return this.systemContract.action("unlinkauth",{account:this.accountName,code:t,type:i,authorized_by:""})}buyRam(t,i){let s=this.accountName;return i&&i.receiver&&(s=N.from(i.receiver)),this.systemContract.action("buyram",{payer:this.accountName,quant:t,receiver:s})}buyRamBytes(t,i){let s=this.accountName;return i&&i.receiver&&(s=N.from(i.receiver)),this.systemContract.action("buyrambytes",{bytes:t,payer:this.accountName,receiver:s})}sellRam(t){return this.systemContract.action("sellram",{account:this.accountName,bytes:t})}delegate(t){return this.systemContract.action("delegatebw",{from:t.from||this.accountName,receiver:t.receiver||this.accountName,stake_cpu_quantity:t.cpu||ie.fromUnits(0,this.systemToken),stake_net_quantity:t.net||ie.fromUnits(0,this.systemToken),transfer:t.transfer!==void 0?t.transfer:!1})}undelegate(t){return this.systemContract.action("undelegatebw",{from:t.from||this.accountName,receiver:t.receiver||this.accountName,unstake_cpu_quantity:t.cpu||ie.fromUnits(0,this.systemToken),unstake_net_quantity:t.net||ie.fromUnits(0,this.systemToken)})}}class PE{constructor(t,i){this.chain=t,this.contract=i==null?void 0:i.contract,this.client=(i==null?void 0:i.client)||new Wo({url:this.chain.url})}async load(t){const i=await this.client.v1.chain.get_account(t,this.chain.accountDataType);return new OE({client:this.client,contract:this.contract,data:i})}}var Wb;(function(e){e.beforeLogin="beforeLogin",e.afterLogin="afterLogin"})(Wb||(Wb={}));class LE{constructor(t){var i;this.arbitrary={},this.chains=[],this.hooks={afterLogin:[],beforeLogin:[]},this.uiRequirements={requiresChainSelect:!0,requiresPermissionSelect:!0,requiresPermissionEntry:!1,requiresWalletSelect:!0},this.walletPlugins=[],this.appName=String(t.appName),t.arbitrary&&(this.arbitrary=t.arbitrary),t.chains&&(this.chains=t.chains),t.chain&&(this.chain=t.chain),this.fetch=t.fetch,this.permissionLevel=t.permissionLevel,this.walletPlugins=t.walletPlugins||[],this.ui=t.ui,(i=t.loginPlugins)==null||i.forEach(s=>{s.register(this)})}addHook(t,i){this.hooks[t].push(i)}getClient(t){return new Wo({provider:new au(t.url,{fetch:this.fetch})})}get esrOptions(){return{zlib:uo}}}class ZE{}class HE extends ZE{register(){}}var cl;(function(e){e.beforeSign="beforeSign",e.afterSign="afterSign",e.afterBroadcast="afterBroadcast"})(cl||(cl={}));class Tb{constructor(t){var i;this.hooks={afterBroadcast:[],afterSign:[],beforeSign:[]},this.abiCache=t.abiCache,this.appName=String(t.appName),this.chain=t.chain,this.client=t.client,this.createRequest=t.createRequest,this.fetch=t.fetch,this.permissionLevel=t.permissionLevel,t.storage&&(this.storage=t.storage),this.transactPluginsOptions=t.transactPluginsOptions||{},this.ui=t.ui,(i=t.transactPlugins)==null||i.forEach(s=>{s.register(this)})}get accountName(){return this.permissionLevel.actor}get permissionName(){return this.permissionLevel.permission}get esrOptions(){return{abiProvider:this.abiCache,zlib:uo}}addHook(t,i){switch(t){case cl.beforeSign:{this.hooks[t].push(i);break}case cl.afterSign:case cl.afterBroadcast:{this.hooks[t].push(i);break}}}async getInfo(){let t=this.info;return this.info?t=this.info:this.info=t=await this.client.v1.chain.get_info(),t}async resolve(t,i=120){let s={chainId:this.chain.id};if(t.requiresTapos()){const o=(await this.getInfo()).getTransactionHeader(i);s={...s,...o}}const r=await t.fetchAbis(this.abiCache);return t.resolve(r,this.permissionLevel,s)}}class YE{constructor(t){this.revisions=[],this.addRevision({request:t,signatures:[]},"original",!0)}addRevision(t,i,s){let r=!1;const n=this.revisions[this.revisions.length-1];n&&(r=n.response.request!==String(t.request)),this.revisions.push({allowModify:s,code:String(i),modified:r,response:{request:String(t.request),signatures:t.signatures?We.objectify(t.signatures):[]}})}}class Uw{}class Xw extends Uw{get id(){return"base-transact-plugin"}register(){}}function Jw(e){if(e&&e.fetch)return e.fetch;if(typeof window<"u"&&window.fetch)return window.fetch.bind(window);if(typeof global<"u"&&global.fetch)return global.fetch.bind(global);throw new Error("Missing fetch")}class Ac{constructor(t,i={}){if(this.abis=[],this.allowModify=!0,this.broadcast=!0,this.expireSeconds=120,this.transactPluginsOptions={},this.serialize=()=>We.objectify({chain:this.chain.id,actor:this.permissionLevel.actor,permission:this.permissionLevel.permission,walletPlugin:this.walletPlugin.serialize()}),this.chain=qt.from(t.chain),t.permissionLevel)this.permissionLevel=dt.from(t.permissionLevel);else if(t.actor&&t.permission)this.permissionLevel=dt.from(`${t.actor}@${t.permission}`);else throw new Error("Either a permissionLevel or actor/permission must be provided when creating a new Session.");this.walletPlugin=t.walletPlugin,i.appName&&(this.appName=String(i.appName)),i.abis&&(this.abis=[...i.abis]),i.contracts&&this.abis.push(...i.contracts.map(s=>({account:s.account,abi:s.abi}))),i.allowModify!==void 0&&(this.allowModify=i.allowModify),i.broadcast!==void 0&&(this.broadcast=i.broadcast),i.expireSeconds&&(this.expireSeconds=i.expireSeconds),i.fetch?this.fetch=i.fetch:this.fetch=Jw(i),i.storage&&(this.storage=i.storage),i.transactPlugins?this.transactPlugins=i.transactPlugins:this.transactPlugins=[new Xw],i.transactPluginsOptions&&(this.transactPluginsOptions=i.transactPluginsOptions),i.abiCache?this.abiCache=i.abiCache:this.abiCache=new Hw(this.client),i.ui&&(this.ui=i.ui)}get actor(){return this.permissionLevel.actor}get permission(){return this.permissionLevel.permission}get client(){return new Wo({provider:new au(this.chain.url,{fetch:this.fetch})})}setEndpoint(t){this.chain.url=t}upgradeTransaction(t){const i=t;if(t.actions&&(i.expiration||i.ref_block_num||i.ref_block_prefix||i.max_net_usage_words||i.max_cpu_usage_ms||i.delay_sec))return t={transaction:{expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...i}};if(t.context_free_actions||t.context_free_data){const s=t.actions||[t.action];return delete t.action,{transaction:{expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],context_free_data:[],actions:s,...i}}}return t}storageType(t){return t===2?kn:_n}cloneRequest(t,i){let s;t.signature&&(s=mn.from(JSON.parse(JSON.stringify(t.signature))));const n=this.storageType(t.version).from(JSON.parse(JSON.stringify(t.data)));return new Wi(t.version,n,uo,i,s)}async createRequest(t,i){let s;const r={abiProvider:i,zlib:uo};return t.request&&t.request instanceof Wi?s=this.cloneRequest(t.request,i):t.request?s=Wi.from(t.request,r):(t=this.upgradeTransaction(t),s=await Wi.create({...t,chainId:this.chain.id},r)),s.setBroadcast(!1),s}async updateRequest(t,i,s){const r=this.cloneRequest(i,s),n=r.getRawInfo();return t.data.info.forEach(o=>{n[o.key]&&console.warn(`During an updateRequest call, the previous request had already set the metadata key of "${o.key}" which will not be overwritten.`),r.setRawInfoKey(o.key,o.value)}),r}async transact(t,i){try{const s=i&&i.expireSeconds?i.expireSeconds:this.expireSeconds,r=i&&typeof i.broadcast<"u"?i.broadcast:this.broadcast,n=this.getMergedAbiCache(t,i),o=(i==null?void 0:i.transactPlugins)||this.transactPlugins,a=(i==null?void 0:i.transactPluginsOptions)||this.transactPluginsOptions;let l=i&&typeof i.allowModify<"u"?i.allowModify:this.allowModify;const c=new Tb({abiCache:n,appName:this.appName,chain:this.chain,client:this.client,createRequest:g=>this.createRequest(g,n),fetch:this.fetch,permissionLevel:this.permissionLevel,storage:this.storage,transactPlugins:o,transactPluginsOptions:a,ui:this.ui});if(c.ui){await c.ui.onTransact();for(const g of o.map(m=>this.getPluginTranslations(m)))c.ui.addTranslations(g)}let d=await this.createRequest(t,n);const u={chain:this.chain,request:d,resolved:void 0,returns:[],revisions:new YE(d),signatures:[],signer:this.permissionLevel,transaction:void 0};for(const g of c.hooks.beforeSign){const m=await g(d.clone(),c);m&&(u.revisions.addRevision(m,String(g),l),l&&(d=await this.updateRequest(d,m.request,n)),m.signatures&&(u.signatures=[...u.signatures,...m.signatures],l=!1))}u.request=d,u.resolved=await c.resolve(d,s),u.transaction=u.resolved.resolvedTransaction,c.ui&&(await c.ui.onSign(),c.ui.addTranslations(this.getPluginTranslations(this.walletPlugin)));const f=await this.walletPlugin.sign(u.resolved,c);if(u.signatures.push(...f.signatures),f.resolved){const{resolved:g}=f;if(!u.resolved.transaction.equals(g.transaction))if(l)u.request=g.request,u.resolved=g,u.transaction=g.resolvedTransaction;else throw new Error(`The ${this.walletPlugin.metadata.name} plugin modified the transaction when it was not allowed to.`)}for(const g of c.hooks.afterSign)await g(u,c);if(c.ui&&await c.ui.onSignComplete(),r){c.ui&&await c.ui.onBroadcast();const g=ar.from({...u.resolved.transaction,signatures:u.signatures});u.response=await c.client.v1.chain.send_transaction(g),u.response.processed&&u.response.processed.action_traces&&(u.returns=await zE(u.response,n));for(const m of c.hooks.afterBroadcast)await m(u,c);c.ui&&await c.ui.onBroadcastComplete()}return c.ui&&await c.ui.onTransactComplete(),u}catch(s){if(s.response&&s.response.json){const{json:r}=s.response;if(r.error&&r.error.details){const n=new Error(r.error.details[0].message);throw this.ui&&await this.ui.onError(n),n}}else this.ui&&await this.ui.onError(s);throw new Error(s)}}async signTransaction(t){const i=new Tb({abiCache:this.abiCache,chain:this.chain,client:this.client,createRequest:o=>this.createRequest(o,this.abiCache),fetch:this.fetch,permissionLevel:this.permissionLevel}),s=await Wi.create({transaction:t,chainId:this.chain.id},i.esrOptions);s.setBroadcast(!1);const r=new xd(s,this.permissionLevel,Ht.from(t),We.objectify(Ht.from(t)),Zi.from(this.chain.id));return(await this.walletPlugin.sign(r,i)).signatures}getPluginTranslations(t){if(!t.translations)return{};const i={};return Object.keys(t.translations).forEach(r=>{t.translations&&(i[r]={[t.id]:t.translations[r]})}),i}getMergedAbiCache(t,i){const s=(i==null?void 0:i.abiCache)||this.abiCache;if(!s.setAbi)throw new Error("Custom `abiCache` does not support `setAbi` method.");return this.abis.forEach(r=>s.setAbi(r.account,r.abi)),i!=null&&i.abis&&i.abis.forEach(r=>s.setAbi(r.account,r.abi)),i!=null&&i.contracts&&i.contracts.forEach(r=>s.setAbi(r.account,r.abi)),t.action&&t.action.abi&&s.setAbi(t.action.account,t.action.abi,!0),t.actions&&t.actions.forEach(r=>{r.abi&&s.setAbi(r.account,r.abi,!0)}),t.transaction&&t.transaction.actions&&t.transaction.actions.forEach(r=>{r.abi&&s.setAbi(r.account,r.abi,!0)}),s}async account(){return new PE(this.chain,{client:this.client}).load(this.permissionLevel.actor)}}async function zE(e,t){const i=[];for(const s of e.processed.action_traces)if(s.return_value_hex_data){const r=N.from(s.act.account),n=N.from(s.act.name),o=await t.getAbi(r),a=o.action_results.find(l=>N.from(l.name).equals(n));if(a)try{const l=We.decode({data:s.return_value_hex_data,type:a.result_type,abi:o});i.push({contract:r,action:n,hex:s.return_value_hex_data,data:l,returnType:a})}catch(l){console.warn(`Error decoding return value for ${r}::${n}:`,l),i.push({contract:r,action:n,hex:s.return_value_hex_data,data:"",returnType:a})}else console.warn(`No return type found for ${r}::${n}`),i.push({contract:r,action:n,hex:s.return_value_hex_data,data:"",returnType:{name:n,result_type:""}})}return i}class Qw{constructor(t=""){this.keyPrefix=t}async write(t,i){localStorage.setItem(this.storageKey(t),i)}async read(t){return localStorage.getItem(this.storageKey(t))}async remove(t){localStorage.removeItem(this.storageKey(t))}storageKey(t){return`wharf-${this.keyPrefix}-${t}`}}var Ag;let ss=Ag=class extends h{static from(t){return new Ag({...t,logo:t.logo?Bs.from(t.logo):void 0})}};p([h.field("string",{optional:!0})],ss.prototype,"name",void 0);p([h.field("string",{optional:!0})],ss.prototype,"description",void 0);p([h.field(Bs,{optional:!0})],ss.prototype,"logo",void 0);p([h.field("string",{optional:!0})],ss.prototype,"homepage",void 0);p([h.field("string",{optional:!0})],ss.prototype,"download",void 0);p([h.field("string",{optional:!0})],ss.prototype,"publicKey",void 0);ss=Ag=p([h.type("wallet_plugin_metadata")],ss);class cu{constructor(){this._data={},this.config={requiresChainSelect:!0,requiresPermissionSelect:!1,requiresPermissionEntry:!1},this.metadata=new ss({})}get data(){return this._data}set data(t){this._data=t}serialize(){return{id:this.id,data:this.data}}}var Ig;let Ol=Ig=class extends h{static from(t){return new Ig({...t,logo:t.logo?Bs.from(t.logo):void 0})}};p([h.field("string")],Ol.prototype,"name",void 0);p([h.field("string",{optional:!0})],Ol.prototype,"description",void 0);p([h.field(Bs,{optional:!0})],Ol.prototype,"logo",void 0);p([h.field("string",{optional:!0})],Ol.prototype,"homepage",void 0);Ol=Ig=p([h.type("account_creation_plugin_metadata")],Ol);class jE{constructor(t){this.accountCreationPlugins=[],this.uiRequirements={requiresChainSelect:!0,requiresPluginSelect:!0},this.appName=String(t.appName),t.chains&&(this.chains=t.chains),t.chain&&(this.chain=t.chain),this.fetch=t.fetch,this.ui=t.ui,t.accountCreationPlugins&&(this.accountCreationPlugins=t.accountCreationPlugins),t.uiRequirements&&(this.uiRequirements=t.uiRequirements)}getClient(t){return new Wo({provider:new au(t.url,{fetch:this.fetch})})}}class UE{constructor(t,i={}){this.abis=[],this.allowModify=!0,this.expireSeconds=120,this.transactPluginsOptions={},this.accountCreationPlugins=[],this.appName=String(t.appName),this.chains=t.chains.map(s=>qt.from(s)),this.ui=t.ui,this.walletPlugins=t.walletPlugins,i.fetch?this.fetch=i.fetch:this.fetch=Jw(i),i.abis&&(this.abis=[...i.abis]),i.contracts&&this.abis.push(...i.contracts.map(s=>({account:s.account,abi:s.abi}))),i.loginPlugins?this.loginPlugins=i.loginPlugins:this.loginPlugins=[new HE],i.storage?this.storage=i.storage:this.storage=new Qw,i.transactPlugins?this.transactPlugins=i.transactPlugins:this.transactPlugins=[new Xw],typeof i.allowModify<"u"&&(this.allowModify=i.allowModify),i.expireSeconds&&(this.expireSeconds=i.expireSeconds),i.transactPluginsOptions&&(this.transactPluginsOptions=i.transactPluginsOptions),i.accountCreationPlugins&&(this.accountCreationPlugins=i.accountCreationPlugins)}setEndpoint(t,i){const s=[...this.chains],r=Me.from(t),n=this.chains.findIndex(o=>o.id.equals(r));if(n<0)throw new Error("Chain with specified ID not found.");s[n].url=i,this.chains=s}getChainDefinition(t,i){const s=i||this.chains,r=Me.from(t),n=s.find(o=>o.id.equals(r));if(!n)throw new Error(`No chain defined with an ID of: ${r}`);return n}async createAccount(t){var i;try{if(this.accountCreationPlugins.length===0)throw new Error("No account creation plugins available.");let s=t==null?void 0:t.chain,r=!s,n=!(t!=null&&t.pluginId),o;if(t!=null&&t.pluginId){if(n=!1,o=this.accountCreationPlugins.find(d=>d.id===t.pluginId),!o)throw new Error("Invalid account creation plugin selected.");(o==null?void 0:o.config.requiresChainSelect)!==void 0&&(r=o==null?void 0:o.config.requiresChainSelect),!o.config.requiresChainSelect&&o.config.supportedChains&&o.config.supportedChains.length===1&&(s=o.config.supportedChains[0])}let a=this.chains;o&&((i=o==null?void 0:o.config.supportedChains)!=null&&i.length)&&(a=a.filter(d=>{var u;return(u=o==null?void 0:o.config.supportedChains)==null?void 0:u.find(f=>f.id.equals(d.id))}));const l=new jE({accountCreationPlugins:this.accountCreationPlugins,appName:this.appName,chain:s,chains:a,fetch:this.fetch,ui:this.ui,uiRequirements:{requiresChainSelect:r,requiresPluginSelect:n}});if(n||r){const d=await l.ui.onAccountCreate(l),u=(t==null?void 0:t.pluginId)||d.pluginId;if(!u)throw new Error("No account creation plugin selected.");if(o=l.accountCreationPlugins.find(f=>f.id===u),!o)throw new Error("No account creation plugin selected.");if(!o.config.requiresChainSelect&&o.config.supportedChains&&o.config.supportedChains.length===1&&(l.chain=o.config.supportedChains[0]),d.chain&&(l.chain=this.getChainDefinition(d.chain,l.chains)),o.config.requiresChainSelect&&!l.chain)throw new Error(`Account creation plugin (${u}) requires chain selection, and no chain was selected.`)}if(!o)throw new Error("No account creation plugin selected");const c=await o.create(l);return await l.ui.onAccountCreateComplete(),c}catch(s){throw await this.ui.onError(s),new Error(s)}}async login(t){try{const i=new LE({appName:this.appName,arbitrary:(t==null?void 0:t.arbitrary)||{},chain:void 0,chains:t&&(t!=null&&t.chains)?t.chains.map(a=>this.getChainDefinition(a)):this.chains,fetch:this.fetch,loginPlugins:this.loginPlugins,ui:this.ui,walletPlugins:this.walletPlugins.map(a=>{var l;return{config:a.config,metadata:ss.from(a.metadata),retrievePublicKey:(l=a.retrievePublicKey)==null?void 0:l.bind(a)}})});await i.ui.onLogin(),t&&t.chain?(t.chain instanceof qt?i.chain=t.chain:i.chain=this.getChainDefinition(t.chain,i.chains),i.uiRequirements.requiresChainSelect=!1):i.chains.length===1&&(i.chain=i.chains[0],i.uiRequirements.requiresChainSelect=!1);let s;if(this.walletPlugins.length===1)s=this.walletPlugins[0],i.uiRequirements.requiresWalletSelect=!1;else if(t!=null&&t.walletPlugin){const a=this.walletPlugins.findIndex(l=>l.id===t.walletPlugin);a>=0&&(s=this.walletPlugins[a],i.walletPluginIndex=a,i.uiRequirements.requiresWalletSelect=!1)}if(s&&s.config.requiresPermissionSelect===!1&&(i.uiRequirements.requiresPermissionSelect=!1),t!=null&&t.permissionLevel&&(i.permissionLevel=dt.from(t.permissionLevel),i.uiRequirements.requiresPermissionSelect=!1),i.uiRequirements.requiresChainSelect||i.uiRequirements.requiresPermissionSelect||i.uiRequirements.requiresPermissionEntry||i.uiRequirements.requiresWalletSelect){const a=await i.ui.login(i);if(a.walletPluginIndex!==void 0&&(s=this.walletPlugins[a.walletPluginIndex]),!s)throw new Error("UserInterface did not return a valid WalletPlugin index.");if(a.chainId){if(!i.chains.some(l=>l.id.equals(a.chainId)))throw new Error("UserInterface did not return a chain ID matching the subset of chains.");i.chain=this.getChainDefinition(a.chainId,i.chains)}a.permissionLevel&&(i.permissionLevel=dt.from(a.permissionLevel))}if(!s)throw new Error("No WalletPlugin available to perform the login.");const{supportedChains:r}=s.config;if(i.chain&&r&&r.length&&!r.includes(String(i.chain.id)))throw new Error(`The wallet plugin '${s.metadata.name}' does not support the chain '${i.chain.id}'`);for(const a of i.hooks.beforeLogin)await a(i);const n=await s.login(i),o=new Ac({chain:this.getChainDefinition(n.chain),permissionLevel:n.permissionLevel,walletPlugin:s},this.getSessionOptions(t));for(const a of i.hooks.afterLogin)await a(i);return this.persistSession(o,t==null?void 0:t.setAsDefault),await i.ui.onLoginComplete(),{context:i,response:n,session:o}}catch(i){throw await this.ui.onError(i),new Error(i)}}logoutParams(t,i){return t instanceof Ac?{session:t,appName:this.appName}:{session:new Ac({chain:this.getChainDefinition(t.chain),permissionLevel:dt.from({actor:t.actor,permission:t.permission}),walletPlugin:i}),appName:this.appName}}async logout(t){if(!this.storage)throw new Error("An instance of Storage must be provided to utilize the logout method.");if(await this.storage.remove("session"),t){const i=this.walletPlugins.find(r=>(t==null?void 0:t.walletPlugin.id)===r.id);i!=null&&i.logout&&await i.logout(this.logoutParams(t,i));const s=await this.getSessions();if(s){let r=t;t instanceof Ac&&(r=t.serialize());const n=s.filter(o=>!Me.from(o.chain).equals(Me.from(String(r.chain)))||!N.from(o.actor).equals(N.from(r.actor))||!N.from(o.permission).equals(N.from(r.permission)));await this.storage.write("sessions",JSON.stringify(n))}}else{const i=await this.getSessions();await this.storage.remove("sessions"),i&&Promise.all(i.map(s=>{const r=this.walletPlugins.find(n=>s.walletPlugin.id===n.id);return r!=null&&r.logout?r.logout(this.logoutParams(s,r)):Promise.resolve()}))}}async restore(t,i){if(!t){const l=await this.storage.read("session");if(l)t=JSON.parse(l);else return}if(!t)throw new Error("Either a RestoreArgs object or a Storage instance must be provided.");const s=Me.from(t.chain instanceof qt?t.chain.id:t.chain);let r;const n=await this.storage.read("sessions");if(n){const l=JSON.parse(n);t.actor&&t.permission?r=l.find(c=>t&&s.equals(c.chain)&&c.actor===t.actor&&c.permission===t.permission):r=l.find(c=>t&&s.equals(c.chain)&&c.default)}else if(t.actor&&t.permission&&t.walletPlugin)r={chain:String(s),actor:t.actor,permission:t.permission,walletPlugin:{id:t.walletPlugin.id,data:t.walletPlugin.data}};else throw new Error("No sessions found in storage. A wallet plugin must be provided.");if(!r)return;const o=this.walletPlugins.find(l=>t?l.id===r.walletPlugin.id:!1);if(!o)throw new Error(`No WalletPlugin found with the ID of: '${r.walletPlugin.id}'`);r.walletPlugin.data&&(o.data=r.walletPlugin.data),t.walletPlugin&&t.walletPlugin.data&&(o.data=t.walletPlugin.data);const a=new Ac({chain:this.getChainDefinition(r.chain),permissionLevel:dt.from({actor:r.actor,permission:r.permission}),walletPlugin:o},this.getSessionOptions(i));return this.persistSession(a,i==null?void 0:i.setAsDefault),a}async restoreAll(){const t=[],i=await this.getSessions();if(i)for(const s of i){const r=await this.restore(s);r&&t.push(r)}return t}async persistSession(t,i=!0){if(!this.storage)return;const s=t.serialize();s.default=i,i&&this.storage.write("session",JSON.stringify(s));const r=await this.storage.read("sessions");if(r){const a=[...JSON.parse(r).filter(l=>!Me.from(l.chain).equals(Me.from(s.chain))||!N.from(l.actor).equals(N.from(s.actor))||!N.from(l.permission).equals(N.from(s.permission))).map(l=>(t.chain.id.equals(l.chain)&&(l.default=!1),l)),s];a.sort((l,c)=>{const d=String(l.chain).localeCompare(String(c.chain)),u=String(l.actor).localeCompare(String(c.actor)),f=String(l.permission).localeCompare(String(c.permission));return d||u||f}),this.storage.write("sessions",JSON.stringify(a))}else this.storage.write("sessions",JSON.stringify([s]))}async getSessions(){if(!this.storage)throw new Error("No storage instance is available to retrieve sessions from.");const t=await this.storage.read("sessions");if(!t)return[];try{return JSON.parse(t).filter(r=>this.walletPlugins.some(n=>n.id===r.walletPlugin.id))}catch(i){throw new Error(`Failed to parse sessions from storage (${i})`)}}getSessionOptions(t){return{abis:this.abis,allowModify:this.allowModify,appName:this.appName,expireSeconds:this.expireSeconds,fetch:this.fetch,storage:this.storage,transactPlugins:(t==null?void 0:t.transactPlugins)||this.transactPlugins,transactPluginsOptions:(t==null?void 0:t.transactPluginsOptions)||this.transactPluginsOptions,ui:this.ui}}}class XE{translate(t,i,s){throw new Error("The `translate` method must be implemented in this UserInterface. Called with: "+JSON.stringify({key:t,options:i,namespace:s}))}getTranslate(t){return(i,s)=>this.translate(i,s,t)}addTranslations(t){throw new Error("The `addTranslations` method must be implemented in this UserInterface. Called with: "+JSON.stringify(t))}}/**
 * @wharfkit/transact-plugin-resource-provider v1.1.1
 * https://github.com/wharfkit/transact-plugin-resource-provider
 *
 * @license
 * Copyright (c) 2021 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */var JE="The offer from the resource provider has expired.",QE={title:"Accept Transaction Fee?",body:"Additional resources ({{resource}}) are required for your account to perform this transaction. Would you like to automatically purchase these resources and proceed?",cost:"Cost of {{resource}}"},qE={"no-fees":"A resource provider offered to cover this transaction for a fee, but fee-based transactions are disabled by the configuration using `allowFees = false`.","original-modified":"The original transaction returned by the resource provider has been modified too much. Continuing without the resource provider","max-fee":"The fee requested by the resource provider is unusually high and has been rejected."},KE={timeout:JE,"will-continue":"The transaction will continue without the resource provider.",fee:QE,rejected:qE},$E="리소스 공급자의 제안이 만료되었습니다.",eM={title:"거래 수수료를 수락하시겠습니까?",body:"계정에서 이 거래를 수행하려면 추가 리소스({{resource}})가 필요합니다. 이러한 리소스를 자동으로 구매하고 계속 진행하시겠습니까?",cost:"{{resource}}의 비용"},tM={"no-fees":"리소스 공급자가 이 트랜잭션을 유료로 처리하도록 제안했지만 수수료 기반 트랜잭션은 'allowFees = false'를 사용하는 구성에 의해 비활성화됩니다.","original-modified":"리소스 공급자가 반환한 원래 트랜잭션이 너무 많이 수정되었습니다. 리소스 공급자 없이 계속","max-fee":"리소스 공급자가 요청한 수수료가 비정상적으로 높아 거부되었습니다."},iM={timeout:$E,"will-continue":"트랜잭션은 리소스 공급자 없이 계속됩니다.",fee:eM,rejected:tM},sM="来自资源提供商的产品/服务已过期。",rM={title:"接受交易费用？",body:"您的账户需要其他资源 （{{resource}}） 才能执行此交易。是否要自动购买这些资源并继续？",cost:"{{resource}} 的成本"},nM={"no-fees":"资源提供商提议以一定费用为条件提供此交易所需的资源，但配置项“allowFee = false”禁止了接受这种提议。","original-modified":"资源提供商返回的原始交易修改过多。将在不使用资源提供商的情况下继续","max-fee":"资源提供商提议的费用过高，已拒绝。"},oM={timeout:sM,"will-continue":"交易将在不使用资源提供商的情况下继续。",fee:rM,rejected:nM},aM="來自資源提供商的產品/服務已過期。",lM={title:"接受交易費用？",body:"您的賬戶需要其他資源 （{{resource}}） 才能執行此交易。是否要自動購買這些資源並繼續？",cost:"{{resource}} 的成本"},cM={"no-fees":"資源提供商提議以一定費用為條件提供此交易所需的資源，但配置項“allowFee = false”禁止了接受這種提議。","original-modified":"資源提供商返回的原始交易修改過多。將在不使用資源提供商的情況下繼續","max-fee":"資源提供商提議的費用過高，已拒絕。"},dM={timeout:aM,"will-continue":"交易將在不使用資源提供商的情況下繼續。",fee:lM,rejected:cM},uM={en:KE,ko:iM,"zh-Hans":oM,"zh-Hant":dM};function hM(e,t){return e.actions.every(i=>t.actions.some(s=>{const r=i.account.equals(s.account),n=i.name.equals(s.name),o=i.authorization.length===s.authorization.length&&i.authorization[0].actor.equals(s.authorization[0].actor),a=i.data.equals(s.data);return r&&n&&o&&a}))}function fM(e,t){return t.actions.filter(i=>e.actions.some(s=>{const r=s.account.equals(i.account),n=s.name.equals(i.name),o=s.authorization.length===i.authorization.length&&s.authorization[0].actor.equals(i.authorization[0].actor),a=s.data.equals(i.data);return!(r&&n&&o&&a)}))}let Fa=class extends h{};p([h.field(N)],Fa.prototype,"from",void 0);p([h.field(N)],Fa.prototype,"to",void 0);p([h.field(ie)],Fa.prototype,"quantity",void 0);p([h.field("string")],Fa.prototype,"memo",void 0);Fa=p([h.type("transfer")],Fa);const pM={endpoints:{aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906:"https://eos.greymass.com","73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d":"https://jungle4.greymass.com","4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11":"https://telos.greymass.com","1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4":"https://wax.greymass.com"}};class gM extends Uw{constructor(t){super(),this.id="transact-plugin-resource-provider",this.translations=uM,this.allowFees=!0,this.endpoints=pM.endpoints,t&&(t.endpoints&&(this.endpoints=t.endpoints),typeof t.allowFees<"u"&&(this.allowFees=t.allowFees),typeof t.maxFee<"u"&&(this.maxFee=ie.from(t.maxFee)))}register(t){t.addHook(cl.beforeSign,async(i,s)=>this.request(i,s))}getEndpoint(t){return this.endpoints[String(t.id)]}async request(t,i){let s=(S,I)=>I.default;i.ui&&(s=i.ui.getTranslate(this.id));const r=this.getEndpoint(i.chain);if(!r)return{request:t};let n;const o=await t.fetchAbis(i.abiCache);if(t.requiresTapos()){const I=(await i.client.v1.chain.get_info()).getTransactionHeader(120),F={transaction:t.resolveTransaction(o,i.permissionLevel,I)};if(F.chainId=t.getChainId(),t.isMultiChain()){const G=t.getChainIds();G&&(F.chainIds=G)}n=await Wi.create(F,i.esrOptions)}else n=await Wi.create({transaction:t.resolveTransaction(o,i.permissionLevel)},i.esrOptions);this.validateRequest(n,i);const a=`${r}/v1/resource_provider/request_transaction`,l=await i.fetch(a,{method:"POST",body:JSON.stringify({request:n,signer:i.permissionLevel})}),c=await l.json();if(l.status===400)return{request:t};if(l.status===402&&!this.allowFees)return i.ui&&i.ui.status(`${s("rejected.no-fees",{default:"A resource provider offered to cover this transaction for a fee, but fee-based transactions are disabled by the configuration using `allowFees = false`."})} ${s("will-continue",{default:"The transaction will continue without the resource provider."})}`),{request:t};const u=this.getModifiedTransaction(c);if(!hM(n.getRawTransaction(),u))return i.ui&&i.ui.status(`${s("rejected.original-modified",{default:"The original transaction returned by the resource provider has been modified too much. Continuing without the resource provider"})} ${s("will-continue",{default:"The transaction will continue without the resource provider."})}`),{request:t};const g=fM(n.getRawTransaction(),u);let m="4,TOKEN";const y=g.filter(S=>S.account.equals("eosio.token")&&S.name.equals("transfer")).map(S=>{const I=We.decode({data:S.data,type:Fa});return m=`${I.quantity.symbol.precision},${I.quantity.symbol.code}`,I.quantity}).reduce((S,I)=>(S.units.add(I.units),S),ie.fromUnits(0,m));if(this.maxFee&&y.units>this.maxFee.units)return i.ui&&i.ui.status(`${s("rejected.max-fee",{default:"The fee requested by the resource provider is unusually high and has been rejected."})} ${s("will-continue",{default:"The transaction will continue without the resource provider."})}`),{request:t};await this.validateResponseData(c);const b=await this.createRequest(c,i);if(i.ui&&y.value>0){const S=[];if(c.data.costs){const{cpu:G,net:L,ram:T}=c.data.costs;ie.from(G).value>0&&S.push("CPU"),ie.from(L).value>0&&S.push("NET"),ie.from(T).value>0&&S.push("RAM")}else S.push("Unknown");const I=i.ui.prompt({title:s("fee.title",{default:"Accept Transaction Fee?"}),body:s("fee.body",{default:"Additional resources ({{resource}}) are required for your account to perform this transaction. Would you like to automatically purchase these resources and proceed?",resource:String(S.join("/"))}),elements:[{type:"asset",data:{label:s("fee.cost",{default:"Cost of {{resource}}",resource:String(S.join("/"))}),value:y}},{type:"accept"}]}),F=setTimeout(()=>{I.cancel(s("timeout",{default:"The offer from the resource provider has expired."}))},12e4);return I.then(async()=>new Promise(G=>G({request:b,signatures:c.data.signatures.map(L=>Di.from(L))}))).catch(G=>{if(G instanceof lu)throw G;return new Promise(L=>L({request:t}))}).finally(()=>{clearTimeout(F)})}return new Promise(S=>S({request:b,signatures:c.data.signatures.map(I=>Di.from(I))}))}getModifiedTransaction(t){switch(t.data.request[0]){case"action":throw new Error('A resource provider providing an "action" is not supported.');case"actions":throw new Error('A resource provider providing "actions" is not supported.');case"transaction":return Ht.from(t.data.request[1])}throw new Error("Invalid request type provided by resource provider.")}async createRequest(t,i){const s=await i.createRequest(t.data.request[1]);return t.code===402&&t.data.fee&&s.setInfoKey("txfee",ie.from(t.data.fee)),t.data.costs&&(s.setInfoKey("txfeecpu",t.data.costs.cpu),s.setInfoKey("txfeenet",t.data.costs.net),s.setInfoKey("txfeeram",t.data.costs.ram)),s}validateRequest(t,i){if(!t.getRawActions()[0].authorization[0].actor.equals(i.permissionLevel.actor))throw new Error("The first authorizer of the transaction does not match this session.")}async validateResponseData(t){if(!t)throw new Error("Resource provider did not respond to the request.");if(t.code===402&&!t.data.fee)throw new Error("Resource provider returned a response indicating required payment, but provided no fee amount.");if(!t.data.signatures||!t.data.signatures[0])throw new Error("Resource provider did not return a signature.")}}var qw={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1));function r(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function n(l,c,d,u,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new r(d,u||l,f),m=i?i+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],g]:l._events[m].push(g):(l._events[m]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new s:delete l._events[c]}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(i?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=i?i+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,g=u.length,m=new Array(g);f<g;f++)m[f]=u[f].fn;return m},a.prototype.listenerCount=function(c){var d=i?i+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,f,g,m){var y=i?i+c:c;if(!this._events[y])return!1;var b=this._events[y],S=arguments.length,I,F;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,u),!0;case 4:return b.fn.call(b.context,d,u,f),!0;case 5:return b.fn.call(b.context,d,u,f,g),!0;case 6:return b.fn.call(b.context,d,u,f,g,m),!0}for(F=1,I=new Array(S-1);F<S;F++)I[F-1]=arguments[F];b.fn.apply(b.context,I)}else{var G=b.length,L;for(F=0;F<G;F++)switch(b[F].once&&this.removeListener(c,b[F].fn,void 0,!0),S){case 1:b[F].fn.call(b[F].context);break;case 2:b[F].fn.call(b[F].context,d);break;case 3:b[F].fn.call(b[F].context,d,u);break;case 4:b[F].fn.call(b[F].context,d,u,f);break;default:if(!I)for(L=1,I=new Array(S-1);L<S;L++)I[L-1]=arguments[L];b[F].fn.apply(b[F].context,I)}}return!0},a.prototype.on=function(c,d,u){return n(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return n(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,f){var g=i?i+c:c;if(!this._events[g])return this;if(!d)return o(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!f||m.once)&&(!u||m.context===u)&&o(this,g);else{for(var y=0,b=[],S=m.length;y<S;y++)(m[y].fn!==d||f&&!m[y].once||u&&m[y].context!==u)&&b.push(m[y]);b.length?this._events[g]=b.length===1?b[0]:b:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=i?i+c:c,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,e.exports=a})(qw);var mM=qw.exports;const vM=Yh(mM);/**
 * @greymass/buoy v1.0.4
 * https://github.com/greymass/buoy-client
 *
 * @license
 * Copyright (c) 2021 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */class Kw extends Error{constructor(i){super("Socket error");Ji(this,"event");Ji(this,"code","E_NETWORK");this.event=i}}class Yu extends Error{constructor(i,s){super(i);Ji(this,"reason");Ji(this,"underlyingError");Ji(this,"code","E_MESSAGE");this.reason=i,this.underlyingError=s}}const Ic=globalThis||window;var sl;(function(e){e.binary="binary",e.text="text",e.json="json"})(sl||(sl={}));class bM extends vM{constructor(i){super();Ji(this,"url");Ji(this,"active",!1);Ji(this,"socket");Ji(this,"timer");Ji(this,"reconnectTimer");Ji(this,"encoding");Ji(this,"WebSocket");if(!i.service)throw new Error("Options must include a service url");if(!i.channel)throw new Error("Options must include a channel name");const s=i.service.replace(/^http/,"ws").replace(/\/$/,"");this.url=`${s}/${i.channel}?v=2`,this.encoding=i.encoding||sl.text,this.WebSocket=i.WebSocket||Ic.WebSocket,i.autoConnect!==!1&&this.connect()}connect(){if(this.active)return;this.active=!0;let i=0,s;const r=()=>{const n=new this.WebSocket(this.url);n.onmessage=a=>{if(typeof Blob<"u"&&a.data instanceof Blob){const l=new FileReader;l.onload=()=>{this.handleMessage(new Uint8Array(l.result))},l.onerror=()=>{this.emit("error",new Yu("Could not read message"))},l.readAsArrayBuffer(a.data)}else if(typeof a.data=="string")this.handleMessage(new TextEncoder().encode(a.data));else if(typeof Ic.Buffer<"u"&&(a.data instanceof Ic.Buffer||Array.isArray(a.data))){let l=a.data;Ic.Buffer.isBuffer(l)||(l=Ic.Buffer.concat(l)),this.handleMessage(new Uint8Array(l.buffer,l.byteOffset,l.byteLength))}else a.data instanceof Uint8Array?this.handleMessage(a.data):a.data instanceof ArrayBuffer?this.handleMessage(new Uint8Array(a.data)):this.emit("error",new Yu("Unhandled event data type"))},n.onerror=a=>{this.socket===n&&this.active&&this.emit("error",new Kw(a))},n.onopen=()=>{i=0,this.emit("connect")},n.onclose=()=>{this.active&&(clearTimeout(this.timer),this.timer=setTimeout(r,CM(i++))),this.socket=void 0,clearTimeout(s),this.reconnectTimer&&clearInterval(this.reconnectTimer),this.emit("disconnect")},this.setupReconnectionTimer();const o=n;typeof o.on=="function"&&typeof o.terminate=="function"&&o.on("ping",()=>{clearTimeout(s),s=setTimeout(()=>{o.terminate()},15*1e3)}),this.socket=n};r()}disconnect(){this.active=!1,this.socket&&(this.socket.readyState===this.WebSocket.OPEN||this.socket.readyState===this.WebSocket.CONNECTING)&&this.socket.close(1e3)}get isConnected(){var i;return this.active&&((i=this.socket)==null?void 0:i.readyState)==this.WebSocket.OPEN}handleMessage(i){var r;i[0]===66&&i[1]===66&&i[2]===1&&((r=this.socket)==null||r.send(new Uint8Array([66,66,2,i[3]])),i=i.subarray(4));let s;switch(this.encoding){case sl.binary:s=i;break;case sl.text:s=new TextDecoder().decode(i);break;case sl.json:try{s=JSON.parse(new TextDecoder().decode(i))}catch(n){this.emit("error",new Yu("Unable to decode JSON",n));return}}this.emit("message",s)}setupReconnectionTimer(){this.reconnectTimer=setInterval(()=>{var i;(i=this.socket)==null||i.close(1e3)},10*60*1e3)}}function CM(e){return Math.min(Math.pow(e*7,2),5*1e3)}function yM(e,t){return new Promise((i,s)=>{const r=new bM({...e,autoConnect:!0});let n,o;const a=(l,c)=>{clearTimeout(n),l?s(l):i(c),r.disconnect()};e.timeout&&(n=setTimeout(()=>{a(new Yu("Timed out",o))},e.timeout)),r.on("error",l=>{l instanceof Kw?o=l:a(l)}),r.once("message",l=>{a(void 0,l)})})}const wM=globalThis||window;var Fg;(function(e){e.buffered="buffered",e.delivered="delivered"})(Fg||(Fg={}));async function SM(e,t){const i=t.fetch||wM.fetch,r=`${t.service.replace(/^ws/,"http").replace(/\/$/,"")}/${t.channel}`,n={};if(t.requireDelivery){if(!t.timeout)throw new Error("requireDelivery can only be used with timeout");n["X-Buoy-Wait"]=`${Math.ceil(t.timeout/1e3)}`}else t.timeout&&(n["X-Buoy-Soft-Wait"]=`${Math.ceil(t.timeout/1e3)}`);let o;typeof e=="string"||e instanceof Uint8Array?o=e:o=JSON.stringify(e);const a=await i(r,{method:"POST",body:o,headers:n});if(Math.floor(a.status/100)!==2)throw a.status===408?new Error("Unable to deliver message"):a.status===410?new Error("Request cancelled"):new Error(`Unexpected status code ${a.status}`);return a.headers.get("X-Buoy-Delivery")||Fg.buffered}/**
 * @greymass/miniaes v1.0.0
 * https://github.com/greymass/miniaes-js
 *
 * @license
 * Copyright (c) 2021 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 *//**
 * @file {@link http://asmjs.org Asm.js} implementation of the {@link https://en.wikipedia.org/wiki/Advanced_Encryption_Standard Advanced Encryption Standard}.
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */var Ir=function(){var e=!1,t,i;function s(){t=[],i=[];var g=1,m,y;for(m=0;m<255;m++)t[m]=g,y=g&128,g<<=1,g&=255,y===128&&(g^=27),g^=t[m],i[t[m]]=m;t[255]=t[0],i[0]=0,e=!0}function r(g,m){var y=t[(i[g]+i[m])%255];return(g===0||m===0)&&(y=0),y}function n(g){var m=t[255-i[g]];return g===0&&(m=0),m}var o=!1,a,l,c,d;function u(){e||s();function g(S){var I,F,G;for(F=G=n(S),I=0;I<4;I++)F=(F<<1|F>>>7)&255,G^=F;return G^=99,G}a=[],l=[],c=[[],[],[],[]],d=[[],[],[],[]];for(var m=0;m<256;m++){var y=g(m);a[m]=y,l[y]=m,c[0][m]=r(2,y)<<24|y<<16|y<<8|r(3,y),d[0][y]=r(14,m)<<24|r(9,m)<<16|r(13,m)<<8|r(11,m);for(var b=1;b<4;b++)c[b][m]=c[b-1][m]>>>8|c[b-1][m]<<24,d[b][y]=d[b-1][y]>>>8|d[b-1][y]<<24}o=!0}var f=function(g,m){o||u();var y=new Uint32Array(m);y.set(a,512),y.set(l,768);for(var b=0;b<4;b++)y.set(c[b],4096+1024*b>>2),y.set(d[b],8192+1024*b>>2);function S(G,L,T,O,Q,V,U,M,v){var w=y.subarray(0,60),R=y.subarray(256,316);w.set([L,T,O,Q,V,U,M,v]);for(var A=G,k=1;A<4*G+28;A++){var E=w[A-1];(A%G===0||G===8&&A%G===4)&&(E=a[E>>>24]<<24^a[E>>>16&255]<<16^a[E>>>8&255]<<8^a[E&255]),A%G===0&&(E=E<<8^E>>>24^k<<24,k=k<<1^(k&128?27:0)),w[A]=w[A-G]^E}for(var D=0;D<A;D+=4)for(var x=0;x<4;x++){var E=w[A-(4+D)+(4-x)%4];D<4||D>=A-4?R[D+x]=E:R[D+x]=d[0][a[E>>>24]]^d[1][a[E>>>16&255]]^d[2][a[E>>>8&255]]^d[3][a[E&255]]}F.set_rounds(G+5)}var I={Uint8Array,Uint32Array},F=function(G,L,T){var O=0,Q=0,V=0,U=0,M=0,v=0,w=0,R=0,A=0,k=0,E=0,D=0,x=0,C=0,_=0,ce=0,de=0,ue=0,we=0,ke=0,Be=0,he=new G.Uint32Array(T),J=new G.Uint8Array(T);function et(X,H,ae,fe,Re,Ie,vt,Se){X=X|0,H=H|0,ae=ae|0,fe=fe|0,Re=Re|0,Ie=Ie|0,vt=vt|0,Se=Se|0;var _e=0,Yt=0,He=0,Ve=0,Xi=0,nt=0,ht=0,ai=0;for(_e=ae|1024,Yt=ae|2048,He=ae|3072,Re=Re^he[(X|0)>>2],Ie=Ie^he[(X|4)>>2],vt=vt^he[(X|8)>>2],Se=Se^he[(X|12)>>2],ai=16;(ai|0)<=fe<<4;ai=ai+16|0)Ve=he[(ae|Re>>22&1020)>>2]^he[(_e|Ie>>14&1020)>>2]^he[(Yt|vt>>6&1020)>>2]^he[(He|Se<<2&1020)>>2]^he[(X|ai|0)>>2],Xi=he[(ae|Ie>>22&1020)>>2]^he[(_e|vt>>14&1020)>>2]^he[(Yt|Se>>6&1020)>>2]^he[(He|Re<<2&1020)>>2]^he[(X|ai|4)>>2],nt=he[(ae|vt>>22&1020)>>2]^he[(_e|Se>>14&1020)>>2]^he[(Yt|Re>>6&1020)>>2]^he[(He|Ie<<2&1020)>>2]^he[(X|ai|8)>>2],ht=he[(ae|Se>>22&1020)>>2]^he[(_e|Re>>14&1020)>>2]^he[(Yt|Ie>>6&1020)>>2]^he[(He|vt<<2&1020)>>2]^he[(X|ai|12)>>2],Re=Ve,Ie=Xi,vt=nt,Se=ht;O=he[(H|Re>>22&1020)>>2]<<24^he[(H|Ie>>14&1020)>>2]<<16^he[(H|vt>>6&1020)>>2]<<8^he[(H|Se<<2&1020)>>2]^he[(X|ai|0)>>2],Q=he[(H|Ie>>22&1020)>>2]<<24^he[(H|vt>>14&1020)>>2]<<16^he[(H|Se>>6&1020)>>2]<<8^he[(H|Re<<2&1020)>>2]^he[(X|ai|4)>>2],V=he[(H|vt>>22&1020)>>2]<<24^he[(H|Se>>14&1020)>>2]<<16^he[(H|Re>>6&1020)>>2]<<8^he[(H|Ie<<2&1020)>>2]^he[(X|ai|8)>>2],U=he[(H|Se>>22&1020)>>2]<<24^he[(H|Re>>14&1020)>>2]<<16^he[(H|Ie>>6&1020)>>2]<<8^he[(H|vt<<2&1020)>>2]^he[(X|ai|12)>>2]}function rs(X,H,ae,fe){X=X|0,H=H|0,ae=ae|0,fe=fe|0,et(0,2048,4096,Be,M^X,v^H,w^ae,R^fe),M=O,v=Q,w=V,R=U}function qe(X,H,ae,fe){X=X|0,H=H|0,ae=ae|0,fe=fe|0;var Re=0;et(1024,3072,8192,Be,X,fe,ae,H),Re=Q,Q=U,U=Re,O=O^M,Q=Q^v,V=V^w,U=U^R,M=X,v=H,w=ae,R=fe}function ut(X,H,ae,fe){X=X|0,H=H|0,ae=ae|0,fe=fe|0;var Re=0,Ie=0,vt=0,Se=0,_e=0,Yt=0,He=0,Ve=0,Xi=0,nt=0;for(X=X^M,H=H^v,ae=ae^w,fe=fe^R,Re=de|0,Ie=ue|0,vt=we|0,Se=ke|0;(Xi|0)<128;Xi=Xi+1|0)Re>>>31&&(_e=_e^X,Yt=Yt^H,He=He^ae,Ve=Ve^fe),Re=Re<<1|Ie>>>31,Ie=Ie<<1|vt>>>31,vt=vt<<1|Se>>>31,Se=Se<<1,nt=fe&1,fe=fe>>>1|ae<<31,ae=ae>>>1|H<<31,H=H>>>1|X<<31,X=X>>>1,nt&&(X=X^3774873600);M=_e,v=Yt,w=He,R=Ve}function nn(X){X=X|0,Be=X}function gt(X,H,ae,fe){X=X|0,H=H|0,ae=ae|0,fe=fe|0,O=X,Q=H,V=ae,U=fe}function lt(X,H,ae,fe){X=X|0,H=H|0,ae=ae|0,fe=fe|0,M=X,v=H,w=ae,R=fe}function ns(X,H,ae,fe){X=X|0,H=H|0,ae=ae|0,fe=fe|0,A=X,k=H,E=ae,D=fe}function st(X,H,ae,fe){X=X|0,H=H|0,ae=ae|0,fe=fe|0,x=X,C=H,_=ae,ce=fe}function xe(X,H,ae,fe){X=X|0,H=H|0,ae=ae|0,fe=fe|0,D=~ce&D|ce&fe,E=~_&E|_&ae,k=~C&k|C&H,A=~x&A|x&X}function Cs(X){return X=X|0,X&15?-1:(J[X|0]=O>>>24,J[X|1]=O>>>16&255,J[X|2]=O>>>8&255,J[X|3]=O&255,J[X|4]=Q>>>24,J[X|5]=Q>>>16&255,J[X|6]=Q>>>8&255,J[X|7]=Q&255,J[X|8]=V>>>24,J[X|9]=V>>>16&255,J[X|10]=V>>>8&255,J[X|11]=V&255,J[X|12]=U>>>24,J[X|13]=U>>>16&255,J[X|14]=U>>>8&255,J[X|15]=U&255,16)}function mt(X){return X=X|0,X&15?-1:(J[X|0]=M>>>24,J[X|1]=M>>>16&255,J[X|2]=M>>>8&255,J[X|3]=M&255,J[X|4]=v>>>24,J[X|5]=v>>>16&255,J[X|6]=v>>>8&255,J[X|7]=v&255,J[X|8]=w>>>24,J[X|9]=w>>>16&255,J[X|10]=w>>>8&255,J[X|11]=w&255,J[X|12]=R>>>24,J[X|13]=R>>>16&255,J[X|14]=R>>>8&255,J[X|15]=R&255,16)}function Je(X,H,ae){X=X|0,H=H|0,ae=ae|0;var fe=0;if(H&15)return-1;for(;(ae|0)>=16;)Ft[X&7](J[H|0]<<24|J[H|1]<<16|J[H|2]<<8|J[H|3],J[H|4]<<24|J[H|5]<<16|J[H|6]<<8|J[H|7],J[H|8]<<24|J[H|9]<<16|J[H|10]<<8|J[H|11],J[H|12]<<24|J[H|13]<<16|J[H|14]<<8|J[H|15]),J[H|0]=O>>>24,J[H|1]=O>>>16&255,J[H|2]=O>>>8&255,J[H|3]=O&255,J[H|4]=Q>>>24,J[H|5]=Q>>>16&255,J[H|6]=Q>>>8&255,J[H|7]=Q&255,J[H|8]=V>>>24,J[H|9]=V>>>16&255,J[H|10]=V>>>8&255,J[H|11]=V&255,J[H|12]=U>>>24,J[H|13]=U>>>16&255,J[H|14]=U>>>8&255,J[H|15]=U&255,fe=fe+16|0,H=H+16|0,ae=ae-16|0;return fe|0}function $s(X,H,ae){X=X|0,H=H|0,ae=ae|0;var fe=0;if(H&15)return-1;for(;(ae|0)>=16;)ct[X&1](J[H|0]<<24|J[H|1]<<16|J[H|2]<<8|J[H|3],J[H|4]<<24|J[H|5]<<16|J[H|6]<<8|J[H|7],J[H|8]<<24|J[H|9]<<16|J[H|10]<<8|J[H|11],J[H|12]<<24|J[H|13]<<16|J[H|14]<<8|J[H|15]),fe=fe+16|0,H=H+16|0,ae=ae-16|0;return fe|0}var Ft=[rs,rs,rs,qe,qe,qe,qe,qe],ct=[rs,rs];return{set_rounds:nn,set_state:gt,set_iv:lt,set_nonce:ns,set_mask:st,set_counter:xe,get_state:Cs,get_iv:mt,cipher:Je,mac:$s}}(I,g,m);return F.set_key=S,F};return f.ENC={CBC:2},f.DEC={CBC:3},f.MAC={CBC:0},f.HEAP_DATA=16384,f}();function RM(e,t){const i=e?e.byteLength:65536;if(i&4095||i<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return e=e||new Uint8Array(new ArrayBuffer(i)),e}function Nb(e,t,i,s,r){const n=e.length-t,o=n<r?n:r;return e.set(i.subarray(s,s+o),t),o}function Bb(e){return e instanceof Uint8Array}function Vb(...e){const t=e.reduce((r,n)=>r+n.length,0),i=new Uint8Array(t);let s=0;for(let r=0;r<e.length;r++)i.set(e[r],s),s+=e[r].length;return i}class AM{constructor(t,i,s=!0,r){this.pos=0,this.len=0,this.mode=r,this.heap=RM().subarray(Ir.HEAP_DATA),this.asm=new Ir(null,this.heap.buffer),this.pos=0,this.len=0;const n=t.length;if(n!==16&&n!==24&&n!==32)throw new TypeError("illegal key size");const o=new DataView(t.buffer,t.byteOffset,t.byteLength);if(this.asm.set_key(n>>2,o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12),n>16?o.getUint32(16):0,n>16?o.getUint32(20):0,n>24?o.getUint32(24):0,n>24?o.getUint32(28):0),i!==void 0){if(i.length!==16)throw new TypeError("illegal iv size");const a=new DataView(i.buffer,i.byteOffset,i.byteLength);this.asm.set_iv(a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12))}else this.asm.set_iv(0,0,0,0);this.padding=s}AES_Encrypt_process(t){if(!Bb(t))throw new TypeError("data isn't of expected type");const i=this.asm,s=this.heap,r=Ir.ENC[this.mode],n=Ir.HEAP_DATA;let o=this.pos,a=this.len,l=0,c=t.length||0,d=0;const u=a+c&-16;let f=0;const g=new Uint8Array(u);for(;c>0;)f=Nb(s,o+a,t,l,c),a+=f,l+=f,c-=f,f=i.cipher(r,n+o,a),f&&g.set(s.subarray(o,o+f),d),d+=f,f<a?(o+=f,a-=f):(o=0,a=0);return this.pos=o,this.len=a,g}AES_Encrypt_finish(){const t=this.asm,i=this.heap,s=Ir.ENC[this.mode],r=Ir.HEAP_DATA,n=this.pos;let o=this.len;const a=16-o%16;let l=o;if(this.padding){for(let d=0;d<a;++d)i[n+o+d]=a;o+=a,l=o}else if(o%16)throw new TypeError("data length must be a multiple of the block size");const c=new Uint8Array(l);return o&&t.cipher(s,r+n,o),l&&c.set(i.subarray(n,n+l)),this.pos=0,this.len=0,c}AES_Decrypt_process(t){if(!Bb(t))throw new TypeError("data isn't of expected type");const i=this.asm,s=this.heap,r=Ir.DEC[this.mode],n=Ir.HEAP_DATA;let o=this.pos,a=this.len,l=0,c=t.length||0,d=0,u=a+c&-16,f=0,g=0;this.padding&&(f=a+c-u||16,u-=f);const m=new Uint8Array(u);for(;c>0;)g=Nb(s,o+a,t,l,c),a+=g,l+=g,c-=g,g=i.cipher(r,n+o,a-(c?0:f)),g&&m.set(s.subarray(o,o+g),d),d+=g,g<a?(o+=g,a-=g):(o=0,a=0);return this.pos=o,this.len=a,m}AES_Decrypt_finish(){const t=this.asm,i=this.heap,s=Ir.DEC[this.mode],r=Ir.HEAP_DATA,n=this.pos,o=this.len;let a=o;if(o>0){if(o%16)throw new Error("data length must be a multiple of the block size");if(t.cipher(s,r+n,o),this.padding){const c=i[n+a-1];if(c<1||c>16||c>a)throw new Error("bad padding");let d=0;for(let u=c;u>1;u--)d|=c^i[n+a-u];if(d)throw new Error("bad padding");a-=c}}const l=new Uint8Array(a);return a>0&&l.set(i.subarray(n,n+a)),this.pos=0,this.len=0,l}}class hh{constructor(t,i,s=!0,r){this.aes=r||new AM(t,i,s,"CBC")}static encrypt(t,i,s=!0,r){return new hh(i,r,s).encrypt(t)}static decrypt(t,i,s=!0,r){return new hh(i,r,s).decrypt(t)}encrypt(t){const i=this.aes.AES_Encrypt_process(t),s=this.aes.AES_Encrypt_finish();return Vb(i,s)}decrypt(t){const i=this.aes.AES_Decrypt_process(t),s=this.aes.AES_Decrypt_finish();return Vb(i,s)}}/**
 * @wharfkit/protocol-esr v1.3.2
 * https://github.com/wharfkit/protocol-esr
 *
 * @license
 * Copyright (c) 2023 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * 1.  Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 * 2.  Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 * 3.  Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */function oi(e,t,i,s){var r=arguments.length,n=r<3?t:s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(n=(r<3?o(n):r>3?o(t,i,n):o(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n}let Ea=class extends h{};oi([h.field("public_key")],Ea.prototype,"from",void 0);oi([h.field("uint64")],Ea.prototype,"nonce",void 0);oi([h.field("bytes")],Ea.prototype,"ciphertext",void 0);oi([h.field("uint32")],Ea.prototype,"checksum",void 0);Ea=oi([h.type("sealed_message")],Ea);let Bd=class extends h{};oi([h.field("name")],Bd.prototype,"session_name",void 0);oi([h.field("public_key")],Bd.prototype,"request_key",void 0);oi([h.field("string",{extension:!0})],Bd.prototype,"user_agent",void 0);Bd=oi([h.type("link_create")],Bd);let fh=class extends h{};oi([h.field("time_point_sec")],fh.prototype,"expiration",void 0);fh=oi([h.type("link_info")],fh);let Pl=class extends h{};oi([h.field("public_key")],Pl.prototype,"from",void 0);oi([h.field("uint64")],Pl.prototype,"nonce",void 0);oi([h.field("bytes")],Pl.prototype,"ciphertext",void 0);oi([h.field("uint32")],Pl.prototype,"checksum",void 0);Pl=oi([h.type("buoy_message")],Pl);let Ll=class extends h{};oi([h.field("name")],Ll.prototype,"session_name",void 0);oi([h.field("public_key")],Ll.prototype,"request_key",void 0);oi([h.field("string",{extension:!0})],Ll.prototype,"user_agent",void 0);Ll=oi([h.type("buoy_session")],Ll);let Eg=class extends h{};oi([h.field("time_point_sec")],Eg.prototype,"expiration",void 0);Eg=oi([h.type("buoy_info")],Eg);async function Ob(e,t,i){const s=await yM({...e,WebSocket:t||WebSocket});if(!s)throw new Error(s.rejected);if(typeof s.rejected=="string")throw new Error(s.rejected);const r=JSON.parse(s);if(r.sa===void 0||r.sp===void 0||r.cid===void 0)throw new Error(i("error.cancelled",{default:"The request was cancelled from Anchor."}));return r}function IM(){let e="",t;const i="0123456789abcdef";for(t=0;t<36;t+=1)switch(t){case 8:case 13:case 18:case 23:e+="-";break;case 14:e+="4";break;case 19:e+=i[Math.random()*4|8];break;default:e+=i[Math.random()*16|0]}return e}function $w(){if(e2())return"googlechrome://";if(i2())return"firefox:://";if(ph()&&Pb())return"brave://";if(ph()){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t=window.location.href.split("#")[0]+"#";for(let i=0;i<8;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}return Ho()&&FM()?"android-intent://org.mozilla.firefox":Ho()&&MM()?"android-intent://com.microsoft.emmx":Ho()&&EM()?"android-intent://com.opera.browser":Ho()&&Pb()?"android-intent://com.brave.browser":Ho()&&s2()?"android-intent://webview":Ho()&&t2()?"android-intent://com.android.chrome":window.location.href}function ph(){return/iP(ad|od|hone)/i.test(navigator.userAgent)}function e2(){return/CriOS/.test(navigator.userAgent)}function t2(){return/Chrome\/[.0-9]* Mobile/i.test(navigator.userAgent)}function FM(){return/Firefox/i.test(navigator.userAgent)}function i2(){return/FxiOS/.test(navigator.userAgent)}function EM(){return/OPR/.test(navigator.userAgent)||/Opera/.test(navigator.userAgent)}function MM(){return/Edg/.test(navigator.userAgent)}function Pb(){return navigator.brave&&typeof navigator.brave.isBrave=="function"}function Ho(){return/Android/.test(navigator.userAgent)}function s2(){return/wv/.test(navigator.userAgent)||/Android.*AppleWebKit/.test(navigator.userAgent)}function xM(){return ph()||e2()||t2()||i2()||Ho()||s2()}async function kM(e,t){const i=ud.generate("K1"),s=i.toPublic(),r=Ll.from({session_name:e.appName,request_key:s,user_agent:GM()}),n=!(e.chain||e.chains.length===1),o=r2(t),a=n?null:e.chain?Zi.from(e.chain.id.array):null,l=n?e.chains.map(u=>Zi.from(u.id.array)):[],c=Wi.identity({callback:DM(o),scope:String(e.appName),chainId:a,chainIds:l,info:{link:r,scope:String(e.appName)}},e.esrOptions),d=c.clone();if(typeof window<"u"){const u=$w();d.setInfoKey("same_device",!0),d.setInfoKey("return_path",u)}return{callback:o,request:c,sameDeviceRequest:d,requestKey:s,privateKey:i}}function _M(e,t){const i=r2(t);return e.setCallback(`${i.service}/${i.channel}`,!0),i}function GM(){let t="@wharfkit/protocol-esr 1.3.2";return typeof navigator<"u"&&(t+=" "+navigator.userAgent),t}function DM(e){const{service:t,channel:i}=e;return{url:`${t}/${i}`,background:!0}}function r2(e){return{service:e,channel:IM()}}function WM(e,t,i,s){const r=t.sharedSecret(i);s||(s=Oe.random());const n=Oa.hash(We.encode({object:s}).appending(r.array)),o=new hh(n.array.slice(0,32),n.array.slice(32,48)),a=pe.from(o.encrypt(pe.from(e,"utf8").array)),c=new DataView(Me.hash(n.array).array.buffer).getUint32(0,!0);return Ea.from({from:t.toPublic(),nonce:s,ciphertext:a,checksum:c})}async function TM(e,t){if(!e.sig||e.sig.length===0)throw new Error("Invalid response, must have at least one signature");let i;if(!t.chain&&t.chains.length>1){if(!e.cid)throw new Error("Multi chain response payload must specify resolved chain id (cid)")}else if(i=t.chain||t.chains[0],e.cid&&String(i.id)!==e.cid)throw new Error("Got response for wrong chain id")}function Lb(e){const t=[];let i=0,s=e.sig;for(;s;)t.push(String(s)),s=e[`sig${i}`],i++;return[...new Set(t)].map(r=>Di.from(r))}function NM(e){return"tx"in e}/**
 * @wharfkit/wallet-plugin-anchor v1.4.0
 * https://github.com/wharfkit/wallet-plugin-anchor
 *
 * @license
 * Copyright (c) 2023 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * 1.  Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 * 2.  Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 * 3.  Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */var BM={title:"Connect with Anchor",body:"Scan with Anchor on your mobile device or click the button below to open on this device.",link:"Launch Anchor"},VM={title:"Complete using Anchor",body:'Please open your Anchor Wallet on "{{channelName}}" to review and approve this transaction.',label:"Sign manually or with another device",link:"Trigger Manually",await:"Waiting for response from Anchor"},OM={expired:"The request expired, please try again.",invalid_response:"Invalid response from Anchor, must contain link_ch, link_key, link_name and cid flags.",not_completed:"The request was not completed.",cancelled:"The request was cancelled from Anchor."},PM={login:BM,transact:VM,error:OM},LM={},ZM={link:"启动Anchor",body:"在您的设备上使用Anchor扫描或者点击下方按钮打开。",title:"连接Anchor"},HM={cancelled:"请求已从Anchor取消。",not_completed:"此请求未完成。",invalid_response:"无效的Anchor响应，必须包含link_ch, link_key, link_name和cid标识符。",expired:"请求已过期，请重试。"},YM={await:"等待Anchor响应",link:"手动触发",label:"手动或使用其他设备签约",body:'请在"{{channelName}}"上打开您的Anchor钱包以浏览并批准此交易。',title:"完成使用Anchor"},zM={login:ZM,error:HM,transact:YM},jM={},UM={en:PM,ko:LM,"zh-Hans":zM,"zh-Hant":jM};class XM extends cu{constructor(t){super(),this.id="anchor",this.translations=UM,this.config={requiresChainSelect:!1,requiresPermissionSelect:!1},this.metadata=ss.from({name:"Anchor",description:"",logo:Bs.from({dark:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDI1NiAyNTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS40NCwgMCwgMCwgMS40NCwgLTguNTAxOTI1LCAtNTcuMDc0NTcpIiBzdHlsZT0iIj4KICAgIDx0aXRsZT5XaGl0ZTwvdGl0bGU+CiAgICA8Y2lyY2xlIGN4PSI5NC43OTMiIGN5PSIxMjguNTI0IiByPSI4MCIgZmlsbD0iI0ZCRkRGRiIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0gOTQuNzk5IDc4LjUyNCBDIDk3LjA5OCA3OC41MjQgOTkuMTk1IDc5LjgzNyAxMDAuMTk4IDgxLjkwNiBMIDEyNC4yMDQgMTMxLjQwNiBMIDEyNC43NDYgMTMyLjUyNCBMIDExMS40MDkgMTMyLjUyNCBMIDEwNy41MyAxMjQuNTI0IEwgODIuMDY5IDEyNC41MjQgTCA3OC4xODkgMTMyLjUyNCBMIDY0Ljg1MyAxMzIuNTI0IEwgNjUuMzk1IDEzMS40MDYgTCA4OS40MDEgODEuOTA2IEMgOTAuNDA0IDc5LjgzNyA5Mi41MDEgNzguNTI0IDk0Ljc5OSA3OC41MjQgWiBNIDg2LjkxOSAxMTQuNTI0IEwgMTAyLjY4IDExNC41MjQgTCA5NC43OTkgOTguMjc0IEwgODYuOTE5IDExNC41MjQgWiBNIDExMi43OTMgMTQ5LjUyNCBMIDEyNC43OTggMTQ5LjUyNCBDIDEyNC40MzcgMTY1LjY3NiAxMTEuMDY3IDE3OC41MjQgOTQuNzk5IDE3OC41MjQgQyA3OC41MzIgMTc4LjUyNCA2NS4xNjIgMTY1LjY3NiA2NC44MDEgMTQ5LjUyNCBMIDc2LjgwNiAxNDkuNTI0IEMgNzcuMDg3IDE1Ni44NzggODEuOTc0IDE2My4xNTUgODguNzkzIDE2NS41MiBMIDg4Ljc5MyAxNDEuNTI0IEMgODguNzkzIDEzOC4yMSA5MS40OCAxMzUuNTI0IDk0Ljc5MyAxMzUuNTI0IEMgOTguMTA3IDEzNS41MjQgMTAwLjc5MyAxMzguMjEgMTAwLjc5MyAxNDEuNTI0IEwgMTAwLjc5MyAxNjUuNTI0IEMgMTA3LjYyIDE2My4xNjIgMTEyLjUxMSAxNTYuODgzIDExMi43OTMgMTQ5LjUyNCBaIiBmaWxsPSIjMzY1MEEyIi8+CiAgPC9nPgo8L3N2Zz4=",light:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDE2MCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjgwIiBjeT0iODAiIHI9IjgwIiBmaWxsPSIjMzY1MEEyIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNODAuMDA2MyAzMEM4Mi4zMDUxIDMwIDg0LjQwMTkgMzEuMzEzNCA4NS40MDUgMzMuMzgxOEwxMDkuNDExIDgyLjg4MjJMMTA5Ljk1MyA4NEg5Ni42MTYzTDkyLjczNjYgNzZINjcuMjc1OUw2My4zOTYxIDg0SDUwLjA1OTRMNTAuNjAxNyA4Mi44ODE4TDc0LjYwNzcgMzMuMzgxOEM3NS42MTA4IDMxLjMxMzQgNzcuNzA3NSAzMCA4MC4wMDYzIDMwWk03Mi4xMjU2IDY2SDg3Ljg4N0w4MC4wMDYzIDQ5Ljc1MDFMNzIuMTI1NiA2NlpNOTcuOTk5NSAxMDFIMTEwLjAwNUMxMDkuNjQ0IDExNy4xNTIgOTYuMjczOCAxMzAgODAuMDA2MyAxMzBDNjMuNzM4OCAxMzAgNTAuMzY4NiAxMTcuMTUyIDUwLjAwNzggMTAxSDYyLjAxMzFDNjIuMjk0MSAxMDguMzU0IDY3LjE4MDQgMTE0LjYzMSA3NC4wMDAzIDExNi45OTZWOTNDNzQuMDAwMyA4OS42ODYzIDc2LjY4NjYgODcgODAuMDAwMyA4N0M4My4zMTQgODcgODYuMDAwMyA4OS42ODYzIDg2LjAwMDMgOTNWMTE3QzkyLjgyNjUgMTE0LjYzOCA5Ny43MTgzIDEwOC4zNTkgOTcuOTk5NSAxMDFaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K"}),homepage:"https://greymass.com/anchor",download:"https://greymass.com/anchor/download"}),this.buoyUrl=(t==null?void 0:t.buoyUrl)||"https://cb.anchor.link",this.buoyWs=t==null?void 0:t.buoyWs}login(t){return new Promise((i,s)=>{this.handleLogin(t).then(r=>{i(r)}).catch(r=>{s(r)})})}async handleLogin(t){var g;if(!t.ui)throw new Error("No UI available");const i=t.ui.getTranslate(this.id),{callback:s,request:r,sameDeviceRequest:n,requestKey:o,privateKey:a}=await kM(t,this.buoyUrl),l=[{type:"link",label:i("login.link",{default:"Launch Anchor"}),data:{href:n.encode(!0,!1,"esr:"),label:i("login.link",{default:"Launch Anchor"}),variant:"primary"}}];xM()||l.unshift({type:"qr",data:r.encode(!0,!1,"esr:")}),window.location.href=n.encode(!0,!1,"esr:"),((g=t.ui)==null?void 0:g.prompt({title:i("login.title",{default:"Connect with Anchor"}),body:i("login.body",{default:"Scan with Anchor on your mobile device or click the button below to open on this device."}),elements:l})).catch(()=>{console.info("Modal closed")});const d=await Ob(s,this.buoyWs,i);if(TM(d,t),!d.cid||!d.sa||!d.sp)throw new Error("Invalid callback response");if(d.link_ch&&d.link_key&&d.link_name){this.data.requestKey=o,this.data.privateKey=a,this.data.signerKey=d.link_key&&ei.from(d.link_key),this.data.channelUrl=d.link_ch,this.data.channelName=d.link_name;try{if(d.link_meta){const m=JSON.parse(d.link_meta);this.data.sameDevice=m.sameDevice,this.data.launchUrl=m.launchUrl,this.data.triggerUrl=m.triggerUrl}}catch{}}const f=(await xd.fromPayload(d,t.esrOptions)).getIdentityProof(d.sig);return{chain:Me.from(d.cid),permissionLevel:dt.from({actor:d.sa,permission:d.sp}),identityProof:f}}sign(t,i){return this.handleSigningRequest(t,i)}async handleSigningRequest(t,i){if(!i.ui)throw new Error("No UI available");const s=i.ui.getTranslate(this.id),r=t.transaction.expiration.toDate(),n=new Date,o=Math.floor(r.getTime()-n.getTime()),a=await i.createRequest({transaction:t.transaction});a.setInfoKey("link",fh.from({expiration:r}));const l=_M(a,this.buoyUrl),c=a.encode(!0,!1),d=this.data.sameDevice!==!1,u=a.clone(),f=$w();u.setInfoKey("same_device",!0),u.setInfoKey("return_path",f),this.data.sameDevice&&(this.data.launchUrl?window.location.href=this.data.launchUrl:ph()&&(window.location.href="anchor://link"));const g=()=>{var G;(G=i.ui)==null||G.prompt({title:s("transact.sign_manually.title",{default:"Sign manually"}),body:s("transact.sign_manually.body",{default:"Scan the QR-code with Anchor on another device or use the button to open it here."}),elements:[{type:"qr",data:String(c)},{type:"link",label:s("transact.sign_manually.link.title",{default:"Open Anchor"}),data:{href:String(u),label:s("transact.sign_manually.link.title",{default:"Open Anchor"})}}]})},m=i.ui.prompt({title:s("transact.title",{default:"Complete using Anchor"}),body:s("transact.body",{channelName:this.data.channelName,default:`Please open your Anchor Wallet on "${this.data.channelName}" to review and approve this transaction.`}),elements:[{type:"countdown",data:{label:s("transact.await",{default:"Waiting for response from Anchor"}),end:r.toISOString()}},{type:"button",label:s("transact.label",{default:"Sign manually or with another device"}),data:{onClick:d?()=>window.location.href=u.encode():g,label:s("transact.label",{default:"Sign manually or with another device"})}}]}),y=setTimeout(()=>{if(!i.ui)throw new Error("No UI available");m.cancel(s("error.expired",{default:"The request expired, please try again."}))},o);m.catch(()=>clearTimeout(y));const b=Ob(l,this.buoyWs,s);if(this.data.channelUrl){const G=new URL(this.data.channelUrl).origin,L=new URL(this.data.channelUrl).pathname.substring(1),T=WM((this.data.sameDevice?u:a).encode(!0,!1,"esr:"),ud.from(this.data.privateKey),ei.from(this.data.signerKey));SM(We.encode({object:T}).array,{service:G,channel:L})}else window.location.href=u.encode();const S=await Promise.race([b,m]).finally(()=>{clearTimeout(y)});if(NM(S)&&Lb(S).length>0){const G=await xd.fromPayload(S,i.esrOptions);return{signatures:Lb(S),resolved:G}}const F=s("error.not_completed",{default:"The request was not completed."});throw m.cancel(F),new Error(F)}}/**
 * @wharfkit/wallet-plugin-cloudwallet v1.3.3
 * https://github.com/wharfkit/wallet-plugin-cloudwallet
 *
 * @license
 * Copyright (c) 2023 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * 1.  Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 * 2.  Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 * 3.  Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */function Wn(e,t,i,s){var r=arguments.length,n=r<3?t:s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(n=(r<3?o(n):r>3?o(t,i,n):o(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n}let Zl=class extends h{};Wn([h.field(N)],Zl.prototype,"payer",void 0);Wn([h.field(N)],Zl.prototype,"receiver",void 0);Wn([h.field(ge)],Zl.prototype,"bytes",void 0);Zl=Wn([h.type("buyrambytes")],Zl);let Ma=class extends h{};Wn([h.field(N)],Ma.prototype,"from",void 0);Wn([h.field(N)],Ma.prototype,"to",void 0);Wn([h.field(ie)],Ma.prototype,"quantity",void 0);Wn([h.field("string")],Ma.prototype,"memo",void 0);Ma=Wn([h.type("transfer")],Ma);function JM(e,t){if(!e.actions.every(r=>t.actions.some(n=>r.equals(n))))throw new Error("The modified transaction does not contain all the original actions.");const s=t.actions.filter(r=>!e.actions.some(n=>r.equals(n)));for(const r of s)if(r.authorization.find(o=>o.actor===e.actions[0].authorization[0].actor)){if(r.account.equals("eosio.token")&&r.name.equals("transfer")){const l=Ma.from(r.data);if(l.to.equals("txfee.wam")&&l.memo.startsWith("WAX fee for"))continue}if(r.account.equals("eosio")&&r.name.equals("buyrambytes")&&Zl.from(r.data).receiver.equals(e.actions[0].authorization[0].actor))continue;throw new Error("The modified transaction contains one or more actions that are not allowed.")}}function n2(e,t,i){const s=setInterval(()=>{t.closed&&(clearInterval(s),i(e("error.closed",{default:"The Cloud Wallet was closed before the request was completed"})))},500);return s}function QM(){return Math.floor(new Date().getTime())}function Mg(e,t,i){const r=new URL(e.origin).origin===t.origin,n=e.source===i;return!(!(typeof e.data=="object")||!r||!n)}async function qM(e,t){const i=new URL(t),s=await fetch(String(i),{credentials:"include",method:"get"});if(!s.ok)throw new Error(e("error.endpoint",{default:"Login Endpoint Error {{status}} - {{statusText}}",status:s.status,statusText:s.statusText}));return await s.json()}async function KM(e,t,i=3e5){const s=new URL(t),r=await window.open(s,"WalletPluginCloudWalletPopup","height=800,width=600");if(!r)throw new Error(e("error.popup",{default:"Unable to open the popup window. Check your browser settings and try again."}));return new Promise((n,o)=>{const a=n2(e,r,o),l=d=>{if(Mg(d,s,r))try{n(d.data)}catch(u){o(u)}finally{window.removeEventListener("message",l),clearTimeout(c),clearInterval(a)}},c=setTimeout(()=>{r.close(),window.removeEventListener("message",l),o(new Error(e("error.timeout",{default:"The request has timed out after {{timeout}} seconds. Please try again.",timeout:i/1e3})))},i);window.addEventListener("message",l)})}function Zb(e,t){const i=navigator.userAgent.toLowerCase();if(i.search("chrome")===-1&&i.search("safari")>=0)return!1;try{if(!t)return!1;const s=t.whitelist,{actions:r}=e.resolvedTransaction;return r.every(n=>s.find(o=>{if(n.account.equals(o.contract))return n.account.equals("eosio.token")&&n.name&&n.name.equals("transfer")?o.recipients.includes(String(n.data.to)):!0}))}catch{}return!1}async function $M(e,t,i){const s=new URL(t),r=new AbortController;setTimeout(()=>r.abort(),5e3);const n=await fetch(s,{body:JSON.stringify({feeFallback:!0,freeBandwidth:!0,transaction:i.serializedTransaction}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST",signal:r.signal});if(!n.ok)throw new Error(e("error.endpoint",{default:"Login Endpoint Error {{status}} - {{statusText}}",status:n.status,statusText:n.statusText}));const o=await n.json();if(o.processed&&o.processed.except)throw new Error(e("error.exception",{default:"Signing exception occurred: {{exception}}",exception:JSON.stringify(o)}));return o}async function Hb(e,t,i,s=3e5){const r=new URL(t),n=await window.open(r,"WalletPluginCloudWalletPopup","height=800,width=600");if(!n)throw new Error(e("error.popup",{default:"Unable to open the popup window. Check your browser settings and try again."}));return new Promise((o,a)=>{const l=n2(e,n,a),c=u=>{if(!Mg(u,r,n))return;n==null||n.postMessage({feeFallback:!0,freeBandwidth:!0,startTime:QM(),transaction:i.serializedTransaction,type:"TRANSACTION"},String(t));const f=g=>{if(Mg(g,r,n))try{o(g.data)}catch(m){a(m)}finally{window.removeEventListener("message",c),window.removeEventListener("message",f),clearTimeout(d),clearInterval(l)}};window.addEventListener("message",f)},d=setTimeout(()=>{n.close(),window.removeEventListener("message",c),a(new Error(e("error.timeout",{default:"The request has timed out after {{timeout}} seconds. Please try again.",timeout:s/1e3})))},s);window.addEventListener("message",c)})}var e9="Connecting to Cloud Wallet",t9={closed:"The Cloud Wallet was closed before the request was completed",endpoint:"Login Endpoint Error {{status}} - {{statusText}}",exception:"Signing exception occurred: {{exception}}",popup:"Unable to open the popup window. Check your browser settings and try again.",response:"The Cloud Wallet failed to respond.",timeout:"The request has timed out after {{timeout}} seconds. Please try again."},i9={popup:"Login with the Cloud Wallet popup window"},s9={popup:"Sign with the Cloud Wallet popup window"},r9={connecting:e9,error:t9,login:i9,transact:s9},n9="클라우드 지갑에 연결",o9={closed:"요청이 완료되기 전에 클라우드 지갑이 닫혔습니다.",endpoint:"로그인 엔드포인트 오류 {{status}} - {{statusText}}",exception:"서명 예외가 발생했습니다: {{exception}}",popup:"팝업 창을 열 수 없습니다. 브라우저 설정을 확인하고 다시 시도하십시오.",response:"클라우드 지갑이 응답하지 못했습니다.",timeout:"{{timeout}}초 후에 요청 시간이 초과되었습니다. 다시 시도하십시오."},a9={popup:"클라우드 지갑 팝업 창으로 로그인"},l9={popup:"클라우드 지갑 팝업 창으로 서명"},c9={connecting:n9,error:o9,login:a9,transact:l9},d9="正在连接到云钱包",u9={closed:"云钱包在请求完成之前已关闭",endpoint:"登录端点错误 {{status}} - {{statusText}}",exception:"发生签名异常：{{exception}}",popup:"无法打开弹出窗口。请检查您的浏览器设置，然后重试。",response:"云钱包响应失败。",timeout:"请求在 {{timeout}} 秒后超时。请重试。"},h9={popup:"使用云钱包弹出窗口登录"},f9={popup:"使用云钱包弹出窗口签名"},p9={connecting:d9,error:u9,login:h9,transact:f9},g9="正在連接到雲錢包",m9={closed:"雲錢包在請求完成之前已關閉",endpoint:"登錄端點錯誤 {{status}} - {{statusText}}",exception:"發生簽名異常：{{exception}}",popup:"無法打開彈出窗口。 請檢查您的瀏覽器設置，然後重試。",response:"雲錢包響應失敗",timeout:"請求在 {{timeout}} 秒後超時。請重試。"},v9={popup:"使用雲錢包彈出窗口登錄"},b9={popup:"使用雲錢包彈出窗口簽名"},C9={connecting:g9,error:m9,login:v9,transact:b9},y9={en:r9,ko:c9,"zh-Hans":p9,"zh-Hant":C9};class w9 extends cu{constructor(t){super(),this.id="cloudwallet",this.translations=y9,this.config={requiresChainSelect:!1,requiresPermissionSelect:!1,supportedChains:["1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"]},this.metadata=ss.from({name:"Cloud Wallet",description:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAGCgAwAEAAAAAQAAAGAAAAAAWgkyTQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAAJUlJREFUeNrlfXmUZFWZ5++7977YM7MsgQZEWtm0CkcQEBFkyLLP6RlBUMGsKkXRnm7EXQsdzsw0DoFLnzmoxcy0fRy7VaTwYGUWiILgQe2TiY6jjRQNDmArAm0BUgJCZUZmbO/e75s/3nbfi4iCzMrCZRLixJqVEb/fty83CL8nP1Mi+lhAmkScPPY+kecHWDwuBB1PzMc5oiNBchgzXsiAciIQAAyARdgJHnaQR5yTB5zI3SB9Fyrq7hto/LfJv9kUUfcCtIPI/T58bvpdv4Hm7Kxpbthgk/sfks7hAnumgjqTRU4j0msNKhAAFg4WIRyHcBHoEABOBAxAjIHAQBDAAej3WwhD9xRDfsgitzijb/lede2u5G9Nzs6aOe9v/39FwJSI3gEwiAQAPixLZxHkAgGdVUKtLgBC9OAkBADLAARQDCEWEAOQGHgnEhHCIgyIFbATAbMY1hooV8EQdOdbSxZys2Xa9n/WHngzAECEpgD1u9KI55wAEaGN3ge+WNrnicglhqonKxD66ILhHCQCXCAkEfiRlEPAEpud5LYInAAuvu9YYCW+LSKOI0IcKS21Gmw/RNhu3+4cX3HHnxx6faoNk5MuEYg/SgKmRLQH/CkifEVA9dMBIJQ2C0QAKAAp6BKDPkhARkRighxLpA2C+BLf5+gxKyKOha2AUKkqB0J/cfEHInTJTw8++MexhGg8h9rwnBHQFDFNItsUKc3z0qdJ6Q8aVBBK2wEEAetUS7zrPPjRfZcjIJZ0CCwjkfqMCBZYloyQ5DbgLAukWtPh0hIcy5V14NKdhx7ahogBkf3jIMCzsR+W/gmQcFuFasd2pQ0ADoD2Yc+Djxh+T/qBAeAz0BOQo8dTyY9NkuM8CZYFLOKcQMv4BMKn99wHTW//5aGH3gkRDc9H/UESICIEAEQkH7CLFyiFfwioXrLStjHwlEHu39qL+YkJKGpCTuILZKQESKQlziMjIgHiGJYrlcC12/3QuQsfPeJPtyF+//uTBLX/TE5TEZEQkXzALV1a0rWriXQplCUnEAMI5SEvAo+hxOyVrDgsze5noaqkxCF13NE1wCLkIIFttx0rVaJa/epDHtx1KYgERIJmU/1BaUBTRCUJ1Qfc4mfLqn5xzy0JEQQEtbc/KjkzlAeUE22IJd8lEVCcE0SSnpmZRNpt/JxjxKYofh17ZinTIGYRwtgEhQvzW5888vCPRB+qqdBs8u+9Bvjgvzdc3Bqo+sVdXnKxvCuRQQkfJfnDJD4xP1KQ/ES6RbxLmiVnUi9x5CR+KIvMfLFAsQDh/LyT2tjFa37+r1tjAnh/aILan+CXTH1L17WdSBZaIv7wewNdhkh/5o6zf2OQiOx1SaImMegp4Fl+kBGSPJ+ZJmIW5VotJ2NjW8Z+tv9IUKtp8xPw3xUubDWmvqXnlpxAlPjg5wAcfsGIx32pTl5UfL0Pck76U2edSLrktSJmyfMbJCKKW4tOGmNbqvc9tF9IUKsHfmQfL+wvbC2ZsS09u+hERCV+ZhjgkFHgD+pELiqSzB+k5sez4yLZ43mHK6lTZgF4SH6QJ0ZIWJRbbDlpjG0p37P6JKjVBP8v+wtbgyAGH1CxFHlgDUqrj/Uw01OUfogf4fhRTfaPsK8J3t/OzEz+tmPfT/hmKoqQwKKk1XLSaGwJVpkEtVrg/0V/YasJxrb0wkXHgtTsZKBJKr0DpkYG7XzR3o/MksXTivg250xMQkQCaKYJnFZUJY2y2H9PmY9IzRHXG1vKdz2QktDcRxLUaoD/9m4CfstxbHZY8pKe2e/IMWZhZkLMKMkXjygZiPeziCYjwU/WWKJSqmNJIx5PuiNnzANOGM6LmOLfIYEovdByvYnxLfhpREJzH0nQ+wr+29rzW0uV8S1hr+UAKIptPhEgSZpBIzIP2kvISaMctYBjXgQkLBCv+EbOMx/Or5TGpsZ5ERBz9liqFbFvSAVGstuGhfoKCr2+vfA7vzrtnIUzJuYe+eatc3Nz0kRTzWFO9jsBPvib2/NbS9XxLf3ugosSrDhnpyLABCkAL8+ChIIPEAKcgABSiowh6IDEaBIicizkRJiFnBMhjrUwATwtT6fOFjkzxF7+wL7Gxa8NRNBTBAjJX9348/4Lv/owmRc/77RTj3j9xPfvv+HWOayMBL1S8Dcuzm8t1ca3hN0Fl5SQkYh+doVMCSi9LUOAJxpWZhAkgY7SWhnVUKIUOdcPnXOPW2d3udA+Ya1zVqSCSsWgWlNhGJJz7KwIWRFKnW2aNSPvE1CMlDIzx/DBh/zljT/vHX797kp4REm7fugqpnbqa446e+K2FZLw7EsRXip+3uL81nJ9bIvtLDgCKYrxoxjjyA5R4X4CNKV/mHwLRcMyX3FQSmvU0XMLewS40QLfdhY7G+WlR4FDQgB4DI8FsmBe0Aed2GN5XSg4R+qNNb2FRYTOOceiw7j8wHF52nqlCh7IDbJum2FBP3qjMfiPlcMXlYn6SXgBLpua7tulKz9+89svBoAmmqqJZ1e2oOWC/4aFp7eWxya2uHbLEUQRYgZiwFVKBMEnJb0ukOApRvFdWa2qxnKnx8yfcb3e577SOGj3s3m7r3z88YMF/H4r+KgtV8r9pbZ1LMZyvgrqV0X9zlqSQxgW9FPJ/0UMfikB35cVrpi67tn2lR+/+fxlkUDLAf/shae3lsfGt9jFliOCUjGWvtQrD1QVI6w8SU9v+8AT5X0zwQaqYfq8cCcr9Y4v0dg9SUftCczRJCa5OVjBoMm5OXXg5KQkXbeX7979spD5aldrnNBbaFlOSIiBZ8n6BCKSc9rBUPDLRP1hmJIQEVdMVXfD5ZFAz9RMSfzqmfO/3VoaX7PFtSLJVwQiygD3JX/wsYgpQl4bkDNNqa+wJd0wPdu6Tpmxt/49UdgUMcDlnPifZyM0k5ddpuaI7IkiwVO7Hr2Wx8ffHD69YK2w4bgqykPKEm6k5A+CT7kojyJNCGq6219KSRAIEUb3E2iv4MfNiH8///Rng/Gxi91CJPmJzVcxyIiJGDBB6fPZ44lG+MB7/tqWzJjpu8XpL5qxzQAwKWLmVtge9MdODn3oke0yNrYp3LNgmdk4eBERZ+1Nw4IeKUBkKPhEBJFhfotSc1Q1Nd213a2Xf2vzR2ICRrU1RidiU4ACkfz5009eqsfHL+7PLzgnoliEsoTIqzrCS1z87BTFEkA+G/Zu28CMmZ4H/pSIntuH3uzchg0WMzMaAH794sM22z3z0xgbMwyyfg0pQSeKdlTscCPwbQx+zndRPsROA8Dof9VzHVcp1S5uvv5rlxJIZqZm1LI0IJG6DU8/eUFQrV/NnbZEEk9ptJNJPOUcrYrf5KjnabiTtqUgkvyrYvD90vYq9EYV4n/reffv2s6NsU12z7xlEZOEoYYFXUUQhvzVN3/RO/zrQx3uUNh8+CMySRSAQJcptL13NL+1eVtzctY05waHwGjU6Mhr9+w5Qdj+iLQpkXMcm57UlisfdA9MVQA3fV1CBGVJQyxRtlIaM2G4OH1VaT+AP4SExs9/tZ0bY5t4zx7LIKM5ivM5BX932b6oRBjucAeBIxriG4QVacUifcf21E/cfP7OmakZvXHHRjeagNjpnvjrX9dq5dJPTK22XtptR0Q6F8EUpFuNIIZie5/8nu8vIjZhK6Vx0w8Xp7ftT/CHkFC976HtPDaxSe3ZY3uKDEsM/vVF8Gm4xBINJYf8VxLZki6b0PXulTJOaO7Y2C865Zxtmpyb0wBQKQefVBMT6227EzKgk9qJK9juYmEr69NmHatc+dcrpLHABqVx0+svPDfgR6AxomIhOutfvFktzE93nrfGsEiYgB+m4FMKaC5/SS4e5Nl/SJ+PBdKErmcrQeNYdOnTALBjaocaSmhiel61+7enKCM/gggUkSSWTRVDTS96UZRPulThNVHYFN+XKM4vVyeM7S5MX1udeG7AH6EJ+OmD0xd97+GNh335wbB/TCVIbD6NStELch5XHXMvy+sBiQCkSIEYr770pvN+PDU1o3fEpihlY0fSH1HuCqrVEDWJhNjrq2b1E0mzR0G+kiiFwSkujoEA1lQnTL87/7sBP9aEZqwJePkRmw755q4Z/dK1AfXFpiWSfKhTlPNM0nNBhfc8KMlSiQguMGWwkisAYMeOKc6ZoMnZWQMiOek3vzmP6o3T7eKiY0Cz33VCBnoSWrrksWIv1uvD5jtXYnVtwnQ789Pbq2t+N+AnuRoRN5sRCc3b3r6p212crpbq8UjiEKeayyJpmIFKQU8u3uM6tF1XNtXTP/nG684DSJqTTTOgX6/Y/Zt/MrX6yeh2XDyal3O2fjlhsNg2JBKKzVZsgmy5scbYpfnpbzR+t+Dnk2ZRzWb0Hppnf217Oahv6oZtC4gpZLqD7piKERGhaI8oLRKTM7qsQ9e7/WPfOPdVqQZMxUAf/9gTZ1GlenLYXmLHotmbqXGSl/6ciSk4Yb8NiMz5Wt0YN73Fp3+vwI8I8DThprds7oVL09WgbojIJhKVmhYiEKn4QvkUrGB6Ui2ILwLo0PW4pMsnf+rc688CgJmpGa12xCmyg1wgJoCAOBp4lSFjfZFJyTc0MjPkvBlNb2zcqrEJ01uYn75pbO0+gy8iNDMjenZWzB1fuCO44wt3BLOzYqQpCvm2z4pJ6IZL09WgYQjKpjDToA5kYGOU6fHoIRCItTaAqAsA4L5jp6I3fOyvnzqc0L8PWtfBLMrz/+QnUoVsVhHlml/Keyy+bYM1E4bn56e/s+b5+wR+s9lUl62/jGjj3mf3ZUb0M73m2Zijy98ws72amiOYYVXbvOQ/U55AIECIFAlkSWu1/j/tOHsXAcD6R37zbjXe+LwsthwATZ71GqznU6G2nz2uKPMZSpENxseNW1iYnl27b+D7oN47I42umT9Z2P0bAGsZcAQ8QpbvOmnzgXfGv0HSBFFzJURnJHziDddtLwe1TT2bJyHpqRKKNaERoWr+GVcJaroTtt9z6Q1v+F8EAC99dPeNqjF2Ni+2nIrblD6wGEIEMNiESes+RDYYaxhuLV73gwMOmFoN8O+ceexACcofFZa3am0Oq5ZqMMZABOj1umh3lwDBnWD87clvOeArADAzI3rjCrQhR8Kbduwo6/qbe7ZrQTA0rCRBw52vDCVEXDmo637Yvuk/f/2cc+iljyw8X7D4C+hgrTgrqbXzAIfkS8xF6VexjYwiHnKqVtXodO7sH3DAKTuJQn81aTk/CYD//I2nzhShL4/V1/xJu9OCtaGwgAHiyNGzBqDKQRVGG7SW5r/rQn7baRcc/Phsc9ZsaC5/EzJJlr7wrjuCJ57Y9eOSqZwQul68UELPUB8ir1k2oBlCpIiFn4JUj6EjH9n9WqXUP8K5aBFBhPyQ0wcdhVp/QoyXIYvSiuBcHwhOvOPgtfesdBU0kfyd1/92kwlK24kU+v1eCIiBxMUUv5wc6ZaDgMfqa4L51tP3sXMbIhLEbGguv6ydVDA/9aavvwxEO4lUCSICHyEZMmAASofJiHwqKJ62ESLSEMKfKWE+HvU6okWSaCPRr90wsjoQA2Bvxp69GlEcATFqdTDk03ccvPaeSZEVgT8Tg3/HN558ldJ6OzOj3+86QAIf/LTHIWmEpEUkWFjc069VGuuJ1NwPt+0+aEOT7GxTzLIJmNtgm5Oz5q9vOPceCH26EtRApJj8UDNqDUKRSi8ohqEgqLgGLJHI2oqpgViOVyI4josje8niczHOj/MB8fMCSZvc4pTSvfmFPT2lPgcAc5dfvoJQU2jjRnIzM6JJ9OfLpQocO5sboZFsZFG8YVxkt0vtzmJYqzTWQeCRMLtsEjB5GwNAYILP9W13j9JGEymJ+lVJ0a2QDfsEZSWJtI7nPXaccsCRrtdH1O0qjnhLru7jCiPfVrLdKwYc6g1Y8I33HnTQ7ikRvZKNktlmVJE9sjT/5lql/oqlzpKDiEkSkmy8XQbGrNOBx0hIgqX2Ylgtj61zVmISNiybhGazyTNTM/qSHWfthlI3VoI6iJSLwm0VXWKph58DUJ6MXDBPUI4tiOhIJSwvdGEIiQtvjrNp4cS0SDLOl+7hyuB4H4uy3R6cpW8DwBNzcytKim7DZFQUdO7N8ZsXeCVw+NKeAp6OcGWj6SwQSBBpwtg625e5H35+ZSTc98SBsZdV32axIAWVZsOUmKDoQoqgFMURIWWZNOXuE8MBwAsVEx3GoY2HT5O5e8mbo0zKc/3ddFcLIhakwqV2aEntBIC5225bfsgpQs0m8R03/boG4NRurwOIaPEk3e/hwtt+SW4nKpztCEjQbi+G1XJjXV/z3K0rISE2Q0rrnZbDUJFOFhAHbD15GuBnxrlqKRExMwjqMMUiSvzlt8KsvPNKD47z0u+vhrJSsMCTXW0fBQBcdtmyB1UvvzyOJ5b0IRAc4JzLzbKnGhDbwQx8b64z2bcXgXC6phS0O4thtdRYp8Utm4RmM/osE43eo0T0pFYmXxMqaEPO/ntkZJXs9DGl0ppP6nzzki/e/HxSfi6SwoCIUnAsTx1ySDQuuJKfy5IblaAm0Uy+NySbOVl4UxnwnktiP/FMkXC67RKbo/o65ezKNAGHhET6Ka0NSJFEEZBKo6CsSOc736IpUrkqUbq16CS/dTJgaljSbRJfE9L1T47W3vfl53JcDgAIO70WETEReaDml/B8s5NbxuOEkChiSO5HmsGxJtTXodebu/XTv1w2CSon4ZkGZEB7DpnypsfXmDQ8zbZEvGvOdm/9aqc/uu1HRU6EnHVwzGsfe+yxYMUaEJst0fY3IvIEkcrsuifR/vaK8JDHvNBU4iRNON6ccRIsdVphtdxY55RZJgmPBUqptQCgSZNKNMCT+MT5UiEcxdBQNdrb5YFZee9aClFQYqqSRCzJCay1cE4OCDvuBbFBX3YUREQiTVGnbnxhRwQ/rARVxDsXyJ0l4YWgObC9VZxEYxMNEN8ncEZCKHru689AQrMZfZawu+YwUuqAyKwr74JczF/sBSDnG5LPqkBErETkEdEBWCC5JYUhS20O+UW25CQSZiF2jqVSDayVEwEAZ5yxsrWd9fEcn5PpyAnHk3g8GO2It7nnb0bKwIeBD34kSIyg3WmF1VJ9nelj7yTMRZ+FDL2yUqoHIOJoSk3FJqngjItagLzZUqREKwOAHlECeVi0BouIyGD4yV7UI4VM2e+asRBzqQQHeV0Uuk2u6ICLuOxMr3rLATe0u4vfr1UaOs73YmnORztJkyhxXgkJiE0pZ044NlnINMRJsNhpheVSYx06PPf15nAS1h/4RLxTov480EEkuTHYWZdMJxOzkY0flSlHV6KVAYEeVo7lASmVEC+SeOfyDK50usJ1NukgYGFtWy0wcE793ocOBpFb6RpncsqKWPWepU6rrZUxAnGp9eF8lCNOUjufv2RSL55D9l8DRtDutsJqUF9n2Q2Q0Gw21cYdG93fvfP2g7XW5/RdDwpKDw0704saKEVQftKIjS5BCA8oAd3tj5MUz1rIH5RRDFNzO7XE1jmuNdYI0ftjr7oiAoiIZ5uz5pS3Pf8+dtgUyZXSYHC2bCwZoInP8kBPB4FzZEk+Yoq1RBjBUm8prAX1df1+f27bR+8+aENzg202Zw0QmZ9SRd5fLTfWiLCj2PzQiNDTv0YaIWUli+Q/BXU3Nf7lX19L2vyjsEO0Vy1+9OdJZaHMjfxGOyW5kYrK0UL6xP76w+/B7KzBCk8mTGr5P/rq45uUMtudc2DHLIAS5qQEHdn1XAiaABsTgkzi2deUlLT4OSdhyVSDdqf1M8tu8oLPHPc4AHzx3T95GUA7BSixdcKI/BJ8cuHlKX5tystNskEtISIFZv4zRWLuZuueEmX8scGBXEDgSQ+ygy4K5onEsZNKtQRxV+MOCeCNiC/3JzEFr37bQdNhaDfHWwhKnLDvC3zHGwOZNzupiYqlZAj4saYEne5iWAnq65So265+38+eH5cgrimXqiUAkfQXMtx8TuANqnstzET6BYBSBsL8VBBU7iYAqP3Lr25EfexsWWw5AnRua72wpU5eYSxpyvhnPFA042vRqBtZbF1nX3bE1MA44LI1IWqo/O+rH9+koDJNSCq4OdteMD0FE8RD/AMnpImAmSFObCVomKXOwk+csw9XTOPcdq/lWKCj3+Vctp1FZpFg+hKfRmnJ4jPEVYK67vbbN33o2tPPiWy0o1sEvmQXjnjBkEWL3OhK8egXNtxqWWmMv1n/34e2Fwdjl68JUUPlNe84aDp0mSYwC3vONMuUGUPBzyVtKDjjXFhLpt1dcEaXXlkJ6ud2wjYDpLOzF4rFtUJEBP/a66yTN0lBcks6migVcwu3FpeElPbqW5kGeHYuM0Xe8QOSHQ+WZNMAjCwsWBkb26TufnDVSDjjPxw87ZzbHH1AFZHg2XweFg257DlIzuRkOQVyDZ1onND1uRd2XNR19aeeC+MoUugOExXMTzo3Ikpp3bVLS9AqJkBEdY48dJcAN6NWhwg5lrxzSQ/FGBodJTu1mcp5M6VG5udXn4QLD552NtwcJzUpCb5zlWF1Iu+Qpux13nEEScEvTfqgANJSPEFkaHbr+QU/4PRIIJCrmBoI+uYPbXvNrmZTlMoUQ7ZJGELAKl9RHAQdXlImnPkKvzHiVc+MtOYtj41twl2rR8KGd79g2jq7mYSgQIqFeVSsz/EFkmmDeNkxCkneMMkeHL0q1HVy42tIHXNhdEg5cQBkGwCsv7cwvhXc8+A/oVo7WbrddDjXPzYgd2yMFN+j7P3ANxGL8QmDVmsaxx+xzyOKiWO+9b8/ukkp2u6cg3OOwaIkPQGlYG64YD6LzyX1LfZK4Gn9Kx/mZpol2XE8uZK4j5kAAheYiu7bzu0fuObUV+U3ZGajrI+hrmBS3vai5KqMOeH2wRd55lP4iAxa8xZjY5v0nb/cXhwRX5kmzJp/9+EXTDNHmkBCmTnyo55ipZQL4HtmqngGWnTlTcIVjnuhQv83PzHtmSdCNDEh6opk5CX/r8X7YfqeB7+Pav10WVpyoHgSYRi+IqOlfdQT0bGJltesMVjwNMGbRFtpsnbLFQ9tAunt7BwsOxYWJS4v7fD6xRhSRR2InFJt4MLkhQzcTwN3kYL0AxBxZVPTvbD9g/ddc8q/jYaIo153Jn07ot0lp+gS6XYAgvabTT7wQ8EfdeakpzJaBFopg6VW/23f/9Wm5uRXtxenk1earJ15yYunnXWbAQVwlKylvBf8wSDAku8f5LRBvKHreNxQ8rOh6f6w5PvCseMVEOm+64I0LonG0rM9seKWpAaRU3c/+D9kYvyDmJ+3IDLLk3gZ+rgWgVIKoSY+/3sPLbzkyw/XgmOeV+r0Fqc//q3zV00TvvHJX24iUbFPYIZXtkhNNOero7mZojiPSEocftuz2IXzcRli85PQNqyVxoJ2uLj1vV955UdmpkRv3JGNaRaljgGATec/YqF1L2o1IyJ2APyhB37mjOZewT/mmofH7VHlUqe3ZKtBY1Pz7K+tmia88dKjpm0Ybo6lVDnHnJakWcCO0zJ1Cr6vqP6hcX60MXAKlXctwyIlAhHZUlAN2v3WvfY3T/wXAJjagZyAqUIZUiCiceyxfYF7h7TbfShtEmL2bmaGPzcMfPenZYVQQIDp2iVbDuqrSsJ5H3/JtLVuM0AAQzEz52pEfgSD/KGBRcvpT2MMKna2sEfFoXQiVtCmb7t9gN/xwW+f2ZuZEl08uEMNqQU7zM4avPyonYBciFIpMX4y0r6P+BkNPvvv33TDJVsJ6puaZ29fNRI2fuol09bazfCjIxZvrAX52lDOGQsGJvFGCODgWUex3Rcho8sQwYXvvfqUnc3JWeObnpG/X/QHuOuXl2Js4hNYiM6FS3XuGfpdOfC/+9DCMV/1wfePNUtlx1ZKddPrd6Yvu2njZn9EfF98wjUfuectmtS1jh2ERYiI/BLEgP3OPVd4DH44Ll5wl2uNCgCulcb0Yn/hY++96qRPFu3+syUgOzv/rgc+i8bYxVhsOUBUdhziCPBZoLRCqCLJP/qaXeP8okom+f5WOfzz5MjWgobp2c70x7755s3+iPhKSLjlA/eXz/zbo3tf+fDdbwlUcK21oUiyOeGdGugV4QaTKf/A2KGg5+r+IhCuBg3dCVtb3/3lk+LjaqIYaXkEeLkBAOCuB7ai3tiCxcWIhIEIarjZOfqaXePuRWVFYWFfJC/9XgFL2Wqpbnp26bqDDnzxWy/6+5PC5uSsweRt3HyWw77NZlOdgTPUhuYGe9U7ZyvSmPhCoEsXWLYc1b+Qc6C5sntxCg8FbUC+6ZKrOEO4WmroTq915UVXnbiPBzZlnyY7N/+f79+KxnieBBlt84++Zldqdohor9LvF7KIyJaDmunbzp0Eesdf33DuPVH8PKPve+JAisjIjz42m5cT5s5Q6w98QpITSb747p+8jLS6ul4ZP6HdXZSsKlwEnryJa8pXVgaSqkIFIJZuEeFqqa474dKVF33pFRcngvBMQrPsQ/tSElp5TRgFvoScrjANJYCGVw4BsqWgYqzr90D0mUAFn7tkx1nP6tC+v3vn7QebkrxfafXRclAt98OuA5GmwQNN82do+jHFkLpXQeJ948PVYEx3wtaywH/2BAwjoZ5pghahUZKfgTwIflY1LJRx4wU0RcoRKV0J6ujbzh4AN5LW3zGQn7Ta/Ig3hxp0+0sv0KATSanXaaXOqZbH1/RdBxBx8cxIztwNxPAFIopLOANhaDYtxpVSQ3f6i8sGf3kEjCBBtVpOE3RoNJ//vQcHwd+b9OdsPxXNUHy2EAkpYkVGV4I6GA6Ww5CIniSipxRpkFJrlVIHlINqUDJl9GwHIuwUaZUc4TXQSElOORHfFyE/ZjAS/JQBrpYaur1C8JdPQIEEtfP+rTI+sUU6i+H5331w6eivFuL8nPQXqoO5JIa889gKh16AQEqBoAREjghKK6O0MtDaxENQUdOIFDERMUHpaHQka5YjV6/JxeyeraERNURvDVWyClM1lvx3rRD8lRFQ1IS7Hvzs+XMPXXzMl34V2iPLAULJFWuLi8w0zPn6bTtC2mPNzdmoXL9V4gU5IVKIFlYUiGLQSaXLc0l/1tt4HigZD/gEohEZP60q+MMz4WdHQPLlBYTjj/jI0dfu2mqOfl4gYdTuGUUvjeI/5xtH7Zj7u7OSiK6CxN83KUz+981gYJJavPkdGRzsHVV7QKEVuIrgr5yAmIRms0kQoebtf/GRTm/xyoqp6WysqNi4GCxkFSWQRlVZ/WVbycrBmR+kXE2qCKw/QZeRwR7ofkEuP/wr+ZPEVxV8YIXfH5AODc/NSZNIzc3Nyffvv+HW1xz1+omyqZ/q2DLlDOxenO8w8+M9PrDyM7Dqo9LVz6L++NYvH4cNeT9Dul2e+OxztLO6PqCoDN4Zyf/1rGu2VkxjS9e1XTQY6Y/E5D88YdDxZseAZRNlOVtOWcM77xe8wdiBqbU84fCdvg++fyRNli0LCHF5YWlVwd9nDUg1wTs3/7b7b7j1tKPOmaiUaqfGqT9RFv5g4PydgiYUxjhyszhE+ahp8AgdGpD4QgiQi8q8GtRQTYj7XnF5YenKi768uuDvmw8Y1AJuIhpH//jN51/c7bevrASRT8hqITTEJGDkkJOMUlEa0Y6QITXkYm3HHzAAcucn+wsflCZZ9SjDvWr1wV81DRiuCV+/9bQjz56olOqnOrEsqbVGfnOc/PxAefeL4akqmCgM1Zh8TjHsuwqGHDhDxbOtEoc7prt28cqLvnTifgF/1QkYRsJrjjpnvFJqnGbZRh+Mct+hMQRwDJqg1Px4R+EXnLH/ej+/QNERU9EMDuQoDIBqpXGVlJT3F/j7hYABEn5x/XdOP/KNrmTKr408mjiKnLOnCcVCHIb6AKQOdzBj9gHN+ZQh1dacQ845Z3FaaR2YMnXC9sfec9VJl+5P8FctCho9CSSJPEvz9dsvgKJ/KOlKyXIvhJBJ0Bk6WxmdaVEoVQwBf8BR01CHnjldVfg+G0pOt3XloGpC2+2z0IXvu/qV2/z3v78wUvuTAIpT1pmpGd381uZtztlTQ9e7t2IaQWwHHIaVA4aUxkY2lWjUZMLgYIMUphziRM4JhGqlMdO33XsVqVe/7+pXbosa6PsX/P1OQILDxh0bXXNy1nzi5vN3PhnuPrEbtrcSCCVT1RSR4FAoUw8tVQz7qqXCDvFAPV+K3ZX02yodIK5kqppIod1f+J8HLNVPuOiqk+7MGuj7F/z9boKKP/75+Z88+/pTWMkVZVM9XQBY1+Po+97iie1CWXrAIePZPK+8laFkSk2YoKhkqkophX6//QPS6pL3fuWUH0fvcXQD/Q+egMQv7JjaoVIi3njdeQJ1SUmXT9baoG97ELCLI5X4SztG+wBgmLP2hsVJRYMoRFCkdTmogdkhdP3bodQVH7j6lOsT4Kd2+DnLHykByU80cjLFiZp/6tzrz4KoC0DqrLKp1okIoetDhAGQjR2pIiRbckOdtkRaFB/0ATJaGZRNBSBCN2wvEehmgLZ98Kun3ZzUmGc8gXiuf35nBKQZ9GTTNOea6djJf5u66XBr+UxNdKYQnaZIrY2OCSNYF0LAYHYYJIBglIFWBkaXQKC4MyZPkcIPIXQLtLrlQ9tesyv72ysfefmjIcD3D/cdOyX+cO7fvOl7zyfTP45YjgfhOCI6kkCHgfDC6Av8chrAROphEjwiRA8o4G5A3xUElbvfv+1Vv82q6KLW3wt6Lu383n7+H45sFZym2mugAAAAAElFTkSuQmCC",homepage:"https://www.mycloudwallet.com",download:"https://www.mycloudwallet.com"}),this.url="https://www.mycloudwallet.com",this.autoUrl="https://idm-api.mycloudwallet.com/v1/accounts/auto-accept",this.loginTimeout=3e5,t!=null&&t.supportedChains&&(this.config.supportedChains=t.supportedChains),t!=null&&t.url&&(this.url=t.url),t!=null&&t.autoUrl&&(this.autoUrl=t.autoUrl),t!=null&&t.loginTimeout&&(this.loginTimeout=t.loginTimeout)}login(t){const i=this.waxLogin(t);return ll(i,s=>{throw s})}async waxLogin(t){var a,l;if(!t.chain)throw new Error("A chain must be selected to login with.");const i=t.ui.getTranslate(this.id),s=t.arbitrary.nonce,r=btoa(s);let n;try{n=await qM(i,`${this.autoUrl}/login?n=${r}`)}catch{n=await KM(i,`${this.url}/cloud-wallet/login?n=${r}`)}if(!n)throw new Error(i("login.error.response",{default:"Cloud Wallet failed to respond"}));if(!n.verified)throw new Error(i("error.closed",{default:"Cloud Wallet closed before the login was completed"}));this.data.whitelist=n.whitelistedContracts;const o=(l=(a=n==null?void 0:n.proof)==null?void 0:a.data)==null?void 0:l.signature;return new Promise(c=>{var d,u,f;if(!t.chain)throw new Error("A chain must be selected to login with.");c({chain:t.chain.id,permissionLevel:dt.from({actor:n.userAccount,permission:"active"}),identityProof:o&&Gn.from({chainId:Zi.from((d=t==null?void 0:t.chain)==null?void 0:d.id),scope:N.from(t.appName||""),expiration:ci.from(new Date().getTime()/1e3+60*60),signer:dt.from({actor:n.userAccount,permission:"active"}),signature:Di.from((f=(u=n==null?void 0:n.proof)==null?void 0:u.data)==null?void 0:f.signature)})})})}sign(t,i){const s=this.waxSign(t,i);return ll(s,r=>{throw r})}async waxSign(t,i){if(!i.ui)throw new Error("A UserInterface must be defined to sign transactions.");const s=i.ui.getTranslate(this.id),r=t.transaction.expiration.toDate(),n=new Date,o=Math.floor(r.getTime()-n.getTime()),a=this.getWalletResponse(t,i,s,o);let l=ll(new Promise(()=>{}));Zb(t,this.data)||(l=i.ui.prompt({title:"Sign",body:"Please complete the transaction using the Cloud Wallet popup window.",optional:!0,elements:[{type:"countdown",data:r.toISOString()}]}),l.catch(()=>clearTimeout(c)));const c=setTimeout(()=>{if(!i.ui)throw new Error("No UI defined");l.cancel("The request expired, please try again.")},o),d=await Promise.race([a,l]).finally(()=>{clearTimeout(c),l.cancel()});if(S9(d)){const u={signatures:d.signatures};if(d.serializedTransaction){const f=We.decode({data:d.serializedTransaction,type:Ht});if(!f.equals(t.transaction)){JM(t.transaction,f);const g=await Wi.create({transaction:f},i.esrOptions);u.resolved=new xd(g,i.permissionLevel,Ht.from(f),We.objectify(Ht.from(f)),Zi.from(i.chain.id))}}return new Promise(f=>f(u))}throw new Error("The Cloud Wallet failed to respond")}async getWalletResponse(t,i,s,r=3e5){let n;if(!i.ui)throw new Error("The Cloud Wallet requires a UI to sign transactions.");if(Zb(t,this.data))try{n=await $M(s,`${this.autoUrl}/signing`,t)}catch{n=await Hb(s,`${this.url}/cloud-wallet/signing/`,t,r)}else n=await Hb(s,`${this.url}/cloud-wallet/signing/`,t,r);if(!n)throw new Error(s("login.error.response",{default:"Cloud Wallet failed to respond"}));if(!n.verified)throw new Error(s("error.closed",{default:"The Cloud Wallet was closed before the request was completed"}));return this.data.whitelist=n.whitelistedContracts,n}}function S9(e){return"serializedTransaction"in e}const R9="modulepreload",A9=function(e){return"/test/"+e},Yb={},Km=function(t,i,s){let r=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(i.map(l=>{if(l=A9(l),l in Yb)return;Yb[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":R9,c||(u.as="script"),u.crossOrigin="",u.href=l,a&&u.setAttribute("nonce",a),document.head.appendChild(u),c)return new Promise((f,g)=>{u.addEventListener("load",f),u.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&n(a.reason);return t().catch(n)})};class I9 extends cu{constructor(){super(),this.id="scatter",this.translations={},this.config={requiresChainSelect:!0,requiresPermissionSelect:!1},this.metadata=ss.from({name:"Scatter",description:"",logo:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgICA8aW1hZ2Ugd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBSUFBQUFDQUNBWUFBQUREUG1ITEFBQUFBWE5TUjBJQXJzNGM2UUFBSUFCSlJFRlVlRjd0bldtMFhlVjUzMzk3UE1PZEpDRUpOSUFBZ1pBUU04SU1BcHNBRHNaTzNEUjIwamp4V2xsWlhlMjNmbXEvdEIrYWoxMzkwSDdveDZacGt0VW1jUWE3ZG16SHNZM0JHR016VDBLTU1vTUVRdU85dXVNNWUzcDMxLzk1OTVFdWpsZTRBaXU2VnpvYmp1NjB6ejduN09mL1B1OHovcC9nWDMvdHFacmhjZDdlZ1dBSWdQTlc5dmJCaHdBNHYrVS9CTUI1THY4aEFJWUFHQnFCNXpVR2hqYkFlUzMrb1JGNG5vdC9DSUFoQUlaeGdQTWJBK2VVRFJBc1ZaWTFETTZ0bTI5K1lUZzBjTlE0aFV1YUsrdXJIaUVNbnRqOExhQmE2cXN2cS9QT1N3QUU5U2x4ZXpsNkFmdmZub0pSSFRnSUpOZ0JTaFlCUUw4N0NRS2RNUVRBV1VmMmtqV0FyV3FKKzRNcnU3YWZGMStseGtEd2dXUHhjMDc5WVRHb3p2cU5PSTAzY0Y1cUFMUmFKZGdQcVBFSTZ2RG5RS0ZURmdOQW9HbTB4ODhEdzU2NzhvN3pGZ0NuQk90WGZWQ2ZBa0N3U0pndWtNRXcyRElhQU5pMnNQaDMrakZlZWRJLzE1SkJTOTBDSkh3RGdNa3dJQ0FrcUFXQ0FSZ0dxem5BMlVVZE1oc0MrN00wUWdPQVJjQ282MlFJZ0xOOUI1WUtBSzNxZWlBOENWNTJ2UUhBdzBGYmc3K1dBS0NmYS9TZnZnMzAzRnJHNFFkdEEwZDB0ai8rUjNyOTgzSUwwS28yd1VyRWRXMkN0OTFmMzl2WGdTbllBT0RrclYzc0xDN3lKS1FqbXV0OUpDbWN4U2VkbHdDb2dnaG5JcmMxVGxqWGhMam1lMzJ0YlhzUUhGd1FFZ1NCUFdwWDQxeE5HQzQyRnYxT1lyYkNDanpPVHdDUVVBV3hDZHdEUUhDb3pKZlg5NFBmQ3dCVkhSSkdPamN3NFhzQXhJM0g0Q1Z1QUFpSGNZQXpnLytncGdva2xJRFFESEwvVld2WEsyeHQyZjc3cUM1TkhGTEhXcm4yOTBDcnRhYXVHdUhXTlhHcy9ib21jQ1dKUUZEbHhIWEZxdEV1YXliR0dSc2RvZE51MHc1ajRrb21RTTE4bGpFNU04UDBRbytqSjJiSmRkMGtwYWhCR3FWd0FWRVVReFNTRndWUnJOZlg5cUozVVp1VzBWZXZlWlpxclp5Wlc3cjRxc3RlQThoWUs2UFNqTFJRTjFrUFdldDFhRzY4aEcwS1BBaUk2OHdFV3dXaENVVWdxQ3BISzQ1SWdwcHNmb1pXR05LaUlLWGdnckZSdGx5MG5tMWJOck5tcEUwcmhOSEUyd002QkpPa2dEQ0NNb0M1QXVaS09KRVZ2SG5vQ0srKzh5NEhKMDhRZDhiSWdpNzlvcUtVMEJNQm9qU2dCYlVqYWg0Q2dUVFBBTGhuWHJ3Zi9nb3JBZ0JWMk96VEJvTFF3S0REQzk4YmFqTHN0STk3bGV4L3I3UHM1bGNGN2JER1pmTk1kRHRzMzNBUjJ6ZHU0dUlOYlViay9wZllTazkxRFVtL0NSUXFOSkRyNzZkK1phOVRBTkkxZmVEbDE0L3prMmVlNTdCTFNicGRxakFrY3hWMUZIclhzZGxpOUQ2R0FQaHdRUDZqTTZRQm5HMEJBL1h2L1hWVEFvdUVQekRZZEFIZDZOalZ4SFZCeXhXa1ZjNUVLMlRENmpHdTJYRWwyOWFQMFJGUUpNVVMybUVqK01HR1ByRG5RcGdQU3pQNklnT1V2YWdKTmk4Z2FrR3ZENi90UDhiMzN0alA0YWtwNHU0b2MwVkprTFlNbUY0L2FRdnd0b1ZqcUFGT0d3WSthdGY0NW9QOTM4dGkwVFlRVUFXSnVYQ3hxMHp3N1NwamxJTHJyOWpDZFZkY3d2cXhtUGFpTEVDVDF5UHhtOGdwaTY3UklQNzZwL1p3blBjT2JBOFBZNHJjRVdqUEQrQzFISDcweEI3ZVBueVVvRFBHWEZXYk52QVpCMjhENkRVVUx4aHVBYWNOZ1ZOUDhDdmZHMmFuRW5LNnhUS3dCSURhaEo5a0Myd2FhL1BKRzY5aHg2WlJScVFaWEVrYVF0ODVYQmpicXZiV3YzZjlmS0RYbExaQlFuOVB5OEVHb09EUDRIM29kMDFLT0l4WUtCenpyWWdEVXhWLys1M3YwNC9iekJQakVxOEZEREptQjBpYk5jYnB4N2dIdjh5bkxuc2J3SC9ZeHBKdmZHMWJWYUhjTWtmdEhPRkExY3BuTHdzdTZLUmNjOGttcnQ2OG5rdFdSeWI4MUZ3OTZmeUtta2dPMzhsMUhnWTFSVkVpV1VkUzNhYW1RY0hkV0J0K0wvYy82RzJVR2JSVGl3dnJIQm1IRlJHbHJobkFveS92NTVsOSt6bVd5WDVJelJqMVdzRGJBQU9QNVpjcHhJOXpyUlVCQUNWcXBJcTk5dlhyTklvaVhDbnZZS0Jlb1JNV3hHV2Z6OTM5U2E1WWw5SjJNQ1p2emJSNzBUelhRUlZESlJ1L1VmdGFwTTIrWDRmeUhyeVJKM2N6R1dTTmRZNmVXdldKV2hLMlZyTis1WUdRVmpVekJmVGJLWC8xM1NkNGV6cWpGN2NvRFFBV1JXaTB6TStubkQrTytENytjMWNFQUpBNWJxcC9rSm1yMFg2Y0VwQUVrQy8wVEYxdnV6RGxubHR2Wk4xb3dsZ0E3UW9pVjNsSmVzL1JGSDdzb3BQNW5KTzNVQm85Z3FJUnZvOG9lSU5QcjZITHBCRW81MmVwZ0FFZ0IrcTk2a0hTWVpxSXA5K1o1S0huWG1XcUNpbkNVMGFmQWszL3VPYmc0d3Z4NDF4aGhRQWdibEwzRXFUUDRvV3VNZ0RJMnFjb3VmemlpL20xMnk1bVRRTHRHdEt5TkJmUVozQzBuQ1VNcVdxdnljM2I4emp5RzRNcy9nS096aXh3WkhxVzk0NGN3N21BbUpqUlZzSzFWMTNHMmxFZ2c1RUU0a0grd0R3SHZZZEphSTB5SDdRNEN2enhOeDVqc293TUFOcjNCOWJGY2pJQVRhRXU5NkpRS2MvSXhSU0JRd3RYVlhxUmM3U3JrblpWMGFvZG05YXY1ZmJiZG5CcEI4YWxtcXVDVmlBSFhoSWVXTzBoVlJTUU56NjhWcmUyOS9rU1pnczRkR0thNTE5OW5YZVBIbWUrS0lsYWJib2pveFM5UHQwNEpzeHlycnQwQzUrNmNTc1RFYlNrWFJwYjBGUkMzVGN3RldtWE9lQXZ2dnMwcjh6MnlPTTJkUjNadVhKbmw5dXg3QUVnN2QzT1Ezb3hsSjJFckM1SXlwSjF6dEdhbWVMYVN6ZXkrL2JyYWJkZ25NTE10MG9XdUJsNUVCVit0ZXB3ZFlsTEE5dVg1M0o0NmMxRHZIemdJTy9OOVptcFErYURrREwwUnB2WkhLRWllejJpdWtXM2lobk5TcTY5Y0MzLzhzNHJXU1V3bGhtQjBnSkJTRndrWkRJVVMwY2FoankyZHo5Lzl2SmV5dEcxa0lXMFhVQS9rU0c0cUw1a0dhQmgyUU5BR2lBcElsdzdZcTdPY1ZSMHFvcTFWY1dWYThiNXpPN3JHRy83TFgyOGxpM3VmQmpZWEx6UWxubWtmVjBHWEFyVEpieHg2Qml2dm51SWZmc1BNRk9DU3p2a1lZSUxGUkZRK05iNzdnYUFNQWVYMEFsYXRMS2MwV3llTDl4MU05ZHVtYkQ4Z1ZrVlFVUlk2djJWdEtMWVZ2ditHY2QvK2NIM3lkcXJDWXFZZGlVQUtCOHhCTUJwNGo0Z3FDSmNvcFZia1VZMXJielBXbGZ5NVFjK3hmcXU5OUMwMnR0bDZiK0p2R1Z1aFIxMVNHWkNodjNUOE1qekw3SnY4aGh6WVUyaG9JSXM5VHFrckFLaUlEWUJ4YzZyZDRITnhRNFh0SlR1b3hOQXVuQ0NHemF2NXJPN3J6Y1BRd2tvYWZhb2pwbDFCZDAwb2NwZ0xvYi8vTTJIbUFtN3hLNUZxMlFJZ05PVWZITzY0dnl4TFpzb3FDam1wMWdUd1JjK3VadnRGM2JNMnJkaUxGYzFGZHlCbDU1VjdnUVVWVVFad1R0VDhNMmZQc3ViVXllb0owYm9oeklRUXpQMHRIZExXOFMxakVvUEFETXVaWEdFbUhib1Z6VlJYVEZLeG9WeHhyLzlqWHN0dnRBVitDcmI0SmtQS3RweFpBQllTT0VQdi9VSWt5NGxwVTBxRjNHb0FVNGZBcllmeHlsMTBhY2JPa2JxblB0dnU1a2JOb3pZelZkb04xQmdYbnJiS1pXblZhMnNtMCs5eXNKLzdiMVp2dmZrU3h3b1lEN3BVT2d2eXZBcGpoQkZGdXRYQkZHNFViUXVzaFd0bjJ1cXNpVFQ2N2M3bEdXZkxobnAzR0grMDVkL2c2Q2ZjVUdyaGJBa1kxTUFTTVBJZnA2UDRRKy8vU2hIaTRoMjBDVXA2aUVBVGwvOFB0WXY2NzJlbjdXVmY4M21DL24xMjNmWUt1M2c2RWpaTytmOXVUeUVUa3l2cktoYUVRc1ZQUEw0czd6eTltRk9CQjFtV3hQTVJpMjZCTFNLc3NralNNVVBhdncrV0JJV0thRlVWU3dFTVdXcTZGOUZYTXl5SnBqbjMzL2hBY1lFd0VwQll3c0hzaEE1V3NvQ0Z0Qkw0RC84elhmcHRTYUlxNVMwaEV3YXdDcVFQOHFkT0RQUFdmWkdvS2x5Q2tiS25JdlNpTis2OXk0MmpHQXAzaml3NlA4Z3drTmRSdFNkZ0JNVnpJYnd6TjQzZWY3Vm4zR2k1M0R0Y1JiU05uT0VqTHVFa2R4bkdWWEo0NElLRjZwUzJEZUNhV3VRak9MYWtWU09YaERqb3BnNGhMWmJZTnNGYmI1MDEwMG9MSkNxME1TZUZKa1hZS1doQmN5RThCKy9OZ1RBTHdHMmp0QXRNRkVWZlA3V1hkeXlaYlhkZElKQmFGZjFBUXJ0eWlJTG1IR3dFTU8zbjM2TloxNTlrN2c3N3QzQ01LRlhWNWE1RzZtMUp5dEFwTlZmVWR0RDMvdHFvaWIvWnhtRHFDNm93cFo1QjJGVjBDbm11Zi9tSGR5MjlTSkc2NHFXMlI4ZUFMbE1sVWFaN0o4dStLOFBQVFRVQUI4WEFZcWhLN2QyU2FmRjc5NTlCK3VDbWxRWm1sQXFYRDYvOXR5RXNJN29hKzlONElrM2ovRzk1MTlpcW9vSWttNFQwNVZrU29KSXVRUDVqUW1CTlhnSVRQcTZ1SmhFNjlneVB3UkJSaDIyREdCcFdURGhNcjU4LzExY01ob3hGdm95TXp1M2lzZ2JEU0NOOFBTK1EveXZGMTRZQXVDZkFvQXlZNE9hT1g5ZTQ3NlpMK2VUUGtyWEp2MWovTmFuN3VMbWpST01XUkhISEtyZmtuMVF5bjZ2RXlJWE1SZkE2OGQ2Zk9PblQvQmVFVkIxVnRFdjVEMm9YS3dralNwYzNTZXJVNnF3WTllV1plK0xRWnNnclZVYktad2tBRlRVWVVIbFFvTEtzVHFLMk5TSytJTUhkakd1M0VEb2NHVnVSYU80bUN6MDBRZmxEYjcreUZNOE5IV0NmbXVjeUNYbUJSVHhvQmI1NHk2TFg5N3p6NW9Ob0xxOU1veEpsYnQzUHF1bm0yNnh2Q2l5ckZ0SVRwdWNpNU9DTDM3NlY5bllDYTJTSjVSZlQ2R2FERXJWM3Nta0wwcmVUcnI4OWNQUGNIaHFsb1U2SWxkWUtFb3RVamVJeGV0ckdhcG1VTFdGTllsenlOalQ2emVoQTZzcHRJNmdPb1dxZzR0eld0RTg3YmxqZlBIV1hkeTU2U0xDd2drQkZBa1dYaDRwRmlCcXMxQ0hIQWYrNkp1UDhWNEZaZG94RzBWMUJTMVhrd3MweTZjbTlPemxBZ3dBUVV4YUZ3WUNXY2JhWjdNNkpJZ2o0ckNpeW1icEJqbWYzbms1dCsrNGdxU0NNU1VHVlltVHFHUmJtVDc1OFZybElWOTkrUUNQdi9vV1ZSaVRFMVBVRXJRdjdoaWtrWDFabGsvSkt1ampDelpQUmVkTXF6UTFobXIzeXZzdzBnbUl5eW0yWGREbGR6NzFDZGJyWldXSHlPZVBmVTZoWGN4RDFHRWhESG4rNEFKLy9hT2ZNcE4wcUpLMmFZVzRyR2tQQVhCS2RTbERwcGg4cWhWY0Z5WU1GV0tVQ3NrcTA2Y0lYSCtHUzllTjgzdDM3MkpWNkFNMFhkbHVDcnlFaWd6V0ppeXQzZU96cy96Sm95L3g3a3hHMnVuU3J4VEVzYUx2SnRXdjFpN1hkQUpKSkY3b2kwT3oycElHWFVPMlN2VWVzNEtPeTdpb0JaKy84eGF1V3RlMmxSeTRpbENheHdwVHpBUWtjekh6Y2NpM24zaWQ1OTQ5d2dscG9LUmwwVWdsc0ZKWFU0Uk5YY012VDR0L3JDdWR0UzFBMXJaaTlnS0FoVk90WkNLaWp0cmtXWTkyVkJGWEM5enppZXU0NTlLMVZGbkdlS3RsTjFKQ1U1VFB4UUc5SnJ2MzZQTXY4L0JiSjVpdEU5dVQrM2xCbktTbUhhdzl3S0NnL1Y0MUFsN3dabldvdkh4UmI0RUViMlZuNXF3N0tIdGNVRlhzM25vcDk5NThHWkZXZjZ3Z2NVbXFaTEVMTFo5YzFBVkZLK0hBWE0xWEgva3BCM3VPaFVCNTQ3UUJtbTlBOFY3Rzhqbk9HZ0MwMmhRV1NXcnQvNzdvVTF1QXRnV3FncEdvcE8xNmZPbHp2OEwyRnViemE5WEtQamN5QnR2akxkSEdHNU1aMzNuc01kN3VkeW1UTGxFVVVwWVZTUnhUVmtWVCt1VUJZQTZiN2ZtK29VUlhIZFRwK1hyRFFaVlFUZWo2cE9Vc3QyNjZoTS9mdEpPdTFQaElRRThoYWVRQ1JyVGtmdWFRdHdLbUEzajR4VGQ1OExtOVJLdldrNVZxRnZGZHc3VlFJdmRBZ0JrMmhneHE5MVY0NlFIZ216c2lTOHAwa29ocTVnaVhyTzd3Mi9mdjVncVY0UmhmVCtNWktNbmpJdm8xbGliK2Y0Ky93dk1IRGpBZnI2TU1WQ2FpanB4Qmk1Y3Y4enhaOHlVZ05ZV2xycFlXOG1XaEVyNS9YbVVWUVBwdGk0eHQ2MGQ1NExxYnVLeXRsSy9lUjBrL2xUZ1ZQbFpvT3FHZUs1a2JqemxTd2g5OS9YdjBXbU9jNkt1Q3FOTUFUWUdtaWtwdW80dWJOdlRsb1FYT21nYndxNkNweXJWcVdZa3BKZ2dUVWdWWThoazJqVWI4M21mdllJUFI5S2pNV2dhY2hXUUlTM2tSY0tpRVAzdndjUTZVMm9NbmtPSFdyT3RHNVo4aWM3QUFUN1BLTGQvZmJFUG1qa29lQ3ZRb2Q1ek5XNlJ4eHlVWGN1OE5WN0c1M2JiVm41amhGNUJiNU5EM0N5YXFCSFV3bWNCWGYvUUNldzRmWlQ3dVVDc0xXRVhtWlNqT1VJYktLVlFrbFFDd2ZOaEV6aUlBZktXL1Zwd0YwOHoxaW5BdUlpbjdyS0xIcFJNdHZuVC9iYXpSeXBPbnAzQ3RXUW9oVWVWZHRUZm40WTkvOENPT0tBMmJkeTBndExqWlUyQ3czZnhrRjVFNmRwUTJia3EwWmNncG95aGc5QmRvVlRuamtlT0t6UnY0NUUwNzJkUUVkd0tyTXJKSVBxNVM1NCtLVGp5ZzhocGUzRC9MTjU5NmtoTnBpemwxak5DaWxRZTBLaCtBeXVPQ1hsS1NscWwxTnkyWDQ2d0N3TmRxS2dhdmtJc0VHbE83Z0U1ZE1GN09jZE9XOVh6dXRxc1oxV1p2YlZvU3Y0Ly9SMlZvalpuN1p1R1BmL2dJN3lVUjdXckVqTEt3MXRWOGdNZnZ2MTdWRzhDMDJwVTZ0bFN2YndyWGxxRGkwWGFWc3lvczJYM05kbTdjZHBIbDhCWHRxK1J4K0ZJUndySWlidWhrdFAzM0l0aTcveEFQL3ZnbHB0b3BrMGxNMWhxaHlrUEdEQUErYk4xUENoYlNrbmFoN09FUUFBMHJodytrR3dDc29UTzJLTnFxT0tBMWQ0ejdkMTNObmRzMjBGYlBaK3o3OUNwOE1hZ0FJUEcrT2xYelB4OTZpRU9qYlVhS05rbWx6TDRpZS9Jc3BPWUhBRkFwdDI4WVZaSkhEeVVRRlJDU1VabFdCUmUwUW43bGhwM2N0R1hVbWtKVkFLTFVYcEVFekZ0R0lhWmR5eGJ3YWwvdjZYQlY4MysrL1czbStsMG0wNGpwZG9jc2FhTWloTkUrZENxRnJEMEE1bHNsN1Z5ZXpCQUFUUkJHZDdpeWhncTFVVmtUaFFzWW9XQTBPOEVEdTNaeTZ4VWJyY3AzMEJHa1ZhM2dqWnBDZWxHTFBVZG0rZk1mUGNueFpOUTBnS0o3aEJsQm9OYk5tcUowSkdtSExDdElWTmNkT3ZwWlRydlZ0bVlSNW1aWjMyMno4NUpOWEgvRjVXd1kxL2FpUUU5TmtqVG1vL241aFRxL2NYbEpHTGRaQ0FKT2hQQVBUK3pqcFhmZW93aGJGR0ZBSWEyaXJhSldNYXZ2VS9UYmpXd1lHWmtETHFMbHNRbWN0UzFBYnJiYXZDWFFVd0JRY1g1SXA4cFlYYzF4LzgxWHMydnJCcDl4YXhvMXJJZXZWZ3JYV1FuMjN1TnovTVVQbjJRcUhxZFZLcjZ2UFZjSm5NeGIvM1Zrd1p6UmR0dUNOVVV4UXhLa0pNU3M2clM1YXRORjNLU1M3NDV2SUduSkcyaENBTllnb2w0QUNWS3FTWjNCVlVXWnBCeDM4TjJuWHVPbEE0ZnBCOG90REVyWC8ybkJMcWNZZ01WQnptWlp1QkV6S2VGaVc0QVBETWt2YU9jOTFnWVo5OTJ3blp1M1hrVFg0c1RlVXZlTlFWcWlxc0NKMkR2WjR5OS8rQlRIbzFFNmhRb3lsZU12cU1QU1ZIdFlCWFNqaUgveHE1OWcweWhrbWFQdFFxSWNSanZRU1gxc3dmSi93bzZWZVBzbzRLRFVRSHRGSlhhUUtLVG5ZTmFwdHZBTjlyNTdpT041UmRRZE4wMnpsR01JZ09ZdURhSnZmaWYzNVZzeTBxUWkyM25HR3Rmbm51dXU1STZyTjlFWnBGd0hkODhTTnpXOUtPU1ZFeFZmK2VGVEhMSFNiY1gzUy9PM1phQUpZRkZXTVZLVi9QNXYzTVdsbzhvajlPazRXUkU2d2F1VlNtNmQ3SVpJOWtOVHNTTUR3UmpDU3B5MFNKeFkxUEZvRHQ5N2JBK3ZIenBDUDBySVpGTzBtckxrSlNCZ0NJQUJBR3pGeTJLWHNTWkRNTEFHQ3ZsMm5iSmdOSi9uazFkdjVkNmJ0dERSaXBmdnZJalp1WFlWZVJxWkYvQ1ZoNS9rWUJhYStsWmhoL2JhTWhTWlJNeWFwRU8zdjhBWFBua3oyOWRBVWs1YmVGWnJ2cXh5aXFpMjVOTWdRYVMzcCszQnRoeDFGMUdTQlNsWmxQTDJMRHo5eG43MnZQMGVjOW9XMm0xNmVVNVh4QkE5V2FvZmZnd0IwTnlqUVM1QVpac0NnZSthbFE4ZmsyUjlWcm1jS3k4WTQ0djMzY2lFQ2paK0RnRFNBSGtVY0RDSHIvemdTZDZaS1hHaVpwR3hwYWFnS0xJU3NWRmlXclBUZkhMN0pYem14aTEwZy9tR0I4NnJlSFhyWldpVkt4YlFzcWJ3UkhYR3B0RnI1c3A1OHFUTE8xTVozM2prS2N2dkgrdVZWSEZDcFk1ajZ6R3JmQlBwRW80bG5yYUVLLzF5VGpsck5vRHg5d1JxbVZKUXRXZ1NNdkx6SXRLcVpCVVZGNDhrZk9tQlhheVdUei9nOGZYYTMwTEQ4aHlPVi9EWFAzaUNmY2RtNlhYSDZJZUJSUXd0M3k5akw2c1p5VE0ydHdPKy9KbmJXTjkyQk1VOGlUcUFGQzVXdXRqY1BkSEJKV2IxdWI2cWhrUEtCSTZtOE5iN3gvbk9qNSttbjR3elZRU1VTY2RiK2szSVdZYW45U0V1NFJnQzRLUU40QU0vcXJrTEJBQXIvcFFwRnBPVUZhMXNnUTJkaE4vOTNCMXNhaW1OZXlxSDc1azYxUElUTXgrR1BQMno5M24weFZkNXAyeVJwNm5GM1V1NWkwR0xlcUZnZGRLaW5qN09ybTBidWV1V3E5bVF3SWlGYUJ0L2Z0QS8yRlNJbVFJb1lQODhQUGoySzd6eHpydCtHd2hUS21Vckd6QmFLWG5EQk9iTHlqNzhHQUpnRVFBa2JBRkFHc0FYWkVZRVlVcWQ1YlR5SGhkMVcvelcvYmR4ZVhlUU9mQ3BYTXNHdXN5S1FQdDF3RnlVOHZjL2ZwckhEeGIwNHhaQnBIQlJnYXRxT3NrSXJsZlNqVU9DWW9GdFd6Znl3SzdMV1R0d0t4dU9JR2tWUlp3VmJEcHdISjdhczVlZlRaN2dpSGdDNDlqMitxalZBZ3RYSzFQb0Mwb0doRldWMVNnT0FmRGhkK0RrR1NHQmkwMzRZWkJiWE44Q1FlTDVLZFQ1VzdJcXJybjNsbXU1L1pLeGsreDZxdDR4bjl6MXpZclBLa2VaanZHenFXbis5dkdESE8wVmxOVThjU0l5QjRWOFcrUnkvZElPQ3VnVytUdzdMbDNOMWcwVFhMNXBNeE9pQnF0QU50eUJZMU84ZlBBOTlyNS9rQmtjcTlac1puYXl0aWJRaWJFUmVndHpST3BRTXE1Q1BVSUw2MHJ3UlRRRXdHa0lYNmY2dmowZnI3ZGw3VWtVdFRkYnZOMFpiOS9GYThiNGc3dXZ0aHA4VWJtWmZTNEYwS1JYWmNSWmEwWWQ4czAzVHZDVFBXK1FtMlUrd3R5OHRFVExHTHR5dVlkeFJlRXlVcGZSRFJ5cHdzQ0sxVmVPd09qZEhJV3FpTnBkZXM1UnlSNmg3U09BVG5FRlI2ekVnU3FDN1AyZllpeVQzYkdVWTdnRmZOaGRraXZuMU5mbk9YbGJnZVAzNzlqSmp2VWpKS0xuYVVpNU02dkYwKzJzU01RS1ZsUzgzK3J5Vnc4L3g5SGpjMlJWekh3UkVIUzY1RVkyNlNnajFmaVhKS1ZQNDBxdzVvSkt1SElNelREMEdVbjFESnF0dVVRUzhPVW0yQSs3ellPL256VXY0TVBlb0FDZ2VIOVk1ZHkwcnMydjdiNkZ0YkdTSzc3OXIwcFVsT0dMUkZUaG80TFIyU2hoMnNIM2Y3cVhQUWNPazQrTU1lZEVER0hFTG1hcFc2bzRWTXlocGxZM3NaSThzUWhFdE13OUgzQmR5U05RbWxqcDNxV0pkbWxuZmRpbi91Zi8rN0lEd0dEbFd4aFdxcmJ5cWVIN2JyNkIyNjljUjlxSHJ2YUN5SWVRVlJ1b2VIK2cydjNHa0R2czRPK2VmcEU5UjQ4ekY3UndrVkt3Y2kvOXl2ZUJvcWFqVXlHZ3B0ek01d0Q4S0JramlUTlhkV21pWGRwWi8vd0MvckJYWEhZQThBV2NpOHpwMnBHV1BUYVB0Zm44blovZ3NsSG95Z2cwbTEySE1mcGEzQ1kwK3M2QVhoSWJUOCtlbzNOOC8vSG5tSzlpWEoxYWtFbEdtd0NneDZENXhITjkrVmhnRXgzMnpjYnlOcVZ1bG5BTUFiQ0VtN1NVVTR5WFg3dXYvZDkwNjZwTXZGamdqaDJYOFpuckw2TlZGSXdhNGJkdXV6YnkyTnJBWTllbnJuTHFWcGNGWXVhQmg1L2R4eXNIam5Lc1gxSEdiV01UbFdvWHk1Y3FoaXNWaDBTQjhRNmlSazhGa016SzlPL0JEUUd3RkxHZDJYUFVCa0EyeDdwMndLL2NzSjFQWEhZaFkyck1NV2FIZ0ZLMHJMRXFlOVJOVkZtYm1JWTQxWFhNQW5Db0Q5OTYvRVgySGo2S0d4MjNtRTFDZU5LM2o5c3Rza3hsUng1d3l1RVBJbnRMblFReTFBQm5FQU8xcUZ2VW0rOTZySTRjdjM3SHJWeTd0a1dhTjd4OW9nS0s1VVo2anFDV3BHRlZPMnJYRGExMC9HZ0FQLzdaSVI1NytXVWorMHlqbGlXanlpZ2lWL20vNmhNVVBEQmVYMDhRWVRwb2FUdkFzcXIxUHgxUkxEOGI0QmU4KzFJTm5pMEpzeUlzKzF5VXBOeDM5WFp1M0RKT1M5VTY2aEVNRlZKT2ZERFpDQ05zMG9PbkFROWpaaFRzaWVIdFl6MmVmdWwxZm5iZ01DNU9qUGxqdnF5SjJsMXlGWEEyR21EUUxEcjBBazRIVG1mbzNDU0k2UnROUkcyQm1MYW9XWG9MZlBGVHQ3SGpZclYvaS9DL3BLMjJiM1BlamJqSERFVlhWMlJGUlpLTzR0UXJXTUZrQUUrOU9jbHplMS9oUkY2eW9JSXZsWG5IdnZiSUY2dDZsb0NUL1FRZjh0bUdXOEFaRXI3WitmTFA0OWhxN3JJc1kxMTNoSGg2a290SFV1N2VkUTFiTm5iTmVoZGxpM0lGSGdDcTQ5Vys3cnNQQklLZ1Rra2lYOWpSaitDcFY5L255VGYyTVZWakdrSk5KYklibEE0T3JEbFE1ZCs1WWVBa3cyOHpXdTRVNDJjRGt5VzZpMmZ3Tm4ya1M2K0lMVUR4ZjNQUkxURGprMEVLRUxWcXp3eSs0OUtMdVg3N1p0WXJVR1Q1eElwSWZmc0RDOTZDT3NvNmVLcllqdjRSajA4RUI2bDU5UFhYZVdyZlcvUm9FNFpqa0hsbXI0cWNQSjF0K1A2OVp2RE5wTDdqMkI0RFJwRWxaZ00va3BUTzRKTldDQUFVOFdzR1FabFJwbWtnRlhGWmtGUVpVWm14ODhvcnVPL1diWll6a0NtbmlsK0ZpQTBEOWh6L2ZQUDJiZGdRUmoyck9wN2pHZXc3Tk1tUG50N0RWQllRakt6bTJHeVAwVldqRk5YY29ybUNwNXBLbTBtREo4ZlRpR1ptSlI0ckRnQURjZ1dGZE5YTUlTR1BwREZsYjU2dEY2M2lwcXV2NG9yMUkyWU1pa0xPaXIrczBMUFp6NFBhSm43SlgxQWl5TnEzUkJtSDV4TDgvbk12OGRxSkUvUTdIYVo3ZlRxSnJqRGdEMmpHeHB6ODJRZXR2SFphV2pKb3VZRmsyUVBBa2pUV1BEb1lEdVZqZG1XUjAyMmxsUDNNdUhsMVRsd3VNSnBHWExmdFNtNjVaaE9yeE94cDJrQWwzNzZjWEV1L0w1YlFNS1FyRW1lNWkyS09VcnQ1Q3c0NStNNExyL0hzTzI4VGRpZkljei9odzZ0NjMwcnU5VW16RlRVL0x6VmtQQVRBYWQ0QkR3RGZGenlZRG1aVEJJT0FJaS9vdE5vVW1jaGdRbkdDV0x0NVZCWnN1bUNDVzNkdTU2ck5YV1AwbEx0b0lGRDZPZkpnQ3VYMithWUVYd2F1Y1RJcFRBSS9mUFpWWG56elhSWVk4VTFtUWR3MHJ6Ulp3c0Vjb0dZZW9FclFWdUt4TWpTQXo4ODA3QjMrYXhPemEvb0Ztam1DUldaVXJhRW9aNG9GMXJRU2JyenlNbTY0Y2lQcjJwNDV2R3NoNUlaWTB1WUorRmtDZ3BnS1VveXFRa0NvNE5XRE0zemppVDNNWndWRm5CQjBSNHhLbnNnVFNnOXFBV1dVS3FpMEVvOWxEd0J6QTMzVnBoOE0xWXhxa1VyMmc1c0dRNWdhemg4OXdmbHBvSzJnaE40Y083WnM1STdycitiaVZaSFpCZDI4c1F0dGdraEpLVTRLdTVweWdFMXJHTEJRdzllZWZKM1g5eDlnMmdXVXJTNG54RHpTSFYwVU12YlRRWmNUOGRQcEFIRkZBRUNsVjRQTW5TZDFiS2dpbW4zWk1vSTJWTEt4OWFUZUxaMmMwNktpVGNsbzROaTZjVDI3Yjk3QnBnZzZoU2ZyVUxTNE5QS0pwdTFjUUtnQ2d0TGJDUW9hUGYzcXV6eTk3eTBPTGVURXE5Y3lreHRoUVpNejhBeGpRd0NjRHV4Tzg5eEFUS0JXTnFZOWZOQkk0bk9GM2pEenhJN2VFd3VzN2RzZUVteVpNeG9IeEVWR21NMXp6UlZiMmIxdEs1dTZBYWxuYi9HekJnV0dzckRDRUNOL1V1ZXd0RUNGTVlEKzVmZWY1SzNwQlNaVkE5Z2FNWmZTY2dZcUVHMDRDRTd6WXkyTDAxZUVCbEJtenhvOUcyWlAzMGswc01jSFFSbjFHS2lTeHpPRUsyd2NSQkZKSE9LeW5zVUZSRWNuMTNHMDdISGo1UmV6ZTlkT281MGJqSTIxT0xIMUZTanNMREtRaUtKZjJiQ0tRd1g4NmJkK3lGU1FNcWRtMEdhMmdHY1ZIOURYTEF1Wm50YWJXQmtBK0lVZmFiRkR0dFRQN0UzSHFNcnBoaFYzZnVKNnJ0ODh3WVRDeUs2MCtVTTJXa1MwQy8xdkFBQUsva2xFUVZUOGYxRk01UUtxdVpKa0pMYlE4VGQrL0FJdnZEL0pWS3dHRkZrVG5rdElMS1JXcXI0Q2p4VU1nSTkrdHhQeFNsY1pTWkJ6Kzg0cnVYUGJaZ1BCU0NFQ2FqRkVCWlpORHRXNXBLTGgydWNPRHN3Ny91OC9QTUt4Y0lSZTJMYllnTmhJQklDVmVweVhBQ2lMZ200N3hlVnpqQVU1RDl4Nkk3czJyNlVqTWdtdDVFZ2RCQ29lalFuVmd1QWNXUmhhN3VDdmZyU0h2VWRtNlVWdGl3c0lBT0liOXR6Q0srODRMd0ZBSkRaU1J4SlcxTDBwTHB2b2NPOTFPN2x1NDJxYk51b0xRUnl1VXJoWmlhUUswVTNNSnpIUDdaL2lXMCs4YUV4ZzN2ZVhGeUFBK0k3aWxYYWNsd0JRbGJBSXB1TElFWlh6ZFB0emJGc3p6dWMrc1lzdEV6RlZYcEtvSzhXbVNrb2p5RFNveUpNVzcvVGdULzd1UWViaXJnMmk5UHlDenVqcFZ1SnhYZ0tnREJKdjVNbDRLM3VNdVp3MUx1YzNkOS9PZFp0R0NEVnJNRlovZ09ZRmVOcDQyUVZaa0RBTi9JKy8rUUVuU01sVlFxYnVFa1VSYkJieHlqdk9Td0NJNU5GRmlYVVFPNWN6NGdwRytndmN2ZU1xN3J0K3MzSDdpMDlLZklMV0lOTHdDaFpoeWd6d3A5OTlramRQTE5BWFgzMmlXWVBhQm9aYndJcUJ2M0VFYTQ2d0drUnE4UU5XZFBvTFhIL1JldjdWM1RzWlVlTElVZ2FxQ0JKcGhjOGlpc2w4Vm1OaEgzNmV2WWVueU5PMlZTcXB0RHdaQW1ERnlKOWFBbzBDaWtoa2swb2pPOGFya2tzN2JmN041M1l4MGd5UHROeERwRm1Ddm90SUF5NEVnRDkvOEZsZVBqcURHeGtqVXpKUlFTWmxGVmZnY1Y1dUFZRTRDVVE5RzJzV3NSLytNT0ZxMXJtS2YvZUYzYjZxeUlmN0tVTE1OUlNsclFDZ3dkQi8vdEJ6N0QwOFRkNFpzZnJDSkkySnMyRkYwQm5CdncyR2tqTnV5UmNsZkh4YmVWSEs5Zko1L2ZaSWg2ejBYTDZ1S0VqaXlPWUZaNzBla2NpaVBwQ3E5VGsvdFlMM1VzaGlqWTBwV1YwVjNMaHVMYit6ZTRkNEptbXAzei9XNUJITkJwVENjRFpxZGlvSytOTWY3bUh2MFJtaTlnaEZiNTZKYm92K29GUHRqTnlGTTNmUlphOEJiSmFmQUdBOGdWNzRucy9IcTF3MWsycDBqS3NkM1NTaXJpb3E1eXVJb2tqZFFhZHVucFZ5bUZlWG1EQnpBU0FzaWJJRjFsUTVuNzMrV202L2JEM2pHa0JxSmFFS0NJVjB4QWhtYlNjaGt5SDh0Mi84bUVOVlNwaWtCRVZHU3hPTTFISzJBbzlsRHdEZDB3R05uTFZ3TmxXNFd1RlZudEZORmEzVDNPQ1NQSnNta2xFV3ByaTRaWE9EYW1NRGJ3STJpdTRaVDNCTVdmb080U0IyZEYzQlJON255L2ZkdzVWclFpc2pxMXpQNkdvMGxrN2o2cFVsekFnNVdNSi8vOXFETEhSV1d5d2hWUzZ5TEtpYXdSQXJEUVBMSGdCYTU5cVB4ZGp0dVhoVkVhVGUvcHd4VlhOcXBHd3I1WWJ0VjNIWnBldDQ1LzJEUExYbk5ZNzJIRlY3d3M4Z01rWXZQMGxZbkVTaW1vL3FpRGdPQ0lvZTNUSm41NFZyK2MxUFhVZTdoSmJtRlpueUYzQTBGaXl6eVI5aUpuM3k3YU44L1ptOXpLZWo5RXZOQ3RiVWsyRkYwQmtEdmdEUUxqVWdLa1NzSU1ZWXJqeC92c0I0NEZnVDF0eDcwdzFjZS9FcXF3cVk3Qy93NCtmRTRYdU11WGlVWERGN0E0RFdzam9EY3VNU1VQRklYSlpXOFhmdDVvM2N0djFLTm83N2lxRXdFbW1WV3MyMFhZU29OYTBLMnZUamdLODgvQ3d2SFoxaFpqQVBxS3BKTlRocVdCTjRaakJnQU5BUXlDZ2lpNkN2NlJ0MVlWVSt3Y3h4N3JsdUovZGNmd1ZyTkRUY2FCOGpUdFN3OThBMGorNTVnK01MQlM2eVFrQnJDNG1DZ2poTm1Ea3hiZTdlWGRkZHh5MVhiV1pDODUyMCttMHJGK0dUTHp6SnNoNWhQRVlScGJ3M0IvLzdHOTlqSnUzUWwzMFIrUEV2S2xtckIxT296c3h0T0dOWFhSRmJRR3BiUUdoYlFDNGgxd1dqb1dNTkJWKzhlemRiUmhOV3E3QTM3MW1ucUhoOTVhNGRuSWFYZm5hQVE4Y25tWnljSk05N3BFbEluUVJzMkhBaHU3WmR4V1ZyT295cElOakdDdFdFR2kzYkVFRGFvS2VnWnJaS0thT1lSL1llNHdmUHZFQTUwckZ5TWFPS0VqdUpETk1sa2tTZE1VbCt4QXN2ZXdEWXlqVUdNVC8wellaRTFoVVRvZU9XS3k3aFY2L1pUTHVzR1ZHMWtCbDduaTlBN0lOSzVEVmRZSmJUYWFiRG5PUVdVUnVaMnNSa3lLbSt5Mm9EQS9VWXEyUmN1cWRrSWVqVEQ4YzRuTUdmZk8wbk1MNktFL204YlVPK044QjRhVzBBOVVvOGxqOEFaUERKSi9mRC9LeFJ0T1VjbzY3a3R6OTlKMXRYaWZXekpuYVo3ZFBXQm1pQ2FZWkZHZE84T0FCVTZ1VUxmbFRBcVdSZlcydFlaV0RpQ2xjWldETmxOTFdHRVU5SE81UGt6TlBtNjQrOXpaNzl4NmphSFVxekQrUWtOZ0F3SjNFSWdET3lBSlNYTDlQY0pvbEVsV2J3UkhSZHdEZ0Z2L2ZaM1d6c2FoeThHRVJteU5yamcwa3VKSzRuUDlFbWdhRzJiek1HRTZ2M2owSkhXeXRXYUZBVmtPb0drNEMrRFl4UDZCck52SGNDamlVWlQ3eHloRWRmUHNKQ01zRjBuaE9tTWloN2Z1QzBOSUJaSHl1ekttaEZhQUNuY2F2VzJpZitIcThCQklEZi9jeHV0blI5VzNqUVg2QnFkNXY2ZnBWNHF4MThNQVJTVzBjemtzWXFpYlZhTTJzWk0wSXFkUjQ1eFFWazJHa2NKTlE1ekVmdzRPdUgrTWt6ZTZHN211bmNrWFE3NVBxanRaODNIRVhhTWxRN3NBS1A1UThBSTJ6UXNDZmZ4U1dqVFBUeWFYK09PM1pzNWRQWGIyRzFXcjhLTGUyRzBxVVp6MnJqZWs2Nlo2ZEd0bnAxclZYY0ZISU41c1VHcWExalJRQ2tLVjQrbFBQM0wremoyT1FrblpHdWhadU5UOGlWOWw0R1Q1UGNMWGV3QW84VkFRQzVXUXJqYUEvWFRaYzVPQ2JPb0lWcGRtMjloSHR1M002NHVBR3NUNjhaK1RKbzQveEF0VzZ6U3JWYUc5ZlE5NXRwOVdzU2FVaVZ3T0U1K09tekwvRHF1MGVaaWNZSmRhN0t4V3ZsQThSSjQyY1dOa3JKeEc3RUZDdndXQkVBME5BbVAyRENnMEJHbTZhTGFzQmt1K2h4Njg2cnVISDdwV3lNTUlJb1R3SGI5QURhTm1EVHBuMXppUjNpZzFkT3djOFAxbUNvSXNZWXhkNmFLbm5rdVJmWTk5NTdoTzF4d21UQzA4bXBsVHhKeVBMTUpveXNUSVgvanhHNjdBRWdRUW9BZnFpVUxIbXZ5cFdzYVd1a2ZKbFJ6VTJ6ZWYxYVByWDlDaTdvdEprWTc5SnBOOFRTVFN1MzUvMXB1SCthYmFIcEZXWTZoME16T2ZzT0hlR1oxOTVncWl4b1Q2eG1acTVQSExTTVNGbzJnb1pTVzJhaXNTMFdzOElNVzhQT2tQcXpjS3dtZHFtS3g2aGJCUVRQRjZ4V3JqU29hVWNoVmQ0bm5wdGh6ZWdJYTFhdll2MEZhN2hvL1ZyV3JPclNhVUVuOHB5aUFvL2F2YWJuTWlhbnBqbDBkSkw5Qnc5eGJHYWVVck9FT2wyeUlDRFQzRUJWL09RVmFlS3JpRFV5MWhOSysvVXZBUGkyVmI4MXJjUmoyV3NBMjE5UDhnTm83L1dhWUhDWXBhOXVZSWtoejJrbGFpTlRrV1pwdGY5WmI5NHlnTzNVdDVkVnl1eTFZNEkwcENnYzRvczJobkEvYjlTRHJPSCs4ZlJTL3JVR3J6Z1ErZ0FBZy9jeEJNQVpoUDhnekg2S2tNbnpBd3gyOU1GK2JHVWphdHIwcmNGVzB4ZEhmc3k3SGxZS1p2RzkzR29NZ2xEOWhBTjdRRTBlQThLWGhpVFNpSXMvMlBDeFdPMHZYdlFyMVNaWUVScGdvR2cvcUdVSGRDMmUwYzhQZVF4c3NxZFVkR3hXdmxhMzJNREZLSEtLOGk5UW9rZGgzMHEwOGFvWWl2M29GNTE3S3Vqc3g4c3Zhdmo0cDFoRFZ5aEwzTm1kSExwVXBXRVR2NDJSUTVHM3hwQlRCczRFTDRPZzRmSFIxSEI1QUNvTmM0NVNlN2JZUEd3S3FHWUIrSUhSeXQ4cjNoK29QRnpCd05KckJzTk1vSXlEQUtKaGt2ck9WL29zZHZrR3EzMHhJSVp1NEZLbCtSSE8rMFVBT0xrckN3Qk5sWkRSdzJyQXZGWHhldTVmR3p3aEc2SUpDa250eTZzSUtxZEpNZlpjZ1VSV3BWaEZQUStCSHoxdlkrY2JEZkR6UWwvOHM0RnpoZTRCSzJRTCtBaW9HVDVsU1hkZ0NJQWwzYVp6OTZRaEFNNWQyUzdwa3cwQnNLVGJkTzZlTkFUQXVTdmJKWDJ5SVFDV2RKdk8zWk9HQURoM1pidWtUellFd0pKdTA3bDcwaEFBNTY1c2wvVEpoZ0JZMG0wNmQwOGFBdURjbGUyU1B0a1FBRXU2VGVmdVNVTUFuTHV5WGRJbkd3SmdTYmZwM0QxcENJQnpWN1pMK21UL0h3MUlyRHlNTjR1dUFBQUFBRWxGVGtTdVFtQ0MiLz4KICA8L3N2Zz4=",homepage:"https://github.com/GetScatter",download:"https://github.com/GetScatter/ScatterDesktop/releases"})}async loadScatterProtocol(){let t;if(typeof window<"u"&&(t=await Km(()=>import("./protocol-scatter.m-BTLqd9VM.js"),[])),!t)throw new Error("Scatter protocol is not available in this environment");return t}async login(t){return(await this.loadScatterProtocol()).handleLogin(t)}async logout(t){return(await this.loadScatterProtocol()).handleLogout(t)}async sign(t,i){return(await this.loadScatterProtocol()).handleSignatureRequest(t,i)}}class F9 extends cu{constructor(){super(),this.id="tokenpocket",this.translations={},this.config={requiresChainSelect:!0,requiresPermissionSelect:!1},this.metadata=ss.from({name:"TokenPocket",description:"",logo:{dark:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABrYSURBVHgB7d1PjF3nXfDx57RpEyBxQl/U+k1elEivhCcLiIXIH8QiFQaVDYoLi7IgJrtKjRDbNtl005AttEZiR5wVC4i9jMBVvED4j5DcDRkvAAeRMAFE0ziirhA9zG/u3PGdO+fOvefec//+Ph9pGM/4joF4PM/3POd5nlM9+c0f1wUASOVTBQBIRwAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASOi+wkJtfWH37WQpjz1SoNH7H+2+/aCUOz8sZfvDwpo78UApD+6+nbi/9+/+oQd6n4/3Jx5o/pqP7+7+/e+/ffyj3ufi++KDjwp0RgAsQPwjf/HZqpx77t4/fpjU9k4p7+6+3bhdlxvv9QYCVkv8G3/04V7cb52s9gb6/lvX/+YjCuL7Id5v79R73x8RCTduF2ilevKbP64Lc3PmVCmvna0M/HTm+u1SLt6sy3dv9a4UWawY7E/tz+Q980S1UjN6EQMRiNd3YzFmj0QBxxEAc/TyF6vy8vMF5iKuAP96u5Q/uVKbFZij/oB/ZqvaH/TLWolgjNmj6+8JAg4TAHNi8GeR3ropBLoUg/4LT/UG/SdPbs6tu340RhCYQUIAzEFMB/7VH1QFFil+uF+4Wsr5K/5JT2Nw0F+3q/xpXd6ONzGQlQCYgz/7vTw/QFg9MQvw0htmAyYRg/4vPV7Kuef8m41ZpIvfq90mSEQAdCzuEf7lV139s1wxG3D+nbpcuFZoYGfOaBGO8b1jx8nmsw2wY2efKrB0Mah9/Td6u0/cErjn6cd763PM0I0WtzBj51KwtmSzCYCOxR5gWBUvf7GURx+pyquXckeAgX86Xz4db5XbAxtKAHQsVgzDKokf4rt3+1JGgIG/G/0QiC2FMaMkBDaDAOiY+4msomwRYOCfj/jvGYcfuTWwGQQAJBER8MFH1UavCYj71996wcA/b4O3BoTA+hIAkEisCYgHDV28WTZKrOr/2vO9Vf0sToTAr21Vzp9YUx4HDMl840vVRj2NMp63EQdvGfyXI257RljG34E1UOtFAEAy8QM7psnXXURMHLr17d/xsK1VEH8ff/HVau97y+PO14MAgITiHvm5Z8vaevG5au/ALff6V0/cFogwi5kZVpsAgKRilfyJNbtyjv97Y3D5xpfsuFllMQMQMzNf/5JzUVaZAICkHto7Dresjdja9xeu+tdKrMuItQFuCawmAQCJxUNw1mEWIGYr3njJQLKO4u8sbtes8y2nTSUAILFVnwXoT/m//HxhjfWfTeGWwGoRAJBczAKsov6qclP+myNuCcRsgJmc1SAAILm4Onv6ibJSYgW5gWIzxSPTY1bH3+3yCQCgfHmFHmMdW/zs7d9s/XUBtgoulwAAypmt1VgMGIv9Yosfmy8CL0LP4sDlEQDA3g/jU0s+xjUWiFnsl08sDnz5eYsDl0EAAHueebwszWsvOMs/s3iWgAhYPAEA7Nla0gxADP5nTxeSEwGLJwCAPVsnF//D1+DPIBGwWAIA2BMrsxe5ENDgTxMRsDgCADiwqK13seDP4M8oImAxBABw4NEFHM4SW/0s+GOciACROF8CAFiYGPxt9WNScZto1U6p3CQCADjw2MNlbuLUN4M/bX3nK44NnhcBABy486MyF/ED/LWz7unS3kP7T4Rch8dWrxsBABz4+G7pXAz+8QPc2f5MK76H/vgrArJrAgCYq1jxbwqXWcVjoeN7ie4IAODAJx3PAMSivzNbBToRu0c8QbA7AgA48P5HpTNxtLBFf3Qt1pKYUeqGAAD23Lnb3RqA+AH9bfdsmYNYS/KtF3xvdUEAAHve3Smd+drzrtKYn1gPcO7ZwowEALBne6cuXTj7VClfdoIbc/b136iW9gTLTSEAgD2Xb5WZxVV/LPyDRXjNrYCZCABgz60ObgGY+meRLDSdjQAAyvXbsy8ANPXPMpx7TnROSwAA5eL3Zr//b+qfZbArYHoCAJKL7X/f3S4zicHfVRjLErsCHBDUngCA5C5v1zNN/+8t/HMfliWLXQEeGNSOAIDkzl8pM4mFf7BsEaIvOhugFQEAiV28Wc90/G/80LXwj1URCwLNAkxOAEBis179W3zFKokFgWYBJicAIKnz78x29f/0E73FV7BKzAJMTgBAQjHwv3mtzORl9/5ZQWYBJicAIKFXLs228t/VP6vMLMBkBAAkE1P/N26Xmbj6Z5WZBZiMAIBE4sjfWRf+xcp/V/+sOrMA4wkASCLu+796afYjf+37Zx2YBRhPAEACMfi/9MZsq/6Dff+sk7OnxepxBEDHZv0BC13ravAPTz9eYG1EsMaCVZoJgI6928Ez1aEr2zvdDf7BE/9YNxasjiYAOnbjvdnvsUIX4pjfLgf/uJLyxD/WTSxYtRiwmQDo2MWbvcerwrLE99/rb9fllUtlpr3+w84+5UqK9WQxYDMB0LH44fudK2YBWI7Y5vd7u1f9F66WTsWK6l/bKrCWnn5CvDYRAHPw5tXeD2JYlP5Vf0z5b89hHcqZU70IgHUUtwHcvjpKAMxJ7Le2I4B5i4H//O6M06//UfdX/YN+dcsVFOvt7FOFIfcV5qK/9erbX6nK1skCnYoZpsu36nLpZrf3+ZuY/mcT7N0GcHv2EAEwRxEBv/WndTl7urcVxRQUs4hBP3aZvLU76H+wwNkle//ZBP3bAGZm7xEACxA7A2JLVoTAmd2p1Mce7n0juqfKsP4Pp+0Pe1f22zu9e/q3duZ/pT/KGdP/bIhYy3JhxsdgbxIBsED9EFg3Lz/vAJgmsdp+1qfqrQMP/mFTxFqWC9fcBuizCBAYKdavuHXFpnjypEOBBgkAYCTnqLNJ4rbrKYuyDwgAYKSnH3frh83yjEWtB6wBAEZ69onCHMWizzjLYXCBZ0xTWyA8P7YD3iMAgEZbBqLO9c9viMWjsZVz1M6OE/tT1XG1GrswnCXSnSf9tzwgAIBGW18odCCu8GPleRwRPulWznhdREK8xUmPsRAzduOcPe2WzKwiaiMCPLrdGgBgBFedsxk8pvn8O7Od4xC3CuLpjvFnreNW4lVzStzuEQBAo62TrjanFVP9cQrorAP/sH4IxBkUTrSbnrjtEQBAI/dKp3Phau+pjPMcoOPWQPzv8NTR6YjbHgEAHGEB4HTOv1OX198uC9F/4FicMEo74rZHAABHGPzbi8H//JWycK9cEgFtxfe3EwEFANDAPdJ2Ytp/GYN/3x++3XtoFJNzxLUAABrEEyuZTEzFL2raf5TYcfD7f17vvWcydgIIAKCBRVKTi/vwqyBC5DtOuJuYGQABADRwf3QyMfW/Stvx4rAhOwMmIwAEANDAD8fxYuB/81pZOefNAkzEQlcBADTww3G8G7dX8zCeOCPALMB4jz3iNpcAAA5x9T+ZZa76HyceOMTxRK4AAIb4wThebLlb5aN4nQswnnUuAgAYIgDGu357ta+wYzug2wDH830uAABau/FeWXnbO24DjJN9FkAAAIc8dH9hjA/W4El8TgYcL/ssgAAADnFvdLx312Bw3f6wwLEEAEALq7z4b5BjgRlHAABAQgIAABISAAAt3PfpshZsc2McAQDQwn2f6r2tOgHAOAIAoKUHPltW3tbJAscSAAAtfe4ny8rb+oKH3YyzLjs65kUAALT04BoclvTMEwWOJQAAWvr8Q6V8ZoUXA8b0v6c6Hs85CQIAoLXYCbDKi+xefNb0/zjZp/+DAABoKYbXn/t8WUkRJqb/x/vYDIAAAJjGzzzYe1s1556rTP9P4M5dT0sUAAAt1ftjx5P/t6yUGPjPPlWYgFsAAgCgvf1b7J/fnQE49YWyMr72vKv/Sa3DI53nTQAAzODnHyvlcz9Vlu7F3an/L58uTOhdj0sWAACz+OynS/nVU8vdFRDb/r7xpUILn1gEKAAA2upvsqv3P3jo/lJ+8xdKObGECIgp/29/xba/tt7dKekJAIAp7Q27de8XMfj/9i9W5eEFRkBc+f/lV933b2vb4L9HAAC0VA+99UUE/M7TVXn8c2Xu4p5/DP6e+tfe+x/ZAhjuKwC0Vg28DXrkJ3p78f/un0v523+sy/f/q3Qqrva/9ULlsJ8Z3LhdKAIAYCr14Pv66Od/5f+Xcvr/VeXydl2u3S4zi9mFOOL33HOrfQzxOrADoEcAAExp7/Z/0zTA/u/F9sDf3R20z54u5R//o5S/+Ye6/P2/lonFoB/nDJz75d0r/scN/F25ZQ3AHgEAMIX+uF/XI35z4PP/ZzcEHt2duj+zVZUf/LCUf/l+Kf/8n3X5909K+bc7+xGx68T9vUF+62S1t8DvyZMG/a7FAkDPAegRAAAzqEZ9rhpogIEXxaOEf/anS/niz1Xl/s/0Bv37VvjRwptme8cCwD67AABmUR2NgP6swJE4qBu+zhb+hbr+XmGfAABo6dBBQHVvwG+6FXCwVbAe+sL+1x38ISyKHQD3CACAlo4M9tW9+/j9jwcH9oMDg1iquP/vKYD3CACAtqqDAwAbr+IHp/arQ5+898vK1P/CXb+twgYJAIAZNN3HjxmC48b3eoLX0L3LtwoDBADArIZnAKqhTxnpl+7OXff/hwkAgJaGz/4Znliuhx8S0DDz7BbAYsWJjBwmAABaGn4Y0PBgPup0wMHfNxwtlun/owQAwBRGPQwoDO/6a5whYGFi+v/ydmGIAACY0qhxvJrkYxGwMKb/mwkAgCmMehpg//kAh44CqJq/lsV463uFBgIAYFYDA3w98PGocwKGv4b5iYN/rP5vJgAApnCwBmDEIoCDBYIjvtY0wGKcv+I/9CgCAKClwcV9R7b8Db1m+IPBWwP1kRfSNVf/owkAgCkd7AJoMYgf7BCojP3zdvFm7ez/YwgAgJb62/hG7gKohqb/69F/BvPz5rXCMQQAQFvDi/5GGDwsqOnP8Djg+bl+u5R3dwrHEAAAs6obPtz/3KgDg0z/z9eb15TVOAIAYFYjlvoPPgq4HrdQkM7EfX8n/40nAACmNPLI/6Y1Ag2PDHaNOh+2/k1GAABM6bhtfP046N8OqAY+Xxp+TTfi6v/izcIEBABAFxrWATQ9EXhwGyDdc/U/OQEAMIX+Nr96+NF/+78evD3QNCS5BdC9WPnv6n9yAgBgCv3p/eFjfZuO+R11HHDbQ4Q43quXJFUbAgBgSiMeAzD2Nf3XGa6649S/9gQAQEuHpvaHRvj+vf1DA3x1/J/DbGLgP3+l0JIAAGjp0G3/oUf+1QMHAA0bfkCQkwC7EYf+uPpvTwAAzEHd8MGhHQC1NQBdiIH/wtXCFAQAQEvHre4/9IIRYpag/8AgZvPSG/4rTksAALR0ZAHfiDHouA7wNMDZnX/H1P8sBADAFEYeAzzg0CLAwa2C1cBBQEJgKhb+zU4AAMxquATqoYOABhYKHjknwBqAqZj6n50AAGhrYFFf0zDUv79/3ELAevhsYCb2+tum/rsgAADaqo6u6B/4rd7gPjTlP6je/5xdAO3FgT9W/XdDAAC0dOj+//A5APsvqIbPBhj4eG+GwJV/a3HV//rbhY4IAICWBg8CqsuRNX57HwyO+UeWCAzeDhACE7lzt3ff/+O7hY4IAICWGtb8HTnlr//5Qy8afEll9r+NeMyv+/7dEgAALR1axH/ME4FGDfAOAWon9vu77989AQAwhXrwFw1X90deN7QmwNX/ZC5cre33nxMBANDW0Ja+4dF8cBeAgX562zsW/c2TAABoq+kKf/C3q6Fp/mMeGawQmsX9/t//czdK5kkAAEzh0Lg9dBsgZgCObPOrj35YNXye3uAfK/4t+psvAQDQUtX06+Ou8od+vx6+hcABg//iCACAlo4M3NXRjw9tDWwY6SsLAY8w+C+WAABoa9zDfAau8KsRX2b0P8zgv3gCAKCtgSf7NR7pWw09DXD/fxyKgdoiwD6D/3IIAICWDg3sTeqBAb40P/THSYA9Bv/lua8A0MqoR/0eMmaAr4/72iRin7/z/ZdHAAC0VR89+3/U0/0OYmH4tMCSexdAPNb3lUuFJRIAAG0NrAE4eOJfw97AevA15vsPxNn+jvddPgEAMKVRV/cTfW2dLwzikb5/+Ha9e/VfWAECAGAKk17dH6z0H46EZDMCFvutHgEAMIVDY/qIY3+PPQiojF43sGniiX5/sjvlb7HfahEAAF2rGn7Z8MTAasNnAWLK//yVejcACitIAADMoPEwn4GTAI9sGezb8MH/+u1SXr1kyn+VCQCAlqqh900vGHxNdcyfsWlc9a8PAQDQ0uBVfTXqBWVo+r8e8Wds0DoAV/3rRQAAtNS/qj/uNL968P3wU4EG/pxN4Kp/PQkAgCkcjOkNc/z9c/4PvabpD9gAVvivLwEA0NK45wAMPgho1DHAI750bZjuX38CAKCt4WcBDIzk1Yj3I16+dvcBYuCP6f4btwtrTgAAzGJ4f385/uPBr1unsd/Av3kEAEBbgyN30wK/6ujLjvz2oXsEq8vAv7kEAEBLR3b1jdgFMGLxf+/z1eqO/bGq/62bdXnzWnGPf4MJAICW+gP7wQDecBLgka2Cwy9ZwdE/rvYv36rLpZtW9WcgAACm1N/iVx8zA3D8Fy9fXO1fuFbvDf6m+XMRAABT6m/xG36oz5EdACMG+2U1QH+K//Itg35mAgCgrcGjfquRv33wmuEZgmoJOwD2rvDfc6XPPQIAoIW4ev7kR6U88Jnex+Pu5TctBOwfFNT4JMEOxP+N7+6Usr3Tu8q/teOePkcJAIAW/u1OKVf/qZTPfLqUR36ilM/9VCmPPVLKg/eX8uju+/v3f6qOfWJg34yLAQcH++14/2HZew/jCACAKfz3/5Ty75/03m592P9sXU48sBsFP9kLg595sJTPn6jKid04eHj3c48+XMpnd3/q/uxPj//zB7ffxa/f/8HuYP/Dev99b6D/4CNX9kxPAAB0KAbkeLv9n/3PbMhTf9g4nyoAQDoCAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAY6+MfFRp88FHZSB/fLUACAoCx3v9+ocH7GxoAN94rHGN7py6wCQQAYxkQjrp+u2ysO3c3+/+/WV2+VWAjCADGMiAcdfF7m30VeOM9V7lNYtbnxu0CG0EAMJHzVwwIfTEIXLxZNtqFq73w4zD/DtgkAoCJxFWPqc+eDINADP7fuGSwGxSzYJsefuQiAJjYKxfrjV34NqkLV+s0g8B3t13x9sX3/auCiA0jAJhYXBW+9EbeCLh4sy6vv11SOf+OCNjeyf19z+aqnvzmj2UtrTz2SCkvP1/K2dNVySDCJwbBuC+e1dNPlPLaC9Xe330W8fd+4Vpd3rzqbAQ2kwBgajEonHuuKmdOlY0UA8Bbu1f9b17b3D3/bZ09XcqZrao883gpDz1QNlLc649dEAZ+Np0AYGYndgeCUydL2dp9O3F/WXsx2L//A9u9xom/9wc3LAI+uWvQJw8BAAAJWQQIAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJ/S/MYXeG0cb1RQAAAABJRU5ErkJggg==",light:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAZlBMVEX///8pgP7Z6f9Xm/7C2/9tqP5Ikv7R5P+lyv9xq/40h/9hof8xhP43iP5lpP4nf/71+f9Olv7u9f+y0v8/jf6cxf/j7/9LlP58sv/q8//J3//c6/+Dtv47i/6UwP+81/+jyP+Juf6QLkp1AAAFJklEQVR4nO2c6baqIBSAb5IDSh4RBzLFfP+XvHaaB0GFws7a37/WSuNThr232L9/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgFVSZz2fapeO/Z0kSdLCqU4H+kX/OTHq4bfBfNjaKUY1p5fYOf66ZZcD/V0x7tBxGinD1JtPiVzRqtuTFH4reIwQLU/HlTTCtWgdUypVhcOVFsRzRSVtTlJUrLegm8cjGxrXgvlbEzJClHoehwZlXGaSVsKlG0JeHkoI5YE/epwNg3GjLbJaNW47ZFK0XVzKbjrJ+t5ZaavE8csrNRXirl+apFUej7hSHmaOpkoUGRFZbbD/4uwFc71RQ5BQHBRaIobuSH9R86eG9INj/GVqIsWU8SkRErOHdhQMZ1POkNU6JsZEVpm47+WOiCbOI40b7BYgsuK3rUj8bvq8TlA+28SgSHw7cfm1N+MUhArHvggKtlePbtLwMGBiUIRe5y2nnudxOIuY17sMipSXJjjdnH51Nrm5sZZFkoBqnKafx+cs8m/oWskaa50zxJVdkfNg1xggR7I5A9789FvsdRMDQvfTl3iTC+Jvz0qYfhhK3OnBijkRL//98W1t4IReN7lzGRNp+O8QTdrIxNkosyZCj8GvrzvSj5BuanZiSqQ5hYxMZwm5QqKpi4mpVBefpqxOsyZzZsMnRiqcGyg+kOxUfEiZsbkDTVwV81y/L5BLllroBFn3lI8JpwJfd3SSDOFLYue7xlalqct7kqxrlG3CzT2htEHk/PWw8aLupr7WmhnqB8K+t067J6l/KSxfKtNM3kWoYNdatHOteG73xnpW37dyE8V6H0l+grgDd31MXkgaryy9Rt0FSZcaqKTOEklaVzn5NlGdB0HOkXqyxIVeyU4tshoSCZDiQoeoZn6xTYsqqFXf7aPptS0RoehZJArOj1ISJ1dFyYhNDrhMiXTyph08rt8u9tLf6EX2e0siKZe3zBN3nX6nWD2pEJZEtnKRPl26+7oqt8/q2pJIgaUi3mNonuTSqavh3JKIIxV5EZkz6eSQLVUEPz3UYtIyxTeJSEOzxYo8PzBl0mlroSI/d9X6I4F0sC9V5CfLH0QUefFiRUJ+/+C3jzGl64jXdQsVidldQUGVm9I8X6gI5eymczmqzSP2gkalSMT7IP536kq2604Vx9sL49UiUdz1Kmmfj4zY2eH6rzZTLEQEIRfzmuOYqgt53FqGOEaEepm8QnMh7N5efPiMCN3/DZHpda2Fisx6kLhEEWRg7l2CCMFGboh9kae8+EtFXiQv3ymyEbM2pCxOhMRmhrp1kedk8jtFSG1mpNsWCZ82rH6pCA0MPOFZgEhWz980uySRhr/eZv9tIs1zQfIrRfro3dwAsShicsKyKdLg1tRKaFUkw2b7lS0RT+u9i8WIEKT3JsxSRJqYGR4eVkR0X0xahgjJEGfG4l17IgR17fhXl5cggp5FNmXkdoH/ll71NpEGxXHUizTkRNhQV7S6b1J+XISgOmB5h7Eb9cS4FnnAJrwOvxSRw3P27XbnswMBu9tC+G0ihwk2SU98wuJdIkYTjZGACIi8CRABkTcBIiDyJkAERN7E3xGRvag69DBfIVIb2H41GUe2/z4beJhfcGmdXbw5GXzdppwONmrwvwzkb/Sg9sMOxzY5YqhRYTz4d0VOPvjnNJtI80+O5pKsa5ptngmzaHj/UVKJiJb0Ff1RFoY6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPwh/gOl/IhHuogvmQAAAABJRU5ErkJggg=="},homepage:"https://www.tokenpocket.pro/",download:"https://www.tokenpocket.pro/en/download/app"})}async loadScatterProtocol(){let t;if(typeof window<"u"&&(t=await Km(()=>import("./protocol-scatter.m-BTLqd9VM.js"),[])),!t)throw new Error("Scatter protocol is not available in this environment");return t}async login(t){return(await this.loadScatterProtocol()).handleLogin(t)}async logout(t){return(await this.loadScatterProtocol()).handleLogout(t)}async sign(t,i){return(await this.loadScatterProtocol()).handleSignatureRequest(t,i)}}class E9 extends cu{constructor(){super(),this.id="wombat",this.translations={},this.config={requiresChainSelect:!0,requiresPermissionSelect:!1},this.metadata=ss.from({name:"Wombat",description:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH5goFCggZ0IIdsgAACdVJREFUaN69mmuMXVUVgL+19zn33pnO2Gln2ukLmj5AoCIUNCiRh1Agom0FKSAKyqNRHoIhBJSoqGiMpJGHIAkqSSUkSjXQRmTEQGgREmxaaGMboNJCX9NOO++Z+zrn7OWPc+e2c+fO3HunU1Yyc5Nz9t5nfXuttfda+xxhgsUtW4ACIgKAFK7r0D8BRbFrP5jQ58qxDhAtnY+IQYZGEnBOrYjUA5OAROE5AUoaGBSRoICGFn7NMYKNGyS3bCG+xAOoqiciJwCLgTOBU4A5wBQgVegSAL1AO7ADeAfYrOhOQTIKOFW8deMDqhnELV+AFLopNANfFLgC+HxBeb/aoYAOYDOwVqFNjOzGKaqKqRGoJhBdvmCoSxNwJXAzcDaQHNc0Dod6F3hW4RmBPQqYtf+beBC3fCGoExFzAfAD4CKqn/1a5G1glYO/CeSoEshUBFAlvGspqDaKmHuBvwCXxRB6HDhYDPzewMPAbAGiZQuOHUQABvumizGPAA8C01EHngepetBqYBTU1QJTD9wq8CeFTxkRwgowY4JorORM8+nPPYHqjYCPczBnIdz5EPz4D3D+0goMDhJ1MHMueH6V4EW5SGA1cLYVIbd0/qgNvdFuOOcgXpUeltnzriIKQQRaZsKtPydadA4KeCcshN5O2LwBjC3MPkd+Z82Fb9wNp30G1q+DPz8GYVALzFnAUwo3JIzZNlqjssFegEiJyK+BO9j/oeGpn8HObXDld4iW3cThrk6iyNHSPJXEzm2w8VWomxTPeGYA+rqhtwsu/yaccW48cDYNq+6C/7xSgK5JXlHleoT2csFfFiQMQ6y1K4FHgToA0v3Q1QEtMxlw0NPXj2ctjQ2TmFRXV/7RUQi2xOhvvAS/uTu+V5so8ISi96DkSveZEa5VsMbpwA+LEAD1jfEfkIoiZkxLYo0p5lRlxZbx3FMWw/TZsG9nrVYR4EZBNiCypvRmuWBPisjdwLzRRvSsxbN2bIjRZMp0uGIlNE6pdSWDOHe7F3RW6ZI8DERVQeQLxCnH8RFj4JIVcMuPxgtzFnCdK+lXAkJC4CZg8nEDARADF34VvnVv7K61LckGuMEaMytcNm/YRQBy2Sygi4AlxxWiCCNw8dfg6tvBT9QKc6ogl1o5EoNFkI72/YjIZcC0jwUE4mD/8vVw6TW15uEesFxxxWS1CDLrxLn1wMVMQLFVkyRScM0dcOZ54KJaen4WZO4IkEJhdNrHCjEkk5vhhntgxlxwVQd/q8CZwdIFw0GAT/JxulWpzF8EV30XElWXNh5wRi7SIyBRGCAiCxilvnDOkclmiaKaTH9Eejvh4J7Ku/n5S2FxTS52cp0ntghSCIo55Vrmg4DOnh5UFWtrzo/gzTZ44Ntw/9dhzZMQ5Edvm6qH874SZ8nVySwpZB8GwIkRoLW0VS6f51BXN9ZY6kbLpyrJYB/sfh8O7oXnn4JtG8duf8pimHFitbHSgEjyCIhzhpK6OwxDOnt6cC6icVL9+JeyC5bBtXfCiSdB80zo7hi7/bTZcPFVcQZQWTwBC4WksZAzFXckVaWnf4BcLk9DfT2efwyleSIFK26N0xIx0Ng0dnsRuOjK2CV3bKmUWBZ1NgBWxAGZoYu5fJ50Jg0i+L5/7BuLmDhZbGopnxGXypRp8KXrwEtUahkqREUQMUaB/UN3B9MZIqcIYKsz8cTLOZfA/FMrxUoPqhkouFYUBljP3wsQOUcunz9yZltbDnTsEuQhPQB9XdDQRIWTmn0K2SKI5ydQ1R1ANoqiVFjYLxQIwporufFJFMJrL8Drf48r0b7u+G/sGHnX+MYVQQryPtDunJs3ZAUhjpfIuePvYgf2wLMPQ8e+WHkRGLtwywPvROl4oovaqep+YEupJwVhQCabPb4QEC+3YmIIYypBAOxV2Oq9tGs4SIHwZWPEHV3CqkJf/wBhOM70pFqZPjtOUaxX7Wb4hlP2Feeh5Oa/rDG7S90oHwR09fbWlGs554YOMqoT68HVt+Fu/wXBvNMqFVo54AURigFc1NgYg6rustau831/xFqRzmQ43N1NLp8f6wE450hnMnR0dXOws4uu3j4GM1mCMKy8AtY1EC1ZQfrCKyq51iZFX7NHnW+V7k6RiKxOJhIr0pnMzNLemWyOfL6TulSKVCqJ73kYEZwqURSRC0Ky+YB8Jo1mByGfJ4cino9J1ePX1eEnUyQSSTzP4lmDKQS1KuRzOXLbN1G/YV1skfIwAfBHMbbr6IvDQApW2ZJM+Kt9z7svCMMRI0XOMZBOM5BOY0QQEZT4BQeH2zGbN2B3bEU6D0B2EAP4iQS2cTIyeSquZRa5lllkpraijU1Iqh7jIkzXQbztG2nc9Cpe98E48MvLeuD50pgdoaiq4pw7oau39/mBwfTZVCMimO0bsc89juzeEQerQMoaGj2DJ4IMnQULYCzq+aifRL0EuBCTTSNBvtKy2wlcA7wiJcem3kidhGw2tyeVSD6QzeVXh2HYPCaEMcjuHdhnViEHPoqXT2vxRJicMNhRlJIwiBU/ajIqZLwh8IiqvlZuyLI9k8kEDZPq2xK+/ysRyY0JEkXY9WuR9o+G7cKeMCrEMOUrb3wAKDznlN8iEkmZN8Cm/PhCFEXRpLrU7zzPPkocYGUVkYEe5L23RyjjADcBaZoCgdO2UPU+gd7RXsONakvP8wjDKJNKJB80Rh4j3jBHzuhAHzLQMwIkcEquln2kjEQKmcj9oy90t/lG9pp1o79LHNMpmyZ/gsi5ASPmJ0bkp0DPiOmyFszIGkOB/lDJj8MsCmSdBv2hW90bupW+YdcH6bE344qZYGtLM6qaTvr+Q0bkFoH/Hv1I/cRUtGVG2cPoUJXuIGIwclW5mQI5p/QGUXtvEN0/ELrvWWT/oQAWvrxrzL5VF39797eTyeVIJhMLndPvq+q1QDNisG3PYtc8PuZwCSOkjJAwghWKHx04lEiHXFEzoeo/I2XVobx7szVpdGbbh1XpV1MVe+DQIfL5gIRnvVwYnauqNytcJn3drfbpX2K2vAFGxhxWiJsc+XpCcUq/wr+Bp61IW6Q6YEWY0barKr1qBilap72dMIxIJpN+EASnO2Mvl93vL7F/ffJUeXdTM/lcpQMwJf4u5QNgvcCLRuStSHXQEwGU1iotcUwgEGcA+w50EEUhmcjRcOKcBn3r9fl2zROLeO/tkzXIzxVo0viduUhckvYDu4k/qtkuIjs682HXFN9iBRIiTH2peiscLVUcaYwyA0ctt13dPaQPdw2Qy2x1PYe3avch5iw4id7Ow14ucjZyKglronrPRB3Z0PlGijM4LeHRWoMLTbhFxpKOlUuQ/bvwVMk7R+SUhDUYASNC04s7J/yZ/wfCGAz5/r8LngAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0xMC0wNVQxMDowODoyNSswMDowMKM3wHoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMTAtMDVUMTA6MDg6MjUrMDA6MDDSanjGAAAAAElFTkSuQmCC",homepage:"https://www.wombat.app/",download:"https://www.wombat.app/the-app"})}async loadScatterProtocol(){let t;if(typeof window<"u"&&(t=await Km(()=>import("./protocol-scatter.m-BTLqd9VM.js"),[])),!t)throw new Error("Scatter protocol is not available in this environment");return t}async login(t){return(await this.loadScatterProtocol()).handleLogin(t)}async logout(t){return(await this.loadScatterProtocol()).handleLogout(t)}async sign(t,i){return(await this.loadScatterProtocol()).handleSignatureRequest(t,i)}}function be(){}const pf=e=>e;function gh(e,t){for(const i in t)e[i]=t[i];return e}function o2(e){return e()}function zb(){return Object.create(null)}function Tn(e){e.forEach(o2)}function Nn(e){return typeof e=="function"}function Ne(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ku;function Vd(e,t){return e===t?!0:(ku||(ku=document.createElement("a")),ku.href=t,e===ku.href)}function M9(e){return Object.keys(e).length===0}function $m(e,...t){if(e==null){for(const s of t)s(void 0);return be}const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function Ot(e){let t;return $m(e,i=>t=i)(),t}function Fe(e,t,i){e.$$.on_destroy.push($m(t,i))}function Vs(e,t,i,s){if(e){const r=a2(e,t,i,s);return e[0](r)}}function a2(e,t,i,s){return e[1]&&s?gh(i.ctx.slice(),e[1](s(t))):i.ctx}function Os(e,t,i,s){if(e[2]&&s){const r=e[2](s(i));if(t.dirty===void 0)return r;if(typeof r=="object"){const n=[],o=Math.max(t.dirty.length,r.length);for(let a=0;a<o;a+=1)n[a]=t.dirty[a]|r[a];return n}return t.dirty|r}return t.dirty}function Ps(e,t,i,s,r,n){if(r){const o=a2(t,i,s,n);e.p(o,r)}}function Ls(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let s=0;s<i;s++)t[s]=-1;return t}return-1}function x9(e){return e??""}function Ce(e,t,i){return e.set(i),t}function jb(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const l2=typeof window<"u";let ev=l2?()=>window.performance.now():()=>Date.now(),tv=l2?e=>requestAnimationFrame(e):be;const dl=new Set;function c2(e){dl.forEach(t=>{t.c(e)||(dl.delete(t),t.f())}),dl.size!==0&&tv(c2)}function iv(e){let t;return dl.size===0&&tv(c2),{promise:new Promise(i=>{dl.add(t={c:e,f:i})}),abort(){dl.delete(t)}}}function z(e,t){e.appendChild(t)}function Wt(e,t,i){const s=sv(e);if(!s.getElementById(t)){const r=oe("style");r.id=t,r.textContent=i,d2(s,r)}}function sv(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function k9(e){const t=oe("style");return t.textContent="/* empty */",d2(sv(e),t),t.sheet}function d2(e,t){return z(e.head||e,t),t.sheet}function K(e,t,i){e.insertBefore(t,i||null)}function q(e){e.parentNode&&e.parentNode.removeChild(e)}function uc(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function oe(e){return document.createElement(e)}function Te(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function at(e){return document.createTextNode(e)}function ye(){return at(" ")}function ii(){return at("")}function ps(e,t,i,s){return e.addEventListener(t,i,s),()=>e.removeEventListener(t,i,s)}function rv(e){return function(t){return t.preventDefault(),e.call(this,t)}}function _9(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function u2(e){return function(t){t.target===this&&e.call(this,t)}}function W(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function G9(e){return Array.from(e.childNodes)}function pt(e,t){t=""+t,e.data!==t&&(e.data=t)}function Ub(e,t){e.value=t??""}function Ut(e,t,i,s){i==null?e.style.removeProperty(t):e.style.setProperty(t,i,"")}function ro(e,t,i){e.classList.toggle(t,!!i)}function h2(e,t,{bubbles:i=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:i,cancelable:s})}function Xb(e,t){return new e(t)}const mh=new Map;let vh=0;function D9(e){let t=5381,i=e.length;for(;i--;)t=(t<<5)-t^e.charCodeAt(i);return t>>>0}function W9(e,t){const i={stylesheet:k9(t),rules:{}};return mh.set(e,i),i}function xg(e,t,i,s,r,n,o,a=0){const l=16.666/s;let c=`{
`;for(let b=0;b<=1;b+=l){const S=t+(i-t)*n(b);c+=b*100+`%{${o(S,1-S)}}
`}const d=c+`100% {${o(i,1-i)}}
}`,u=`__svelte_${D9(d)}_${a}`,f=sv(e),{stylesheet:g,rules:m}=mh.get(f)||W9(f,e);m[u]||(m[u]=!0,g.insertRule(`@keyframes ${u} ${d}`,g.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${u} ${s}ms linear ${r}ms 1 both`,vh+=1,u}function kg(e,t){const i=(e.style.animation||"").split(", "),s=i.filter(t?n=>n.indexOf(t)<0:n=>n.indexOf("__svelte")===-1),r=i.length-s.length;r&&(e.style.animation=s.join(", "),vh-=r,vh||T9())}function T9(){tv(()=>{vh||(mh.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&q(t)}),mh.clear())})}let Od;function jc(e){Od=e}function du(){if(!Od)throw new Error("Function called outside component initialization");return Od}function hc(e){du().$$.on_mount.push(e)}function uu(e){du().$$.on_destroy.push(e)}function br(){const e=du();return(t,i,{cancelable:s=!1}={})=>{const r=e.$$.callbacks[t];if(r){const n=h2(t,i,{cancelable:s});return r.slice().forEach(o=>{o.call(e,n)}),!n.defaultPrevented}return!0}}function N9(e,t){return du().$$.context.set(e,t),t}function Bn(e){return du().$$.context.get(e)}const Ka=[],xo=[];let ul=[];const _g=[],B9=Promise.resolve();let Gg=!1;function V9(){Gg||(Gg=!0,B9.then(p2))}function xa(e){ul.push(e)}function f2(e){_g.push(e)}const fp=new Set;let ja=0;function p2(){if(ja!==0)return;const e=Od;do{try{for(;ja<Ka.length;){const t=Ka[ja];ja++,jc(t),O9(t.$$)}}catch(t){throw Ka.length=0,ja=0,t}for(jc(null),Ka.length=0,ja=0;xo.length;)xo.pop()();for(let t=0;t<ul.length;t+=1){const i=ul[t];fp.has(i)||(fp.add(i),i())}ul.length=0}while(Ka.length);for(;_g.length;)_g.pop()();Gg=!1,fp.clear(),jc(e)}function O9(e){if(e.fragment!==null){e.update(),Tn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(xa)}}function P9(e){const t=[],i=[];ul.forEach(s=>e.indexOf(s)===-1?t.push(s):i.push(s)),i.forEach(s=>s()),ul=t}let Fc;function g2(){return Fc||(Fc=Promise.resolve(),Fc.then(()=>{Fc=null})),Fc}function Uc(e,t,i){e.dispatchEvent(h2(`${t?"intro":"outro"}${i}`))}const zu=new Set;let vn;function tt(){vn={r:0,c:[],p:vn}}function it(){vn.r||Tn(vn.c),vn=vn.p}function B(e,t){e&&e.i&&(zu.delete(e),e.i(t))}function P(e,t,i,s){if(e&&e.o){if(zu.has(e))return;zu.add(e),vn.c.push(()=>{zu.delete(e),s&&(i&&e.d(1),s())}),e.o(t)}else s&&s()}const m2={duration:0};function L9(e,t,i){const s={direction:"in"};let r=t(e,i,s),n=!1,o,a,l=0;function c(){o&&kg(e,o)}function d(){const{delay:f=0,duration:g=300,easing:m=pf,tick:y=be,css:b}=r||m2;b&&(o=xg(e,0,1,g,f,m,b,l++)),y(0,1);const S=ev()+f,I=S+g;a&&a.abort(),n=!0,xa(()=>Uc(e,!0,"start")),a=iv(F=>{if(n){if(F>=I)return y(1,0),Uc(e,!0,"end"),c(),n=!1;if(F>=S){const G=m((F-S)/g);y(G,1-G)}}return n})}let u=!1;return{start(){u||(u=!0,kg(e),Nn(r)?(r=r(s),g2().then(d)):d())},invalidate(){u=!1},end(){n&&(c(),n=!1)}}}function Jb(e,t,i,s){let n=t(e,i,{direction:"both"}),o=s?0:1,a=null,l=null,c=null,d;function u(){c&&kg(e,c)}function f(m,y){const b=m.b-o;return y*=Math.abs(b),{a:o,b:m.b,d:b,duration:y,start:m.start,end:m.start+y,group:m.group}}function g(m){const{delay:y=0,duration:b=300,easing:S=pf,tick:I=be,css:F}=n||m2,G={start:ev()+y,b:m};m||(G.group=vn,vn.r+=1),"inert"in e&&(m?d!==void 0&&(e.inert=d):(d=e.inert,e.inert=!0)),a||l?l=G:(F&&(u(),c=xg(e,o,m,b,y,S,F)),m&&I(0,1),a=f(G,b),xa(()=>Uc(e,m,"start")),iv(L=>{if(l&&L>l.start&&(a=f(l,b),l=null,Uc(e,a.b,"start"),F&&(u(),c=xg(e,o,a.b,a.duration,0,S,n.css))),a){if(L>=a.end)I(o=a.b,1-o),Uc(e,a.b,"end"),l||(a.b?u():--a.group.r||Tn(a.group.c)),a=null;else if(L>=a.start){const T=L-a.start;o=a.a+a.d*S(T/a.duration),I(o,1-o)}}return!!(a||l)}))}return{run(m){Nn(n)?g2().then(()=>{n=n({direction:m?"in":"out"}),g(m)}):g(m)},end(){u(),a=l=null}}}function Qs(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Qb(e,t){const i={},s={},r={$$scope:1};let n=e.length;for(;n--;){const o=e[n],a=t[n];if(a){for(const l in o)l in a||(s[l]=1);for(const l in a)r[l]||(i[l]=a[l],r[l]=1);e[n]=a}else for(const l in o)r[l]=1}for(const o in s)o in i||(i[o]=void 0);return i}function qb(e){return typeof e=="object"&&e!==null?e:{}}function v2(e,t,i){const s=e.$$.props[t];s!==void 0&&(e.$$.bound[s]=i,i(e.$$.ctx[s]))}function ne(e){e&&e.c()}function se(e,t,i){const{fragment:s,after_update:r}=e.$$;s&&s.m(t,i),xa(()=>{const n=e.$$.on_mount.map(o2).filter(Nn);e.$$.on_destroy?e.$$.on_destroy.push(...n):Tn(n),e.$$.on_mount=[]}),r.forEach(xa)}function re(e,t){const i=e.$$;i.fragment!==null&&(P9(i.after_update),Tn(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function Z9(e,t){e.$$.dirty[0]===-1&&(Ka.push(e),V9(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Le(e,t,i,s,r,n,o,a=[-1]){const l=Od;jc(e);const c=e.$$={fragment:null,ctx:[],props:n,update:be,not_equal:r,bound:zb(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:zb(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let d=!1;if(c.ctx=i?i(e,t.props||{},(u,f,...g)=>{const m=g.length?g[0]:f;return c.ctx&&r(c.ctx[u],c.ctx[u]=m)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](m),d&&Z9(e,u)),f}):[],c.update(),d=!0,Tn(c.before_update),c.fragment=s?s(c.ctx):!1,t.target){if(t.hydrate){const u=G9(t.target);c.fragment&&c.fragment.l(u),u.forEach(q)}else c.fragment&&c.fragment.c();t.intro&&B(e.$$.fragment),se(e,t.target,t.anchor),p2()}jc(l)}class Ze{constructor(){Ji(this,"$$");Ji(this,"$$set")}$destroy(){re(this,1),this.$destroy=be}$on(t,i){if(!Nn(i))return be;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(i),()=>{const r=s.indexOf(i);r!==-1&&s.splice(r,1)}}$set(t){this.$$set&&!M9(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const H9="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(H9);function Y9(e){Wt(e,"svelte-efme7g","h2.svelte-efme7g{color:var(--body-text-color);font-size:var(--fs-2);font-weight:600;text-align:center;margin:0;margin-block-start:var(--space-xs)}")}function z9(e){let t,i;const s=e[1].default,r=Vs(s,e,e[0],null);return{c(){t=oe("h2"),r&&r.c(),W(t,"class","svelte-efme7g")},m(n,o){K(n,t,o),r&&r.m(t,null),i=!0},p(n,[o]){r&&r.p&&(!i||o&1)&&Ps(r,s,n,n[0],i?Os(s,n[0],o,null):Ls(n[0]),null)},i(n){i||(B(r,n),i=!0)},o(n){P(r,n),i=!1},d(n){n&&q(t),r&&r.d(n)}}}function j9(e,t,i){let{$$slots:s={},$$scope:r}=t;return e.$$set=n=>{"$$scope"in n&&i(0,r=n.$$scope)},[r,s]}class Vn extends Ze{constructor(t){super(),Le(this,t,j9,z9,Ne,{},Y9)}}function U9(e){Wt(e,"svelte-fszb3i","p.svelte-fszb3i{color:var(--body-text-color-variant);font-size:var(--fs-1);font-weight:400;text-align:center;margin:0;overflow-wrap:anywhere}")}function X9(e){let t,i;const s=e[1].default,r=Vs(s,e,e[0],null);return{c(){t=oe("p"),r&&r.c(),W(t,"class","svelte-fszb3i")},m(n,o){K(n,t,o),r&&r.m(t,null),i=!0},p(n,[o]){r&&r.p&&(!i||o&1)&&Ps(r,s,n,n[0],i?Os(s,n[0],o,null):Ls(n[0]),null)},i(n){i||(B(r,n),i=!0)},o(n){P(r,n),i=!1},d(n){n&&q(t),r&&r.d(n)}}}function J9(e,t,i){let{$$slots:s={},$$scope:r}=t;return e.$$set=n=>{"$$scope"in n&&i(0,r=n.$$scope)},[r,s]}class nv extends Ze{constructor(t){super(),Le(this,t,J9,X9,Ne,{},U9)}}const Q9=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-alert-circle"
><circle cx="12" cy="12" r="10" /><line x1="12" x2="12" y1="8" y2="12" /><line
    x1="12"
    x2="12.01"
    y1="16"
    y2="16"
/></svg
>
`,q9=`<svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"><polyline points="20 6 9 17 4 12" /></svg
>
`,K9=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"><polyline points="15 18 9 12 15 6" /></svg
>
`,$9=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"><polyline points="9 18 15 12 9 6" /></svg
>
`,ex=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" /></svg
>
`,tx=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><rect x="9" y="9" width="13" height="13" rx="2" ry="2" /><path
    d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
/></svg
>
`,ix=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-x-octagon"
><polygon
    points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"
/><line x1="15" x2="9" y1="9" y2="15" /><line x1="9" x2="15" y1="9" y2="15" /></svg
>
`,sx=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-external-link"
><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" /><polyline
    points="15 3 21 3 21 9"
/><line x1="10" x2="21" y1="14" y2="3" /></svg
>
`,rx=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><polyline points="15 3 21 3 21 9" /><polyline points="9 21 3 21 3 15" /><line
    x1="21"
    y1="3"
    x2="14"
    y2="10"
/><line x1="3" y1="21" x2="10" y2="14" /></svg
>
`,nx=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><path d="M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4" /><polyline
    points="14 2 14 8 20 8"
/><path d="m9 18 3-3-3-3" /><path d="m5 12-3 3 3 3" /></svg
>
`,ox=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-github"
><path
    d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
/><path d="M9 18c-4.51 2-5-2-7-2" /></svg
>
`,ax=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-globe"
><circle cx="12" cy="12" r="10" /><line x1="2" x2="22" y1="12" y2="12" /><path
    d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
/></svg
>
`,lx=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-info"
><circle cx="12" cy="12" r="10" /><line x1="12" x2="12" y1="16" y2="12" /><line
    x1="12"
    x2="12.01"
    y1="8"
    y2="8"
/></svg
>
`,cx=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" /><polyline
    points="10 17 15 12 10 7"
/><line x1="15" y1="12" x2="3" y2="12" /></svg
>
`,dx=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-settings-2"
><path d="M20 7h-9" /><path d="M14 17H5" /><circle cx="17" cy="17" r="3" /><circle
    cx="7"
    cy="7"
    r="3"
/></svg
>
`,ux=`<svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="lucide lucide-radio"
    ><path d="M4.9 19.1C1 15.2 1 8.8 4.9 4.9" /><path d="M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5" /><circle
        cx="12"
        cy="12"
        r="2"
    /><path d="M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5" /><path d="M19.1 4.9C23 8.8 23 15.1 19.1 19" /></svg
>
`,hx=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-sun-moon"
><path d="M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" /><path d="M12 8a2.828 2.828 0 1 0 4 4" /><path
    d="M12 2v2"
/><path d="M12 20v2" /><path d="m4.93 4.93 1.41 1.41" /><path d="m17.66 17.66 1.41 1.41" /><path
    d="M2 12h2"
/><path d="M20 12h2" /><path d="m6.34 17.66-1.41 1.41" /><path d="m19.07 4.93-1.41 1.41" /></svg
>
`,fx=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><path d="M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4" /><path
    d="M4 6v12c0 1.1.9 2 2 2h14v-4"
/><path d="M18 12a2 2 0 0 0-2 2c0 1.1.9 2 2 2h4v-4h-4z" /></svg
>
`,px=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-waves"
><path
    d="M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"
/><path
    d="M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"
/><path
    d="M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"
/></svg
>
`,gx=`<svg width="36" height="31" fill="none" xmlns="http://www.w3.org/2000/svg"
><path
    d="M35.54 18.77c-.019.989-.673 1.676-1.319 2.048l-1.388.802c-.663.383-1.438.531-2.132.531-.695 0-1.47-.148-2.132-.531l-1.362-.802v2.722c0 1.008-.664 1.711-1.318 2.089l-1.389.801c-.663.383-1.437.531-2.132.531-.694 0-1.469-.148-2.131-.53l-2.035-1.175-2.034 1.174c-.663.383-1.438.531-2.132.531-.694 0-1.469-.148-2.131-.53l-9.722-5.613c-.645-.372-1.3-1.06-1.317-2.049v-.061 3.626c.018.989.672 1.676 1.317 2.049l9.722 5.612c.662.382 1.437.53 2.131.53.694 0 1.47-.148 2.132-.53l2.034-1.175 2.035 1.175c.662.382 1.437.53 2.131.53.695 0 1.47-.148 2.132-.53l1.389-.802c.654-.378 1.318-1.08 1.318-2.088v-2.722l1.362.801c.663.383 1.437.531 2.132.531.694 0 1.469-.148 2.132-.53l1.388-.802c.646-.373 1.3-1.06 1.318-2.05V18.77Z"
    fill="#7BE7CE"
/><path
    d="M.874 15.362a1.5 1.5 0 0 0-.009.161v3.246c.019.99.673 1.677 1.318 2.05l9.722 5.612c.662.382 1.437.53 2.131.53.694 0 1.47-.148 2.132-.53l2.034-1.175 2.035 1.175c.662.382 1.437.53 2.131.53.695 0 1.47-.148 2.132-.53l1.389-.802c.654-.378 1.318-1.08 1.318-2.089V20.82l1.362.801c.663.383 1.437.531 2.132.531.694 0 1.469-.148 2.132-.53l1.388-.802c.646-.373 1.3-1.06 1.318-2.05v-3.564c-.018.99-.672 1.677-1.318 2.049l-1.388.802c-.663.382-1.438.53-2.132.53-.695 0-1.47-.148-2.132-.53l-1.388-.802a2.943 2.943 0 0 1-.067-.04 2.168 2.168 0 0 1 .085.834c.005.05.008.101.008.152v1.776c0 1.008-.664 1.71-1.318 2.088l-1.389.802c-.663.383-1.437.531-2.132.531-.694 0-1.469-.148-2.131-.53l-2.035-1.175-2.034 1.174c-.663.383-1.438.531-2.132.531-.694 0-1.469-.148-2.131-.53l-9.722-5.613c-.61-.352-1.229-.987-1.31-1.892ZM17.54 5.749l.004.043c.07.6.368 1.074.74 1.424a4.94 4.94 0 0 0-.75.045V5.875c0-.043.002-.085.006-.126Z"
    fill="#B2F2E1"
/><path
    d="m3.573 10.152-1.389.801c-.618.358-1.246 1.006-1.312 1.928a1.364 1.364 0 0 0-.007.136V15.204c.019.99.673 1.677 1.318 2.05l9.722 5.611c.662.383 1.437.532 2.131.532.694 0 1.47-.149 2.132-.532l2.034-1.174 2.035 1.174c.662.383 1.437.532 2.131.532.695 0 1.47-.149 2.132-.532l1.389-.801c.654-.378 1.318-1.08 1.318-2.089v-1.775c0-.052-.003-.102-.008-.153a2.25 2.25 0 0 0-.085-.833l.067.04 1.388.801c.663.383 1.437.531 2.132.531.694 0 1.469-.148 2.132-.53l1.388-.802c.646-.373 1.3-1.06 1.318-2.05v-2.092a2.359 2.359 0 0 0 0-.142V8.29l.001-.058c0-1.009-.664-1.711-1.318-2.089L24.501.531C23.838.15 23.064 0 22.369 0c-.694 0-1.469.149-2.131.531l-1.389.802c-.654.377-1.318 1.08-1.318 2.088 0 .048.001.095.004.14v1.847a2.069 2.069 0 0 0 .01.385c.069.6.367 1.073.739 1.423h-.08c-.695 0-1.47.148-2.133.53l-1.388.802c-.654.378-1.318 1.08-1.318 2.089 0 .065.002.13.008.193a1.485 1.485 0 0 0-.002.073v1.682l-.003.041-.002.045a2.298 2.298 0 0 0 .021.405c.017.112.041.22.072.322l-5.623-3.246C7.174 9.769 6.4 9.62 5.705 9.62c-.695 0-1.47.148-2.132.53Z"
    fill="#F4FAF4"
/><path
    d="M23.758 1.818c-.767-.442-2.01-.442-2.778 0l-1.389.802c-.766.443-.766 1.16 0 1.604l9.553 5.514c.369.213.575.501.575.802v.195c0 .3-.207.589-.575.801l-1.22.705c-.767.443-.767 1.16 0 1.603l1.389.802c.767.443 2.01.443 2.777 0l1.389-.802c.767-.443.767-1.16 0-1.603l-1.22-.705c-.369-.212-.576-.5-.576-.801v-.195c0-.3.207-.59.576-.802l1.22-.704c.767-.443.767-1.16 0-1.604l-9.721-5.612ZM7.093 11.439c-.767-.443-2.01-.443-2.777 0l-1.39.802c-.766.443-.766 1.16 0 1.603l9.722 5.612c.767.443 2.01.443 2.777 0l2.778-1.603-11.11-6.414Z"
    fill="#494E62"
/><path
    d="M23.351 15.545c0 .3.207.589.575.801l1.22.705c.767.443.767 1.16 0 1.603l-1.388.802c-.767.443-2.01.443-2.778 0l-2.777-1.603 2.609-1.507c.368-.212.575-.5.575-.801v-.195c0-.3-.207-.589-.575-.801l-5.387-3.11c-.767-.443-.767-1.16 0-1.603l1.39-.802c.766-.443 2.01-.443 2.776 0l5.555 3.207c.767.443.767 1.16 0 1.603l-1.22.705c-.368.212-.575.5-.575.801v.195Z"
    fill="#494E62"
/></svg
>
`,Dg={copy:tx,check:q9,close:ex,"file-code":nx,wharf:gx,login:cx,"chevron-right":$9,"chevron-left":K9,wallet:fx,expand:rx,signal:ux,settings:dx,globe:ax,github:ox,info:lx,theme:hx,waves:px,"external-link":sx,error:ix,alert:Q9};function mx(e){Wt(e,"svelte-19w48ux","div.svelte-19w48ux svg{width:100%;height:100%}")}function vx(e){let t,i=Dg[e[0]]+"";return{c(){t=oe("div"),Ut(t,"width",e[1]),Ut(t,"display","grid"),Ut(t,"place-content","center"),Ut(t,"color",e[2]),W(t,"class","svelte-19w48ux")},m(s,r){K(s,t,r),t.innerHTML=i},p(s,[r]){r&1&&i!==(i=Dg[s[0]]+"")&&(t.innerHTML=i),r&2&&Ut(t,"width",s[1]),r&4&&Ut(t,"color",s[2])},i:be,o:be,d(s){s&&q(t)}}}function bx(e,t,i){let{name:s}=t,{size:r="var(--space-l)"}=t,{color:n="currentColor"}=t;return e.$$set=o=>{"name"in o&&i(0,s=o.name),"size"in o&&i(1,r=o.size),"color"in o&&i(2,n=o.color)},[s,r,n]}class Ds extends Ze{constructor(t){super(),Le(this,t,bx,vx,Ne,{name:0,size:1,color:2},mx)}}function Cx(e){Wt(e,"svelte-1u0n4gl","div.svelte-1u0n4gl{display:grid;justify-items:center;gap:var(--space-s);text-align:center;color:var(--body-text-color);margin-block:var(--space-s)}")}function Kb(e){let t,i;return t=new Ds({props:{name:e[2],size:"var(--space-3xl)",color:e[3]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.name=s[2]),r&8&&(n.color=s[3]),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function $b(e){let t,i;return t=new Vn({props:{$$slots:{default:[yx]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&17&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function yx(e){let t;return{c(){t=at(e[0])},m(i,s){K(i,t,s)},p(i,s){s&1&&pt(t,i[0])},d(i){i&&q(t)}}}function eC(e){let t,i;return t=new nv({props:{$$slots:{default:[wx]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&18&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function wx(e){let t;return{c(){t=at(e[1])},m(i,s){K(i,t,s)},p(i,s){s&2&&pt(t,i[1])},d(i){i&&q(t)}}}function Sx(e){let t,i,s,r,n=e[2]&&Kb(e),o=e[0]&&$b(e),a=e[1]&&eC(e);return{c(){t=oe("div"),n&&n.c(),i=ye(),o&&o.c(),s=ye(),a&&a.c(),W(t,"class","svelte-1u0n4gl")},m(l,c){K(l,t,c),n&&n.m(t,null),z(t,i),o&&o.m(t,null),z(t,s),a&&a.m(t,null),r=!0},p(l,[c]){l[2]?n?(n.p(l,c),c&4&&B(n,1)):(n=Kb(l),n.c(),B(n,1),n.m(t,i)):n&&(tt(),P(n,1,1,()=>{n=null}),it()),l[0]?o?(o.p(l,c),c&1&&B(o,1)):(o=$b(l),o.c(),B(o,1),o.m(t,s)):o&&(tt(),P(o,1,1,()=>{o=null}),it()),l[1]?a?(a.p(l,c),c&2&&B(a,1)):(a=eC(l),a.c(),B(a,1),a.m(t,null)):a&&(tt(),P(a,1,1,()=>{a=null}),it())},i(l){r||(B(n),B(o),B(a),r=!0)},o(l){P(n),P(o),P(a),r=!1},d(l){l&&q(t),n&&n.d(),o&&o.d(),a&&a.d()}}}function Rx(e,t,i){let{title:s=void 0}=t,{details:r=void 0}=t,{icon:n=void 0}=t,{iconColor:o="currentColor"}=t;return e.$$set=a=>{"title"in a&&i(0,s=a.title),"details"in a&&i(1,r=a.details),"icon"in a&&i(2,n=a.icon),"iconColor"in a&&i(3,o=a.iconColor)},[s,r,n,o]}class b2 extends Ze{constructor(t){super(),Le(this,t,Rx,Sx,Ne,{title:0,details:1,icon:2,iconColor:3},Cx)}}function Ax(e){let t,i;return t=new b2({props:{title:e[0],details:e[1],icon:"error",iconColor:"var(--color-error-2)"}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,[r]){const n={};r&1&&(n.title=s[0]),r&2&&(n.details=s[1]),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function Ix(e,t,i){let{title:s}=t,{details:r}=t;return e.$$set=n=>{"title"in n&&i(0,s=n.title),"details"in n&&i(1,r=n.details)},[s,r]}class Fx extends Ze{constructor(t){super(),Le(this,t,Ix,Ax,Ne,{title:0,details:1})}}const Ua=[];function Ex(e,t){return{subscribe:At(e,t).subscribe}}function At(e,t=be){let i;const s=new Set;function r(a){if(Ne(e,a)&&(e=a,i)){const l=!Ua.length;for(const c of s)c[1](),Ua.push(c,e);if(l){for(let c=0;c<Ua.length;c+=2)Ua[c][0](Ua[c+1]);Ua.length=0}}}function n(a){r(a(e))}function o(a,l=be){const c=[a,l];return s.add(c),s.size===1&&(i=t(r,n)||be),a(e),()=>{s.delete(c),s.size===0&&i&&(i(),i=null)}}return{set:r,update:n,subscribe:o}}function $i(e,t,i){const s=!Array.isArray(e),r=s?[e]:e;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const n=t.length<2;return Ex(i,(o,a)=>{let l=!1;const c=[];let d=0,u=be;const f=()=>{if(d)return;u();const m=t(s?c[0]:c,o,a);n?o(m):u=Nn(m)?m:be},g=r.map((m,y)=>$m(m,b=>{c[y]=b,d&=~(1<<y),l&&f()},()=>{d|=1<<y}));return l=!0,f(),function(){Tn(g),u(),l=!1}})}function ju(){Ki.set(!1),As.set({...y2}),Ri.set({...C2}),ho.reset(),ov.set([]),kx.set(void 0),Qn.set(void 0),av.set(void 0),_i.set({...S2}),Jo.set(void 0),lv.set(void 0),sr.set({...R2}),hu.set(void 0),gi.set(void 0),mi.set(void 0)}const Ki=At(!1),bh=At(!1),Mx={language:"",theme:void 0,animations:!0};function xx(e=Mx){const t=At(e),{subscribe:i,set:s}=t;let r;return typeof localStorage<"u"&&(r=new Qw("web.renderer"),r.read("settings").then(n=>{n&&s(JSON.parse(n))})),{subscribe:i,set:n=>{r&&r.write("settings",JSON.stringify(n)),s(n)},update:n=>{const o=n(Ot(t));r&&r.write("settings",JSON.stringify(o)),s(o)}}}const Zs=xx(),C2={title:"Wharf",subtitle:"Status Message"},Ri=At(C2),y2={path:"",history:[]},w2=()=>{const{set:e,subscribe:t,update:i}=At(y2);return{back:()=>i(s=>({...s,path:s.history[s.history.length-1],history:s.history.slice(0,-1)})),push:s=>i(r=>({...r,path:s,history:[...r.history,r.path]})),set:e,subscribe:t,update:i}},As=w2(),ov=At([]),kx=At(void 0),_x=()=>{const{set:e,subscribe:t,update:i}=At(void 0);return{reset:()=>e(void 0),set:e,subscribe:t,update:i}},ho=_x(),S2={chainId:void 0,permissionLevel:void 0,walletPluginIndex:void 0},Qn=At(void 0),av=At(void 0),_i=At({...S2}),R2={chain:void 0,pluginId:void 0},Jo=At(void 0),sr=At({...R2}),lv=At(void 0),hu=At(void 0),gi=At(void 0),mi=At(void 0);function tC(e){let t,i;return t=new Fx({props:{title:e[1]("error.title",{default:"Error"}),details:e[0]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&2&&(n.title=s[1]("error.title",{default:"Error"})),r&1&&(n.details=s[0]),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function Gx(e){let t,i,s=e[0]&&tC(e);return{c(){t=oe("div"),s&&s.c(),W(t,"class","error")},m(r,n){K(r,t,n),s&&s.m(t,null),i=!0},p(r,[n]){r[0]?s?(s.p(r,n),n&1&&B(s,1)):(s=tC(r),s.c(),B(s,1),s.m(t,null)):s&&(tt(),P(s,1,1,()=>{s=null}),it())},i(r){i||(B(s),i=!0)},o(r){P(s),i=!1},d(r){r&&q(t),s&&s.d()}}}function Dx(e,t,i){let s,r;Fe(e,hu,o=>i(0,s=o));const{t:n}=Bn("i18n");return Fe(e,n,o=>i(1,r=o)),[s,r,n]}class Wx extends Ze{constructor(t){super(),Le(this,t,Dx,Gx,Ne,{})}}function Tx(e){Wt(e,"svelte-1q25md2","ul.svelte-1q25md2{list-style:none;padding:0;margin:0}")}function Nx(e){let t,i;const s=e[1].default,r=Vs(s,e,e[0],null);return{c(){t=oe("ul"),r&&r.c(),W(t,"class","svelte-1q25md2")},m(n,o){K(n,t,o),r&&r.m(t,null),i=!0},p(n,[o]){r&&r.p&&(!i||o&1)&&Ps(r,s,n,n[0],i?Os(s,n[0],o,null):Ls(n[0]),null)},i(n){i||(B(r,n),i=!0)},o(n){P(r,n),i=!1},d(n){n&&q(t),r&&r.d(n)}}}function Bx(e,t,i){let{$$slots:s={},$$scope:r}=t;return e.$$set=n=>{"$$scope"in n&&i(0,r=n.$$scope)},[r,s]}class fc extends Ze{constructor(t){super(),Le(this,t,Bx,Nx,Ne,{},Tx)}}function Vx(e){Wt(e,"svelte-1w5zc52","li.svelte-1w5zc52.svelte-1w5zc52{display:flex;height:calc(var(--space-l) * 2);align-items:center;color:var(--body-text-color);font-size:var(--fs-1);font-weight:500}li.svelte-1w5zc52.svelte-1w5zc52:not(:last-child){border-bottom:1px solid var(--list-divider-color)}button.svelte-1w5zc52.svelte-1w5zc52,a.svelte-1w5zc52.svelte-1w5zc52{flex:1;height:100%;display:flex;align-items:center;cursor:pointer;border:none;background:none;color:inherit;font-size:inherit;font-family:inherit;font-weight:inherit;margin:0;padding:0;padding-inline-start:var(--space-3xs);text-decoration:none}.leading.svelte-1w5zc52.svelte-1w5zc52{inline-size:var(--space-xl);block-size:var(--space-xl);display:grid;place-content:center}.leading.svelte-1w5zc52>.svelte-1w5zc52{max-inline-size:30px;max-block-size:30px}.leading.svelte-1w5zc52 img.svelte-1w5zc52{width:100%;height:100%;object-fit:contain}.trailing.svelte-1w5zc52.svelte-1w5zc52{opacity:0.2;padding-inline-end:var(--space-s)}li.svelte-1w5zc52.svelte-1w5zc52:hover{background:var(--list-item-background-color-hover)}li.svelte-1w5zc52:hover .trailing.svelte-1w5zc52{opacity:1}.label.svelte-1w5zc52.svelte-1w5zc52{flex:1;text-align:start;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-inline-start:var(--space-xs)}.value.svelte-1w5zc52.svelte-1w5zc52{font-weight:400;padding-inline-end:var(--space-xs)}")}function Ox(e){let t,i,s,r,n,o,a,l,c,d;const u=[Zx,Lx],f=[];function g(b,S){return b[4]?0:b[2]?1:-1}~(s=g(e))&&(r=f[s]=u[s](e));let m=e[5]&&iC(e),y=e[3]&&sC(e);return{c(){t=oe("a"),i=oe("div"),r&&r.c(),n=ye(),o=oe("span"),a=at(e[0]),l=ye(),m&&m.c(),c=ye(),y&&y.c(),W(i,"class","leading svelte-1w5zc52"),W(o,"class","label svelte-1w5zc52"),W(t,"href",e[6]),W(t,"target","_blank"),W(t,"rel","noreferrer"),W(t,"class","svelte-1w5zc52")},m(b,S){K(b,t,S),z(t,i),~s&&f[s].m(i,null),z(t,n),z(t,o),z(o,a),z(t,l),m&&m.m(t,null),z(t,c),y&&y.m(t,null),d=!0},p(b,S){let I=s;s=g(b),s===I?~s&&f[s].p(b,S):(r&&(tt(),P(f[I],1,1,()=>{f[I]=null}),it()),~s?(r=f[s],r?r.p(b,S):(r=f[s]=u[s](b),r.c()),B(r,1),r.m(i,null)):r=null),(!d||S&1)&&pt(a,b[0]),b[5]?m?m.p(b,S):(m=iC(b),m.c(),m.m(t,c)):m&&(m.d(1),m=null),b[3]?y?(y.p(b,S),S&8&&B(y,1)):(y=sC(b),y.c(),B(y,1),y.m(t,null)):y&&(tt(),P(y,1,1,()=>{y=null}),it()),(!d||S&64)&&W(t,"href",b[6])},i(b){d||(B(r),B(y),d=!0)},o(b){P(r),P(y),d=!1},d(b){b&&q(t),~s&&f[s].d(),m&&m.d(),y&&y.d()}}}function Px(e){let t,i,s,r,n,o,a,l,c,d,u,f;const g=[Yx,Hx],m=[];function y(I,F){return I[4]?0:I[2]?1:-1}~(s=y(e))&&(r=m[s]=g[s](e));let b=e[5]&&rC(e),S=e[3]&&nC(e);return{c(){t=oe("button"),i=oe("div"),r&&r.c(),n=ye(),o=oe("span"),a=at(e[0]),l=ye(),b&&b.c(),c=ye(),S&&S.c(),W(i,"class","leading svelte-1w5zc52"),W(o,"class","label svelte-1w5zc52"),W(t,"class","svelte-1w5zc52")},m(I,F){K(I,t,F),z(t,i),~s&&m[s].m(i,null),z(t,n),z(t,o),z(o,a),z(t,l),b&&b.m(t,null),z(t,c),S&&S.m(t,null),d=!0,u||(f=ps(t,"click",function(){Nn(e[1])&&e[1].apply(this,arguments)}),u=!0)},p(I,F){e=I;let G=s;s=y(e),s===G?~s&&m[s].p(e,F):(r&&(tt(),P(m[G],1,1,()=>{m[G]=null}),it()),~s?(r=m[s],r?r.p(e,F):(r=m[s]=g[s](e),r.c()),B(r,1),r.m(i,null)):r=null),(!d||F&1)&&pt(a,e[0]),e[5]?b?b.p(e,F):(b=rC(e),b.c(),b.m(t,c)):b&&(b.d(1),b=null),e[3]?S?(S.p(e,F),F&8&&B(S,1)):(S=nC(e),S.c(),B(S,1),S.m(t,null)):S&&(tt(),P(S,1,1,()=>{S=null}),it())},i(I){d||(B(r),B(S),d=!0)},o(I){P(r),P(S),d=!1},d(I){I&&q(t),~s&&m[s].d(),b&&b.d(),S&&S.d(),u=!1,f()}}}function Lx(e){let t,i,s;return i=new Ds({props:{name:e[2]}}),{c(){t=oe("div"),ne(i.$$.fragment),W(t,"class","icon svelte-1w5zc52")},m(r,n){K(r,t,n),se(i,t,null),s=!0},p(r,n){const o={};n&4&&(o.name=r[2]),i.$set(o)},i(r){s||(B(i.$$.fragment,r),s=!0)},o(r){P(i.$$.fragment,r),s=!1},d(r){r&&q(t),re(i)}}}function Zx(e){let t,i,s,r;return{c(){t=oe("div"),i=oe("img"),Vd(i.src,s=e[4])||W(i,"src",s),W(i,"alt",r=`${e[0]} logo`),W(i,"class","svelte-1w5zc52"),W(t,"class","logo svelte-1w5zc52")},m(n,o){K(n,t,o),z(t,i)},p(n,o){o&16&&!Vd(i.src,s=n[4])&&W(i,"src",s),o&1&&r!==(r=`${n[0]} logo`)&&W(i,"alt",r)},i:be,o:be,d(n){n&&q(t)}}}function iC(e){let t,i;return{c(){t=oe("span"),i=at(e[5]),W(t,"class","value svelte-1w5zc52")},m(s,r){K(s,t,r),z(t,i)},p(s,r){r&32&&pt(i,s[5])},d(s){s&&q(t)}}}function sC(e){let t,i,s;return i=new Ds({props:{name:e[3]}}),{c(){t=oe("div"),ne(i.$$.fragment),W(t,"class","trailing svelte-1w5zc52")},m(r,n){K(r,t,n),se(i,t,null),s=!0},p(r,n){const o={};n&8&&(o.name=r[3]),i.$set(o)},i(r){s||(B(i.$$.fragment,r),s=!0)},o(r){P(i.$$.fragment,r),s=!1},d(r){r&&q(t),re(i)}}}function Hx(e){let t,i,s;return i=new Ds({props:{name:e[2]}}),{c(){t=oe("div"),ne(i.$$.fragment),W(t,"class","icon svelte-1w5zc52")},m(r,n){K(r,t,n),se(i,t,null),s=!0},p(r,n){const o={};n&4&&(o.name=r[2]),i.$set(o)},i(r){s||(B(i.$$.fragment,r),s=!0)},o(r){P(i.$$.fragment,r),s=!1},d(r){r&&q(t),re(i)}}}function Yx(e){let t,i,s,r;return{c(){t=oe("div"),i=oe("img"),Vd(i.src,s=e[4])||W(i,"src",s),W(i,"alt",r=`${e[0]} logo`),W(i,"class","svelte-1w5zc52"),W(t,"class","logo svelte-1w5zc52")},m(n,o){K(n,t,o),z(t,i)},p(n,o){o&16&&!Vd(i.src,s=n[4])&&W(i,"src",s),o&1&&r!==(r=`${n[0]} logo`)&&W(i,"alt",r)},i:be,o:be,d(n){n&&q(t)}}}function rC(e){let t,i;return{c(){t=oe("span"),i=at(e[5]),W(t,"class","value svelte-1w5zc52")},m(s,r){K(s,t,r),z(t,i)},p(s,r){r&32&&pt(i,s[5])},d(s){s&&q(t)}}}function nC(e){let t,i,s;return i=new Ds({props:{name:e[3]}}),{c(){t=oe("div"),ne(i.$$.fragment),W(t,"class","trailing svelte-1w5zc52")},m(r,n){K(r,t,n),se(i,t,null),s=!0},p(r,n){const o={};n&8&&(o.name=r[3]),i.$set(o)},i(r){s||(B(i.$$.fragment,r),s=!0)},o(r){P(i.$$.fragment,r),s=!1},d(r){r&&q(t),re(i)}}}function zx(e){let t,i,s,r;const n=[Px,Ox],o=[];function a(l,c){return l[6]?1:0}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),K(l,s,c),r=!0},p(l,c){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),P(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),B(i,1),i.m(s.parentNode,s))},i(l){r||(B(i),r=!0)},o(l){P(i),r=!1},d(l){l&&q(s),o[t].d(l)}}}function jx(e){let t,i;const s=e[8].default,r=Vs(s,e,e[7],null),n=r||zx(e);return{c(){t=oe("li"),n&&n.c(),W(t,"class","svelte-1w5zc52")},m(o,a){K(o,t,a),n&&n.m(t,null),i=!0},p(o,[a]){r?r.p&&(!i||a&128)&&Ps(r,s,o,o[7],i?Os(s,o[7],a,null):Ls(o[7]),null):n&&n.p&&(!i||a&127)&&n.p(o,i?a:-1)},i(o){i||(B(n,o),i=!0)},o(o){P(n,o),i=!1},d(o){o&&q(t),n&&n.d(o)}}}function Ux(e,t,i){let{$$slots:s={},$$scope:r}=t,{label:n=void 0}=t,{onClick:o=()=>{}}=t,{leadingIcon:a=void 0}=t,{trailingIcon:l="chevron-right"}=t,{logo:c=void 0}=t,{value:d=void 0}=t,{link:u=void 0}=t;return e.$$set=f=>{"label"in f&&i(0,n=f.label),"onClick"in f&&i(1,o=f.onClick),"leadingIcon"in f&&i(2,a=f.leadingIcon),"trailingIcon"in f&&i(3,l=f.trailingIcon),"logo"in f&&i(4,c=f.logo),"value"in f&&i(5,d=f.value),"link"in f&&i(6,u=f.link),"$$scope"in f&&i(7,r=f.$$scope)},[n,o,a,l,c,d,u,r,s]}class _r extends Ze{constructor(t){super(),Le(this,t,Ux,jx,Ne,{label:0,onClick:1,leadingIcon:2,trailingIcon:3,logo:4,value:5,link:6},Vx)}}function A2(e){return e.startsWith("http://")||e.startsWith("https://")}function I2(e){return e.startsWith("data:image/")}function Xx(e){return e in Dg}function Hl(e){var o,a;const{name:t,logo:i}=e;let{theme:s}=Ot(Zs);const r=s==="light"?"dark":"light";if(s||(window.matchMedia("(prefers-color-scheme: dark)").matches?s="dark":s="light"),!i){if("getLogo"in e)return((o=e.getLogo())==null?void 0:o[s])??((a=e.getLogo())==null?void 0:a[r]);console.warn(`${t} does not have a logo.`);return}const n=i[s]??i[r];if(!A2(n.toString())&&!I2(n.toString())){console.warn(`${t} ${s} logo is not a supported image format.`);return}return n}function Jx(e){Wt(e,"svelte-1d8fcdl","section.svelte-1d8fcdl{display:flex;flex-direction:column;gap:var(--space-s)}")}function oC(e,t,i){const s=e.slice();return s[4]=t[i],s}function aC(e){let t,i,s,r,n;return i=new Vn({props:{$$slots:{default:[Qx]},$$scope:{ctx:e}}}),r=new fc({props:{$$slots:{default:[qx]},$$scope:{ctx:e}}}),{c(){t=oe("section"),ne(i.$$.fragment),s=ye(),ne(r.$$.fragment),W(t,"class","svelte-1d8fcdl")},m(o,a){K(o,t,a),se(i,t,null),z(t,s),se(r,t,null),n=!0},p(o,a){const l={};a&130&&(l.$$scope={dirty:a,ctx:o}),i.$set(l);const c={};a&129&&(c.$$scope={dirty:a,ctx:o}),r.$set(c)},i(o){n||(B(i.$$.fragment,o),B(r.$$.fragment,o),n=!0)},o(o){P(i.$$.fragment,o),P(r.$$.fragment,o),n=!1},d(o){o&&q(t),re(i),re(r)}}}function Qx(e){let t;return{c(){t=at(e[1])},m(i,s){K(i,t,s)},p(i,s){s&2&&pt(t,i[1])},d(i){i&&q(t)}}}function lC(e){let t,i;function s(){return e[3](e[4])}return t=new _r({props:{label:e[4].name,onClick:s,leadingIcon:"wharf",logo:Hl(e[4])}}),{c(){ne(t.$$.fragment)},m(r,n){se(t,r,n),i=!0},p(r,n){e=r;const o={};n&1&&(o.label=e[4].name),n&1&&(o.onClick=s),n&1&&(o.logo=Hl(e[4])),t.$set(o)},i(r){i||(B(t.$$.fragment,r),i=!0)},o(r){P(t.$$.fragment,r),i=!1},d(r){re(t,r)}}}function qx(e){let t,i,s=Qs(e[0]),r=[];for(let o=0;o<s.length;o+=1)r[o]=lC(oC(e,s,o));const n=o=>P(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=ii()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);K(o,t,a),i=!0},p(o,a){if(a&5){s=Qs(o[0]);let l;for(l=0;l<s.length;l+=1){const c=oC(o,s,l);r[l]?(r[l].p(c,a),B(r[l],1)):(r[l]=lC(c),r[l].c(),B(r[l],1),r[l].m(t.parentNode,t))}for(tt(),l=s.length;l<r.length;l+=1)n(l);it()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)B(r[a]);i=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)P(r[a]);i=!1},d(o){o&&q(t),uc(r,o)}}}function Kx(e){let t,i,s=e[0]&&aC(e);return{c(){s&&s.c(),t=ii()},m(r,n){s&&s.m(r,n),K(r,t,n),i=!0},p(r,[n]){r[0]?s?(s.p(r,n),n&1&&B(s,1)):(s=aC(r),s.c(),B(s,1),s.m(t.parentNode,t)):s&&(tt(),P(s,1,1,()=>{s=null}),it())},i(r){i||(B(s),i=!0)},o(r){P(s),i=!1},d(r){r&&q(t),s&&s.d(r)}}}function $x(e,t,i){let{chains:s}=t,{title:r}=t;const n=br(),o=a=>n("select",a.id);return e.$$set=a=>{"chains"in a&&i(0,s=a.chains),"title"in a&&i(1,r=a.title)},[s,r,n,o]}class F2 extends Ze{constructor(t){super(),Le(this,t,$x,Kx,Ne,{chains:0,title:1},Jx)}}function e6(e){Wt(e,"svelte-hwtk1p",".button.svelte-hwtk1p{--button-height:var(--space-2xl);cursor:pointer;display:flex;justify-content:center;align-items:center;gap:var(--space-2xs);height:var(--button-height);line-height:var(--button-height);text-decoration:none;text-align:center;border-radius:var(--border-radius-inner);font-size:var(--fs-1);font-weight:600;color:var(--button-color, var(--button-text-color));background:var(--button-background, var(--button-primary-background));border:none;box-shadow:var(--button-outline);flex:1}.button.svelte-hwtk1p:hover{background:var(--button-background-hover, var(--button-primary-background-hover));box-shadow:var(--button-outline-hover, var(--button-primary-outline-hover))}.button.svelte-hwtk1p:active{background:var(--button-background-active, var(--button-primary-background-active));box-shadow:var(--button-outline-active);color:var(--button-text-color-active)}.secondary.svelte-hwtk1p{--button-background:var(--button-secondary-background);--button-background-hover:var(--button-secondary-background-hover);--button-background-active:var(--button-secondary-background-active);--button-outline-hover:var(--button-secondary-outline-hover)}.outlined.svelte-hwtk1p{--button-background:transparent;--button-background-hover:transparent;--button-background-active:var(--button-outlined-background-active);--button-outline:var(--button-outlined-outline);--button-outline-hover:var(--button-outlined-outline-hover)}")}function t6(e){let t,i;return t=new Ds({props:{name:e[1]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function i6(e){let t,i,s,r,n,o,a=e[1]&&t6(e);return{c(){t=oe("button"),a&&a.c(),i=ye(),s=oe("span"),s.textContent=`${e[0]}`,W(t,"class","button "+e[3]+" svelte-hwtk1p"),t.autofocus=e[4]},m(l,c){K(l,t,c),a&&a.m(t,null),z(t,i),z(t,s),r=!0,e[4]&&t.focus(),n||(o=ps(t,"click",e[2]),n=!0)},p(l,[c]){l[1]&&a.p(l,c)},i(l){r||(B(a),r=!0)},o(l){P(a),r=!1},d(l){l&&q(t),a&&a.d(),n=!1,o()}}}function s6(e,t,i){let{data:s}=t;const{label:r,icon:n,onClick:o,variant:a="primary",autofocus:l}=s;return e.$$set=c=>{"data"in c&&i(5,s=c.data)},[r,n,o,a,l,s]}class Ch extends Ze{constructor(t){super(),Le(this,t,s6,i6,Ne,{data:5},e6)}}function r6(e){Wt(e,"svelte-3b7p6","input.svelte-3b7p6{box-sizing:border-box;height:var(--space-2xl);border-radius:var(--border-radius-inner);border:1px solid var(--input-border-color);padding-inline:var(--space-m);color:var(--body-text-color);background-color:var(--body-background-color);font-size:var(--fs-1)}input.svelte-3b7p6::placeholder{font-size:var(--fs-1);color:var(--input-placeholder-color);font-style:italic}input.svelte-3b7p6:hover{border:1px solid transparent;outline:2px solid var(--input-border-color-hover);background-color:var(--input-background-focus)}input.svelte-3b7p6:focus-within{border:1px solid transparent;outline:2px solid var(--input-border-color-focus);background-color:var(--input-background-focus)}input.error.svelte-3b7p6{border:1px solid var(--error-color);color:var(--error-color)}input.error.svelte-3b7p6:focus-within{border:1px solid transparent;color:var(--body-text-color)}")}function n6(e){let t,i,s;return{c(){t=oe("input"),t.autofocus=e[3],W(t,"type","text"),W(t,"placeholder",e[1]),W(t,"class","svelte-3b7p6"),ro(t,"error",e[4])},m(r,n){K(r,t,n),Ub(t,e[0]),e[3]&&t.focus(),i||(s=[ps(t,"keyup",rv(function(){Nn(e[2])&&e[2].apply(this,arguments)})),ps(t,"input",e[5])],i=!0)},p(r,[n]){e=r,n&8&&(t.autofocus=e[3]),n&2&&W(t,"placeholder",e[1]),n&1&&t.value!==e[0]&&Ub(t,e[0]),n&16&&ro(t,"error",e[4])},i:be,o:be,d(r){r&&q(t),i=!1,Tn(s)}}}function o6(e,t,i){let{value:s}=t,{placeholder:r}=t,{onKeyup:n}=t,{autofocus:o=!1}=t,{error:a=!1}=t;function l(){s=this.value,i(0,s)}return e.$$set=c=>{"value"in c&&i(0,s=c.value),"placeholder"in c&&i(1,r=c.placeholder),"onKeyup"in c&&i(2,n=c.onKeyup),"autofocus"in c&&i(3,o=c.autofocus),"error"in c&&i(4,a=c.error)},[s,r,n,o,a,l]}class a6 extends Ze{constructor(t){super(),Le(this,t,o6,n6,Ne,{value:0,placeholder:1,onKeyup:2,autofocus:3,error:4},r6)}}function l6(e){let t,i;return t=new b2({props:{title:e[0],details:e[1],icon:"alert"}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,[r]){const n={};r&1&&(n.title=s[0]),r&2&&(n.details=s[1]),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function c6(e,t,i){let{title:s}=t,{details:r}=t;return e.$$set=n=>{"title"in n&&i(0,s=n.title),"details"in n&&i(1,r=n.details)},[s,r]}class d6 extends Ze{constructor(t){super(),Le(this,t,c6,l6,Ne,{title:0,details:1})}}function u6(e){Wt(e,"svelte-13p224c","section.svelte-13p224c{display:flex;flex-direction:column;gap:var(--space-s)}p.loading.svelte-13p224c{margin:0;text-align:center;height:var(--space-4xl)}p.error.svelte-13p224c{margin:0;text-align:center;color:var(--error-color)}.input-group.svelte-13p224c{display:flex;flex-direction:column;gap:var(--space-m);margin-top:var(--space-s)}")}function cC(e,t,i){const s=e.slice();return s[19]=t[i],s}function h6(e){let t,i,s,r,n,o,a,l,c;t=new Vn({props:{$$slots:{default:[m6]},$$scope:{ctx:e}}});function d(g){e[18](g)}let u={onKeyup:e[13],placeholder:"Account name",autofocus:!e[1],error:e[4]&&e[1]===e[2]};e[1]!==void 0&&(u.value=e[1]),r=new a6({props:u}),xo.push(()=>v2(r,"value",d));let f=e[4]&&dC(e);return l=new Ch({props:{data:{variant:"primary",onClick:e[12],label:e[8]("login.enter.lookup",{default:"Lookup Account"})}}}),{c(){ne(t.$$.fragment),i=ye(),s=oe("div"),ne(r.$$.fragment),o=ye(),f&&f.c(),a=ye(),ne(l.$$.fragment),W(s,"class","input-group svelte-13p224c")},m(g,m){se(t,g,m),K(g,i,m),K(g,s,m),se(r,s,null),z(s,o),f&&f.m(s,null),z(s,a),se(l,s,null),c=!0},p(g,m){const y={};m&4194305&&(y.$$scope={dirty:m,ctx:g}),t.$set(y);const b={};m&2&&(b.autofocus=!g[1]),m&22&&(b.error=g[4]&&g[1]===g[2]),!n&&m&2&&(n=!0,b.value=g[1],f2(()=>n=!1)),r.$set(b),g[4]?f?f.p(g,m):(f=dC(g),f.c(),f.m(s,a)):f&&(f.d(1),f=null);const S={};m&256&&(S.data={variant:"primary",onClick:g[12],label:g[8]("login.enter.lookup",{default:"Lookup Account"})}),l.$set(S)},i(g){c||(B(t.$$.fragment,g),B(r.$$.fragment,g),B(l.$$.fragment,g),c=!0)},o(g){P(t.$$.fragment,g),P(r.$$.fragment,g),P(l.$$.fragment,g),c=!1},d(g){g&&(q(i),q(s)),re(t,g),re(r),f&&f.d(),re(l)}}}function f6(e){let t,i,s,r;return t=new Vn({props:{$$slots:{default:[v6]},$$scope:{ctx:e}}}),s=new d6({props:{title:"",details:e[8]("login.select.no_match",{default:"No accounts found matching {{publicKey}}",publicKey:e[6]})}}),{c(){ne(t.$$.fragment),i=ye(),ne(s.$$.fragment)},m(n,o){se(t,n,o),K(n,i,o),se(s,n,o),r=!0},p(n,o){const a={};o&4194560&&(a.$$scope={dirty:o,ctx:n}),t.$set(a);const l={};o&320&&(l.details=n[8]("login.select.no_match",{default:"No accounts found matching {{publicKey}}",publicKey:n[6]})),s.$set(l)},i(n){r||(B(t.$$.fragment,n),B(s.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),P(s.$$.fragment,n),r=!1},d(n){n&&q(i),re(t,n),re(s,n)}}}function p6(e){let t,i,s,r;return t=new Vn({props:{$$slots:{default:[b6]},$$scope:{ctx:e}}}),s=new fc({props:{$$slots:{default:[C6]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment),i=ye(),ne(s.$$.fragment)},m(n,o){se(t,n,o),K(n,i,o),se(s,n,o),r=!0},p(n,o){const a={};o&4194560&&(a.$$scope={dirty:o,ctx:n}),t.$set(a);const l={};o&4194336&&(l.$$scope={dirty:o,ctx:n}),s.$set(l)},i(n){r||(B(t.$$.fragment,n),B(s.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),P(s.$$.fragment,n),r=!1},d(n){n&&q(i),re(t,n),re(s,n)}}}function g6(e){let t,i=e[8]("loading",{default:"Loading..."})+"",s;return{c(){t=oe("p"),s=at(i),W(t,"class","loading svelte-13p224c")},m(r,n){K(r,t,n),z(t,s)},p(r,n){n&256&&i!==(i=r[8]("loading",{default:"Loading..."})+"")&&pt(s,i)},i:be,o:be,d(r){r&&q(t)}}}function m6(e){let t;return{c(){t=at(e[0])},m(i,s){K(i,t,s)},p(i,s){s&1&&pt(t,i[0])},d(i){i&&q(t)}}}function dC(e){let t,i=e[8]("login.enter.not_found",{default:"Unable to find account"})+"",s,r,n;return{c(){t=oe("p"),s=at(i),r=ye(),n=at(e[2]),W(t,"class","error svelte-13p224c")},m(o,a){K(o,t,a),z(t,s),z(t,r),z(t,n)},p(o,a){a&256&&i!==(i=o[8]("login.enter.not_found",{default:"Unable to find account"})+"")&&pt(s,i),a&4&&pt(n,o[2])},d(o){o&&q(t)}}}function v6(e){let t=e[8]("login.select.no_accounts")+"",i;return{c(){i=at(t)},m(s,r){K(s,i,r)},p(s,r){r&256&&t!==(t=s[8]("login.select.no_accounts")+"")&&pt(i,t)},d(s){s&&q(i)}}}function b6(e){let t=e[8]("login.select.account")+"",i;return{c(){i=at(t)},m(s,r){K(s,i,r)},p(s,r){r&256&&t!==(t=s[8]("login.select.account")+"")&&pt(i,t)},d(s){s&&q(i)}}}function uC(e){let t,i;function s(){return e[17](e[19])}return t=new _r({props:{label:String(e[19]),onClick:s}}),{c(){ne(t.$$.fragment)},m(r,n){se(t,r,n),i=!0},p(r,n){e=r;const o={};n&32&&(o.label=String(e[19])),n&32&&(o.onClick=s),t.$set(o)},i(r){i||(B(t.$$.fragment,r),i=!0)},o(r){P(t.$$.fragment,r),i=!1},d(r){re(t,r)}}}function C6(e){let t,i,s=Qs(e[5]),r=[];for(let o=0;o<s.length;o+=1)r[o]=uC(cC(e,s,o));const n=o=>P(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=ii()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);K(o,t,a),i=!0},p(o,a){if(a&1056){s=Qs(o[5]);let l;for(l=0;l<s.length;l+=1){const c=cC(o,s,l);r[l]?(r[l].p(c,a),B(r[l],1)):(r[l]=uC(c),r[l].c(),B(r[l],1),r[l].m(t.parentNode,t))}for(tt(),l=s.length;l<r.length;l+=1)n(l);it()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)B(r[a]);i=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)P(r[a]);i=!1},d(o){o&&q(t),uc(r,o)}}}function y6(e){let t,i,s,r;const n=[g6,p6,f6,h6],o=[];function a(l,c){return l[7]?0:l[5]&&l[5].length>0?1:l[6]?2:l[3]?-1:3}return~(i=a(e))&&(s=o[i]=n[i](e)),{c(){t=oe("section"),s&&s.c(),W(t,"class","svelte-13p224c")},m(l,c){K(l,t,c),~i&&o[i].m(t,null),r=!0},p(l,[c]){let d=i;i=a(l),i===d?~i&&o[i].p(l,c):(s&&(tt(),P(o[d],1,1,()=>{o[d]=null}),it()),~i?(s=o[i],s?s.p(l,c):(s=o[i]=n[i](l),s.c()),B(s,1),s.m(t,null)):s=null)},i(l){r||(B(s),r=!0)},o(l){P(s),r=!1},d(l){l&&q(t),~i&&o[i].d()}}}function w6(e,t,i){let s,r;const{t:n}=Bn("i18n");Fe(e,n,T=>i(8,r=T));let{chainId:o}=t,{client:a}=t,{walletPlugin:l}=t,{title:c}=t;const d=br();let u=At(!0);Fe(e,u,T=>i(7,s=T));let f="",g="",m,y=!1,b,S=l.metadata.publicKey;hc(async()=>{if(l.config.requiresPermissionSelect){if(o&&l.retrievePublicKey)try{i(6,S=String(await l.retrievePublicKey(o)))}catch(O){throw hu.set(String(O)),O}const T=await a.call({path:"/v1/chain/get_accounts_by_authorizers",params:{keys:[S]}});u.set(!1),i(5,b=T.accounts.map(O=>dt.from(`${O.account_name}@${O.permission_name}`)))}else l.config.requiresPermissionEntry&&(u.set(!1),i(5,b=[]))});async function I(){u.set(!0);try{const T=await a.v1.chain.get_account(f);T.account_name.equals(f)&&(i(3,m=T.account_name),i(5,b=T.permissions.map(O=>dt.from(`${T.account_name}@${O.perm_name}`)))),i(4,y=!1)}catch{i(4,y=!0)}finally{i(2,g=f),u.set(!1)}}function F(T){if(T.code=="Enter")return T.preventDefault(),I(),!1}const G=T=>d("select",T);function L(T){f=T,i(1,f)}return e.$$set=T=>{"chainId"in T&&i(14,o=T.chainId),"client"in T&&i(15,a=T.client),"walletPlugin"in T&&i(16,l=T.walletPlugin),"title"in T&&i(0,c=T.title)},[c,f,g,m,y,b,S,s,r,n,d,u,I,F,o,a,l,G,L]}class E2 extends Ze{constructor(t){super(),Le(this,t,w6,y6,Ne,{chainId:14,client:15,walletPlugin:16,title:0},u6)}}function S6(e){Wt(e,"svelte-lwrp5l","section.svelte-lwrp5l{display:flex;flex-direction:column;gap:var(--space-s)}")}function hC(e,t,i){const s=e.slice();return s[4]=t[i],s[6]=i,s}function fC(e){let t,i,s,r,n;return i=new Vn({props:{$$slots:{default:[R6]},$$scope:{ctx:e}}}),r=new fc({props:{$$slots:{default:[A6]},$$scope:{ctx:e}}}),{c(){t=oe("section"),ne(i.$$.fragment),s=ye(),ne(r.$$.fragment),W(t,"class","svelte-lwrp5l")},m(o,a){K(o,t,a),se(i,t,null),z(t,s),se(r,t,null),n=!0},p(o,a){const l={};a&130&&(l.$$scope={dirty:a,ctx:o}),i.$set(l);const c={};a&129&&(c.$$scope={dirty:a,ctx:o}),r.$set(c)},i(o){n||(B(i.$$.fragment,o),B(r.$$.fragment,o),n=!0)},o(o){P(i.$$.fragment,o),P(r.$$.fragment,o),n=!1},d(o){o&&q(t),re(i),re(r)}}}function R6(e){let t;return{c(){t=at(e[1])},m(i,s){K(i,t,s)},p(i,s){s&2&&pt(t,i[1])},d(i){i&&q(t)}}}function pC(e){let t,i;function s(){return e[3](e[6])}return t=new _r({props:{label:e[4].metadata.name,onClick:s,leadingIcon:"wallet",logo:Hl(e[4].metadata)}}),{c(){ne(t.$$.fragment)},m(r,n){se(t,r,n),i=!0},p(r,n){e=r;const o={};n&1&&(o.label=e[4].metadata.name),n&1&&(o.logo=Hl(e[4].metadata)),t.$set(o)},i(r){i||(B(t.$$.fragment,r),i=!0)},o(r){P(t.$$.fragment,r),i=!1},d(r){re(t,r)}}}function A6(e){let t,i,s=Qs(e[0]),r=[];for(let o=0;o<s.length;o+=1)r[o]=pC(hC(e,s,o));const n=o=>P(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=ii()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);K(o,t,a),i=!0},p(o,a){if(a&5){s=Qs(o[0]);let l;for(l=0;l<s.length;l+=1){const c=hC(o,s,l);r[l]?(r[l].p(c,a),B(r[l],1)):(r[l]=pC(c),r[l].c(),B(r[l],1),r[l].m(t.parentNode,t))}for(tt(),l=s.length;l<r.length;l+=1)n(l);it()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)B(r[a]);i=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)P(r[a]);i=!1},d(o){o&&q(t),uc(r,o)}}}function I6(e){let t,i,s=e[0]&&fC(e);return{c(){s&&s.c(),t=ii()},m(r,n){s&&s.m(r,n),K(r,t,n),i=!0},p(r,[n]){r[0]?s?(s.p(r,n),n&1&&B(s,1)):(s=fC(r),s.c(),B(s,1),s.m(t.parentNode,t)):s&&(tt(),P(s,1,1,()=>{s=null}),it())},i(r){i||(B(s),i=!0)},o(r){P(s),i=!1},d(r){r&&q(t),s&&s.d(r)}}}function F6(e,t,i){let{wallets:s}=t,{title:r}=t;const n=br(),o=a=>n("select",a);return e.$$set=a=>{"wallets"in a&&i(0,s=a.wallets),"title"in a&&i(1,r=a.title)},[s,r,n,o]}class E6 extends Ze{constructor(t){super(),Le(this,t,F6,I6,Ne,{wallets:0,title:1},S6)}}function gC(e){return Object.prototype.toString.call(e)==="[object Date]"}function mC(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function M2(e){const t=e-1;return t*t*t+1}function Wg(e,t){if(e===t||e!==e)return()=>e;const i=typeof e;if(i!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const s=t.map((r,n)=>Wg(e[n],r));return r=>s.map(n=>n(r))}if(i==="object"){if(!e||!t)throw new Error("Object cannot be null");if(gC(e)&&gC(t)){e=e.getTime(),t=t.getTime();const n=t-e;return o=>new Date(e+o*n)}const s=Object.keys(t),r={};return s.forEach(n=>{r[n]=Wg(e[n],t[n])}),n=>{const o={};return s.forEach(a=>{o[a]=r[a](n)}),o}}if(i==="number"){const s=t-e;return r=>e+r*s}throw new Error(`Cannot interpolate ${i} values`)}function M6(e,t={}){const i=At(e);let s,r=e;function n(o,a){if(e==null)return i.set(e=o),Promise.resolve();r=o;let l=s,c=!1,{delay:d=0,duration:u=400,easing:f=pf,interpolate:g=Wg}=gh(gh({},t),a);if(u===0)return l&&(l.abort(),l=null),i.set(e=r),Promise.resolve();const m=ev()+d;let y;return s=iv(b=>{if(b<m)return!0;c||(y=g(e,o),typeof u=="function"&&(u=u(e,o)),c=!0),l&&(l.abort(),l=null);const S=b-m;return S>u?(i.set(e=o),!1):(i.set(e=y(f(S/u))),!0)}),s.promise}return{set:n,update:(o,a)=>n(o(r,e),a),subscribe:i.subscribe}}function x6(e){Wt(e,"svelte-1cxfvrd",'.loader.svelte-1cxfvrd.svelte-1cxfvrd{position:relative;display:grid;place-items:center;grid-template-areas:"stack" "text";gap:var(--space-m)}.logo.svelte-1cxfvrd.svelte-1cxfvrd{grid-area:stack;place-self:center;color:var(--body-text-color);width:var(--space-2xl);display:flex;align-items:center;justify-content:center}.logo.svelte-1cxfvrd img.svelte-1cxfvrd{width:100%;height:100%;object-fit:contain}.logo.svelte-1cxfvrd>svg{width:35%;height:35%}.text.svelte-1cxfvrd.svelte-1cxfvrd{grid-area:text;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:var(--space-4xs)}.text.svelte-1cxfvrd .label.svelte-1cxfvrd{font-size:var(--fs-2);font-weight:500;color:var(--body-text-color);margin:0}.text.svelte-1cxfvrd span.svelte-1cxfvrd{font-size:var(--fs-1);font-variant-numeric:tabular-nums;color:var(--body-text-color-variant)}svg.svelte-1cxfvrd.svelte-1cxfvrd{grid-area:stack;animation:2.5s linear infinite svelte-1cxfvrd-svg-animation}@keyframes svelte-1cxfvrd-svg-animation{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}circle.svelte-1cxfvrd.svelte-1cxfvrd{transform-origin:center}circle.spinner.svelte-1cxfvrd.svelte-1cxfvrd{stroke:var(--loading-circle-color)}circle.track.svelte-1cxfvrd.svelte-1cxfvrd{stroke:var(--loading-circle-track-color)}circle.animated.svelte-1cxfvrd.svelte-1cxfvrd{animation:svelte-1cxfvrd-dash 2.1s ease-in-out both infinite}@keyframes svelte-1cxfvrd-dash{0%{stroke-dashoffset:var(--circumference);transform:rotate(0)}50%,65%{stroke-dashoffset:70;transform:rotate(90deg)}100%{stroke-dashoffset:var(--circumference);transform:rotate(360deg)}}')}function k6(e){let t,i,s,r;const n=[G6,_6],o=[];function a(l,c){return A2(l[5])||I2(l[5])?0:Xx(l[5])?1:-1}return~(i=a(e))&&(s=o[i]=n[i](e)),{c(){t=oe("div"),s&&s.c(),W(t,"class","logo svelte-1cxfvrd")},m(l,c){K(l,t,c),~i&&o[i].m(t,null),r=!0},p(l,c){s&&s.p(l,c)},i(l){r||(B(s),r=!0)},o(l){P(s),r=!1},d(l){l&&q(t),~i&&o[i].d()}}}function _6(e){let t,i;return t=new Ds({props:{name:e[5],size:"75%"}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function G6(e){let t,i;return{c(){t=oe("img"),Vd(t.src,i=e[5])||W(t,"src",i),W(t,"alt","loading logo"),W(t,"class","svelte-1cxfvrd")},m(s,r){K(s,t,r)},p:be,i:be,o:be,d(s){s&&q(t)}}}function D6(e){let t;return{c(){t=oe("p"),t.textContent=`${e[4]}`,W(t,"class","label svelte-1cxfvrd")},m(i,s){K(i,t,s)},p:be,d(i){i&&q(t)}}}function vC(e){let t=e[1],i,s=bC(e);return{c(){s.c(),i=ii()},m(r,n){s.m(r,n),K(r,i,n)},p(r,n){n&2&&Ne(t,t=r[1])?(s.d(1),s=bC(r),s.c(),s.m(i.parentNode,i)):s.p(r,n)},d(r){r&&q(i),s.d(r)}}}function bC(e){let t,i=CC(e[0])+"",s;return{c(){t=oe("span"),s=at(i),W(t,"class","svelte-1cxfvrd"),ro(t,"label",!e[4])},m(r,n){K(r,t,n),z(t,s)},p(r,n){n&1&&i!==(i=CC(r[0])+"")&&pt(s,i)},d(r){r&&q(t)}}}function W6(e){let t,i,s,r,n,o,a,l,c,d=e[5]&&k6(e),u=e[4]&&D6(e),f=e[0]&&vC(e);return{c(){t=oe("div"),i=Te("svg"),s=Te("circle"),r=Te("circle"),n=ye(),d&&d.c(),o=ye(),a=oe("div"),u&&u.c(),l=ye(),f&&f.c(),W(s,"class","track svelte-1cxfvrd"),W(s,"cx",e[6]),W(s,"cy",e[6]),W(s,"r",e[7]),W(s,"stroke-width",Ng-1),W(s,"stroke-linecap","round"),W(s,"stroke-dasharray",e[3]),W(s,"stroke-dashoffset",0),W(s,"fill","none"),W(r,"class","spinner svelte-1cxfvrd"),W(r,"cx",e[6]),W(r,"cy",e[6]),W(r,"r",e[7]),W(r,"stroke-width",Ng),W(r,"stroke-linecap","round"),W(r,"stroke-dasharray",e[3]),W(r,"fill","none"),Ut(r,"--radius",e[7]),Ut(r,"--circumference",e[3]),ro(r,"animated",e[2]),W(i,"width",Tg),W(i,"height",Tg),W(i,"class","svelte-1cxfvrd"),ro(i,"animated",e[2]),W(a,"class","text svelte-1cxfvrd"),W(t,"class","loader svelte-1cxfvrd")},m(g,m){K(g,t,m),z(t,i),z(i,s),z(i,r),z(t,n),d&&d.m(t,null),z(t,o),z(t,a),u&&u.m(a,null),z(a,l),f&&f.m(a,null),c=!0},p(g,[m]){(!c||m&8)&&W(s,"stroke-dasharray",g[3]),(!c||m&8)&&W(r,"stroke-dasharray",g[3]),(!c||m&8)&&Ut(r,"--circumference",g[3]),(!c||m&4)&&ro(r,"animated",g[2]),(!c||m&4)&&ro(i,"animated",g[2]),g[5]&&d.p(g,m),g[4]&&u.p(g,m),g[0]?f?f.p(g,m):(f=vC(g),f.c(),f.m(a,null)):f&&(f.d(1),f=null)},i(g){c||(B(d),c=!0)},o(g){P(d),c=!1},d(g){g&&q(t),d&&d.d(),u&&u.d(),f&&f.d()}}}let Tg=100,Ng=8;function CC(e){const t=e.getTime()-Date.now();return t>0?new Date(t).toISOString().slice(14,19):"00:00"}function T6(e,t,i){let s,r,{data:n={}}=t,{label:o,end:a,logo:l,loading:c=!0}=n,d,u,f,g=Tg/2,m=g-Ng,y=M6(2*Math.PI*m,{duration:500,easing:M2});return Fe(e,y,b=>i(3,r=b)),uu(()=>{f&&clearInterval(f)}),e.$$set=b=>{"data"in b&&i(9,n=b.data)},e.$$.update=()=>{e.$$.dirty&2051&&(f&&clearInterval(f),a&&(i(0,d=new Date(a)),i(11,f=setInterval(()=>{i(1,u=new Date(d).getTime()-Date.now()),u<=0&&(clearInterval(f),y.set(1e3),i(10,c=!1))},200)))),e.$$.dirty&1024&&i(2,s=c)},[d,u,s,r,o,l,g,m,y,n,c,f]}class fu extends Ze{constructor(t){super(),Le(this,t,T6,W6,Ne,{data:9},x6)}}function yC(e,{delay:t=0,duration:i=400,easing:s=pf}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:i,easing:s,css:n=>`opacity: ${n*r}`}}function N6(e,{delay:t=0,duration:i=400,easing:s=M2,x:r=0,y:n=0,opacity:o=0}={}){const a=getComputedStyle(e),l=+a.opacity,c=a.transform==="none"?"":a.transform,d=l*(1-o),[u,f]=jb(r),[g,m]=jb(n);return{delay:t,duration:i,easing:s,css:(y,b)=>`
			transform: ${c} translate(${(1-y)*u}${f}, ${(1-y)*g}${m});
			opacity: ${l-d*b}`}}function B6(e){let t;const i=e[5].default,s=Vs(i,e,e[4],null);return{c(){s&&s.c()},m(r,n){s&&s.m(r,n),t=!0},p(r,n){s&&s.p&&(!t||n&16)&&Ps(s,i,r,r[4],t?Os(i,r[4],n,null):Ls(r[4]),null)},i(r){t||(B(s,r),t=!0)},o(r){P(s,r),t=!1},d(r){s&&s.d(r)}}}function V6(e){let t,i,s;const r=e[5].default,n=Vs(r,e,e[4],null);return{c(){t=oe("div"),n&&n.c(),W(t,"class","transition")},m(o,a){K(o,t,a),n&&n.m(t,null),s=!0},p(o,a){e=o,n&&n.p&&(!s||a&16)&&Ps(n,r,e,e[4],s?Os(r,e[4],a,null):Ls(e[4]),null)},i(o){s||(B(n,o),i||xa(()=>{i=L9(t,N6,{duration:200,x:e[1],y:e[0]}),i.start()}),s=!0)},o(o){P(n,o),s=!1},d(o){o&&q(t),n&&n.d(o)}}}function O6(e){let t,i,s,r;const n=[V6,B6],o=[];function a(l,c){return l[2]?0:1}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),K(l,s,c),r=!0},p(l,[c]){i.p(l,c)},i(l){r||(B(i),r=!0)},o(l){P(i),r=!1},d(l){l&&q(s),o[t].d(l)}}}function P6(e,t,i){let s,r,n;Fe(e,Zs,f=>i(6,n=f));let{$$slots:o={},$$scope:a}=t,{direction:l=void 0}=t;const{animations:c}=n,d=["ltr","rtl"],u=f=>f==="rtl"||f==="btt"?100:-100;return e.$$set=f=>{"direction"in f&&i(3,l=f.direction),"$$scope"in f&&i(4,a=f.$$scope)},e.$$.update=()=>{e.$$.dirty&8&&i(1,[s,r]=l?d.includes(l)?[u(l),0]:[0,u(l)]:[0,0],s,(i(0,r),i(3,l)))},[r,s,c,l,a,o]}class Cr extends Ze{constructor(t){super(),Le(this,t,P6,O6,Ne,{direction:3})}}function L6(e){let t,i=e[4]("loading",{default:"Loading..."})+"",s;return{c(){t=oe("p"),s=at(i)},m(r,n){K(r,t,n),z(t,s)},p(r,n){n&16&&i!==(i=r[4]("loading",{default:"Loading..."})+"")&&pt(s,i)},i:be,o:be,d(r){r&&q(t)}}}function Z6(e){let t,i,s,r;const n=[U6,j6,z6,Y6,H6],o=[];function a(l,c){return l[6]===l[0].selectWallet?0:l[6]===l[0].selectChain&&l[7]?1:l[6]===l[0].enterPermission&&l[8]&&l[9]?2:l[6]===l[0].selectPermission&&l[8]&&l[9]?3:4}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),K(l,s,c),r=!0},p(l,c){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),P(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),B(i,1),i.m(s.parentNode,s))},i(l){r||(B(i),r=!0)},o(l){P(i),r=!1},d(l){l&&q(s),o[t].d(l)}}}function H6(e){let t,i;return t=new fu({props:{data:{label:e[4]("login.complete",{default:"Complete the login using your selected wallet."})}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.data={label:s[4]("login.complete",{default:"Complete the login using your selected wallet."})}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function Y6(e){let t,i;return t=new Cr({props:{direction:e[2],$$slots:{default:[X6]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.direction=s[2]),r&268436242&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function z6(e){let t,i;return t=new Cr({props:{direction:e[2],$$slots:{default:[J6]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.direction=s[2]),r&268436242&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function j6(e){let t,i;return t=new Cr({props:{direction:e[2],$$slots:{default:[Q6]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.direction=s[2]),r&268435600&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function U6(e){let t,i;return t=new Cr({props:{direction:e[2],$$slots:{default:[q6]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.direction=s[2]),r&268435480&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function X6(e){let t,i;return t=new E2({props:{chainId:e[1].chainId,client:e[8],walletPlugin:e[9],title:e[4]("login.select.account",{default:"Select an Account"})}}),t.$on("select",e[17]),t.$on("cancel",e[16]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&2&&(n.chainId=s[1].chainId),r&256&&(n.client=s[8]),r&512&&(n.walletPlugin=s[9]),r&16&&(n.title=s[4]("login.select.account",{default:"Select an Account"})),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function J6(e){let t,i;return t=new E2({props:{chainId:e[1].chainId,client:e[8],walletPlugin:e[9],title:e[4]("login.enter.account",{default:"Enter account name"})}}),t.$on("select",e[17]),t.$on("cancel",e[16]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&2&&(n.chainId=s[1].chainId),r&256&&(n.client=s[8]),r&512&&(n.walletPlugin=s[9]),r&16&&(n.title=s[4]("login.enter.account",{default:"Enter account name"})),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function Q6(e){let t,i;return t=new F2({props:{chains:e[7],title:e[4]("login.select.blockchain",{default:"Select a Blockchain"})}}),t.$on("select",e[15]),t.$on("cancel",e[19]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&128&&(n.chains=s[7]),r&16&&(n.title=s[4]("login.select.blockchain",{default:"Select a Blockchain"})),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function q6(e){let t,i;return t=new E6({props:{wallets:e[3].walletPlugins,title:e[4]("login.select.wallet",{default:"Select a Wallet"})}}),t.$on("select",e[18]),t.$on("cancel",e[20]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&8&&(n.wallets=s[3].walletPlugins),r&16&&(n.title=s[4]("login.select.wallet",{default:"Select a Wallet"})),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function K6(e){let t,i,s,r;const n=[Z6,L6],o=[];function a(l,c){return l[5]&&l[3]?0:1}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),K(l,s,c),r=!0},p(l,[c]){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),P(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),B(i,1),i.m(s.parentNode,s))},i(l){r||(B(i),r=!0)},o(l){P(i),r=!1},d(l){l&&q(s),o[t].d(l)}}}function $6(e,t,i){let s,r,n,o,a,l,c,d,u,f;Fe(e,_i,R=>i(1,s=R)),Fe(e,mi,R=>i(2,r=R)),Fe(e,gi,R=>i(22,n=R)),Fe(e,Qn,R=>i(3,o=R)),Fe(e,Ri,R=>i(5,l=R));const{t:g}=Bn("i18n");Fe(e,g,R=>i(4,a=R));let m=!1;const y=br();var b;(function(R){R.done="done",R.enterPermission="enterPermission",R.selectChain="selectChain",R.selectPermission="selectPermission",R.selectWallet="selectWallet"})(b||(b={}));const S=$i([Qn,_i],([R,A])=>{if(!(!R||A.chainId===void 0))return R.chain?R.chain:R.chains.find(k=>k.id===A.chainId)}),I=$i([S,Qn],([R,A])=>{if(!(!A||R===void 0))return A.getClient(R)});Fe(e,I,R=>i(8,u=R));const F=$i([Qn,_i],([R,A])=>{if(!(!R||A.walletPluginIndex===void 0))return R.walletPlugins[A.walletPluginIndex]});Fe(e,F,R=>i(9,f=R));let G=$i([Qn,F],([R,A])=>!R||!A?[]:A.config.supportedChains?R.chains.filter(k=>!A.config.supportedChains||A.config.supportedChains.includes(String(k.id))):R.chains);Fe(e,G,R=>i(7,d=R));const L=Qn.subscribe(R=>{R&&(Ce(Ri,l.subtitle=a("login.title-app",{appName:R.appName,default:"Login to {{appName}}"}),l),R.chain&&Ce(_i,s.chainId=R.chain.id,s),R.chains.length===1&&Ce(_i,s.chainId=R.chains[0].id,s),R.permissionLevel&&Ce(_i,s.permissionLevel=R.permissionLevel,s),R.walletPlugins.length===1&&Ce(_i,s.walletPluginIndex=0,s),R.walletPluginIndex!==void 0&&Ce(_i,s.walletPluginIndex=R.walletPluginIndex,s))});hc(()=>{Ce(Ri,l.title=a("login.title",{default:"Login"}),l)}),uu(L);const T=$i([_i,F],([R,A])=>{if(!A)return b.selectWallet;const{requiresChainSelect:k,requiresPermissionEntry:E,requiresPermissionSelect:D,supportedChains:x}=A.config;if(!R.chainId&&x&&x.length===1)return Ce(_i,s.chainId=x[0],s),b.selectPermission;if(!R.chainId&&o&&o.chain)return Ce(_i,s.chainId=o==null?void 0:o.chain.id,s),b.selectPermission;if(!R.chainId&&k)return b.selectChain;if(!R.permissionLevel&&D)return b.selectPermission;if(!R.permissionLevel&&E)return b.enterPermission;v()});Fe(e,T,R=>i(6,c=R));const O=R=>{Ce(_i,s.chainId=R.detail,s),Ce(gi,n=Q,n),Ce(mi,r="rtl",r)},Q=()=>{Ce(_i,s.chainId=void 0,s),Ce(gi,n=M,n),Ce(mi,r="ltr",r)},V=R=>{Ce(_i,s.permissionLevel=R.detail,s),Ce(gi,n=void 0,n),Ce(mi,r="rtl",r)},U=R=>{Ce(gi,n=M,n),Ce(_i,s.walletPluginIndex=R.detail,s),Ce(mi,r="rtl",r)},M=()=>{Ce(_i,s.walletPluginIndex=void 0,s),Ce(gi,n=void 0,n),Ce(mi,r="ltr",r)},v=()=>{m||(m=!0,y("complete",s),gi.set(void 0),bh.set(!1))};return[b,s,r,o,a,l,c,d,u,f,g,I,F,G,T,O,Q,V,U,M,()=>{y("cancel")}]}class ek extends Ze{constructor(t){super(),Le(this,t,$6,K6,Ne,{})}}function tk(e){Wt(e,"svelte-1m2zvm","div.svelte-1m2zvm{flex:1;display:flex;justify-content:space-between;gap:var(--space-xs)}")}function ik(e){let t,i;const s=e[1].default,r=Vs(s,e,e[0],null);return{c(){t=oe("div"),r&&r.c(),W(t,"class","svelte-1m2zvm")},m(n,o){K(n,t,o),r&&r.m(t,null),i=!0},p(n,[o]){r&&r.p&&(!i||o&1)&&Ps(r,s,n,n[0],i?Os(s,n[0],o,null):Ls(n[0]),null)},i(n){i||(B(r,n),i=!0)},o(n){P(r,n),i=!1},d(n){n&&q(t),r&&r.d(n)}}}function sk(e,t,i){let{$$slots:s={},$$scope:r}=t;return e.$$set=n=>{"$$scope"in n&&i(0,r=n.$$scope)},[r,s]}class rk extends Ze{constructor(t){super(),Le(this,t,sk,ik,Ne,{},tk)}}function nk(e){let t,i,s,r;return t=new Ch({props:{data:{variant:"outlined",label:e[0]("decline",{default:"Decline"}),onClick:e[3],icon:"close"}}}),s=new Ch({props:{data:{variant:"primary",label:e[0]("accept",{default:"Accept"}),onClick:e[4],icon:"check",autofocus:!0}}}),{c(){ne(t.$$.fragment),i=ye(),ne(s.$$.fragment)},m(n,o){se(t,n,o),K(n,i,o),se(s,n,o),r=!0},p(n,o){const a={};o&1&&(a.data={variant:"outlined",label:n[0]("decline",{default:"Decline"}),onClick:n[3],icon:"close"}),t.$set(a);const l={};o&1&&(l.data={variant:"primary",label:n[0]("accept",{default:"Accept"}),onClick:n[4],icon:"check",autofocus:!0}),s.$set(l)},i(n){r||(B(t.$$.fragment,n),B(s.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),P(s.$$.fragment,n),r=!1},d(n){n&&q(i),re(t,n),re(s,n)}}}function ok(e){let t,i;return t=new rk({props:{$$slots:{default:[nk]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,[r]){const n={};r&33&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function ak(e,t,i){let s;const{t:r}=Bn("i18n");Fe(e,r,l=>i(0,s=l));const n=br();return[s,r,n,()=>n("cancel"),()=>n("complete")]}class lk extends Ze{constructor(t){super(),Le(this,t,ak,ok,Ne,{})}}function ck(e){Wt(e,"svelte-1lmgxnd",".asset.svelte-1lmgxnd.svelte-1lmgxnd{text-align:center}.asset.svelte-1lmgxnd>.svelte-1lmgxnd{margin:0;line-height:1.5}.value.svelte-1lmgxnd.svelte-1lmgxnd{font-size:var(--fs-2);font-weight:600;color:var(--body-text-color)}.label.svelte-1lmgxnd.svelte-1lmgxnd{font-size:var(--fs-0);font-weight:400;color:var(--body-text-color-variant)}")}function wC(e){let t,i,s=e[0].value+"",r,n,o,a=e[0].label+"",l;return{c(){t=oe("div"),i=oe("p"),r=at(s),n=ye(),o=oe("p"),l=at(a),W(i,"class","value svelte-1lmgxnd"),W(o,"class","label svelte-1lmgxnd"),W(t,"class","asset svelte-1lmgxnd")},m(c,d){K(c,t,d),z(t,i),z(i,r),z(t,n),z(t,o),z(o,l)},p(c,d){d&1&&s!==(s=c[0].value+"")&&pt(r,s),d&1&&a!==(a=c[0].label+"")&&pt(l,a)},d(c){c&&q(t)}}}function dk(e){let t,i=e[0]&&wC(e);return{c(){i&&i.c(),t=ii()},m(s,r){i&&i.m(s,r),K(s,t,r)},p(s,[r]){s[0]?i?i.p(s,r):(i=wC(s),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:be,o:be,d(s){s&&q(t),i&&i.d(s)}}}function uk(e,t,i){let{data:s={label:"[[Unknown Label]]",value:"[[Unknown Value]]"}}=t;return e.$$set=r=>{"data"in r&&i(0,s=r.data)},[s]}class hk extends Ze{constructor(t){super(),Le(this,t,uk,dk,Ne,{data:0},ck)}}function fk(e){Wt(e,"svelte-1bils14","button.svelte-1bils14{cursor:pointer;display:block;width:300px;height:65px;border-radius:12px;font-size:16px;font-weight:600;color:var(--button-text-color);background-color:var(--button-tertiary-color);border:none;box-shadow:none;margin:27px auto 0}")}function pk(e){let t,i=e[0]("close",{default:"Close"})+"",s,r,n;return{c(){t=oe("button"),s=at(i),W(t,"class","svelte-1bils14")},m(o,a){K(o,t,a),z(t,s),r||(n=ps(t,"click",e[3]),r=!0)},p(o,[a]){a&1&&i!==(i=o[0]("close",{default:"Close"})+"")&&pt(s,i)},i:be,o:be,d(o){o&&q(t),r=!1,n()}}}function gk(e,t,i){let s;const{t:r}=Bn("i18n");Fe(e,r,a=>i(0,s=a));const n=br();return[s,r,n,()=>n("complete")]}class mk extends Ze{constructor(t){super(),Le(this,t,gk,pk,Ne,{},fk)}}function vk(e){Wt(e,"svelte-785ja0",".button.svelte-785ja0{--button-height:var(--space-2xl);cursor:pointer;display:flex;justify-content:center;align-items:center;gap:var(--space-2xs);height:var(--button-height);line-height:var(--button-height);text-decoration:none;text-align:center;border-radius:var(--border-radius-inner);font-size:var(--fs-1);font-weight:600;color:var(--button-color, var(--button-text-color));background:var(--button-background, var(--button-primary-background));border:none;box-shadow:var(--button-outline);flex:1}.button.svelte-785ja0:hover{background:var(--button-background-hover, var(--button-primary-background-hover));box-shadow:var(--button-outline-hover, var(--button-primary-outline-hover))}.button.svelte-785ja0:active{background:var(--button-background-active, var(--button-primary-background-active));box-shadow:var(--button-outline-active);color:var(--button-text-color-active)}.secondary.svelte-785ja0{--button-background:var(--button-secondary-background);--button-background-hover:var(--button-secondary-background-hover);--button-background-active:var(--button-secondary-background-active);--button-outline-hover:var(--button-secondary-outline-hover)}.outlined.svelte-785ja0{--button-background:transparent;--button-background-hover:transparent;--button-background-active:var(--button-outlined-background-active);--button-outline:var(--button-outlined-outline);--button-outline-hover:var(--button-outlined-outline-hover)}a.svelte-785ja0{align-self:stretch}")}function bk(e){let t,i;return t=new Ds({props:{name:e[3]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function Ck(e){let t,i,s,r,n=e[3]&&bk(e);return{c(){t=oe("a"),n&&n.c(),i=ye(),s=oe("span"),s.textContent=`${e[2]}`,W(t,"class",x9(e[5])+" svelte-785ja0"),W(t,"href",e[1]),W(t,"target",e[4]),W(t,"rel","noreferrer"),ro(t,"button",e[0])},m(o,a){K(o,t,a),n&&n.m(t,null),z(t,i),z(t,s),r=!0},p(o,[a]){o[3]&&n.p(o,a)},i(o){r||(B(n),r=!0)},o(o){P(n),r=!1},d(o){o&&q(t),n&&n.d()}}}function yk(e,t,i){let{data:s}=t,{button:r=!0,href:n,label:o,icon:a,target:l,variant:c="outlined"}=s;return e.$$set=d=>{"data"in d&&i(6,s=d.data)},[r,n,o,a,l,c,s]}class x2 extends Ze{constructor(t){super(),Le(this,t,yk,Ck,Ne,{data:6},vk)}}var Wc={L:1,M:0,Q:3,H:2},ws={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8};class wk{constructor(t){this.mode=ws.MODE_8BIT_BYTE,this.data=t}getLength(){return this.data.length}write(t){for(let i=0;i<this.data.length;i++)t.put(this.data.charCodeAt(i),8)}}class SC{constructor(){this.buffer=[],this.length=0}get(t){const i=Math.floor(t/8);return(this.buffer[i]>>>7-t%8&1)==1}put(t,i){for(let s=0;s<i;s++)this.putBit((t>>>i-s-1&1)==1)}getLengthInBits(){return this.length}putBit(t){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),t&&(this.buffer[i]|=128>>>this.length%8),this.length++}}const Ai={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Ai.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Ai.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(let e=0;e<8;e++)Ai.EXP_TABLE[e]=1<<e;for(let e=8;e<256;e++)Ai.EXP_TABLE[e]=Ai.EXP_TABLE[e-4]^Ai.EXP_TABLE[e-5]^Ai.EXP_TABLE[e-6]^Ai.EXP_TABLE[e-8];for(let e=0;e<255;e++)Ai.LOG_TABLE[Ai.EXP_TABLE[e]]=e;class Yl{constructor(t,i){if(t.length==null)throw new Error(t.length+"/"+i);let s=0;for(;s<t.length&&t[s]==0;)s++;this.num=new Array(t.length-s+i);for(let r=0;r<t.length-s;r++)this.num[r]=t[r+s]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){const i=new Array(this.getLength()+t.getLength()-1);for(let s=0;s<this.getLength();s++)for(let r=0;r<t.getLength();r++)i[s+r]^=Ai.gexp(Ai.glog(this.get(s))+Ai.glog(t.get(r)));return new Yl(i,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;const i=Ai.glog(this.get(0))-Ai.glog(t.get(0)),s=new Array(this.getLength());for(let r=0;r<this.getLength();r++)s[r]=this.get(r);for(let r=0;r<t.getLength();r++)s[r]^=Ai.gexp(Ai.glog(t.get(r))+i);return new Yl(s,0).mod(t)}}class Mr{constructor(t,i){this.totalCount=t,this.dataCount=i}static getRSBlocks(t,i){const s=Mr.getRsBlockTable(t,i);if(s==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+i);const r=s.length/3,n=[];for(let o=0;o<r;o++){const a=s[o*3+0],l=s[o*3+1],c=s[o*3+2];for(let d=0;d<a;d++)n.push(new Mr(l,c))}return n}static getRsBlockTable(t,i){switch(i){case Wc.L:return Mr.RS_BLOCK_TABLE[(t-1)*4+0];case Wc.M:return Mr.RS_BLOCK_TABLE[(t-1)*4+1];case Wc.Q:return Mr.RS_BLOCK_TABLE[(t-1)*4+2];case Wc.H:return Mr.RS_BLOCK_TABLE[(t-1)*4+3];default:return}}}Mr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];const zn={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},jt={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){let t=e<<10;for(;jt.getBCHDigit(t)-jt.getBCHDigit(jt.G15)>=0;)t^=jt.G15<<jt.getBCHDigit(t)-jt.getBCHDigit(jt.G15);return(e<<10|t)^jt.G15_MASK},getBCHTypeNumber:function(e){let t=e<<12;for(;jt.getBCHDigit(t)-jt.getBCHDigit(jt.G18)>=0;)t^=jt.G18<<jt.getBCHDigit(t)-jt.getBCHDigit(jt.G18);return e<<12|t},getBCHDigit:function(e){let t=0;for(;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return jt.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case zn.PATTERN000:return(t+i)%2==0;case zn.PATTERN001:return t%2==0;case zn.PATTERN010:return i%3==0;case zn.PATTERN011:return(t+i)%3==0;case zn.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case zn.PATTERN101:return t*i%2+t*i%3==0;case zn.PATTERN110:return(t*i%2+t*i%3)%2==0;case zn.PATTERN111:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){let t=new Yl([1],0);for(let i=0;i<e;i++)t=t.multiply(new Yl([1,Ai.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case ws.MODE_NUMBER:return 10;case ws.MODE_ALPHA_NUM:return 9;case ws.MODE_8BIT_BYTE:return 8;case ws.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case ws.MODE_NUMBER:return 12;case ws.MODE_ALPHA_NUM:return 11;case ws.MODE_8BIT_BYTE:return 16;case ws.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case ws.MODE_NUMBER:return 14;case ws.MODE_ALPHA_NUM:return 13;case ws.MODE_8BIT_BYTE:return 16;case ws.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){const t=e.getModuleCount();let i=0;for(let n=0;n<t;n++)for(let o=0;o<t;o++){let a=0;const l=e.isDark(n,o);for(let c=-1;c<=1;c++)if(!(n+c<0||t<=n+c))for(let d=-1;d<=1;d++)o+d<0||t<=o+d||c==0&&d==0||l==e.isDark(n+c,o+d)&&a++;a>5&&(i+=3+a-5)}for(let n=0;n<t-1;n++)for(let o=0;o<t-1;o++){let a=0;e.isDark(n,o)&&a++,e.isDark(n+1,o)&&a++,e.isDark(n,o+1)&&a++,e.isDark(n+1,o+1)&&a++,(a==0||a==4)&&(i+=3)}for(let n=0;n<t;n++)for(let o=0;o<t-6;o++)e.isDark(n,o)&&!e.isDark(n,o+1)&&e.isDark(n,o+2)&&e.isDark(n,o+3)&&e.isDark(n,o+4)&&!e.isDark(n,o+5)&&e.isDark(n,o+6)&&(i+=40);for(let n=0;n<t;n++)for(let o=0;o<t-6;o++)e.isDark(o,n)&&!e.isDark(o+1,n)&&e.isDark(o+2,n)&&e.isDark(o+3,n)&&e.isDark(o+4,n)&&!e.isDark(o+5,n)&&e.isDark(o+6,n)&&(i+=40);let s=0;for(let n=0;n<t;n++)for(let o=0;o<t;o++)e.isDark(o,n)&&s++;const r=Math.abs(100*s/t/t-50)/5;return i+=r*10,i}};class no{constructor(t,i){this.typeNumber=t,this.errorCorrectLevel=i,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}addData(t){const i=new wk(t);this.dataList.push(i),this.dataCache=null}isDark(t,i){if(t<0||this.moduleCount<=t||i<0||this.moduleCount<=i)throw new Error(t+","+i);return this.modules[t][i]}getModuleCount(){return this.moduleCount}make(){if(this.typeNumber<1){let t=1;for(t=1;t<40;t++){const i=Mr.getRSBlocks(t,this.errorCorrectLevel),s=new SC;let r=0;for(let n=0;n<i.length;n++)r+=i[n].dataCount;for(let n=0;n<this.dataList.length;n++){const o=this.dataList[n];s.put(o.mode,4),s.put(o.getLength(),jt.getLengthInBits(o.mode,t)),o.write(s)}if(s.getLengthInBits()<=r*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(t,i){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let s=0;s<this.moduleCount;s++){this.modules[s]=new Array(this.moduleCount);for(let r=0;r<this.moduleCount;r++)this.modules[s][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,i),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=no.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)}setupPositionProbePattern(t,i){for(let s=-1;s<=7;s++)if(!(t+s<=-1||this.moduleCount<=t+s))for(let r=-1;r<=7;r++)i+r<=-1||this.moduleCount<=i+r||(0<=s&&s<=6&&(r==0||r==6)||0<=r&&r<=6&&(s==0||s==6)||2<=s&&s<=4&&2<=r&&r<=4?this.modules[t+s][i+r]=!0:this.modules[t+s][i+r]=!1)}getBestMaskPattern(){let t=0,i=0;for(let s=0;s<8;s++){this.makeImpl(!0,s);const r=jt.getLostPoint(this);(s==0||t>r)&&(t=r,i=s)}return i}setupTimingPattern(){for(let t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(let t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)}setupPositionAdjustPattern(){const t=jt.getPatternPosition(this.typeNumber);for(let i=0;i<t.length;i++)for(let s=0;s<t.length;s++){const r=t[i],n=t[s];if(this.modules[r][n]==null)for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o==-2||o==2||a==-2||a==2||o==0&&a==0?this.modules[r+o][n+a]=!0:this.modules[r+o][n+a]=!1}}setupTypeNumber(t){const i=jt.getBCHTypeNumber(this.typeNumber);for(let s=0;s<18;s++){const r=!t&&(i>>s&1)==1;this.modules[Math.floor(s/3)][s%3+this.moduleCount-8-3]=r}for(let s=0;s<18;s++){const r=!t&&(i>>s&1)==1;this.modules[s%3+this.moduleCount-8-3][Math.floor(s/3)]=r}}setupTypeInfo(t,i){const s=this.errorCorrectLevel<<3|i,r=jt.getBCHTypeInfo(s);for(let n=0;n<15;n++){const o=!t&&(r>>n&1)==1;n<6?this.modules[n][8]=o:n<8?this.modules[n+1][8]=o:this.modules[this.moduleCount-15+n][8]=o}for(let n=0;n<15;n++){const o=!t&&(r>>n&1)==1;n<8?this.modules[8][this.moduleCount-n-1]=o:n<9?this.modules[8][15-n-1+1]=o:this.modules[8][15-n-1]=o}this.modules[this.moduleCount-8][8]=!t}mapData(t,i){let s=-1,r=this.moduleCount-1,n=7,o=0;for(let a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(let l=0;l<2;l++)if(this.modules[r][a-l]==null){let c=!1;o<t.length&&(c=(t[o]>>>n&1)==1),jt.getMask(i,r,a-l)&&(c=!c),this.modules[r][a-l]=c,n--,n==-1&&(o++,n=7)}if(r+=s,r<0||this.moduleCount<=r){r-=s,s=-s;break}}}static createData(t,i,s){const r=Mr.getRSBlocks(t,i),n=new SC;for(let a=0;a<s.length;a++){const l=s[a];n.put(l.mode,4),n.put(l.getLength(),jt.getLengthInBits(l.mode,t)),l.write(n)}let o=0;for(let a=0;a<r.length;a++)o+=r[a].dataCount;if(n.getLengthInBits()>o*8)throw new Error("code length overflow. ("+n.getLengthInBits()+">"+o*8+")");for(n.getLengthInBits()+4<=o*8&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=o*8||(n.put(no.PAD0,8),n.getLengthInBits()>=o*8));)n.put(no.PAD1,8);return no.createBytes(n,r)}static createBytes(t,i){let s=0,r=0,n=0;const o=new Array(i.length),a=new Array(i.length);for(let u=0;u<i.length;u++){const f=i[u].dataCount,g=i[u].totalCount-f;r=Math.max(r,f),n=Math.max(n,g),o[u]=new Array(f);for(let S=0;S<o[u].length;S++)o[u][S]=255&t.buffer[S+s];s+=f;const m=jt.getErrorCorrectPolynomial(g),b=new Yl(o[u],m.getLength()-1).mod(m);a[u]=new Array(m.getLength()-1);for(let S=0;S<a[u].length;S++){const I=S+b.getLength()-a[u].length;a[u][S]=I>=0?b.get(I):0}}let l=0;for(let u=0;u<i.length;u++)l+=i[u].totalCount;const c=new Array(l);let d=0;for(let u=0;u<r;u++)for(let f=0;f<i.length;f++)u<o[f].length&&(c[d++]=o[f][u]);for(let u=0;u<n;u++)for(let f=0;f<i.length;f++)u<a[f].length&&(c[d++]=a[f][u]);return c}}no.PAD0=236;no.PAD1=17;function Sk(e,t="L",i=-1){try{const s=new no(i,Wc[t]),r=[];s.addData(e),s.make();const n=s.modules,o=n.length;for(const[l,c]of n.entries()){let d;for(const[u,f]of c.entries())f?(d||(d={x:u,y:l,width:0,height:1}),d.width++):(d&&d.width>0&&r.push(d),d=void 0);d&&d.width>0&&r.push(d)}const a=[`<svg xmlns="http://www.w3.org/2000/svg" width="300" viewBox="0 0 ${o} ${o}">`];for(const{x:l,y:c,width:d,height:u}of r)a.push(`<rect x="${l}" y="${c}" width="${d}" height="${u}" />`);return a.push("</svg>"),a.join("")}catch(s){console.log("Could not render QR code: ",s)}}function Rk(e){Wt(e,"svelte-vj0cjm",".wrapper.svelte-vj0cjm.svelte-vj0cjm{position:relative;display:grid;background:var(--body-background-color);border-radius:var(--space-s);padding:var(--space-m);box-shadow:var(--qr-border-color);margin-bottom:var(--space-xs)}.qr.svelte-vj0cjm.svelte-vj0cjm{display:flex}.qr.svelte-vj0cjm svg{border-radius:var(--space-2xs);padding:var(--space-xs);background:white;flex:1;width:100%}dialog.svelte-vj0cjm.svelte-vj0cjm{padding:0;border-radius:var(--space-2xs);border:none}dialog.svelte-vj0cjm .qr.svelte-vj0cjm{background-color:white;width:min(800px, 80vmin);border:none}.button-group.svelte-vj0cjm.svelte-vj0cjm{display:grid;grid-template-columns:1fr 1fr;justify-items:center;gap:var(--space-s);position:absolute;top:100%;width:100%;transform:translateY(-50%)}.button-group.svelte-vj0cjm button.svelte-vj0cjm{display:flex;align-items:center;gap:var(--space-xs);border:none;cursor:pointer;background:var(--body-background-color);color:var(--body-text-color);font-size:var(--fs-0)}@media(max-width: 340px){.button-group.svelte-vj0cjm button span.svelte-vj0cjm:last-of-type{display:none}}.icon.svelte-vj0cjm.svelte-vj0cjm{display:grid;place-content:center;grid-template-areas:'stack'}.icon.svelte-vj0cjm>.svelte-vj0cjm{grid-area:stack}.check.svelte-vj0cjm.svelte-vj0cjm{background:var(--body-background-color)}")}function RC(e){let t,i,s,r,n,o,a,l,c,d,u,f,g,m,y=e[3]&&AC(e),b=e[3]&&IC(e);l=new Ds({props:{name:"copy",size:"var(--space-m)"}});let S=e[2]&&FC();return{c(){t=oe("div"),y&&y.c(),i=ye(),s=oe("div"),b&&b.c(),r=ye(),n=oe("button"),o=oe("div"),a=oe("div"),ne(l.$$.fragment),c=ye(),S&&S.c(),d=ye(),u=oe("div"),u.innerHTML='<span class="svelte-vj0cjm">Copy</span> <span class="svelte-vj0cjm">to clipboard</span>',W(a,"class","svelte-vj0cjm"),W(o,"class","icon svelte-vj0cjm"),W(n,"class","copy svelte-vj0cjm"),W(s,"class","button-group svelte-vj0cjm"),W(t,"class","wrapper svelte-vj0cjm")},m(I,F){K(I,t,F),y&&y.m(t,null),z(t,i),z(t,s),b&&b.m(s,null),z(s,r),z(s,n),z(n,o),z(o,a),se(l,a,null),z(o,c),S&&S.m(o,null),z(n,d),z(n,u),f=!0,g||(m=ps(n,"click",e[11]),g=!0)},p(I,F){I[3]?y?y.p(I,F):(y=AC(I),y.c(),y.m(t,i)):y&&(y.d(1),y=null),I[3]?b?(b.p(I,F),F&8&&B(b,1)):(b=IC(I),b.c(),B(b,1),b.m(s,r)):b&&(tt(),P(b,1,1,()=>{b=null}),it()),I[2]?S?F&4&&B(S,1):(S=FC(),S.c(),B(S,1),S.m(o,null)):S&&(tt(),P(S,1,1,()=>{S=null}),it())},i(I){f||(B(b),B(l.$$.fragment,I),B(S),f=!0)},o(I){P(b),P(l.$$.fragment,I),P(S),f=!1},d(I){I&&q(t),y&&y.d(),b&&b.d(),re(l),S&&S.d(),g=!1,m()}}}function AC(e){let t,i,s,r,n,o;return{c(){t=oe("div"),i=ye(),s=oe("dialog"),r=oe("button"),W(t,"class","main qr svelte-vj0cjm"),W(r,"class","qr svelte-vj0cjm"),W(s,"class","svelte-vj0cjm")},m(a,l){K(a,t,l),t.innerHTML=e[3],K(a,i,l),K(a,s,l),z(s,r),r.innerHTML=e[3],e[10](s),n||(o=[ps(r,"click",e[6]),ps(s,"click",u2(e[7])),ps(s,"keydown",_9(rv(e[8])),!0)],n=!0)},p(a,l){l&8&&(t.innerHTML=a[3]),l&8&&(r.innerHTML=a[3])},d(a){a&&(q(t),q(i),q(s)),e[10](null),n=!1,Tn(o)}}}function IC(e){let t,i,s,r,n,o,a;return i=new Ds({props:{name:"expand",size:"var(--space-m)"}}),{c(){t=oe("button"),ne(i.$$.fragment),s=ye(),r=oe("div"),r.innerHTML='<span class="svelte-vj0cjm">Expand</span> <span class="svelte-vj0cjm">QR code</span>',W(t,"class","expand svelte-vj0cjm")},m(l,c){K(l,t,c),se(i,t,null),z(t,s),z(t,r),n=!0,o||(a=ps(t,"click",e[5]),o=!0)},p:be,i(l){n||(B(i.$$.fragment,l),n=!0)},o(l){P(i.$$.fragment,l),n=!1},d(l){l&&q(t),re(i),o=!1,a()}}}function FC(e){let t,i,s,r;return i=new Ds({props:{name:"check",size:"var(--space-m)"}}),{c(){t=oe("div"),ne(i.$$.fragment),W(t,"class","check svelte-vj0cjm")},m(n,o){K(n,t,o),se(i,t,null),r=!0},i(n){r||(B(i.$$.fragment,n),n&&xa(()=>{r&&(s||(s=Jb(t,yC,{duration:180,easing:mC},!0)),s.run(1))}),r=!0)},o(n){P(i.$$.fragment,n),n&&(s||(s=Jb(t,yC,{duration:180,easing:mC},!1)),s.run(0)),r=!1},d(n){n&&q(t),re(i),n&&s&&s.end()}}}function Ak(e){let t,i,s=e[0]&&RC(e);return{c(){s&&s.c(),t=ii()},m(r,n){s&&s.m(r,n),K(r,t,n),i=!0},p(r,[n]){r[0]?s?(s.p(r,n),n&1&&B(s,1)):(s=RC(r),s.c(),B(s,1),s.m(t.parentNode,t)):s&&(tt(),P(s,1,1,()=>{s=null}),it())},i(r){i||(B(s),i=!0)},o(r){P(s),i=!1},d(r){r&&q(t),s&&s.d(r)}}}function Ik(e,t,i){let s,{data:r=""}=t,n,o=!1,a=!1;const l=At();Fe(e,l,b=>i(3,s=b)),hc(()=>{try{l.set(Sk(r))}catch(b){console.error("Error rendering QR code",b)}});const c=()=>{o?d():(o=!0,n.showModal())},d=()=>{n.close(),o=!1};function u(b){var S=n.getBoundingClientRect(),I=S.top<=b.clientY&&b.clientY<=S.top+S.height&&S.left<=b.clientX&&b.clientX<=S.left+S.width;I||d()}function f(b){b.key==="Escape"&&d()}function g(b){navigator.clipboard&&(navigator.clipboard.writeText(b),i(2,a=!0),setTimeout(()=>i(2,a=!1),1200))}function m(b){xo[b?"unshift":"push"](()=>{n=b,i(1,n)})}const y=()=>g(r);return e.$$set=b=>{"data"in b&&i(0,r=b.data)},[r,n,a,s,l,c,d,u,f,g,m,y]}class Fk extends Ze{constructor(t){super(),Le(this,t,Ik,Ak,Ne,{data:0},Rk)}}function Ek(e){Wt(e,"svelte-1gpx2bs",'.wrapper.svelte-1gpx2bs{position:relative;display:flex;display:grid;background-color:var(--text-area-background);border-radius:var(--border-radius-inner);overflow:hidden}textarea.svelte-1gpx2bs{--rows:9;flex:1;color:var(--text-area-text-color);background-color:var(--text-area-background);border:none;font-size:var(--fs-0);font-weight:400;line-height:1.5;resize:none;opacity:0.75;height:calc(var(--fs-0) * 1.5 * var(--rows) - var(--fs-0) * 1.5 * 0.5);border-radius:inherit;padding-inline-start:var(--space-m);padding-block-start:var(--space-m)}.wrapper.svelte-1gpx2bs::before,.wrapper.svelte-1gpx2bs::after{content:"";display:block;position:absolute;z-index:2;width:100%;height:var(--space-l);background:linear-gradient(var(--deg), transparent, black 100%)}.wrapper.svelte-1gpx2bs::before{--deg:0;top:0;opacity:var(--top-shadow-opacity, 0)}.wrapper.svelte-1gpx2bs::after{--deg:180deg;bottom:0;opacity:var(--bottom-shadow-opacity, 0)}')}function Mk(e){let t,i,s,r,n;return{c(){t=oe("div"),i=oe("textarea"),i.readOnly=!0,i.value=s=e[0].content,W(i,"class","svelte-1gpx2bs"),W(t,"class","wrapper svelte-1gpx2bs")},m(o,a){K(o,t,a),z(t,i),e[4](i),e[5](t),r||(n=ps(i,"scroll",e[3]),r=!0)},p(o,[a]){a&1&&s!==(s=o[0].content)&&(i.value=s)},i:be,o:be,d(o){o&&q(t),e[4](null),e[5](null),r=!1,n()}}}let pp=.2;function xk(e,t,i){let{data:s={}}=t,r,n;function o(c){let d=c.target.scrollHeight-c.target.clientHeight,u=c.target.scrollTop/d,f=u*pp,g=(1-u)*pp;r.style.setProperty("--top-shadow-opacity",f),r.style.setProperty("--bottom-shadow-opacity",g)}hc(()=>{let c=(1-n.scrollTop/(n.scrollHeight-n.clientHeight))*pp;r.style.setProperty("--bottom-shadow-opacity",c)});function a(c){xo[c?"unshift":"push"](()=>{n=c,i(2,n)})}function l(c){xo[c?"unshift":"push"](()=>{r=c,i(1,r)})}return e.$$set=c=>{"data"in c&&i(0,s=c.data)},[s,r,n,o,a,l]}class kk extends Ze{constructor(t){super(),Le(this,t,xk,Mk,Ne,{data:0},Ek)}}function _k(e){Wt(e,"svelte-1kd5uy1",".prompt.svelte-1kd5uy1{display:flex;flex-direction:column;gap:var(--space-m);gap:var(--space-l)}.text.svelte-1kd5uy1{display:flex;flex-direction:column;gap:var(--space-s);text-align:center}")}function EC(e,t,i){const s=e.slice();return s[6]=t[i],s}function Gk(e){var s;let t=((s=e[0])==null?void 0:s.args.title)+"",i;return{c(){i=at(t)},m(r,n){K(r,i,n)},p(r,n){var o;n&1&&t!==(t=((o=r[0])==null?void 0:o.args.title)+"")&&pt(i,t)},d(r){r&&q(i)}}}function Dk(e){var s;let t=((s=e[0])==null?void 0:s.args.body)+"",i;return{c(){i=at(t)},m(r,n){K(r,i,n)},p(r,n){var o;n&1&&t!==(t=((o=r[0])==null?void 0:o.args.body)+"")&&pt(i,t)},d(r){r&&q(i)}}}function MC(e){let t,i,s;const r=[e[6].props];var n=e[6].component;function o(a,l){let c={};if(l!==void 0&&l&2)c=Qb(r,[qb(a[6].props)]);else for(let d=0;d<r.length;d+=1)c=gh(c,r[d]);return{props:c}}return n&&(t=Xb(n,o(e)),t.$on("complete",e[4]),t.$on("cancel",e[5])),{c(){t&&ne(t.$$.fragment),i=ii()},m(a,l){t&&se(t,a,l),K(a,i,l),s=!0},p(a,l){if(l&2&&n!==(n=a[6].component)){if(t){tt();const c=t;P(c.$$.fragment,1,0,()=>{re(c,1)}),it()}n?(t=Xb(n,o(a,l)),t.$on("complete",a[4]),t.$on("cancel",a[5]),ne(t.$$.fragment),B(t.$$.fragment,1),se(t,i.parentNode,i)):t=null}else if(n){const c=l&2?Qb(r,[qb(a[6].props)]):{};t.$set(c)}},i(a){s||(t&&B(t.$$.fragment,a),s=!0)},o(a){t&&P(t.$$.fragment,a),s=!1},d(a){a&&q(i),t&&re(t,a)}}}function Wk(e){let t,i,s,r,n,o,a;s=new Vn({props:{$$slots:{default:[Gk]},$$scope:{ctx:e}}}),n=new nv({props:{$$slots:{default:[Dk]},$$scope:{ctx:e}}});let l=Qs(e[1]),c=[];for(let u=0;u<l.length;u+=1)c[u]=MC(EC(e,l,u));const d=u=>P(c[u],1,1,()=>{c[u]=null});return{c(){t=oe("div"),i=oe("div"),ne(s.$$.fragment),r=ye(),ne(n.$$.fragment),o=ye();for(let u=0;u<c.length;u+=1)c[u].c();W(i,"class","text svelte-1kd5uy1"),W(t,"class","prompt svelte-1kd5uy1")},m(u,f){K(u,t,f),z(t,i),se(s,i,null),z(i,r),se(n,i,null),z(t,o);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(t,null);a=!0},p(u,[f]){const g={};f&513&&(g.$$scope={dirty:f,ctx:u}),s.$set(g);const m={};if(f&513&&(m.$$scope={dirty:f,ctx:u}),n.$set(m),f&10){l=Qs(u[1]);let y;for(y=0;y<l.length;y+=1){const b=EC(u,l,y);c[y]?(c[y].p(b,f),B(c[y],1)):(c[y]=MC(b),c[y].c(),B(c[y],1),c[y].m(t,null))}for(tt(),y=l.length;y<c.length;y+=1)d(y);it()}},i(u){if(!a){B(s.$$.fragment,u),B(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)B(c[f]);a=!0}},o(u){P(s.$$.fragment,u),P(n.$$.fragment,u),c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)P(c[f]);a=!1},d(u){u&&q(t),re(s),re(n),uc(c,u)}}}function Tk(e,t,i){let s,r;Fe(e,ho,c=>i(0,s=c));const n=$i(ho,c=>{const d=[];return c&&c.args.elements.forEach(u=>{switch(u.type){case"accept":{d.push({component:lk,props:{data:u.data}});break}case"asset":{d.push({component:hk,props:{data:u.data}});break}case"close":{d.push({component:mk,props:{label:u.label}});break}case"link":{d.push({component:x2,props:{data:u.data}});break}case"qr":{d.push({component:Fk,props:{data:u.data}});break}case"countdown":{d.push({component:fu,props:{data:u.data}});break}case"textarea":{d.push({component:kk,props:{data:u.data}});break}case"button":{d.push({component:Ch,props:{data:u.data}});break}default:throw new Error(`Unknown element type: ${u.type}`)}}),d});Fe(e,n,c=>i(1,r=c));const o=br();return[s,r,n,o,()=>o("complete"),()=>o("cancel")]}class Nk extends Ze{constructor(t){super(),Le(this,t,Tk,Wk,Ne,{},_k)}}var xC="1.4.0-rc6";function Bk(e){Wt(e,"svelte-tj2pg7","div.svelte-tj2pg7{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-m)}svg.svelte-tj2pg7{height:auto;width:100%;max-width:200px}")}function Vk(e){let t,i,s,r,n,o,a,l,c,d,u,f,g;return{c(){t=Te("svg"),i=Te("path"),s=Te("path"),r=Te("path"),n=Te("path"),o=Te("path"),a=Te("path"),l=Te("path"),c=Te("path"),d=Te("path"),u=Te("path"),f=Te("path"),g=Te("path"),W(i,"d","M273.403 84.085C273.403 83.4185 272.851 82.8783 272.171 82.8783H265.007C264.327 82.8783 263.775 83.4185 263.775 84.085V106.927C263.775 110.163 263.082 112.365 261.908 113.745C260.77 115.083 259.014 115.841 256.4 115.841C253.723 115.841 251.923 115.078 250.76 113.737C249.564 112.357 248.859 110.158 248.859 106.927V96.1519C248.859 95.4854 248.307 94.9452 247.627 94.9452H240.408C239.727 94.9452 239.175 95.4854 239.175 96.1519V106.927C239.175 110.16 238.474 112.36 237.286 113.74C236.131 115.08 234.345 115.841 231.689 115.841C229.131 115.841 227.36 115.114 226.172 113.816C225.018 112.514 224.315 110.304 224.315 106.927V84.085C224.315 83.4185 223.763 82.8783 223.082 82.8783H215.863C215.183 82.8783 214.631 83.4185 214.631 84.085V107.148C214.631 112.616 216.054 116.982 219.088 120.045C222.122 123.107 226.385 124.559 231.689 124.559C234.557 124.559 237.131 124.116 239.384 123.194L239.394 123.19C241.185 122.439 242.729 121.465 244.007 120.261C245.263 121.467 246.796 122.44 248.585 123.19L248.609 123.2C250.927 124.115 253.531 124.559 256.4 124.559C261.699 124.559 265.947 123.129 268.946 120.1C271.982 117.036 273.403 112.65 273.403 107.148V84.085Z"),W(i,"fill","#494E62"),W(s,"d","M326.457 84.085C326.457 83.4185 325.905 82.8783 325.224 82.8783H318.005C317.325 82.8783 316.773 83.4185 316.773 84.085V98.8619H299.136V84.085C299.136 83.4185 298.584 82.8783 297.904 82.8783H290.685C290.004 82.8783 289.452 83.4185 289.452 84.085V122.8C289.452 123.466 290.004 124.006 290.685 124.006H297.904C298.584 124.006 299.136 123.466 299.136 122.8V107.414H316.773V122.8C316.773 123.466 317.325 124.006 318.005 124.006H325.224C325.905 124.006 326.457 123.466 326.457 122.8V84.085Z"),W(s,"fill","#494E62"),W(r,"fill-rule","evenodd"),W(r,"clip-rule","evenodd"),W(r,"d","M378.176 124.006C378.857 124.006 379.408 123.466 379.408 122.8V101.341C379.408 97.4001 378.66 93.9713 377.103 91.1039C375.588 88.2098 373.417 86.0002 370.597 84.5155C367.796 83.0409 364.552 82.3252 360.906 82.3252C357.26 82.3252 354.016 83.0409 351.215 84.5155C348.395 86.0002 346.206 88.2088 344.655 91.1009L344.652 91.1063C343.133 93.9728 342.404 97.4004 342.404 101.341V122.8C342.404 123.466 342.955 124.006 343.636 124.006H350.744C351.425 124.006 351.977 123.466 351.977 122.8V114.051H369.724V122.8C369.724 123.466 370.276 124.006 370.957 124.006H378.176ZM367.395 93.4304L367.404 93.4391C368.88 94.9405 369.724 97.2793 369.724 100.677V105.609H351.977V100.677C351.977 97.2793 352.821 94.9405 354.297 93.4392L354.306 93.4303C355.798 91.882 357.923 91.0435 360.85 91.0435C363.778 91.0435 365.903 91.882 367.395 93.4304Z"),W(r,"fill","#494E62"),W(n,"fill-rule","evenodd"),W(n,"clip-rule","evenodd"),W(n,"d","M421.019 123.482C421.249 123.81 421.63 124.006 422.036 124.006H429.81C430.268 124.006 430.688 123.758 430.901 123.361C431.114 122.964 431.085 122.485 430.826 122.116L422.723 110.587C424.933 109.494 426.707 107.983 428.005 106.045C429.603 103.717 430.376 100.969 430.376 97.8563C430.376 94.8268 429.663 92.1432 428.187 89.8559C426.712 87.5705 424.59 85.837 421.877 84.6445C419.204 83.4531 416.099 82.8783 412.596 82.8783H396.603C395.923 82.8783 395.371 83.4185 395.371 84.085V122.8C395.371 123.466 395.923 124.006 396.603 124.006H403.822C404.503 124.006 405.055 123.466 405.055 122.8V112.724H412.596C412.917 112.724 413.212 112.72 413.475 112.711L421.019 123.482ZM418.638 93.0871C419.931 94.1409 420.637 95.6687 420.637 97.8563C420.637 100.039 419.933 101.592 418.631 102.686C417.309 103.76 415.252 104.393 412.263 104.393H405.055V91.3754H412.263C415.256 91.3754 417.315 92.0098 418.638 93.0871Z"),W(n,"fill","#494E62"),W(o,"d","M453.668 122.8V109.184H469.372C470.053 109.184 470.605 108.644 470.605 107.977V101.894C470.605 101.227 470.053 100.687 469.372 100.687H453.668V98.5753C453.668 95.9375 454.441 94.1359 455.807 92.9529C457.199 91.7469 459.374 91.0435 462.542 91.0435C465.829 91.0435 468.452 91.7903 470.494 93.201C470.805 93.416 471.2 93.478 471.565 93.3691C471.929 93.2601 472.221 92.9924 472.357 92.6438L474.634 86.7813C474.839 86.251 474.64 85.6517 474.155 85.3418C472.582 84.3375 470.769 83.5885 468.732 83.0814C466.697 82.5746 464.521 82.3252 462.209 82.3252C456.701 82.3252 452.209 83.729 448.887 86.6749C445.583 89.6004 443.984 93.6202 443.984 98.5753V122.8C443.984 123.466 444.536 124.006 445.217 124.006H452.436C453.116 124.006 453.668 123.466 453.668 122.8Z"),W(o,"fill","#494E62"),W(a,"d","M177.58 117.515C177.507 121.507 174.869 124.279 172.268 125.782L166.67 129.016C163.999 130.559 160.875 131.159 158.077 131.159C155.278 131.159 152.155 130.559 149.485 129.016L143.994 125.782V136.762C143.994 140.829 141.316 143.664 138.68 145.188L133.083 148.422C130.411 149.965 127.288 150.565 124.489 150.565C121.69 150.565 118.567 149.965 115.897 148.422L107.695 143.683L99.495 148.422C96.8235 149.965 93.7002 150.565 90.9014 150.565C88.1027 150.565 84.9808 149.965 82.3093 148.422L43.1243 125.782C40.523 124.279 37.8851 121.507 37.812 117.515L37.8105 117.269V131.648L37.812 131.895C37.8851 135.886 40.523 138.659 43.1243 140.161L82.3093 162.801C84.9808 164.344 88.1027 164.944 90.9014 164.944C93.7002 164.944 96.8235 164.344 99.495 162.801L107.695 158.063L115.897 162.801C118.567 164.344 121.69 164.944 124.489 164.944C127.288 164.944 130.411 164.344 133.083 162.801L138.68 159.567C141.316 158.044 143.994 155.209 143.994 151.142V140.161L149.485 143.396C152.155 144.939 155.278 145.538 158.077 145.538C160.875 145.538 163.999 144.939 166.67 143.396L172.268 140.161C174.869 138.659 177.507 135.886 177.58 131.895L177.58 117.515Z"),W(a,"fill","#F4FAF4"),W(l,"d","M37.8456 103.768C37.8224 103.982 37.8105 104.199 37.8105 104.419V117.268L37.812 117.515C37.8851 121.507 40.523 124.279 43.1243 125.782L82.3093 148.422C84.9808 149.964 88.1027 150.564 90.9014 150.564C93.7002 150.564 96.8235 149.964 99.495 148.422L107.695 143.683L115.897 148.422C118.567 149.964 121.69 150.564 124.489 150.564C127.288 150.564 130.411 149.964 133.083 148.422L138.68 145.187C141.316 143.664 143.994 140.829 143.994 136.762V125.782L149.484 129.016C152.155 130.559 155.278 131.159 158.077 131.159C160.875 131.159 163.999 130.559 166.67 129.016L172.268 125.782C174.869 124.279 177.507 121.507 177.58 117.515V103.136C177.506 107.127 174.869 109.899 172.268 111.402L166.67 114.636C163.999 116.179 160.875 116.779 158.077 116.779C155.278 116.779 152.155 116.179 149.484 114.636L143.887 111.402C143.797 111.35 143.707 111.296 143.617 111.241C143.86 112.035 143.997 112.892 143.997 113.813C143.997 114.082 143.985 114.346 143.962 114.604C143.983 114.807 143.994 115.012 143.994 115.219V122.382C143.994 126.449 141.316 129.284 138.68 130.808L133.083 134.042C130.411 135.585 127.288 136.184 124.489 136.184C121.69 136.184 118.567 135.585 115.897 134.042L107.695 129.303L99.495 134.042C96.8235 135.585 93.7002 136.184 90.9014 136.184C88.1027 136.184 84.9808 135.585 82.3093 134.042L43.1243 111.402C40.6627 109.98 38.1684 107.421 37.8456 103.768Z"),W(l,"fill","#B2F2E1"),W(c,"d","M105.024 64.9883C105.03 65.0464 105.036 65.1046 105.043 65.1627C105.324 67.5849 106.527 69.4925 108.024 70.9048C107.915 70.903 107.807 70.9021 107.699 70.9021C106.824 70.9021 105.918 70.9607 105.003 71.0884V65.4957C105.003 65.3248 105.01 65.1556 105.024 64.9883Z"),W(c,"fill","#B2F2E1"),W(d,"d","M48.7253 82.7478L43.1274 85.9821C40.6334 87.423 38.1038 90.037 37.837 93.7573C37.8195 93.932 37.8105 94.1145 37.8105 94.3053V102.889L37.812 103.135C37.8851 107.127 40.523 109.899 43.1243 111.402L82.3093 134.042C84.9808 135.585 88.1027 136.185 90.9014 136.185C93.7001 136.185 96.8235 135.585 99.495 134.042L107.695 129.304L115.897 134.042C118.567 135.585 121.69 136.185 124.489 136.185C127.288 136.185 130.411 135.585 133.083 134.042L138.68 130.808C141.316 129.284 143.994 126.45 143.994 122.382V115.219C143.994 115.012 143.983 114.807 143.962 114.605C143.985 114.346 143.997 114.082 143.997 113.813C143.997 112.892 143.86 112.035 143.617 111.241C143.707 111.296 143.797 111.35 143.887 111.402L149.484 114.636C152.155 116.179 155.278 116.779 158.077 116.779C160.875 116.779 163.999 116.179 166.67 114.636L172.268 111.402C174.869 109.899 177.507 107.127 177.58 103.135V94.6923C177.583 94.5981 177.584 94.5031 177.584 94.4075C177.584 94.3119 177.583 94.217 177.58 94.1228L177.581 75.2371C177.583 75.1592 177.584 75.0808 177.584 75.0019C177.584 70.9348 174.908 68.0999 172.271 66.5765L133.085 43.9366C130.415 42.3936 127.292 41.7939 124.493 41.7939C121.694 41.7939 118.571 42.3936 115.9 43.9366L110.303 47.1708C107.666 48.6943 104.989 51.5291 104.989 55.5963C104.989 55.788 104.995 55.9769 105.006 56.1631C105.004 56.2285 105.003 56.2944 105.003 56.3609V63.611C104.984 63.8988 104.981 64.1871 104.992 64.4752C104.999 64.7047 105.016 64.9341 105.043 65.163C105.324 67.5851 106.527 69.4928 108.024 70.9051C107.915 70.9033 107.807 70.9024 107.699 70.9024C104.9 70.9024 101.777 71.5021 99.1067 73.045L93.5087 76.2793C90.8719 77.8027 88.1951 80.6376 88.1951 84.7047C88.1951 84.9692 88.2065 85.2285 88.2284 85.4826C88.2236 85.5807 88.2212 85.6793 88.2212 85.7785V92.5656L88.2109 92.7314L88.2007 92.9128C88.1934 93.0894 88.1919 93.2661 88.1948 93.4428C88.2007 93.8112 88.2314 94.1794 88.2855 94.5454C88.3525 94.997 88.4513 95.4299 88.5777 95.8443L65.9101 82.7478C63.2396 81.2049 60.1164 80.6052 57.3177 80.6052C54.519 80.6052 51.3958 81.2049 48.7253 82.7478Z"),W(d,"fill","#7BE7CE"),W(u,"d","M130.088 49.1268C126.997 47.3406 121.984 47.3405 118.893 49.1268L113.295 52.3611C110.203 54.1473 110.203 57.0434 113.295 58.8296L151.801 81.0771C153.286 81.9349 154.12 83.0983 154.12 84.3114V85.0962C154.12 86.3092 153.286 87.4726 151.801 88.3304L146.882 91.1723C143.791 92.9586 143.791 95.8546 146.882 97.6409L152.48 100.875C155.572 102.661 160.584 102.661 163.676 100.875L169.274 97.6409C172.366 95.8546 172.366 92.9586 169.274 91.1723L164.355 88.3304C162.87 87.4726 162.036 86.3092 162.036 85.0962V84.3114C162.036 83.0983 162.87 81.9349 164.355 81.0771L169.274 78.2352C172.366 76.449 172.366 73.5529 169.274 71.7667L130.088 49.1268Z"),W(u,"fill","#494E62"),W(f,"d","M62.9133 87.938C59.8216 86.1518 54.8091 86.1518 51.7174 87.938L46.1195 91.1723C43.0279 92.9585 43.0279 95.8546 46.1195 97.6408L85.305 120.281C88.3967 122.067 93.4092 122.067 96.5009 120.281L107.697 113.812L62.9133 87.938Z"),W(f,"fill","#494E62"),W(g,"d","M128.449 104.502C128.449 105.715 129.283 106.878 130.768 107.736L135.686 110.578C138.778 112.364 138.778 115.26 135.686 117.046L130.088 120.281C126.997 122.067 121.984 122.067 118.893 120.281L107.697 113.812L118.213 107.736C119.698 106.878 120.532 105.715 120.532 104.502L120.532 103.717C120.532 102.504 119.698 101.341 118.213 100.483L96.5009 87.938C93.4092 86.1518 93.4092 83.2557 96.5009 81.4695L102.099 78.2352C105.19 76.449 110.203 76.449 113.295 78.2352L135.686 91.1723C138.778 92.9585 138.778 95.8546 135.686 97.6409L130.768 100.483C129.283 101.341 128.449 102.504 128.449 103.717L128.449 104.502Z"),W(g,"fill","#494E62"),W(t,"width","512"),W(t,"height","206"),W(t,"viewBox","0 0 512 206"),W(t,"fill","none"),W(t,"xmlns","http://www.w3.org/2000/svg"),W(t,"class","svelte-tj2pg7")},m(m,y){K(m,t,y),z(t,i),z(t,s),z(t,r),z(t,n),z(t,o),z(t,a),z(t,l),z(t,c),z(t,d),z(t,u),z(t,f),z(t,g)},d(m){m&&q(t)}}}function Ok(e){let t,i,s,r,n,o,a,l,c,d,u,f,g;return{c(){t=Te("svg"),i=Te("path"),s=Te("path"),r=Te("path"),n=Te("path"),o=Te("path"),a=Te("path"),l=Te("path"),c=Te("path"),d=Te("path"),u=Te("path"),f=Te("path"),g=Te("path"),W(i,"d","M273.61 84.1001C273.61 83.4342 273.058 82.8944 272.378 82.8944H265.214C264.534 82.8944 263.982 83.4342 263.982 84.1001V106.924C263.982 110.157 263.289 112.358 262.115 113.737C260.978 115.074 259.221 115.831 256.607 115.831C253.93 115.831 252.13 115.069 250.967 113.728C249.771 112.35 249.066 110.153 249.066 106.924V96.1574C249.066 95.4915 248.514 94.9517 247.834 94.9517H240.615C239.934 94.9517 239.382 95.4915 239.382 96.1574V106.924C239.382 110.154 238.681 112.352 237.493 113.731C236.338 115.07 234.552 115.831 231.897 115.831C229.338 115.831 227.567 115.104 226.379 113.807C225.225 112.507 224.522 110.299 224.522 106.924V84.1001C224.522 83.4342 223.97 82.8944 223.289 82.8944H216.071C215.39 82.8944 214.838 83.4342 214.838 84.1001V107.145C214.838 112.609 216.261 116.971 219.295 120.031C222.329 123.091 226.593 124.542 231.897 124.542C234.764 124.542 237.338 124.099 239.591 123.178L239.601 123.174C241.392 122.423 242.936 121.451 244.214 120.248C245.47 121.452 247.003 122.424 248.792 123.174L248.816 123.184C251.134 124.098 253.738 124.542 256.607 124.542C261.906 124.542 266.154 123.113 269.153 120.086C272.189 117.025 273.61 112.643 273.61 107.145V84.1001Z"),W(i,"fill","white"),W(s,"d","M326.664 84.1001C326.664 83.4342 326.112 82.8944 325.431 82.8944H318.212C317.532 82.8944 316.98 83.4342 316.98 84.1001V98.8652H299.343V84.1001C299.343 83.4342 298.791 82.8944 298.111 82.8944H290.892C290.211 82.8944 289.659 83.4342 289.659 84.1001V122.784C289.659 123.45 290.211 123.99 290.892 123.99H298.111C298.791 123.99 299.343 123.45 299.343 122.784V107.411H316.98V122.784C316.98 123.45 317.532 123.99 318.212 123.99H325.431C326.112 123.99 326.664 123.45 326.664 122.784V84.1001Z"),W(s,"fill","white"),W(r,"fill-rule","evenodd"),W(r,"clip-rule","evenodd"),W(r,"d","M378.383 123.99C379.064 123.99 379.615 123.45 379.615 122.784V101.342C379.615 97.4046 378.867 93.9786 377.31 91.1134C375.795 88.2217 373.624 86.0139 370.804 84.5303C368.003 83.0569 364.759 82.3418 361.113 82.3418C357.467 82.3418 354.223 83.0569 351.422 84.5303C348.602 86.0138 346.413 88.2207 344.862 91.1105L344.859 91.1159C343.34 93.9801 342.611 97.4049 342.611 101.342V122.784C342.611 123.45 343.162 123.99 343.843 123.99H350.951C351.632 123.99 352.184 123.45 352.184 122.784V114.042H369.931V122.784C369.931 123.45 370.483 123.99 371.164 123.99H378.383ZM367.602 93.4381L367.611 93.4468C369.087 94.947 369.931 97.284 369.931 100.679V105.607H352.184V100.679C352.184 97.284 353.028 94.947 354.504 93.4469L354.513 93.438C356.005 91.891 358.13 91.0532 361.057 91.0532C363.985 91.0532 366.11 91.891 367.602 93.4381Z"),W(r,"fill","white"),W(n,"fill-rule","evenodd"),W(n,"clip-rule","evenodd"),W(n,"d","M421.226 123.466C421.456 123.794 421.837 123.99 422.243 123.99H430.017C430.475 123.99 430.895 123.741 431.108 123.345C431.321 122.949 431.292 122.469 431.033 122.1L422.93 110.581C425.14 109.488 426.914 107.979 428.212 106.043C429.81 103.717 430.583 100.971 430.583 97.8605C430.583 94.8334 429.87 92.152 428.394 89.8665C426.919 87.5829 424.797 85.8508 422.084 84.6593C419.411 83.4688 416.306 82.8944 412.803 82.8944H396.81C396.13 82.8944 395.578 83.4342 395.578 84.1001V122.784C395.578 123.45 396.13 123.99 396.81 123.99H404.029C404.71 123.99 405.262 123.45 405.262 122.784V112.716H412.803C413.124 112.716 413.419 112.712 413.682 112.703L421.226 123.466ZM418.845 93.0951C420.138 94.1481 420.844 95.6746 420.844 97.8605C420.844 100.042 420.14 101.594 418.838 102.686C417.516 103.76 415.459 104.391 412.47 104.391H405.262V91.3847H412.47C415.463 91.3847 417.522 92.0186 418.845 93.0951Z"),W(n,"fill","white"),W(o,"d","M453.875 122.784V109.179H469.579C470.26 109.179 470.812 108.639 470.812 107.973V101.895C470.812 101.229 470.26 100.689 469.579 100.689H453.875V98.5789C453.875 95.9432 454.648 94.1431 456.014 92.961C457.406 91.7559 459.581 91.0532 462.749 91.0532C466.036 91.0532 468.659 91.7993 470.701 93.2089C471.012 93.4237 471.408 93.4857 471.772 93.3768C472.136 93.268 472.428 93.0005 472.564 92.6522L474.841 86.7944C475.046 86.2644 474.847 85.6657 474.362 85.356C472.789 84.3525 470.976 83.6041 468.939 83.0974C466.904 82.5911 464.728 82.3418 462.416 82.3418C456.908 82.3418 452.417 83.7445 449.094 86.688C445.79 89.6112 444.191 93.6277 444.191 98.5789V122.784C444.191 123.45 444.743 123.99 445.424 123.99H452.643C453.323 123.99 453.875 123.45 453.875 122.784Z"),W(o,"fill","white"),W(a,"d","M177.787 117.503C177.714 121.492 175.076 124.262 172.475 125.763L166.877 128.995C164.206 130.537 161.082 131.136 158.284 131.136C155.485 131.136 152.362 130.537 149.692 128.995L144.201 125.763V136.735C144.201 140.799 141.523 143.631 138.887 145.154L133.29 148.385C130.618 149.927 127.495 150.526 124.696 150.526C121.897 150.526 118.774 149.927 116.104 148.385L107.902 143.651L99.702 148.385C97.0305 149.927 93.9072 150.526 91.1085 150.526C88.3098 150.526 85.1879 149.927 82.5164 148.385L43.3313 125.763C40.73 124.262 38.0922 121.492 38.019 117.503L38.0176 117.257V131.625L38.019 131.871C38.0922 135.86 40.73 138.63 43.3313 140.131L82.5164 162.753C85.1879 164.295 88.3098 164.894 91.1085 164.894C93.9072 164.894 97.0305 164.295 99.702 162.753L107.902 158.018L116.104 162.753C118.774 164.295 121.897 164.894 124.696 164.894C127.495 164.894 130.618 164.295 133.29 162.753L138.887 159.521C141.523 157.999 144.201 155.167 144.201 151.103V140.131L149.692 143.363C152.362 144.905 155.485 145.504 158.284 145.504C161.082 145.504 164.206 144.905 166.877 143.363L172.475 140.131C175.076 138.63 177.714 135.86 177.787 131.871L177.787 117.503Z"),W(a,"fill","#7BE7CE"),W(l,"d","M38.0526 103.767C38.0295 103.981 38.0176 104.198 38.0176 104.418V117.257L38.019 117.503C38.0922 121.492 40.73 124.262 43.3313 125.763L82.5164 148.385C85.1879 149.927 88.3097 150.526 91.1085 150.526C93.9072 150.526 97.0305 149.927 99.702 148.385L107.902 143.65L116.104 148.385C118.774 149.927 121.897 150.526 124.696 150.526C127.495 150.526 130.618 149.927 133.29 148.385L138.887 145.153C141.523 143.631 144.201 140.799 144.201 136.735V125.763L149.692 128.995C152.362 130.537 155.485 131.136 158.284 131.136C161.082 131.136 164.206 130.537 166.877 128.995L172.475 125.763C175.076 124.262 177.714 121.492 177.787 117.503V103.136C177.714 107.124 175.076 109.893 172.475 111.395L166.877 114.627C164.206 116.168 161.082 116.768 158.284 116.768C155.485 116.768 152.362 116.168 149.692 114.627L144.094 111.395C144.004 111.343 143.914 111.289 143.824 111.234C144.067 112.027 144.204 112.884 144.204 113.804C144.204 114.073 144.192 114.337 144.169 114.595C144.19 114.797 144.201 115.002 144.201 115.209V122.366C144.201 126.43 141.523 129.263 138.887 130.785L133.29 134.017C130.618 135.558 127.495 136.158 124.696 136.158C121.897 136.158 118.774 135.558 116.104 134.017L107.902 129.282L99.702 134.017C97.0305 135.558 93.9072 136.158 91.1085 136.158C88.3097 136.158 85.1879 135.558 82.5164 134.017L43.3313 111.395C40.8698 109.974 38.3755 107.417 38.0526 103.767Z"),W(l,"fill","#B2F2E1"),W(c,"d","M105.231 65.0186C105.237 65.0767 105.243 65.1348 105.25 65.1928C105.531 67.6131 106.734 69.5192 108.231 70.9303C108.122 70.9285 108.014 70.9276 107.906 70.9276C107.031 70.9276 106.125 70.9862 105.21 71.1138V65.5255C105.21 65.3548 105.217 65.1857 105.231 65.0186Z"),W(c,"fill","#B2F2E1"),W(d,"d","M48.9324 82.7639L43.3344 85.9955C40.8405 87.4353 38.3108 90.0472 38.044 93.7645C38.0265 93.939 38.0176 94.1214 38.0176 94.312V102.889L38.019 103.135C38.0922 107.124 40.73 109.894 43.3313 111.395L82.5164 134.017C85.1879 135.559 88.3097 136.158 91.1085 136.158C93.9072 136.158 97.0305 135.559 99.702 134.017L107.902 129.282L116.104 134.017C118.774 135.559 121.897 136.158 124.696 136.158C127.495 136.158 130.618 135.559 133.29 134.017L138.887 130.785C141.523 129.263 144.201 126.431 144.201 122.367V115.209C144.201 115.003 144.19 114.798 144.169 114.595C144.192 114.337 144.204 114.073 144.204 113.804C144.204 112.884 144.067 112.027 143.824 111.235C143.914 111.29 144.004 111.343 144.094 111.395L149.692 114.627C152.362 116.169 155.485 116.768 158.284 116.768C161.082 116.768 164.206 116.169 166.877 114.627L172.475 111.395C175.076 109.894 177.714 107.124 177.787 103.135V94.6988C177.79 94.6046 177.791 94.5098 177.791 94.4142C177.791 94.3187 177.79 94.2239 177.787 94.1297L177.788 75.2591C177.79 75.1813 177.791 75.103 177.791 75.0242C177.791 70.9603 175.115 68.1277 172.478 66.6055L133.292 43.9837C130.622 42.442 127.499 41.8428 124.7 41.8428C121.901 41.8428 118.778 42.442 116.107 43.9837L110.51 47.2154C107.873 48.7376 105.196 51.5702 105.196 55.6341C105.196 55.8256 105.202 56.0144 105.214 56.2005C105.211 56.2658 105.21 56.3317 105.21 56.3981V63.6424C105.191 63.9299 105.188 64.218 105.199 64.5058C105.206 64.7352 105.223 64.9644 105.25 65.1931C105.531 67.6133 106.734 69.5194 108.231 70.9306C108.122 70.9288 108.014 70.9279 107.906 70.9279C105.107 70.9279 101.984 71.5271 99.3137 73.0688L93.7158 76.3005C91.0789 77.8227 88.4022 80.6553 88.4022 84.7192C88.4022 84.9835 88.4135 85.2426 88.4354 85.4964C88.4306 85.5945 88.4282 85.693 88.4282 85.7922V92.5738L88.4179 92.7394L88.4077 92.9207C88.4004 93.0971 88.3989 93.2737 88.4019 93.4503C88.4077 93.8184 88.4384 94.1863 88.4925 94.552C88.5595 95.0033 88.6583 95.4358 88.7848 95.8499L66.1171 82.7639C63.4466 81.2222 60.3234 80.623 57.5247 80.623C54.726 80.623 51.6029 81.2222 48.9324 82.7639Z"),W(d,"fill","#F4FAF4"),W(u,"d","M130.295 49.1697C127.204 47.3849 122.191 47.3849 119.1 49.1697L113.502 52.4013C110.41 54.1862 110.41 57.0799 113.502 58.8647L152.008 81.0944C153.493 81.9515 154.327 83.114 154.327 84.3261V85.1102C154.327 86.3223 153.493 87.4848 152.008 88.3419L147.089 91.1815C143.998 92.9663 143.998 95.8601 147.089 97.6449L152.687 100.877C155.779 102.661 160.791 102.661 163.883 100.877L169.481 97.6449C172.573 95.8601 172.573 92.9663 169.481 91.1815L164.562 88.3419C163.077 87.4848 162.243 86.3224 162.243 85.1102V84.3261C162.243 83.114 163.077 81.9515 164.562 81.0944L169.481 78.2548C172.573 76.47 172.573 73.5762 169.481 71.7914L130.295 49.1697Z"),W(u,"fill","#494E62"),W(f,"d","M63.1203 87.9498C60.0287 86.165 55.0161 86.165 51.9245 87.9498L46.3265 91.1815C43.2349 92.9663 43.2349 95.8601 46.3265 97.6449L85.512 120.267C88.6037 122.051 93.6162 122.051 96.7079 120.267L107.904 113.803L63.1203 87.9498Z"),W(f,"fill","#494E62"),W(g,"d","M128.656 104.5C128.656 105.712 129.49 106.875 130.975 107.732L135.893 110.572C138.985 112.356 138.985 115.25 135.893 117.035L130.295 120.267C127.204 122.051 122.191 122.051 119.1 120.267L107.904 113.803L118.42 107.732C119.905 106.875 120.739 105.712 120.739 104.5L120.739 103.716C120.739 102.504 119.905 101.342 118.42 100.485L96.7079 87.9498C93.6162 86.165 93.6162 83.2713 96.7079 81.4865L102.306 78.2548C105.397 76.47 110.41 76.47 113.502 78.2548L135.893 91.1815C138.985 92.9663 138.985 95.8601 135.893 97.6449L130.975 100.485C129.49 101.342 128.656 102.504 128.656 103.716L128.656 104.5Z"),W(g,"fill","#494E62"),W(t,"width","513"),W(t,"height","206"),W(t,"viewBox","0 0 513 206"),W(t,"fill","none"),W(t,"xmlns","http://www.w3.org/2000/svg"),W(t,"class","svelte-tj2pg7")},m(m,y){K(m,t,y),z(t,i),z(t,s),z(t,r),z(t,n),z(t,o),z(t,a),z(t,l),z(t,c),z(t,d),z(t,u),z(t,f),z(t,g)},d(m){m&&q(t)}}}function Pk(e){let t=e[1]("settings.about.version",{version:xC})+"",i;return{c(){i=at(t)},m(s,r){K(s,i,r)},p(s,r){r&2&&t!==(t=s[1]("settings.about.version",{version:xC})+"")&&pt(i,t)},d(s){s&&q(i)}}}function Lk(e){let t=e[1]("settings.about.author")+"",i;return{c(){i=at(t)},m(s,r){K(s,i,r)},p(s,r){r&2&&t!==(t=s[1]("settings.about.author")+"")&&pt(i,t)},d(s){s&&q(i)}}}function Zk(e){let t,i,s,r,n,o,a,l;function c(f,g){return f[0]==="dark"?Ok:Vk}let d=c(e),u=d(e);return s=new Vn({props:{$$slots:{default:[Pk]},$$scope:{ctx:e}}}),n=new nv({props:{$$slots:{default:[Lk]},$$scope:{ctx:e}}}),a=new x2({props:{data:{button:!0,variant:"primary",label:e[1]("settings.about.link"),href:"https://wharfkit.com",target:"_blank"}}}),{c(){t=oe("div"),u.c(),i=ye(),ne(s.$$.fragment),r=ye(),ne(n.$$.fragment),o=ye(),ne(a.$$.fragment),W(t,"class","svelte-tj2pg7")},m(f,g){K(f,t,g),u.m(t,null),z(t,i),se(s,t,null),z(t,r),se(n,t,null),z(t,o),se(a,t,null),l=!0},p(f,[g]){d!==(d=c(f))&&(u.d(1),u=d(f),u&&(u.c(),u.m(t,i)));const m={};g&10&&(m.$$scope={dirty:g,ctx:f}),s.$set(m);const y={};g&10&&(y.$$scope={dirty:g,ctx:f}),n.$set(y);const b={};g&2&&(b.data={button:!0,variant:"primary",label:f[1]("settings.about.link"),href:"https://wharfkit.com",target:"_blank"}),a.$set(b)},i(f){l||(B(s.$$.fragment,f),B(n.$$.fragment,f),B(a.$$.fragment,f),l=!0)},o(f){P(s.$$.fragment,f),P(n.$$.fragment,f),P(a.$$.fragment,f),l=!1},d(f){f&&q(t),u.d(),re(s),re(n),re(a)}}}function Hk(e,t,i){let s,r;const{t:n}=Bn("i18n");return Fe(e,n,o=>i(1,r=o)),i(0,{theme:s}=Ot(Zs),s),[s,r,n]}class Yk extends Ze{constructor(t){super(),Le(this,t,Hk,Zk,Ne,{},Bk)}}var zk="English",jk="한국어",Uk="中文",Xk="Türkçe",xr={en:zk,ko:jk,zh:Uk,"zh-Hans":"中文简体","zh-Hant":"中文繁体",tr:Xk};function Jk(e){Wt(e,"svelte-yv3ifw","label.svelte-yv3ifw{flex:1;height:100%;display:flex;align-items:center;justify-content:space-between;cursor:pointer;padding-inline:var(--space-s)}")}function kC(e){let t,i,s;return i=new Ds({props:{name:"check"}}),{c(){t=oe("div"),ne(i.$$.fragment),W(t,"class","trailing")},m(r,n){K(r,t,n),se(i,t,null),s=!0},i(r){s||(B(i.$$.fragment,r),s=!0)},o(r){P(i.$$.fragment,r),s=!1},d(r){r&&q(t),re(i)}}}function Qk(e){let t,i,s,r,n,o,a,l,c=e[2]&&kC();return{c(){t=oe("input"),i=ye(),s=at(e[6]),r=ye(),c&&c.c(),n=ii(),W(t,"type","radio"),W(t,"name",e[0]),t.value=e[1],t.checked=e[2],t.hidden=e[5],W(t,"group",e[3])},m(d,u){K(d,t,u),K(d,i,u),K(d,s,u),K(d,r,u),c&&c.m(d,u),K(d,n,u),o=!0,a||(l=ps(t,"change",function(){Nn(e[4])&&e[4].apply(this,arguments)}),a=!0)},p(d,u){e=d,(!o||u&1)&&W(t,"name",e[0]),(!o||u&2)&&(t.value=e[1]),(!o||u&4)&&(t.checked=e[2]),(!o||u&32)&&(t.hidden=e[5]),(!o||u&8)&&W(t,"group",e[3]),(!o||u&64)&&pt(s,e[6]),e[2]?c?u&4&&B(c,1):(c=kC(),c.c(),B(c,1),c.m(n.parentNode,n)):c&&(tt(),P(c,1,1,()=>{c=null}),it())},i(d){o||(B(c),o=!0)},o(d){P(c),o=!1},d(d){d&&(q(t),q(i),q(s),q(r),q(n)),c&&c.d(d),a=!1,l()}}}function qk(e){let t,i;const s=e[8].default,r=Vs(s,e,e[7],null),n=r||Qk(e);return{c(){t=oe("label"),n&&n.c(),W(t,"class","svelte-yv3ifw")},m(o,a){K(o,t,a),n&&n.m(t,null),i=!0},p(o,[a]){r?r.p&&(!i||a&128)&&Ps(r,s,o,o[7],i?Os(s,o[7],a,null):Ls(o[7]),null):n&&n.p&&(!i||a&127)&&n.p(o,i?a:-1)},i(o){i||(B(n,o),i=!0)},o(o){P(n,o),i=!1},d(o){o&&q(t),n&&n.d(o)}}}function Kk(e,t,i){let{$$slots:s={},$$scope:r}=t,{name:n}=t,{value:o}=t,{checked:a}=t,{group:l}=t,{onChange:c}=t,{hidden:d}=t,{label:u}=t;return e.$$set=f=>{"name"in f&&i(0,n=f.name),"value"in f&&i(1,o=f.value),"checked"in f&&i(2,a=f.checked),"group"in f&&i(3,l=f.group),"onChange"in f&&i(4,c=f.onChange),"hidden"in f&&i(5,d=f.hidden),"label"in f&&i(6,u=f.label),"$$scope"in f&&i(7,r=f.$$scope)},[n,o,a,l,c,d,u,r,s]}class $k extends Ze{constructor(t){super(),Le(this,t,Kk,qk,Ne,{name:0,value:1,checked:2,group:3,onChange:4,hidden:5,label:6},Jk)}}function _C(e,t,i){const s=e.slice();return s[6]=t[i],s}function e_(e){let t,i,s,r;function n(){return e[4](e[6])}function o(l){e[5](l)}let a={label:e[6].label,name:e[0],value:e[6].value,checked:e[3][e[0]]===e[6].value,onChange:n,hidden:!0};return e[3][e[0]]!==void 0&&(a.group=e[3][e[0]]),t=new $k({props:a}),xo.push(()=>v2(t,"group",o)),{c(){ne(t.$$.fragment),s=ye()},m(l,c){se(t,l,c),K(l,s,c),r=!0},p(l,c){e=l;const d={};c&2&&(d.label=e[6].label),c&1&&(d.name=e[0]),c&2&&(d.value=e[6].value),c&11&&(d.checked=e[3][e[0]]===e[6].value),c&6&&(d.onChange=n),!i&&c&9&&(i=!0,d.group=e[3][e[0]],f2(()=>i=!1)),t.$set(d)},i(l){r||(B(t.$$.fragment,l),r=!0)},o(l){P(t.$$.fragment,l),r=!1},d(l){l&&q(s),re(t,l)}}}function GC(e){let t,i;return t=new _r({props:{$$slots:{default:[e_]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&527&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function t_(e){let t,i,s=Qs(e[1]),r=[];for(let o=0;o<s.length;o+=1)r[o]=GC(_C(e,s,o));const n=o=>P(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=ii()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);K(o,t,a),i=!0},p(o,a){if(a&15){s=Qs(o[1]);let l;for(l=0;l<s.length;l+=1){const c=_C(o,s,l);r[l]?(r[l].p(c,a),B(r[l],1)):(r[l]=GC(c),r[l].c(),B(r[l],1),r[l].m(t.parentNode,t))}for(tt(),l=s.length;l<r.length;l+=1)n(l);it()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)B(r[a]);i=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)P(r[a]);i=!1},d(o){o&&q(t),uc(r,o)}}}function i_(e){let t,i;return t=new fc({props:{$$slots:{default:[t_]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,[r]){const n={};r&527&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function s_(e,t,i){let s;Fe(e,Zs,c=>i(3,s=c));let{setting:r}=t,{options:n}=t,{onChange:o=c=>{Ce(Zs,s[r]=c,s)}}=t;const a=c=>o(c.value);function l(c){e.$$.not_equal(s[r],c)&&(s[r]=c,Zs.set(s))}return e.$$set=c=>{"setting"in c&&i(0,r=c.setting),"options"in c&&i(1,n=c.options),"onChange"in c&&i(2,o=c.onChange)},[r,n,o,s,a,l]}class cv extends Ze{constructor(t){super(),Le(this,t,s_,i_,Ne,{setting:0,options:1,onChange:2})}}function DC(e){let t,i;return t=new Cr({props:{direction:e[4],$$slots:{default:[n_]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.direction=s[4]),r&524353&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function r_(e){let t,i,s,r,n,o,a,l,c,d;return t=new _r({props:{label:e[0]("settings.theme.title"),onClick:e[11],leadingIcon:"theme",value:e[6].theme?e[0](`settings.theme.${e[6].theme}`):e[0]("settings.theme.automatic")}}),s=new _r({props:{label:e[0]("settings.language.title"),onClick:e[12],leadingIcon:"globe",value:xr[e[6].language]}}),n=new _r({props:{label:e[0]("settings.animations.title"),onClick:e[13],leadingIcon:"waves",value:e[6].animations?e[0]("settings.animations.enabled"):e[0]("settings.animations.disabled")}}),a=new _r({props:{label:e[0]("settings.about.title"),onClick:e[14],leadingIcon:"info"}}),c=new _r({props:{label:e[0]("settings.github"),link:"https://www.github.com/wharfkit",leadingIcon:"github",trailingIcon:"external-link"}}),{c(){ne(t.$$.fragment),i=ye(),ne(s.$$.fragment),r=ye(),ne(n.$$.fragment),o=ye(),ne(a.$$.fragment),l=ye(),ne(c.$$.fragment)},m(u,f){se(t,u,f),K(u,i,f),se(s,u,f),K(u,r,f),se(n,u,f),K(u,o,f),se(a,u,f),K(u,l,f),se(c,u,f),d=!0},p(u,f){const g={};f&1&&(g.label=u[0]("settings.theme.title")),f&65&&(g.value=u[6].theme?u[0](`settings.theme.${u[6].theme}`):u[0]("settings.theme.automatic")),t.$set(g);const m={};f&1&&(m.label=u[0]("settings.language.title")),f&64&&(m.value=xr[u[6].language]),s.$set(m);const y={};f&1&&(y.label=u[0]("settings.animations.title")),f&65&&(y.value=u[6].animations?u[0]("settings.animations.enabled"):u[0]("settings.animations.disabled")),n.$set(y);const b={};f&1&&(b.label=u[0]("settings.about.title")),a.$set(b);const S={};f&1&&(S.label=u[0]("settings.github")),c.$set(S)},i(u){d||(B(t.$$.fragment,u),B(s.$$.fragment,u),B(n.$$.fragment,u),B(a.$$.fragment,u),B(c.$$.fragment,u),d=!0)},o(u){P(t.$$.fragment,u),P(s.$$.fragment,u),P(n.$$.fragment,u),P(a.$$.fragment,u),P(c.$$.fragment,u),d=!1},d(u){u&&(q(i),q(r),q(o),q(l)),re(t,u),re(s,u),re(n,u),re(a,u),re(c,u)}}}function n_(e){let t,i;return t=new fc({props:{$$slots:{default:[r_]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&524353&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function o_(e){let t,i;return t=new Cr({props:{direction:e[4],$$slots:{default:[d_]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.direction=s[4]),r&524296&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function a_(e){let t,i;return t=new Cr({props:{direction:e[4],$$slots:{default:[u_]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.direction=s[4]),r&524292&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function l_(e){let t,i;return t=new Cr({props:{direction:e[4],$$slots:{default:[h_]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.direction=s[4]),r&524290&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function c_(e){let t,i;return t=new Cr({props:{direction:e[4],$$slots:{default:[f_]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.direction=s[4]),r&524288&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function d_(e){let t,i;return t=new cv({props:{setting:"animations",options:e[3]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&8&&(n.options=s[3]),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function u_(e){let t,i;return t=new cv({props:{setting:"language",options:e[2],onChange:e[15]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.options=s[2]),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function h_(e){let t,i;return t=new cv({props:{setting:"theme",options:e[1]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&2&&(n.options=s[1]),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function f_(e){let t,i;return t=new Yk({}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function p_(e){let t,i,s,r,n,o=!e[5].path&&DC(e);const a=[c_,l_,a_,o_],l=[];function c(d,u){return d[5].path==="about"?0:d[5].path==="theme"?1:d[5].path==="language"?2:d[5].path==="animations"?3:-1}return~(s=c(e))&&(r=l[s]=a[s](e)),{c(){t=oe("div"),o&&o.c(),i=ye(),r&&r.c(),W(t,"class","settings-menu")},m(d,u){K(d,t,u),o&&o.m(t,null),z(t,i),~s&&l[s].m(t,null),n=!0},p(d,[u]){d[5].path?o&&(tt(),P(o,1,1,()=>{o=null}),it()):o?(o.p(d,u),u&32&&B(o,1)):(o=DC(d),o.c(),B(o,1),o.m(t,i));let f=s;s=c(d),s===f?~s&&l[s].p(d,u):(r&&(tt(),P(l[f],1,1,()=>{l[f]=null}),it()),~s?(r=l[s],r?r.p(d,u):(r=l[s]=a[s](d),r.c()),B(r,1),r.m(t,null)):r=null)},i(d){n||(B(o),B(r),n=!0)},o(d){P(o),P(r),n=!1},d(d){d&&q(t),o&&o.d(),~s&&l[s].d()}}}function g_(e,t,i){let s,r,n,o,a,l,c,d;Fe(e,Ri,T=>i(16,a=T)),Fe(e,mi,T=>i(4,l=T)),Fe(e,Zs,T=>i(6,d=T));const u=w2();Fe(e,u,T=>i(5,c=T));const{t:f,setLocale:g}=Bn("i18n");Fe(e,f,T=>i(0,o=T));function m(){Ce(mi,l="ltr",l),As.back(),gi.set(void 0)}function y(T){Ce(mi,l="rtl",l),u.push(T),Ce(Ri,a.subtitle=o(`settings.${T}.title`),a),gi.set(()=>{Ce(mi,l="ltr",l),u.back(),gi.set(m),Ce(Ri,a.subtitle=void 0,a)})}hc(()=>{gi.set(m),Ce(Ri,a.title=o("settings.title"),a),Ce(Ri,a.subtitle=void 0,a),Ce(mi,l="rtl",l)});async function b(T){await g(T)&&(Zs.set({...Ot(Zs),language:T}),Ce(Ri,a.title=o("settings.title"),a),Ce(Ri,a.subtitle=o("settings.language.title"),a))}const S=()=>y("theme"),I=()=>y("language"),F=()=>y("animations"),G=()=>y("about"),L=T=>b(T);return e.$$.update=()=>{e.$$.dirty&1&&i(3,s=[{label:o("settings.animations.enabled"),value:!0},{label:o("settings.animations.disabled"),value:!1}]),e.$$.dirty&1&&i(1,n=[{label:o("settings.theme.automatic"),value:void 0},{label:o("settings.theme.light"),value:"light"},{label:o("settings.theme.dark"),value:"dark"}])},i(2,r=Object.keys(xr).map(T=>({label:xr[T],value:T}))),[o,n,r,s,l,c,d,u,f,y,b,S,I,F,G,L]}class m_ extends Ze{constructor(t){super(),Le(this,t,g_,p_,Ne,{})}}function v_(e){let t,i;return t=new fu({props:{data:{label:e[0]("transact.processing",{default:"Performing transaction..."})}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,[r]){const n={};r&1&&(n.data={label:s[0]("transact.processing",{default:"Performing transaction..."})}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function b_(e,t,i){let s;const{t:r}=Bn("i18n");return Fe(e,r,n=>i(0,s=n)),br(),[s,r]}class C_ extends Ze{constructor(t){super(),Le(this,t,b_,v_,Ne,{})}}function y_(e){Wt(e,"svelte-1d8fcdl","section.svelte-1d8fcdl{display:flex;flex-direction:column;gap:var(--space-s)}")}function WC(e,t,i){const s=e.slice();return s[4]=t[i],s}function TC(e){let t,i,s,r,n;return i=new Vn({props:{$$slots:{default:[w_]},$$scope:{ctx:e}}}),r=new fc({props:{$$slots:{default:[S_]},$$scope:{ctx:e}}}),{c(){t=oe("section"),ne(i.$$.fragment),s=ye(),ne(r.$$.fragment),W(t,"class","svelte-1d8fcdl")},m(o,a){K(o,t,a),se(i,t,null),z(t,s),se(r,t,null),n=!0},p(o,a){const l={};a&130&&(l.$$scope={dirty:a,ctx:o}),i.$set(l);const c={};a&129&&(c.$$scope={dirty:a,ctx:o}),r.$set(c)},i(o){n||(B(i.$$.fragment,o),B(r.$$.fragment,o),n=!0)},o(o){P(i.$$.fragment,o),P(r.$$.fragment,o),n=!1},d(o){o&&q(t),re(i),re(r)}}}function w_(e){let t;return{c(){t=at(e[1])},m(i,s){K(i,t,s)},p(i,s){s&2&&pt(t,i[1])},d(i){i&&q(t)}}}function NC(e){let t,i;function s(){return e[3](e[4])}return t=new _r({props:{label:e[4].name,onClick:s,leadingIcon:"wharf",logo:Hl(e[4].metadata)}}),{c(){ne(t.$$.fragment)},m(r,n){se(t,r,n),i=!0},p(r,n){e=r;const o={};n&1&&(o.label=e[4].name),n&1&&(o.onClick=s),n&1&&(o.logo=Hl(e[4].metadata)),t.$set(o)},i(r){i||(B(t.$$.fragment,r),i=!0)},o(r){P(t.$$.fragment,r),i=!1},d(r){re(t,r)}}}function S_(e){let t,i,s=Qs(e[0]),r=[];for(let o=0;o<s.length;o+=1)r[o]=NC(WC(e,s,o));const n=o=>P(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=ii()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);K(o,t,a),i=!0},p(o,a){if(a&5){s=Qs(o[0]);let l;for(l=0;l<s.length;l+=1){const c=WC(o,s,l);r[l]?(r[l].p(c,a),B(r[l],1)):(r[l]=NC(c),r[l].c(),B(r[l],1),r[l].m(t.parentNode,t))}for(tt(),l=s.length;l<r.length;l+=1)n(l);it()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)B(r[a]);i=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)P(r[a]);i=!1},d(o){o&&q(t),uc(r,o)}}}function R_(e){let t,i,s=e[0]&&TC(e);return{c(){s&&s.c(),t=ii()},m(r,n){s&&s.m(r,n),K(r,t,n),i=!0},p(r,[n]){r[0]?s?(s.p(r,n),n&1&&B(s,1)):(s=TC(r),s.c(),B(s,1),s.m(t.parentNode,t)):s&&(tt(),P(s,1,1,()=>{s=null}),it())},i(r){i||(B(s),i=!0)},o(r){P(s),i=!1},d(r){r&&q(t),s&&s.d(r)}}}function A_(e,t,i){let{plugins:s}=t,{title:r}=t;const n=br(),o=a=>n("select",a.id);return e.$$set=a=>{"plugins"in a&&i(0,s=a.plugins),"title"in a&&i(1,r=a.title)},[s,r,n,o]}class I_ extends Ze{constructor(t){super(),Le(this,t,A_,R_,Ne,{plugins:0,title:1},y_)}}function F_(e){let t,i=e[2]("loading",{default:"Loading..."})+"",s;return{c(){t=oe("p"),s=at(i)},m(r,n){K(r,t,n),z(t,s)},p(r,n){n&4&&i!==(i=r[2]("loading",{default:"Loading..."})+"")&&pt(s,i)},i:be,o:be,d(r){r&&q(t)}}}function E_(e){let t,i,s,r;const n=[k_,x_,M_],o=[];function a(l,c){return l[5]===l[0].selectPlugin?0:l[5]===l[0].selectChain&&l[6]?1:2}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),K(l,s,c),r=!0},p(l,c){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),P(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),B(i,1),i.m(s.parentNode,s))},i(l){r||(B(i),r=!0)},o(l){P(i),r=!1},d(l){l&&q(s),o[t].d(l)}}}function M_(e){let t,i;return t=new fu({props:{data:{label:e[2]("accountCreation.countdown",{default:"Creating Account"})}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.data={label:s[2]("accountCreation.countdown",{default:"Creating Account"})}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function x_(e){let t,i;return t=new Cr({props:{direction:e[1],$$slots:{default:[__]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&2&&(n.direction=s[1]),r&4194372&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function k_(e){let t,i;return t=new Cr({props:{direction:e[1],$$slots:{default:[G_]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&2&&(n.direction=s[1]),r&4194324&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function __(e){let t,i;return t=new F2({props:{chains:e[6],title:e[2]("accountCreation.select.chain",{default:"Select a Blockchain"})}}),t.$on("select",e[11]),t.$on("cancel",e[12]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&64&&(n.chains=s[6]),r&4&&(n.title=s[2]("accountCreation.select.chain",{default:"Select a Blockchain"})),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function G_(e){let t,i;return t=new I_({props:{plugins:e[4].accountCreationPlugins,title:e[2]("accountCreation.select.plugin",{default:"Select a Service Provider"})}}),t.$on("select",e[10]),t.$on("cancel",e[13]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.plugins=s[4].accountCreationPlugins),r&4&&(n.title=s[2]("accountCreation.select.plugin",{default:"Select a Service Provider"})),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function D_(e){let t,i,s,r;const n=[E_,F_],o=[];function a(l,c){return l[3]&&l[4]?0:1}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),K(l,s,c),r=!0},p(l,[c]){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),P(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),B(i,1),i.m(s.parentNode,s))},i(l){r||(B(i),r=!0)},o(l){P(i),r=!1},d(l){l&&q(s),o[t].d(l)}}}function W_(e,t,i){let s,r,n,o,a,l,c,d;Fe(e,mi,V=>i(1,s=V)),Fe(e,gi,V=>i(15,r=V)),Fe(e,sr,V=>i(16,n=V)),Fe(e,Ri,V=>i(3,a=V)),Fe(e,Jo,V=>i(4,l=V));const{t:u}=Bn("i18n");Fe(e,u,V=>i(2,o=V));let f=!1;const g=br();var m;(function(V){V.done="done",V.selectPlugin="selectPlugin",V.selectChain="selectChain"})(m||(m={}));const y=$i([Jo,sr],([V,U])=>{var v;if(!V||!U)return;const M=V.accountCreationPlugins.find(w=>w.id===U.pluginId);return!U.chain&&((v=M==null?void 0:M.config.supportedChains)==null?void 0:v.length)===1&&(U.chain=M.config.supportedChains[0].id),M});let b=$i([Jo,y],([V,U])=>{if(V&&U){if(U.config.supportedChains&&V.chains)return V.chains.filter(M=>{var v;return(v=U.config.supportedChains)==null?void 0:v.find(w=>w.id.equals(M.id))})}else if(V)return V.chains;return[]});Fe(e,b,V=>i(6,d=V));const S=Jo.subscribe(V=>{V&&(Ce(Ri,a.subtitle=o("login.title-app",{appName:V.appName,default:"Login to {{appName}}"}),a),V.accountCreationPlugins.length===1&&Ce(sr,n.pluginId=V.accountCreationPlugins[0].id,n),V.chain?Ce(sr,n.chain=V.chain.id,n):V.chains&&V.chains.length===1&&Ce(sr,n.chain=V.chains[0].id,n))});hc(()=>{Ce(Ri,a.title=o("accountCreation.title",{default:"Create Account"}),a)}),uu(S);const I=()=>{f||(f=!0,setTimeout(()=>{g("complete",n),gi.set(void 0)},100))},F=$i([Jo,sr,y,b],([V,U,M,v])=>{if(!M&&(V!=null&&V.uiRequirements.requiresPluginSelect))return m.selectPlugin;let w=M==null?void 0:M.config.requiresChainSelect;if(w!==!1&&(w=V==null?void 0:V.uiRequirements.requiresChainSelect),!U.chain&&w)return m.selectChain;I()});Fe(e,F,V=>i(5,c=V));const G=V=>{Ce(sr,n.pluginId=V.detail,n),Ce(gi,r=L,r),Ce(mi,s="rtl",s)},L=V=>{Ce(sr,n.pluginId=void 0,n),Ce(gi,r=void 0,r),Ce(mi,s="ltr",s)},T=V=>{Ce(sr,n.chain=V.detail,n),Ce(gi,r=O,r),Ce(mi,s="rtl",s)},O=V=>{Ce(sr,n.chain=void 0,n),Ce(gi,r=L,r),Ce(mi,s="ltr",s)};return[m,s,o,a,l,c,d,u,b,F,G,T,O,()=>{g("cancel")}]}class T_ extends Ze{constructor(t){super(),Le(this,t,W_,D_,Ne,{})}}function N_(e){Wt(e,"svelte-mttle8","button.svelte-mttle8.svelte-mttle8{--button-size:46px;--button-size:var(--space-2xl);position:relative;isolation:isolate;background:var(--header-button-background);border:1px solid var(--header-button-outline);border:none;box-shadow:inset 0 0 0 1px var(--header-button-outline);border-radius:var(--border-radius-inner);cursor:pointer;width:var(--button-size);height:var(--button-size);display:grid;place-content:center;color:var(--header-text-color);transition:transform 80ms ease}button.svelte-mttle8.svelte-mttle8:active{transform:scale(95%);transform-origin:center}@media(hover: hover){button.svelte-mttle8:hover .background.svelte-mttle8{opacity:1}}.background.svelte-mttle8.svelte-mttle8{position:absolute;border-radius:var(--border-radius-inner);inset:0;opacity:0;z-index:-1;transition:opacity 80ms ease;background:var(--header-button-outline)}.visually-hidden.svelte-mttle8.svelte-mttle8{border:0;clip:rect(0 0 0 0);height:auto;margin:0;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap}")}function B_(e){let t,i,s,r,n,o,a,l,c,d;return r=new Ds({props:{name:e[1]}}),{c(){t=oe("button"),i=oe("span"),s=ye(),ne(r.$$.fragment),n=ye(),o=oe("span"),a=at(e[1]),W(i,"class","background svelte-mttle8"),W(o,"class","label visually-hidden svelte-mttle8"),W(t,"class","svelte-mttle8")},m(u,f){K(u,t,f),z(t,i),z(t,s),se(r,t,null),z(t,n),z(t,o),z(o,a),l=!0,c||(d=ps(t,"click",function(){Nn(e[0])&&e[0].apply(this,arguments)}),c=!0)},p(u,[f]){e=u;const g={};f&2&&(g.name=e[1]),r.$set(g),(!l||f&2)&&pt(a,e[1])},i(u){l||(B(r.$$.fragment,u),l=!0)},o(u){P(r.$$.fragment,u),l=!1},d(u){u&&q(t),re(r),c=!1,d()}}}function V_(e,t,i){let{onClick:s}=t,{icon:r}=t;return e.$$set=n=>{"onClick"in n&&i(0,s=n.onClick),"icon"in n&&i(1,r=n.icon)},[s,r]}class dv extends Ze{constructor(t){super(),Le(this,t,V_,B_,Ne,{onClick:0,icon:1},N_)}}function O_(e){Wt(e,"svelte-ajt3u",".wrapper.svelte-ajt3u{transform-origin:top;overflow:hidden;position:relative;height:var(--container-height);background-color:var(--header-background-color)}.clipped.svelte-ajt3u{clip-path:url(#wave-clip)}.container.svelte-ajt3u{position:absolute;left:0;bottom:0;width:200%;height:100%;transform-origin:bottom}@keyframes svelte-ajt3u-wave-slide{from{transform:translate(0)}to{transform:translate(-50%)}}.wave.svelte-ajt3u{position:absolute;bottom:-2px;opacity:0.9999;transform-origin:bottom}.wave.foreground.svelte-ajt3u{--swell:var(--foreground-swell);--swell-speed:var(--foreground-swell-speed);--swell-delay:var(--foreground-delay)}.wave.midground.svelte-ajt3u{--swell:var(--midground-swell);--swell-speed:var(--midground-swell-speed);--swell-delay:var(--midground-delay)}.wave.background.svelte-ajt3u{--swell:var(--background-swell);--swell-speed:var(--background-swell-speed);--swell-delay:var(--background-delay)}@keyframes svelte-ajt3u-wave-swell{from{transform:scaleY(1)}to{transform:scaleY(var(--swell))}}")}function P_(e){let t,i,s,r,n,o,a,l,c,d,u,f,g,m,y,b,S;return{c(){t=oe("div"),i=Te("svg"),s=Te("defs"),r=Te("clipPath"),n=Te("path"),o=ye(),a=oe("div"),l=Te("svg"),c=Te("rect"),d=ye(),u=oe("div"),f=Te("svg"),g=Te("rect"),m=ye(),y=oe("div"),b=Te("svg"),S=Te("rect"),W(n,"d","M 0 300 V 100 Q 100 0 200 100 Q 300 200 400 100 Q 500 0 600 100 Q 700 200 800 100 V 300"),W(r,"id","wave-clip"),W(i,"height","0"),W(i,"width","0"),W(c,"class","clipped svelte-ajt3u"),W(c,"height","100%"),W(c,"width","100%"),W(c,"fill",aG),W(l,"class","wave background svelte-ajt3u"),W(l,"width","100%"),W(l,"height",J_+"%"),W(l,"viewBox","0 0 800 300"),W(l,"preserveAspectRatio","none"),W(a,"class","container background svelte-ajt3u"),W(g,"class","clipped svelte-ajt3u"),W(g,"width","100%"),W(g,"height","100%"),W(g,"fill",oG),W(f,"class","wave midground svelte-ajt3u"),W(f,"width","100%"),W(f,"height",X_+"%"),W(f,"viewBox","0 0 800 300"),W(f,"preserveAspectRatio","none"),W(u,"class","container midground svelte-ajt3u"),W(S,"class","clipped svelte-ajt3u"),W(S,"width","100%"),W(S,"height","100%"),W(S,"fill",nG),W(b,"class","wave foreground svelte-ajt3u"),W(b,"width","100%"),W(b,"height",U_+"%"),W(b,"viewBox","0 0 800 300"),W(b,"preserveAspectRatio","none"),W(y,"class","container foreground svelte-ajt3u"),W(t,"class","wrapper svelte-ajt3u"),Ut(t,"--frequency",Z_+"ms"),Ut(t,"--foreground-speed",H_+"ms"),Ut(t,"--midground-speed",Y_+"ms"),Ut(t,"--background-speed",z_+"ms"),Ut(t,"--container-height",j_+"px"),Ut(t,"--motion",L_),Ut(t,"--foreground-swell",Q_),Ut(t,"--midground-swell",q_),Ut(t,"--background-swell",K_),Ut(t,"--foreground-swell-speed",$_+"ms"),Ut(t,"--midground-swell-speed",eG+"ms"),Ut(t,"--background-swell-speed",tG+"ms"),Ut(t,"--foreground-delay",iG+"ms"),Ut(t,"--midground-delay",sG+"ms"),Ut(t,"--background-delay",rG+"ms")},m(I,F){K(I,t,F),z(t,i),z(i,s),z(s,r),z(r,n),z(t,o),z(t,a),z(a,l),z(l,c),z(t,d),z(t,u),z(u,f),z(f,g),z(t,m),z(t,y),z(y,b),z(b,S)},p:be,i:be,o:be,d(I){I&&q(t)}}}let L_="linear",Z_=7e3,H_=1e4,Y_=9500,z_=8600,j_=25,U_=50,X_=75,J_=100,Q_=1.2,q_=1.4,K_=1.3,$_=3100,eG=2300,tG=1e3,iG=9e3,sG=7900,rG=9100;const nG="var(--wave-foreground-color)",oG="var(--wave-midground-color)",aG="var(--wave-background-color)";function lG(e){return[]}class cG extends Ze{constructor(t){super(),Le(this,t,lG,P_,Ne,{},O_)}}function dG(e){Wt(e,"svelte-j6z3r6",".modal-header.svelte-j6z3r6.svelte-j6z3r6{box-sizing:border-box;min-height:var(--header-height);color:var(--header-text-color);background:var(--header-background-color);display:grid;grid-template-columns:1fr auto 1fr;gap:var(--space-s);padding:var(--space-m)}.modal-header.svelte-j6z3r6 .slot.svelte-j6z3r6{display:flex;align-items:center}.modal-header.svelte-j6z3r6 .center.svelte-j6z3r6{flex-direction:column;justify-content:space-around;text-align:center}.modal-header.svelte-j6z3r6 .right.svelte-j6z3r6{justify-content:flex-end}.modal-header.svelte-j6z3r6 .svelte-j6z3r6:is(h2, p){color:var(--header-text-color);margin:0;line-height:1.1em}.modal-header.svelte-j6z3r6 h2.svelte-j6z3r6{font-size:var(--fs-3);font-weight:700}.modal-header.svelte-j6z3r6 p.svelte-j6z3r6{font-size:var(--fs-0)}")}const uG=e=>({}),BC=e=>({}),hG=e=>({}),VC=e=>({}),fG=e=>({}),OC=e=>({});function pG(e){let t,i;return t=new dv({props:{icon:"settings",onClick:e[8]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&16&&(n.onClick=s[8]),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function gG(e){let t,i;return t=new dv({props:{icon:"chevron-left",onClick:e[2]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,r){const n={};r&4&&(n.onClick=s[2]),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function mG(e){let t,i,s,r;const n=[gG,pG],o=[];function a(l,c){return l[2]?0:l[3]?1:-1}return~(t=a(e))&&(i=o[t]=n[t](e)),{c(){i&&i.c(),s=ii()},m(l,c){~t&&o[t].m(l,c),K(l,s,c),r=!0},p(l,c){let d=t;t=a(l),t===d?~t&&o[t].p(l,c):(i&&(tt(),P(o[d],1,1,()=>{o[d]=null}),it()),~t?(i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),B(i,1),i.m(s.parentNode,s)):i=null)},i(l){r||(B(i),r=!0)},o(l){P(i),r=!1},d(l){l&&q(s),~t&&o[t].d(l)}}}function PC(e){let t,i;return{c(){t=oe("p"),i=at(e[1]),W(t,"class","svelte-j6z3r6")},m(s,r){K(s,t,r),z(t,i)},p(s,r){r&2&&pt(i,s[1])},d(s){s&&q(t)}}}function vG(e){let t,i,s,r,n=e[1]&&PC(e);return{c(){t=oe("h2"),i=at(e[0]),s=ye(),n&&n.c(),r=ii(),W(t,"class","svelte-j6z3r6")},m(o,a){K(o,t,a),z(t,i),K(o,s,a),n&&n.m(o,a),K(o,r,a)},p(o,a){a&1&&pt(i,o[0]),o[1]?n?n.p(o,a):(n=PC(o),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(o){o&&(q(t),q(s),q(r)),n&&n.d(o)}}}function bG(e){let t,i;return t=new dv({props:{icon:"close",onClick:e[9]}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function CG(e){let t,i,s,r,n,o,a,l,c;const d=e[7].left,u=Vs(d,e,e[6],OC),f=u||mG(e),g=e[7].center,m=Vs(g,e,e[6],VC),y=m||vG(e),b=e[7].right,S=Vs(b,e,e[6],BC),I=S||bG(e);return l=new cG({}),{c(){t=oe("div"),i=oe("div"),f&&f.c(),s=ye(),r=oe("div"),y&&y.c(),n=ye(),o=oe("div"),I&&I.c(),a=ye(),ne(l.$$.fragment),W(i,"class","slot left svelte-j6z3r6"),W(r,"class","slot center svelte-j6z3r6"),W(o,"class","slot right svelte-j6z3r6"),W(t,"class","modal-header svelte-j6z3r6")},m(F,G){K(F,t,G),z(t,i),f&&f.m(i,null),z(t,s),z(t,r),y&&y.m(r,null),z(t,n),z(t,o),I&&I.m(o,null),K(F,a,G),se(l,F,G),c=!0},p(F,[G]){u?u.p&&(!c||G&64)&&Ps(u,d,F,F[6],c?Os(d,F[6],G,fG):Ls(F[6]),OC):f&&f.p&&(!c||G&28)&&f.p(F,c?G:-1),m?m.p&&(!c||G&64)&&Ps(m,g,F,F[6],c?Os(g,F[6],G,hG):Ls(F[6]),VC):y&&y.p&&(!c||G&3)&&y.p(F,c?G:-1),S&&S.p&&(!c||G&64)&&Ps(S,b,F,F[6],c?Os(b,F[6],G,uG):Ls(F[6]),BC)},i(F){c||(B(f,F),B(y,F),B(I,F),B(l.$$.fragment,F),c=!0)},o(F){P(f,F),P(y,F),P(I,F),P(l.$$.fragment,F),c=!1},d(F){F&&(q(t),q(a)),f&&f.d(F),y&&y.d(F),I&&I.d(F),re(l,F)}}}function yG(e,t,i){let s,r,n;Fe(e,gi,g=>i(2,s=g)),Fe(e,bh,g=>i(3,r=g)),Fe(e,mi,g=>i(4,n=g));let{$$slots:o={},$$scope:a}=t,{title:l}=t,{subtitle:c}=t;const d=br(),u=()=>{As.push("settings"),Ce(mi,n="rtl",n)},f=()=>d("cancel");return e.$$set=g=>{"title"in g&&i(0,l=g.title),"subtitle"in g&&i(1,c=g.subtitle),"$$scope"in g&&i(6,a=g.$$scope)},[l,c,s,r,n,d,a,o,u,f]}class wG extends Ze{constructor(t){super(),Le(this,t,yG,CG,Ne,{title:0,subtitle:1},dG)}}function SG(e){Wt(e,"svelte-1ime0ob",`:host dialog.svelte-1ime0ob{color-scheme:light;--body-background-color:white;--body-text-color:var(--color-primary-700);--body-text-color-variant:var(--color-neutral-700);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--wharf-blue);--button-text-color-active:var(--wharf-blue);--button-outline-active:inset 0 0 0 2px var(--button-text-color);--button-primary-background:var(--color-secondary-200);--button-primary-background-hover:var(--color-secondary-200);--button-primary-background-active:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)),
      var(--color-secondary-200);--button-primary-outline-hover:inset 0 0 0 1px #00000030,
      inset 0 0 0 1px var(--color-secondary-200);--button-secondary-background:var(--color-custom-1);--button-secondary-background-hover:var(--color-custom-1);--button-secondary-background-active:var(--color-secondary-200);--button-secondary-outline-hover:inset 0 0 0 1px #00000020,
      inset 0 0 0 1px var(--color-secondary-200);--button-outlined-background-active:var(--color-secondary-200);--button-outlined-outline:inset 0 0 0 1px var(--color-secondary-200);--button-outlined-outline-hover:inset 0 0 0 1px #00000020,
      inset 0 0 0 1px var(--color-secondary-200);--input-placeholder-color:var(--color-neutral-500);--input-background-focus:var(--color-neutral-100);--input-border-color:#00000030;--input-border-color-hover:var(--color-custom-5);--input-border-color-focus:var(--wharf-blue);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3), inset 0 0 0 1px var(--seafoam-mint);--checkbox-stroke:var(--wharf-blue);--checkbox-fill:var(--reef-turquoise);--error-color:var(--color-error-1);--list-item-background-color-hover:var(--color-custom-9);--list-item-text-color-hover:var(--color-secondary-500);--list-divider-color:#00000010;--text-area-background:var(--swell-mist);--text-area-text-color:#242424;--loading-circle-color:var(--reef-turquoise);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:var(--seafoam-mint);--wave-background-color:var(--reef-turquoise)}:host dialog[data-theme=dark].svelte-1ime0ob{color-scheme:dark;--body-background-color:var(--color-primary-990);--body-text-color:white;--body-text-color-variant:var(--color-neutral-300);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--body-text-color);--button-text-color-active:var(--reef-turquoise);--button-outline-active:inset 0 0 0 2px var(--reef-turquoise);--button-primary-background:var(--color-secondary-500);--button-primary-background-hover:var(--color-secondary-500);--button-primary-background-active:var(--color-custom-2);--button-primary-outline-hover:inset 0 0 0 1px white;--button-secondary-background:var(--color-primary-800);--button-secondary-background-hover:var(--color-primary-800);--button-secondary-background-active:var(--color-primary-900);--button-secondary-outline-hover:inset 0 0 0 1px #ffffff30;--button-outlined-background-active:var(--color-primary-900);--button-outlined-outline:inset 0 0 0 1px #00000030;--button-outlined-outline-hover:inset 0 0 0 1px #ffffff30;--input-placeholder-color:#ffffff75;--input-background-focus:var(--color-custom-4);--input-border-color:#ffffff30;--input-border-color-hover:var(--color-custom-6);--input-border-color-focus:var(--reef-turquoise);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3);--checkbox-stroke:var(--reef-turquoise);--checkbox-fill:var(--color-custom-3);--error-color:var(--color-error-3);--list-item-background-color-hover:var(--color-custom-8);--list-item-text-color-hover:var(--color-secondary-400);--list-divider-color:#ffffff10;--text-area-background:var(--color-primary-900);--text-area-text-color:#ffffff;--loading-circle-color:var(--seafoam-mint);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:#2f3445;--wave-background-color:#3e4356}@media(prefers-color-scheme: dark){:host dialog.svelte-1ime0ob{color-scheme:dark;--body-background-color:var(--color-primary-990);--body-text-color:white;--body-text-color-variant:var(--color-neutral-300);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--body-text-color);--button-text-color-active:var(--reef-turquoise);--button-outline-active:inset 0 0 0 2px var(--reef-turquoise);--button-primary-background:var(--color-secondary-500);--button-primary-background-hover:var(--color-secondary-500);--button-primary-background-active:var(--color-custom-2);--button-primary-outline-hover:inset 0 0 0 1px white;--button-secondary-background:var(--color-primary-800);--button-secondary-background-hover:var(--color-primary-800);--button-secondary-background-active:var(--color-primary-900);--button-secondary-outline-hover:inset 0 0 0 1px #ffffff30;--button-outlined-background-active:var(--color-primary-900);--button-outlined-outline:inset 0 0 0 1px #00000030;--button-outlined-outline-hover:inset 0 0 0 1px #ffffff30;--input-placeholder-color:#ffffff75;--input-background-focus:var(--color-custom-4);--input-border-color:#ffffff30;--input-border-color-hover:var(--color-custom-6);--input-border-color-focus:var(--reef-turquoise);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3);--checkbox-stroke:var(--reef-turquoise);--checkbox-fill:var(--color-custom-3);--error-color:var(--color-error-3);--list-item-background-color-hover:var(--color-custom-8);--list-item-text-color-hover:var(--color-secondary-400);--list-divider-color:#ffffff10;--text-area-background:var(--color-primary-900);--text-area-text-color:#ffffff;--loading-circle-color:var(--seafoam-mint);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:#2f3445;--wave-background-color:#3e4356}:host dialog[data-theme=light].svelte-1ime0ob{color-scheme:light;--body-background-color:white;--body-text-color:var(--color-primary-700);--body-text-color-variant:var(--color-neutral-700);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--wharf-blue);--button-text-color-active:var(--wharf-blue);--button-outline-active:inset 0 0 0 2px var(--button-text-color);--button-primary-background:var(--color-secondary-200);--button-primary-background-hover:var(--color-secondary-200);--button-primary-background-active:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)),
        var(--color-secondary-200);--button-primary-outline-hover:inset 0 0 0 1px #00000030,
        inset 0 0 0 1px var(--color-secondary-200);--button-secondary-background:var(--color-custom-1);--button-secondary-background-hover:var(--color-custom-1);--button-secondary-background-active:var(--color-secondary-200);--button-secondary-outline-hover:inset 0 0 0 1px #00000020,
        inset 0 0 0 1px var(--color-secondary-200);--button-outlined-background-active:var(--color-secondary-200);--button-outlined-outline:inset 0 0 0 1px var(--color-secondary-200);--button-outlined-outline-hover:inset 0 0 0 1px #00000020,
        inset 0 0 0 1px var(--color-secondary-200);--input-placeholder-color:var(--color-neutral-500);--input-background-focus:var(--color-neutral-100);--input-border-color:#00000030;--input-border-color-hover:var(--color-custom-5);--input-border-color-focus:var(--wharf-blue);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3), inset 0 0 0 1px var(--seafoam-mint);--checkbox-stroke:var(--wharf-blue);--checkbox-fill:var(--reef-turquoise);--error-color:var(--color-error-1);--list-item-background-color-hover:var(--color-custom-9);--list-item-text-color-hover:var(--color-secondary-500);--list-divider-color:#00000010;--text-area-background:var(--swell-mist);--text-area-text-color:#242424;--loading-circle-color:var(--reef-turquoise);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:var(--seafoam-mint);--wave-background-color:var(--reef-turquoise)}}:host dialog.svelte-1ime0ob{--wharf-blue:var(--color-primary-700);--reef-turquoise:var(--color-secondary-300);--seafoam-mint:var(--color-secondary-200);--swell-mist:var(--color-accent-50);--color-primary-50:#f6f7f9;--color-primary-100:#ededf1;--color-primary-200:#d6d8e1;--color-primary-300:#b3b8c6;--color-primary-400:#8991a7;--color-primary-500:#6b738c;--color-primary-600:#565c73;--color-primary-700:#494e62;--color-primary-800:#3c4050;--color-primary-900:#363944;--color-primary-990:#252835;--color-secondary-50:#f1fcf9;--color-secondary-100:#cef9ed;--color-secondary-200:#b2f2e1;--color-secondary-300:#7be7ce;--color-secondary-400:#35ccae;--color-secondary-500:#1cb095;--color-secondary-600:#148d79;--color-secondary-700:#147163;--color-secondary-800:#155a51;--color-secondary-900:#164b43;--color-accent-50:#f4faf4;--color-accent-100:#e4f4e5;--color-accent-200:#cae8cc;--color-accent-300:#a1d4a3;--color-accent-400:#70b874;--color-accent-500:#4c9b51;--color-accent-600:#3a7f3e;--color-accent-700:#306534;--color-accent-800:#2a512d;--color-accent-900:#244326;--color-neutral-100:#f7f7f7;--color-neutral-200:#e3e3e3;--color-neutral-300:#c8c8c8;--color-neutral-400:#a4a4a4;--color-neutral-500:#818181;--color-neutral-600:#666666;--color-neutral-700:#515151;--color-neutral-800:#434343;--color-neutral-900:#383838;--color-custom-1:#f3f8f3;--color-custom-2:#415e60;--color-custom-3:#344b4d;--color-custom-4:#3d435a;--color-custom-5:#8ec2b4;--color-custom-6:#777b8b;--color-custom-7:#35ccae10;--color-custom-8:#575c6e;--color-custom-9:#f4f5f7;--color-error-1:#cd3939;--color-error-2:#ff5454;--color-error-3:#ffacac;font-family:system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;--measure:35ch;--fs-0:calc(var(--fs-2) * 0.75);--fs-1:calc(var(--fs-2) * 0.875);--fs-2:var(--wharfkit-font-base, 1rem);--fs-3:calc(var(--fs-2) * 1.25);--ratio:1.5;--space-4xs:calc(var(--space-3xs) / var(--ratio));--space-3xs:calc(var(--space-2xs) / var(--ratio));--space-2xs:calc(var(--space-xs) / var(--ratio));--space-xs:calc(var(--space-s) / var(--ratio));--space-s:calc(var(--space-m) / var(--ratio));--space-m:var(--wharfkit-space-base, 1rem);--space-l:calc(var(--space-m) * var(--ratio));--space-xl:calc(var(--space-l) * var(--ratio));--space-2xl:calc(var(--space-xl) * var(--ratio));--space-3xl:calc(var(--space-2xl) * var(--ratio));--space-4xl:calc(var(--space-3xl) * var(--ratio));--space-5xl:calc(var(--space-4xl) * var(--ratio));--space-6xl:calc(var(--space-5xl) * var(--ratio));--space-7xl:calc(var(--space-6xl) * var(--ratio));--space-8xl:calc(var(--space-7xl) * var(--ratio));--space-9xl:calc(var(--space-8xl) * var(--ratio));--border-radius-outer:1.5rem;--border-radius-inner:0.75rem;--header-height:var(--space-3xl)}.svelte-1ime0ob{box-sizing:border-box}.svelte-1ime0ob::selection{color:var(--wharf-blue);background-color:var(--seafoam-mint)}dialog.svelte-1ime0ob{--margin-top:var(--space-xl);font-family:system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;margin-bottom:0;margin-top:var(--margin-top);margin-inline:auto;border:none !important;border-radius:var(--border-radius-outer);padding:0;width:min(var(--space-7xl), 100vw - var(--space-m));box-shadow:0px 4px 154px rgba(0, 0, 0, 0.35);background:none}dialog.svelte-1ime0ob::backdrop{background:rgba(0, 0, 0, 0.75)}.modal-content.svelte-1ime0ob{--max-modal-content-height:calc(
      100svh - var(--header-height) - var(--margin-top) - var(--margin-top)
  );padding:var(--space-m);padding-bottom:var(--space-l);background-color:var(--body-background-color);overflow:hidden;overflow-y:scroll;max-height:var(--max-modal-content-height);scrollbar-gutter:stable both-edges;scrollbar-color:var(--header-background-color)}.modal-content.svelte-1ime0ob::-webkit-scrollbar{width:2px;background-color:var(--body-background-color)}.modal-content.svelte-1ime0ob::-webkit-scrollbar-thumb{background:var(--header-background-color)}`)}function RG(e){let t,i,s,r,n,o,a,l;i=new wG({props:{title:e[2].title,subtitle:e[2].subtitle}}),i.$on("cancel",e[3]);const c=e[6].default,d=Vs(c,e,e[5],null);return{c(){t=oe("dialog"),ne(i.$$.fragment),s=ye(),r=oe("div"),d&&d.c(),W(r,"class","modal-content svelte-1ime0ob"),W(t,"data-theme",n=e[1].theme),W(t,"class","svelte-1ime0ob")},m(u,f){K(u,t,f),se(i,t,null),z(t,s),z(t,r),d&&d.m(r,null),e[7](t),o=!0,a||(l=ps(t,"mousedown",u2(rv(e[4])),{passive:!1,capture:!0}),a=!0)},p(u,[f]){const g={};f&4&&(g.title=u[2].title),f&4&&(g.subtitle=u[2].subtitle),i.$set(g),d&&d.p&&(!o||f&32)&&Ps(d,c,u,u[5],o?Os(c,u[5],f,null):Ls(u[5]),null),(!o||f&2&&n!==(n=u[1].theme))&&W(t,"data-theme",n)},i(u){o||(B(i.$$.fragment,u),B(d,u),o=!0)},o(u){P(i.$$.fragment,u),P(d,u),o=!1},d(u){u&&q(t),re(i),d&&d.d(u),e[7](null),a=!1,l()}}}function AG(e,t,i){let s,r,n;Fe(e,ov,g=>i(8,s=g)),Fe(e,Zs,g=>i(1,r=g)),Fe(e,Ri,g=>i(2,n=g));let{$$slots:o={},$$scope:a}=t,l;const c=Ki.subscribe(g=>{l&&(g&&!l.open?l.showModal():!g&&l.open&&(l.close(),ju()))});uu(c);function d(){s.map(g=>g("Modal closed",!0)),Ki.set(!1)}function u(g){var m=l.getBoundingClientRect(),y=m.top<=g.clientY&&g.clientY<=m.top+m.height&&m.left<=g.clientX&&g.clientX<=m.left+m.width;y||d()}document.addEventListener("keydown",g=>{g.key==="Escape"&&l.open&&d()});function f(g){xo[g?"unshift":"push"](()=>{l=g,i(0,l)})}return e.$$set=g=>{"$$scope"in g&&i(5,a=g.$$scope)},[l,r,n,d,u,a,o,f]}let IG=class extends Ze{constructor(t){super(),Le(this,t,AG,RG,Ne,{},SG)}};function FG(e){let t;return{c(){t=oe("p"),t.textContent="Modal inactive"},m(i,s){K(i,t,s)},p:be,i:be,o:be,d(i){i&&q(t)}}}function EG(e){let t,i,s,r;const n=[WG,DG,GG,_G,kG,xG,MG],o=[];function a(l,c){return l[2]?0:l[0]?1:l[3].path==="login"?2:l[3].path==="transact"?3:l[3].path==="settings"?4:l[3].path==="create-account"?5:6}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),K(l,s,c),r=!0},p(l,c){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),P(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),B(i,1),i.m(s.parentNode,s))},i(l){r||(B(i),r=!0)},o(l){P(i),r=!1},d(l){l&&q(s),o[t].d(l)}}}function MG(e){let t,i;return t=new fu({}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function xG(e){let t,i;return t=new T_({}),t.$on("cancel",e[4]),t.$on("complete",e[5]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function kG(e){let t,i;return t=new m_({}),t.$on("cancel",e[4]),t.$on("complete",e[5]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function _G(e){let t,i;return t=new C_({}),t.$on("cancel",e[4]),t.$on("complete",e[5]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function GG(e){let t,i;return t=new ek({}),t.$on("cancel",e[4]),t.$on("complete",e[5]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function DG(e){let t,i;return t=new Nk({}),t.$on("cancel",e[4]),t.$on("complete",e[5]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function WG(e){let t,i;return t=new Wx({}),t.$on("cancel",e[4]),t.$on("complete",e[5]),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p:be,i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function TG(e){let t,i,s,r;const n=[EG,FG],o=[];function a(l,c){return l[1]?0:1}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),s=ii()},m(l,c){o[t].m(l,c),K(l,s,c),r=!0},p(l,c){let d=t;t=a(l),t===d?o[t].p(l,c):(tt(),P(o[d],1,1,()=>{o[d]=null}),it(),i=o[t],i?i.p(l,c):(i=o[t]=n[t](l),i.c()),B(i,1),i.m(s.parentNode,s))},i(l){r||(B(i),r=!0)},o(l){P(i),r=!1},d(l){l&&q(s),o[t].d(l)}}}function NG(e){let t,i;return t=new IG({props:{$$slots:{default:[TG]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(s,r){se(t,s,r),i=!0},p(s,[r]){const n={};r&1039&&(n.$$scope={dirty:r,ctx:s}),t.$set(n)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){re(t,s)}}}function BG(e,t,i){let s,r,n,o,a,l;Fe(e,ho,g=>i(0,s=g)),Fe(e,lv,g=>i(7,r=g)),Fe(e,av,g=>i(8,n=g)),Fe(e,Ki,g=>i(1,o=g)),Fe(e,hu,g=>i(2,a=g)),Fe(e,As,g=>i(3,l=g));let{i18n:c}=t;N9("i18n",c);function d({detail:g}){n&&n.reject(g),s&&(s.reject(g),ho.reset()),As.back()}function u({detail:g}){n&&n.resolve(g),r&&r.resolve(g),s&&(s.resolve(g),ho.reset(),As.back())}const f=As.subscribe(g=>{g&&g.path==="login"?bh.set(!0):bh.set(!1)});return uu(f),e.$$set=g=>{"i18n"in g&&i(6,c=g.i18n)},[s,o,a,l,d,u,c]}let VG=class extends Ze{constructor(t){super(),Le(this,t,BG,NG,Ne,{i18n:6})}};var OG=Object.defineProperty,PG=Object.defineProperties,LG=Object.getOwnPropertyDescriptors,yh=Object.getOwnPropertySymbols,k2=Object.prototype.hasOwnProperty,_2=Object.prototype.propertyIsEnumerable,LC=(e,t,i)=>t in e?OG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Kt=(e,t)=>{for(var i in t||(t={}))k2.call(t,i)&&LC(e,i,t[i]);if(yh)for(var i of yh(t))_2.call(t,i)&&LC(e,i,t[i]);return e},as=(e,t)=>PG(e,LG(t)),rl=(e,t)=>{var i={};for(var s in e)k2.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&yh)for(var s of yh(e))t.indexOf(s)<0&&_2.call(e,s)&&(i[s]=e[s]);return i},gp=["error","warn","debug"],G2=({logger:e=console,level:t=gp[1],prefix:i="[i18n]: "})=>gp.reduce((s,r,n)=>as(Kt({},s),{[r]:o=>gp.indexOf(t)>=n&&e[r](`${i}${o}`)}),{}),fi=G2({}),ZG=e=>{fi=e},ZC=e=>{var t=e,{parser:i,key:s,params:r,translations:n,locale:o,fallbackLocale:a}=t,l=rl(t,["parser","key","params","translations","locale","fallbackLocale"]);if(!s)return fi.warn(`No translation key provided ('${o}' locale). Skipping translation...`),"";if(!o)return fi.warn(`No locale provided for '${s}' key. Skipping translation...`),"";let c=(n[o]||{})[s];return a&&c===void 0&&(c=(n[a]||{})[s]),l.hasOwnProperty("fallbackValue")&&c===void 0?l.fallbackValue:i.parse(c,r,o,s)},rr=(...e)=>e.length?e.filter(t=>!!t).map(t=>{let i=`${t}`.toLowerCase();try{let[s]=Intl.Collator.supportedLocalesOf(t);if(!s)throw new Error;i=s}catch{fi.warn(`'${t}' locale is non-standard.`)}return i}):[],Bg=(e,t,i)=>Object.keys(e||{}).reduce((s,r)=>{let n=e[r],o=i?`${i}.${r}`:`${r}`;return t&&Array.isArray(n)?as(Kt({},s),{[o]:n.map(a=>Bg(a,t))}):n&&typeof n=="object"?Kt(Kt({},s),Bg(n,t,o)):as(Kt({},s),{[o]:n})},{}),HG=e=>e.reduce((t,{key:i,data:s,locale:r})=>{if(!s)return t;let[n]=rr(r),o=as(Kt({},t[n]||{}),{[i]:s});return as(Kt({},t),{[n]:o})},{}),YG=async e=>{try{let t=await Promise.all(e.map(i=>{var s=i,{loader:r}=s,n=rl(s,["loader"]);return new Promise(async o=>{let a;try{a=await r()}catch(l){fi.error(`Failed to load translation. Verify your '${n.locale}' > '${n.key}' Loader.`),fi.error(l)}o(as(Kt({loader:r},n),{data:a}))})}));return HG(t)}catch(t){fi.error(t)}return{}},zG=e=>t=>{try{if(typeof t=="string")return t===e;if(typeof t=="object")return t.test(e)}catch{fi.error("Invalid route config!")}return!1},HC=(e,t)=>{let i=!0;try{i=Object.keys(e).filter(s=>e[s]!==void 0).every(s=>e[s]===t[s])}catch{}return i},YC=1e3*60*60*24,jG=class{constructor(e){this.cachedAt=0,this.loadedKeys={},this.currentRoute=At(),this.config=At(),this.isLoading=At(!1),this.promises=new Set,this.loading={subscribe:this.isLoading.subscribe,toPromise:(t,i)=>{let{fallbackLocale:s}=Ot(this.config),r=Array.from(this.promises).filter(n=>{let o=HC({locale:rr(t)[0],route:i},n);return s&&(o=o||HC({locale:rr(s)[0],route:i},n)),o}).map(({promise:n})=>n);return Promise.all(r)},get:()=>Ot(this.isLoading)},this.privateRawTranslations=At({}),this.rawTranslations={subscribe:this.privateRawTranslations.subscribe,get:()=>Ot(this.rawTranslations)},this.privateTranslations=At({}),this.translations={subscribe:this.privateTranslations.subscribe,get:()=>Ot(this.translations)},this.locales=as(Kt({},$i([this.config,this.privateTranslations],([t,i])=>{if(!t)return[];let{loaders:s=[]}=t,r=s.map(({locale:o})=>o),n=Object.keys(i).map(o=>o);return Array.from(new Set([...rr(...r),...rr(...n)]))},[])),{get:()=>Ot(this.locales)}),this.internalLocale=At(),this.loaderTrigger=$i([this.internalLocale,this.currentRoute],([t,i],s)=>{var r,n;t!==void 0&&i!==void 0&&!(t===((r=Ot(this.loaderTrigger))==null?void 0:r[0])&&i===((n=Ot(this.loaderTrigger))==null?void 0:n[1]))&&(fi.debug("Triggering translation load..."),s([t,i]))},[]),this.localeHelper=At(),this.locale={subscribe:this.localeHelper.subscribe,forceSet:this.localeHelper.set,set:this.internalLocale.set,update:this.internalLocale.update,get:()=>Ot(this.locale)},this.initialized=$i([this.locale,this.currentRoute,this.privateTranslations],([t,i,s],r)=>{Ot(this.initialized)||r(t!==void 0&&i!==void 0&&!!Object.keys(s).length)}),this.translation=$i([this.privateTranslations,this.locale,this.isLoading],([t,i,s],r)=>{let n=t[i];n&&Object.keys(n).length&&!s&&r(n)},{}),this.t=as(Kt({},$i([this.config,this.translation],t=>{var[i]=t,s=i,{parser:r,fallbackLocale:n}=s,o=rl(s,["parser","fallbackLocale"]);return(a,...l)=>ZC(Kt({parser:r,key:a,params:l,translations:this.translations.get(),locale:this.locale.get(),fallbackLocale:n},o.hasOwnProperty("fallbackValue")?{fallbackValue:o.fallbackValue}:{}))})),{get:(t,...i)=>Ot(this.t)(t,...i)}),this.l=as(Kt({},$i([this.config,this.translations],t=>{var[i,...s]=t,r=i,{parser:n,fallbackLocale:o}=r,a=rl(r,["parser","fallbackLocale"]),[l]=s;return(c,d,...u)=>ZC(Kt({parser:n,key:d,params:u,translations:l,locale:c,fallbackLocale:o},a.hasOwnProperty("fallbackValue")?{fallbackValue:a.fallbackValue}:{}))})),{get:(t,i,...s)=>Ot(this.l)(t,i,...s)}),this.getLocale=t=>{let{fallbackLocale:i}=Ot(this.config)||{},s=t||i;if(!s)return;let r=this.locales.get();return r.find(n=>rr(s).includes(n))||r.find(n=>rr(i).includes(n))},this.setLocale=t=>{if(t&&t!==Ot(this.internalLocale))return fi.debug(`Setting '${t}' locale.`),this.internalLocale.set(t),this.loading.toPromise(t,Ot(this.currentRoute))},this.setRoute=t=>{if(t!==Ot(this.currentRoute)){fi.debug(`Setting '${t}' route.`),this.currentRoute.set(t);let i=Ot(this.internalLocale);return this.loading.toPromise(i,t)}},this.loadConfig=async t=>{await this.configLoader(t)},this.getTranslationProps=async(t=this.locale.get(),i=Ot(this.currentRoute))=>{let s=Ot(this.config);if(!s||!t)return[];let r=this.translations.get(),{loaders:n,fallbackLocale:o="",cache:a=YC}=s||{},l=Number.isNaN(+a)?YC:+a;this.cachedAt?Date.now()>l+this.cachedAt&&(fi.debug("Refreshing cache."),this.loadedKeys={},this.cachedAt=0):(fi.debug("Setting cache timestamp."),this.cachedAt=Date.now());let[c,d]=rr(t,o),u=r[c],f=r[d],g=(n||[]).map(m=>{var y=m,{locale:b}=y,S=rl(y,["locale"]);return as(Kt({},S),{locale:rr(b)[0]})}).filter(({routes:m})=>!m||(m||[]).some(zG(i))).filter(({key:m,locale:y})=>y===c&&(!u||!(this.loadedKeys[c]||[]).includes(m))||o&&y===d&&(!f||!(this.loadedKeys[d]||[]).includes(m)));if(g.length){this.isLoading.set(!0),fi.debug("Fetching translations...");let m=await YG(g);this.isLoading.set(!1);let y=Object.keys(m).reduce((S,I)=>as(Kt({},S),{[I]:Object.keys(m[I])}),{}),b=g.filter(({key:S,locale:I})=>(y[I]||[]).some(F=>`${F}`.startsWith(S))).reduce((S,{key:I,locale:F})=>as(Kt({},S),{[F]:[...S[F]||[],I]}),{});return[m,b]}return[]},this.addTranslations=(t,i)=>{if(!t)return;let s=Ot(this.config),{preprocess:r}=s||{};fi.debug("Adding translations...");let n=Object.keys(t||{});this.privateRawTranslations.update(o=>n.reduce((a,l)=>as(Kt({},a),{[l]:Kt(Kt({},a[l]||{}),t[l])}),o)),this.privateTranslations.update(o=>n.reduce((a,l)=>{let c=!0,d=t[l];return typeof r=="function"&&(d=r(d)),(typeof r=="function"||r==="none")&&(c=!1),as(Kt({},a),{[l]:Kt(Kt({},a[l]||{}),c?Bg(d,r==="preserveArrays"):d)})},o)),n.forEach(o=>{let a=Object.keys(t[o]).map(l=>`${l}`.split(".")[0]);i&&(a=i[o]),this.loadedKeys[o]=Array.from(new Set([...this.loadedKeys[o]||[],...a||[]]))})},this.loader=async([t,i])=>{let s=this.getLocale(t)||void 0;fi.debug(`Adding loader promise for '${s}' locale and '${i}' route.`);let r=(async()=>{let n=await this.getTranslationProps(s,i);n.length&&this.addTranslations(...n)})();this.promises.add({locale:s,route:i,promise:r}),r.then(()=>{s&&this.locale.get()!==s&&this.locale.forceSet(s)})},this.loadTranslations=(t,i=Ot(this.currentRoute)||"")=>{let s=this.getLocale(t);if(s)return this.setRoute(i),this.setLocale(s),this.loading.toPromise(s,i)},this.loaderTrigger.subscribe(this.loader),this.isLoading.subscribe(async t=>{t&&this.promises.size&&(await this.loading.toPromise(),this.promises.clear(),fi.debug("Loader promises have been purged."))}),e&&this.loadConfig(e)}async configLoader(e){if(!e)return fi.error("No config provided!");let t=e,{initLocale:i,fallbackLocale:s,translations:r,log:n}=t,o=rl(t,["initLocale","fallbackLocale","translations","log"]);n&&ZG(G2(n)),[i]=rr(i),[s]=rr(s),fi.debug("Setting config."),this.config.set(Kt({initLocale:i,fallbackLocale:s,translations:r},o)),r&&this.addTranslations(r),i&&await this.loadTranslations(i)}},D2=Object.defineProperty,UG=Object.defineProperties,XG=Object.getOwnPropertyDescriptors,wh=Object.getOwnPropertySymbols,W2=Object.prototype.hasOwnProperty,T2=Object.prototype.propertyIsEnumerable,zC=(e,t,i)=>t in e?D2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Kr=(e,t)=>{for(var i in t||(t={}))W2.call(t,i)&&zC(e,i,t[i]);if(wh)for(var i of wh(t))T2.call(t,i)&&zC(e,i,t[i]);return e},uv=(e,t)=>UG(e,XG(t)),ko=(e,t)=>{var i={};for(var s in e)W2.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&wh)for(var s of wh(e))t.indexOf(s)<0&&T2.call(e,s)&&(i[s]=e[s]);return i},JG=(e,t)=>{for(var i in t)D2(e,i,{get:t[i],enumerable:!0})},N2={};JG(N2,{ago:()=>sD,currency:()=>rD,date:()=>eD,eq:()=>hv,gt:()=>V2,gte:()=>KG,lt:()=>B2,lte:()=>qG,ne:()=>QG,number:()=>$G});var gf=(e,t)=>{let{modifierDefaults:i}=t||{},{[e]:s}=i||{};return s||{}},hv=({value:e,options:t=[],defaultValue:i=""})=>(t.find(({key:s})=>`${s}`.toLowerCase()===`${e}`.toLowerCase())||{}).value||i,QG=({value:e,options:t=[],defaultValue:i=""})=>(t.find(({key:s})=>`${s}`.toLowerCase()!==`${e}`.toLowerCase())||{}).value||i,B2=({value:e,options:t=[],defaultValue:i=""})=>(t.sort((s,r)=>+s.key-+r.key).find(({key:s})=>+e<+s)||{}).value||i,V2=({value:e,options:t=[],defaultValue:i=""})=>(t.sort((s,r)=>+r.key-+s.key).find(({key:s})=>+e>+s)||{}).value||i,qG=({value:e,options:t=[],defaultValue:i=""})=>hv({value:e,options:t,defaultValue:B2({value:e,options:t,defaultValue:i})}),KG=({value:e,options:t=[],defaultValue:i=""})=>hv({value:e,options:t,defaultValue:V2({value:e,options:t,defaultValue:i})}),$G=({value:e,props:t,defaultValue:i="",locale:s="",parserOptions:r})=>{if(!s)return"";let n=gf("number",r),{maximumFractionDigits:o}=n,a=ko(n,["maximumFractionDigits"]),l=(t==null?void 0:t.number)||{},{maximumFractionDigits:c=o||2}=l,d=ko(l,["maximumFractionDigits"]);return new Intl.NumberFormat(s,Kr(uv(Kr({},a),{maximumFractionDigits:c}),d)).format(+e||+i)},eD=({value:e,props:t,defaultValue:i="",locale:s="",parserOptions:r})=>{if(!s)return"";let n=ko(gf("date",r),[]),o=ko((t==null?void 0:t.date)||{},[]);return new Intl.DateTimeFormat(s,Kr(Kr({},n),o)).format(+e||+i)},Vg=[{key:"second",multiplier:1e3},{key:"minute",multiplier:60},{key:"hour",multiplier:60},{key:"day",multiplier:24},{key:"week",multiplier:7},{key:"month",multiplier:13/3},{key:"year",multiplier:12}],O2=(e="",t="")=>new RegExp(`^${e}s?$`).test(t),tD=e=>Vg.indexOf(Vg.find(({key:t})=>O2(t,e))),iD=(e,t)=>Vg.reduce(([i,s],{key:r,multiplier:n},o)=>{if(O2(s,t))return[i,s];if(!s||o===tD(s)+1){let a=Math.round(i/n);if(!s||Math.abs(a)>=1||t!=="auto")return[a,r]}return[i,s]},[e,""]),sD=({value:e,defaultValue:t="",locale:i="",props:s,parserOptions:r})=>{if(!i)return"";let n=gf("ago",r),{format:o,numeric:a}=n,l=ko(n,["format","numeric"]),c=(s==null?void 0:s.ago)||{},{format:d=o||"auto",numeric:u=a||"auto"}=c,f=ko(c,["format","numeric"]),g=+e||+t,m=iD(g,d);return new Intl.RelativeTimeFormat(i,Kr(uv(Kr({},l),{numeric:u}),f)).format(...m)},rD=({value:e,defaultValue:t="",locale:i="",props:s,parserOptions:r})=>{if(!i)return"";let n=gf("currency",r),{ratio:o,currency:a}=n,l=ko(n,["ratio","currency"]),c=(s==null?void 0:s.currency)||{},{ratio:d=o||1,currency:u=a}=c,f=ko(c,["ratio","currency"]);return new Intl.NumberFormat(i,Kr(uv(Kr({},l),{style:"currency",currency:u}),f)).format(d*(e||t))},nD=e=>typeof e=="string"&&/{{(?:(?!{{|}}).)+}}/.test(e),Og=e=>typeof e=="string"?e.replace(/\\(?=:|;|{|})/g,""):e,oD=({value:e,props:t,payload:i,parserOptions:s,locale:r})=>`${e}`.replace(/{{\s*(?:(?!{{|}}).)+\s*}}/g,n=>{let o=Og(`${n.match(/(?!{|\s).+?(?!\\[:;]).(?=\s*(?:[:;]|}}$))/)}`),a=i==null?void 0:i[o],[,l=""]=n.match(/.+?(?!\\;).;\s*default\s*:\s*([^\s:;].+?(?:\\[:;]|[^;}])*)(?=\s*(?:;|}}$))/i)||[];l=l||(i==null?void 0:i.default)||"";let[,c=""]=n.match(/{{\s*(?:[^;]|(?:\\;))+\s*(?:(?!\\:).[:])\s*(?!\s)((?:\\;|[^;])+?)(?=\s*(?:[;]|}}$))/i)||[];if(a===void 0&&c!=="ne")return l;let d=!!c,{customModifiers:u}=s||{},f=Kr(Kr({},N2),u||{});c=Object.keys(f).includes(c)?c:"eq";let g=f[c],m=(n.match(/[^\s:;{](?:[^;]|\\[;])+[^:;}]/gi)||[]).reduce((y,b,S)=>{if(S>0){let I=Og(`${b.match(/(?:(?:\\:)|[^:])+/)}`.trim()),F=`${b.match(/(?:(?:\\:)|[^:])+$/)}`.trimStart();if(I&&I!=="default"&&F)return[...y,{key:I,value:F}]}return y},[]);return!d&&!m.length?a:g({value:a,options:m,props:t,defaultValue:l,locale:r,parserOptions:s})}),P2=({value:e,props:t,payload:i,parserOptions:s,locale:r})=>{if(nD(e)){let n=oD({value:e,payload:i,props:t,parserOptions:s,locale:r});return P2({value:n,payload:i,props:t,parserOptions:s,locale:r})}else return Og(e)},aD=e=>({parse:(t,[i,s],r,n)=>(i!=null&&i.default&&t===void 0&&(t=i.default),t===void 0&&(t=n),P2({value:t,payload:i,props:s,parserOptions:e,locale:r}))}),lD=aD,cD=Object.defineProperty,dD=Object.defineProperties,uD=Object.getOwnPropertyDescriptors,Sh=Object.getOwnPropertySymbols,L2=Object.prototype.hasOwnProperty,Z2=Object.prototype.propertyIsEnumerable,jC=(e,t,i)=>t in e?cD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,hD=(e,t)=>{for(var i in t||(t={}))L2.call(t,i)&&jC(e,i,t[i]);if(Sh)for(var i of Sh(t))Z2.call(t,i)&&jC(e,i,t[i]);return e},fD=(e,t)=>dD(e,uD(t)),pD=(e,t)=>{var i={};for(var s in e)L2.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&Sh)for(var s of Sh(e))t.indexOf(s)<0&&Z2.call(e,s)&&(i[s]=e[s]);return i},UC=e=>{var t=e,{parserOptions:i={}}=t,s=pD(t,["parserOptions"]);return fD(hD({},s),{parser:lD(i)})},gD=class extends jG{constructor(e){super(e&&UC(e)),this.loadConfig=t=>super.configLoader(UC(t))}},H2=gD,mD="Accept",vD="Cancel",bD="Close",CD="Decline",yD={title:"Error",subtitle:"An Error happened."},wD="Loading…",SD={complete:"Awaiting response from your wallet.",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"Select an available account",blockchain:"Select which blockchain to login with",wallet:"Connect your wallet to login",no_accounts:"No accounts found",no_match:"No accounts found matching {{publicKey}}"},title:"Login","title-app":"{{appName}}"},RD={title:"Transact",subtitle:" ",processing:"Processing transaction…",signing:"Signing transaction",signed:"Transaction signed",broadcasting:"Broadcasting transaction",broadcasted:"Transaction sent"},AD={title:"Settings",language:{title:"Language"},theme:{title:"Theme",automatic:"Automatic",light:"Light",dark:"Dark"},animations:{title:"Animations",enabled:"Enabled",disabled:"Disabled"},github:"Report an issue on Github",about:{title:"About",version:"Version {{version}}",author:"An open source SDK for Antelope-based blockchains created by Greymass and made possible through funding by the Antelope Coalition (EOS, Telos, UX, and WAX).",link:"Read more about Wharf"}},ID={accept:mD,cancel:vD,close:bD,decline:CD,error:yD,loading:wD,login:SD,transact:RD,settings:AD},FD="받아들이다",ED="취소",MD="닫다",xD="거절하다",kD={title:"오류",subtitle:"오류가 발생했습니다."},_D="로드...",GD={complete:"",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"계정 선택",blockchain:"블록체인 선택",wallet:"지갑 선택",no_match:"{{publicKey}}와 일치하는 계정을 찾을 수 없습니다."},title:"로그인","title-app":"{{appName}}에 로그인"},DD={title:"거래하다",subtitle:" ",processing:"Performing transaction...",signing:"서명 트랜잭션",signed:"트랜잭션 서명",broadcasting:"방송 거래",broadcasted:"거래 방송"},WD={title:"설정",language:{title:"언어"},theme:{title:"테마",automatic:"자동",light:"밝은 테마",dark:"어두운 테마"},animations:{title:"애니메이션",enabled:"활성화",disabled:"비활성화"},github:"Github에서 문제 보고",about:{title:"정보",version:"{{version}} 버전",author:"",link:"부두에 대해 자세히 알아보기"}},TD={accept:FD,cancel:ED,close:MD,decline:xD,error:kD,loading:_D,login:GD,transact:DD,settings:WD},ND="接受",BD="取消",VD="关闭",OD="下降",PD={title:"错误",subtitle:"发生错误。"},LD="加载中。。。",ZD={complete:"",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"选择一个帐户",blockchain:"选择一个区块链",wallet:"选择一个钱包",no_match:"未找到与 {{publicKey}} 匹配的帐户。"},title:"登陆","title-app":"登陆到 {{appName}}"},HD={title:"办理",subtitle:" ",processing:"Performing transaction...",signing:"签署交易",signed:"交易已签署",broadcasting:"广播交易",broadcasted:"交易广播"},YD={title:"设置",language:{title:"语言"},theme:{title:"主题",automatic:"自动",light:"浅色",dark:"深色"},animations:{title:"动画",enabled:"启用",disabled:"禁用"},github:"在 Github 上报告问题",about:{title:"关于",version:"版本 {{version}}",author:"",link:"阅读更多关于码头的信息"}},XC={accept:ND,cancel:BD,close:VD,decline:OD,error:PD,loading:LD,login:ZD,transact:HD,settings:YD},zD="接受",jD="取消",UD="關閉",XD="下降",JD={title:"錯誤",subtitle:"發生錯誤。"},QD="裝載。。。",qD={complete:"",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"選擇一個帳戶",blockchain:"選擇一個區塊鏈",wallet:"選擇一個錢包",no_match:"未找到與 {{publicKey}} 匹配的帳戶。"},title:"登錄","title-app":"登錄到 {{appName}}"},KD={title:"辦理",subtitle:"",processing:"Performing transaction...",signing:"簽署交易",signed:"交易已簽署",broadcasting:"廣播交易",broadcasted:"交易廣播"},$D={title:"設置",language:{title:"語言"},theme:{title:"主題",automatic:"自動",light:"光",dark:"暗"},animations:{title:"動畫",enabled:"啟用",disabled:"殘"},github:"在 Github 上報告問題",about:{title:"關於",version:"版本 {{version}}",author:"",link:"閱讀更多關於碼頭的資訊"}},eW={accept:zD,cancel:jD,close:UD,decline:XD,error:JD,loading:QD,login:qD,transact:KD,settings:$D},tW="Kabul Et",iW="İptal",sW="Kapat",rW="Reddet",nW={title:"Hata",subtitle:"Bir Hata meydana geldi."},oW="Yükleniyor...",aW={complete:"Cüzdanınızdan yanıt bekleniyor.",enter:{account:"Hesap adını girin",lookup:"Hesap Ara",not_found:"Hesap bulunamadı"},select:{account:"Mevcut bir hesap seçin",blockchain:"Hangi blockchain ile giriş yapılacağını seçin",wallet:"Cüzdanınızı bağlayarak giriş yapın",no_match:"{{publicKey}} ile eşleşen hesap bulunamadı"},title:"Giriş","title-app":"{{appName}}"},lW={title:"İşlem",subtitle:" ",processing:"İşlem yapılıyor...",signing:"İşlem imzalanıyor",signed:"İşlem imzalandı",broadcasting:"İşlem yayınlanıyor",broadcasted:"İşlem gönderildi"},cW={title:"Ayarlar",language:{title:"Dil"},theme:{title:"Tema",automatic:"Otomatik",light:"Açık",dark:"Koyu"},animations:{title:"Animasyonlar",enabled:"Etkin",disabled:"Devre Dışı"},github:"Github üzerinde bir sorun bildir",about:{title:"Hakkında",version:"Sürüm {{version}}",author:"Greymass tarafından oluşturulan ve Antelope tabanlı blockchain'ler için bir açık kaynak SDK olan Wharf'ı, Antelope Koalisyonu (EOS, Telos, UX ve WAX) tarafından finanse edilerek mümkün kılınmıştır.",link:"Wharf hakkında daha fazla bilgi edinin"}},dW={accept:tW,cancel:iW,close:sW,decline:rW,error:nW,loading:oW,login:aW,transact:lW,settings:cW};const uW={en:{...xr,...ID},ko:{...xr,...TD},zh:{...xr,...XC},"zh-Hans":{...xr,...XC},"zh-Hant":{...xr,...eW},tr:{...xr,...dW}},Y2={initLocale:"en",translations:uW},hW=(e={})=>{const t={...Y2,...e};return new H2(t)};new H2(Y2);const JC={id:"wharfkit-web-ui",minimal:!1},fW=()=>(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||"en").split("-")[0];class z2 extends XE{constructor(t=JC){super(),this.elementId="wharfkit-web-ui",this.initialized=!1,this.logging=!1,this.minimal=!1,this.addCancelablePromise=i=>ov.update(s=>[...s,i]),this.options=t,typeof document<"u"&&this.initialize()}initialize(){if(this.initialized)return;const{options:t}=this;this.element=document.createElement("div"),this.elementId=t.id||JC.id,this.element.id=this.elementId,this.shadow=this.element.attachShadow({mode:"closed"}),this.i18n=hW();let i=fW();this.minimal=t.minimal||!1;const s=Ot(Zs).language;s&&(i=s),t.logging!==void 0&&(this.logging=t.logging),this.log(`Setting language to ${i}`),Zs.update(r=>({...r,language:i})),this.i18n.loadTranslations(i),document.readyState==="complete"||document.readyState==="interactive"?this.appendDialogElement():document.addEventListener("DOMContentLoaded",()=>this.appendDialogElement()),this.initialized=!0}appendDialogElement(){const t=document.getElementById(this.elementId);if(!this.element||!this.shadow)throw new Error("The WebRenderer is not initialized. Call the initialize method first.");t||(document.body.append(this.element),document.removeEventListener("DOMContentLoaded",()=>this.appendDialogElement()),new VG({target:this.shadow,props:{i18n:this.i18n}}))}log(...t){this.logging&&console.log("WebRenderer, LOG:",...t)}async login(t){this.log("login",t),ho.set(void 0),As.push("login");const i=ll(new Promise((s,r)=>av.set({reject:r,resolve:s})));return this.addCancelablePromise(i.cancel),Qn.set(t),await i,this.minimal&&Ki.set(!1),i}async onError(t){const i=t instanceof lu,s=i&&t.silent===!0;this.log("onError",{isCancelable:i,isSilent:s,error:t}),!s&&(this.minimal?Ki.set(!1):(Ki.set(!0),hu.set(String(t)),As.push("error")))}async onAccountCreate(t){this.log("onAccountCreate",t),Ki.set(!0),As.push("create-account");const i=ll(new Promise((s,r)=>lv.set({reject:r,resolve:s})));return this.addCancelablePromise(i.cancel),Jo.set(t),i}async onAccountCreateComplete(){this.log("onAccountCreateComplete"),Ki.set(!1),ju()}async onLogin(){this.log("onLogin"),Ki.set(!0),Ri.update(t=>({...t,title:this.i18n.t.get("login.title",{default:"Login"}),subtitle:""})),As.push("login")}async onLoginComplete(){this.log("onLoginResult"),Ki.set(!1),ju()}async onTransact(){this.log("onTransact"),this.minimal||Ki.set(!0),Ri.update(t=>({...t,title:this.i18n.t.get("transact.title",{default:"Transact"}),subtitle:""})),As.push("transact")}async onTransactComplete(){this.log("onTransactResult"),ju(),Ki.set(!1)}async onSign(){this.log("onSign")}async onSignComplete(){this.log("onSignComplete")}async onBroadcast(){this.log("onBroadcast")}async onBroadcastComplete(){this.log("onBroadcastComplete")}prompt(t){this.log("prompt",t),(!this.minimal||this.minimal&&!t.optional)&&(Ki.set(!0),As.push("prompt"));const i=ll(new Promise((s,r)=>{ho.set({args:t,resolve:s,reject:r})}),s=>{throw s});return this.addCancelablePromise(i.cancel),i}status(t){this.minimal||Ki.set(!0),Ri.update(i=>({...i,subtitle:t}))}translate(t,i,s){return s?this.i18n.t.get(`${s}.${t}`,i):this.i18n.t.get(t,i)}addTranslations(t){this.i18n.addTranslations(t)}}z2.version="1.4.0-rc6";/*!
 * bulma-toast 2.4.4 
 * (c) 2018-present @rfoel <rafaelfr@outlook.com> 
 * Released under the MIT License.
 */function QC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,s)}return i}function Pg(e){for(var t,i=1;i<arguments.length;i++)t=arguments[i]==null?{}:arguments[i],i%2?QC(Object(t),!0).forEach(function(s){gW(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):QC(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))});return e}function j2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pW(e,t){for(var i,s=0;s<t.length;s++)i=t[s],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function U2(e,t,i){return t&&pW(e.prototype,t),e}function gW(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var mW={duration:2e3,position:"top-right",closeOnClick:!0,opacity:1,single:!1,offsetTop:0,offsetBottom:0,offsetLeft:0,offsetRight:0,extraClasses:""},Xa=Pg({},mW),Uu={},vW=null,bW="width:100%;z-index:99999;position:fixed;pointer-events:none;display:flex;flex-direction:column;padding:15px;",CW=function(e,t,i,s,r){return e==="top-left"?"left:".concat(s,";top:").concat(t,";text-align:left;align-items:flex-start;"):e==="top-right"?"right:".concat(r,";top:").concat(t,";text-align:right;align-items:flex-end;"):e==="top-center"?"top:".concat(t,";left:0;right:0;text-align:center;align-items:center;"):e==="bottom-left"?"left:".concat(s,";bottom:").concat(i,";text-align:left;align-items:flex-start;"):e==="bottom-right"?"right:".concat(r,";bottom:").concat(i,";text-align:right;align-items:flex-end;"):e==="bottom-center"?"bottom:".concat(i,";left:0;right:0;text-align:center;align-items:center;"):e==="center"?"top:0;left:0;right:0;bottom:0;flex-flow:column;justify-content:center;align-items:center;":void 0};function Rh(){var e;return(e=vW)!==null&&e!==void 0?e:document}function yW(e,t,i,s,r,n){if(Uu.position)return Uu.position;var o=Rh().createElement("div");return o.setAttribute("style",bW+CW(t,i,s,r,n)),e.appendChild(o),Uu.position=o,o}function pi(e){if(!e.message)throw new Error("message is required");var t=Pg(Pg({},Xa),e),i=new wW(t),s=yW(t.appendTo||Rh().body,t.position||Xa.position,t.offsetTop||Xa.offsetTop,t.offsetBottom||Xa.offsetBottom,t.offsetLeft||Xa.offsetLeft,t.offsetRight||Xa.offsetRight);if(t.single)for(var r=s.lastElementChild;r;)s.removeChild(r),r=s.lastElementChild;s.appendChild(i.element)}var wW=function(){function e(t){var i=this;j2(this,e),this.element=Rh().createElement("div"),this.opacity=t.opacity,this.type=t.type,this.animate=t.animate,this.dismissible=t.dismissible,this.closeOnClick=t.closeOnClick,this.message=t.message,this.duration=t.duration,this.pauseOnHover=t.pauseOnHover,this.offsetTop=t.offsetTop,this.offsetBottom=t.offsetBottom,this.offsetLeft=t.offsetLeft,this.offsetRight=t.offsetRight,this.extraClasses=t.extraClasses;var s="width:auto;pointer-events:auto;display:inline-flex;white-space:pre-wrap;opacity:".concat(this.opacity,";"),r=["notification",this.extraClasses];if(this.type&&r.push(this.type),this.animate&&this.animate.in){var n="animate__".concat(this.animate.in),o=this.animate.speed?"animate__".concat(this.animate.speed):"animate__faster";r.push("animate__animated ".concat(n," ").concat(o)),this.onAnimationEnd(function(){return i.element.classList.remove(n)})}if(this.element.className=r.join(" "),this.dismissible){var a=Rh().createElement("button");a.className="delete",a.addEventListener("click",function(){i.destroy()}),this.element.insertAdjacentElement("afterbegin",a)}else s+="padding: 1.25rem 1.5rem";this.closeOnClick&&this.element.addEventListener("click",function(){i.destroy()}),this.element.setAttribute("style",s),typeof this.message=="string"?this.element.insertAdjacentHTML("beforeend",this.message):this.element.appendChild(this.message);var l=new SW(function(){i.destroy()},this.duration);this.pauseOnHover&&(this.element.addEventListener("mouseover",function(){l.pause()}),this.element.addEventListener("mouseout",function(){l.resume()}))}return U2(e,[{key:"destroy",value:function(){var t=this;this.animate&&this.animate.out?(this.element.classList.add("animate__".concat(this.animate.out)),this.onAnimationEnd(function(){t.removeParent(t.element.parentNode),t.element.remove()})):(this.removeParent(this.element.parentNode),this.element.remove())}},{key:"removeParent",value:function(t){t&&1>=t.children.length&&(t.remove(),delete Uu.position)}},{key:"onAnimationEnd",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:function(){},i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var s in i)if(this.element.style[s]!==void 0){this.element.addEventListener(i[s],function(){return t()});break}}}]),e}(),SW=function(){function e(t,i){j2(this,e),this.timer,this.start,this.remaining=i,this.callback=t,this.resume()}return U2(e,[{key:"pause",value:function(){typeof document>"u"||(window.clearTimeout(this.timer),this.remaining-=new Date-this.start)}},{key:"resume",value:function(){typeof document>"u"||(this.start=new Date,window.clearTimeout(this.timer),this.timer=window.setTimeout(this.callback,this.remaining))}}]),e}();const Pt=async(e,t)=>{try{const i=await e;return t&&pi({message:t,type:"is-success"}),i}catch(i){throw pi({message:i==null?void 0:i.message,type:"is-danger"}),console.error(i),i}},X2="https://jungle4.cryptolions.io:443",J2="https://eos.greymass.com",RW=new Wo({url:J2}),AW=new Wo({url:X2}),qC=new Qm({client:RW}),KC=new Qm({client:AW}),ls=qd()(Kd((e,t)=>({initialize:async()=>{const i=await Pt(qC.load("eosio.token")),s=await Pt(KC.load("eosio.token")),r=await Pt(qC.load("radarstation")),n=await Pt(KC.load("radarstation")),o=new UE({appName:"eos-radar-station",chains:[{id:bi.Jungle4.id,url:X2},{id:bi.EOS.id,url:J2}],ui:new z2({minimal:!0}),walletPlugins:[new XM,new F9,new I9,new E9,new w9]},{transactPlugins:[new gM]}),a=await Pt(o.restore({chain:bi.EOS})),l=await Pt(o.restore({chain:bi.Jungle4}));console.log("restored MAINNET session is",a),console.log("restored JUNGLE4 session is",l);const c=await Pt(a==null?void 0:a.account()),d=await Pt(l==null?void 0:l.account()),u=await Pt(o.getSessions());e({sessionKit:o,sessionMainnet:a,sessionJungle4:l,savedSessions:u,appContractMainnet:r,appContractJungle4:n,tokenContractMainnet:i,tokenContractJungle4:s,accountMainnet:c,accountJungle4:d})},loginMainnet:async()=>await t().login(bi.EOS),loginJungle4:async()=>await t().login(bi.Jungle4),login:async i=>{var r,n,o,a,l;const{sessionKit:s}=t();if(s){const c=await Pt(s.login({chain:i}));if(console.log("login result is",c),console.log("login result signature is",(r=c.response.identityProof)==null?void 0:r.signature),console.log("login result transaction is",(n=c.response.identityProof)==null?void 0:n.transaction.id),c&&c.session){const d=await Pt(s.getSessions()),u=await Pt((o=c==null?void 0:c.session)==null?void 0:o.account());return((a=c==null?void 0:c.session)==null?void 0:a.chain.id)===bi.EOS.id&&(e({sessionMainnet:c.session,accountMainnet:u,savedSessions:d}),console.log("restored MAINNET session",c.session)),((l=c==null?void 0:c.session)==null?void 0:l.chain.id)===bi.Jungle4.id&&(e({sessionJungle4:c.session,accountJungle4:u,savedSessions:d}),console.log("restored JUNGLE4 session",c.session)),`${c.session.actor}:${c.session.permissionLevel.actor.toString()}`}return}else return},logout:async i=>{const{sessionKit:s,sessionMainnet:r,sessionJungle4:n}=t();s?(i.id===bi.EOS.id&&await Pt(s.logout(r)),i.id===bi.Jungle4.id&&await Pt(s.logout(n))):pi({message:"You do not have any session to logout from",type:"is-danger"});const o=await Pt(s.getSessions());i.id===bi.EOS.id&&e({sessionMainnet:void 0,accountMainnet:void 0,savedSessions:o}),i.id===bi.Jungle4.id&&e({sessionJungle4:void 0,accountJungle4:void 0,savedSessions:o})},logoutMainnet:async()=>await t().logout(bi.EOS),logoutJungle4:async()=>await t().logout(bi.Jungle4),restoreSession:async i=>{const{sessionKit:s}=t();let r;if(!s)return pi({message:"Something went wrong. Please refresh the page",type:"is-warning"});r=await Pt(s.restore(i)),console.log("session restored is for chain ",r.chain);const n=await Pt(r==null?void 0:r.account());r.chain.id===bi.EOS.id&&(e({sessionMainnet:r,accountMainnet:n}),console.log("restored MAINNET session",r)),r.chain.id===bi.Jungle4.id&&(e({sessionJungle4:r,accountJungle4:n}),console.log("restored JUNGLE4 session",r))},sessionKit:void 0,savedSessions:[],accountMainnet:void 0,accountJungle4:void 0,notStakedCheese:void 0,sessionMainnet:void 0,sessionJungle4:void 0,tokenContractMainnet:void 0,tokenContractJungle4:void 0,appContractMainnet:void 0,appContractJungle4:void 0})));function IW(e){const t=s=>Array.isArray(s)?s[0].split(":"):s.split(":"),i=typeof e=="object"&&!Array.isArray(e)?t(e.data):t(e);return{token:i[4],from:i[2],quantity:parseFloat(i[3])||i[3],to:i[5],date:new Date(Number(i[0])),txHash:i[1],ticker:i[4]}}const Tc=qd()(Kd((e,t)=>({isGridReady:()=>!!t().gridApi,setGrid:i=>e({gridApi:i.api}),gridApi:null}))),pu=qd()(Kd((e,t)=>({isModalOpen:()=>t().isRDRInfoModalOpen||t().isExampleModal_NotInUseOpen,isRDRInfoModalOpen:!1,isExampleModal_NotInUseOpen:!1,openRDRInfoModal:()=>{e({isRDRInfoModalOpen:!0})},closeRDRInfoModal:()=>e({isRDRInfoModalOpen:!1}),openExampleModal_NotInUse:()=>{e({isExampleModal_NotInUseOpen:!0})},closeExampleModal_NotInUse:()=>e({isExampleModal_NotInUseOpen:!1})})));function fv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FW(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function pv(e,t,i){return t&&FW(e.prototype,t),e}function $C(e){return+e.replace(/px/,"")}function EW(e){var t=window.devicePixelRatio,i=getComputedStyle(e),s=$C(i.getPropertyValue("width")),r=$C(i.getPropertyValue("height"));e.setAttribute("width",(s*t).toString()),e.setAttribute("height",(r*t).toString())}function nr(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=Math.random()*(t-e)+e;return Math.floor(s*Math.pow(10,i))/Math.pow(10,i)}function ey(e){return e[nr(0,e.length)]}var MW=.00125,xW=5e-4,kW=9e-4,_W=1e-5,GW=6,DW=80,WW=.9,TW=1.7,NW=.2,BW=.6,VW=.03,OW=.07,ty=15,iy=82,PW=150,LW=100,ZW=250,HW=40,YW=["#fcf403","#62fc03","#f4fc03","#03e7fc","#03fca5","#a503fc","#fc03ad","#fc03c2"];function sy(e){var t=1920;return Math.log(e)/Math.log(t)}var ry=function(){function e(t){fv(this,e);var i=t.initialPosition,s=t.direction,r=t.confettiRadius,n=t.confettiColors,o=t.emojis,a=t.emojiSize,l=t.canvasWidth,c=nr(WW,TW,3),d=c*sy(l);this.confettiSpeed={x:d,y:d},this.finalConfettiSpeedX=nr(NW,BW,3),this.rotationSpeed=o.length?.01:nr(VW,OW,3)*sy(l),this.dragForceCoefficient=nr(xW,kW,6),this.radius={x:r,y:r},this.initialRadius=r,this.rotationAngle=s==="left"?nr(0,.2,3):nr(-.2,0,3),this.emojiSize=a,this.emojiRotationAngle=nr(0,2*Math.PI),this.radiusYUpdateDirection="down";var u=s==="left"?nr(iy,ty)*Math.PI/180:nr(-ty,-iy)*Math.PI/180;this.absCos=Math.abs(Math.cos(u)),this.absSin=Math.abs(Math.sin(u));var f=nr(-PW,0),g={x:i.x+(s==="left"?-f:f)*this.absCos,y:i.y-f*this.absSin};this.currentPosition=Object.assign({},g),this.initialPosition=Object.assign({},g),this.color=o.length?null:ey(n),this.emoji=o.length?ey(o):null,this.createdAt=new Date().getTime(),this.direction=s}return pv(e,[{key:"draw",value:function(i){var s=this.currentPosition,r=this.radius,n=this.color,o=this.emoji,a=this.rotationAngle,l=this.emojiRotationAngle,c=this.emojiSize,d=window.devicePixelRatio;n?(i.fillStyle=n,i.beginPath(),i.ellipse(s.x*d,s.y*d,r.x*d,r.y*d,a,0,2*Math.PI),i.fill()):o&&(i.font="".concat(c,"px serif"),i.save(),i.translate(d*s.x,d*s.y),i.rotate(l),i.textAlign="center",i.fillText(o,0,0),i.restore())}},{key:"updatePosition",value:function(i,s){var r=this.confettiSpeed,n=this.dragForceCoefficient,o=this.finalConfettiSpeedX,a=this.radiusYUpdateDirection,l=this.rotationSpeed,c=this.createdAt,d=this.direction,u=s-c;if(r.x>o&&(this.confettiSpeed.x-=n*i),this.currentPosition.x+=r.x*(d==="left"?-this.absCos:this.absCos)*i,this.currentPosition.y=this.initialPosition.y-r.y*this.absSin*u+MW*Math.pow(u,2)/2,this.rotationSpeed-=this.emoji?1e-4:_W*i,this.rotationSpeed<0&&(this.rotationSpeed=0),this.emoji){this.emojiRotationAngle+=this.rotationSpeed*i%(2*Math.PI);return}a==="down"?(this.radius.y-=i*l,this.radius.y<=0&&(this.radius.y=0,this.radiusYUpdateDirection="up")):(this.radius.y+=i*l,this.radius.y>=this.initialRadius&&(this.radius.y=this.initialRadius,this.radiusYUpdateDirection="down"))}},{key:"getIsVisibleOnCanvas",value:function(i){return this.currentPosition.y<i+LW}}]),e}();function zW(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.width="100%",e.style.height="100%",e.style.top="0",e.style.left="0",e.style.zIndex="1000",e.style.pointerEvents="none",document.body.appendChild(e),e}function jW(e){var t=e.confettiRadius,i=t===void 0?GW:t,s=e.confettiNumber,r=s===void 0?e.confettiesNumber||(e.emojis?HW:ZW):s,n=e.confettiColors,o=n===void 0?YW:n,a=e.emojis,l=a===void 0?e.emojies||[]:a,c=e.emojiSize,d=c===void 0?DW:c;return e.emojies&&console.error("emojies argument is deprecated, please use emojis instead"),e.confettiesNumber&&console.error("confettiesNumber argument is deprecated, please use confettiNumber instead"),{confettiRadius:i,confettiNumber:r,confettiColors:o,emojis:l,emojiSize:d}}var UW=function(){function e(t){var i=this;fv(this,e),this.canvasContext=t,this.shapes=[],this.promise=new Promise(function(s){return i.resolvePromise=s})}return pv(e,[{key:"getBatchCompletePromise",value:function(){return this.promise}},{key:"addShapes",value:function(){var i;(i=this.shapes).push.apply(i,arguments)}},{key:"complete",value:function(){var i;return this.shapes.length?!1:((i=this.resolvePromise)===null||i===void 0||i.call(this),!0)}},{key:"processShapes",value:function(i,s,r){var n=this,o=i.timeDelta,a=i.currentTime;this.shapes=this.shapes.filter(function(l){return l.updatePosition(o,a),l.draw(n.canvasContext),r?l.getIsVisibleOnCanvas(s):!0})}}]),e}(),XW=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fv(this,e),this.activeConfettiBatches=[],this.canvas=t.canvas||zW(),this.canvasContext=this.canvas.getContext("2d"),this.requestAnimationFrameRequested=!1,this.lastUpdated=new Date().getTime(),this.iterationIndex=0,this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}return pv(e,[{key:"loop",value:function(){this.requestAnimationFrameRequested=!1,EW(this.canvas);var i=new Date().getTime(),s=i-this.lastUpdated,r=this.canvas.offsetHeight,n=this.iterationIndex%10===0;this.activeConfettiBatches=this.activeConfettiBatches.filter(function(o){return o.processShapes({timeDelta:s,currentTime:i},r,n),n?!o.complete():!0}),this.iterationIndex++,this.queueAnimationFrameIfNeeded(i)}},{key:"queueAnimationFrameIfNeeded",value:function(i){this.requestAnimationFrameRequested||this.activeConfettiBatches.length<1||(this.requestAnimationFrameRequested=!0,this.lastUpdated=i||new Date().getTime(),requestAnimationFrame(this.loop))}},{key:"addConfetti",value:function(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=jW(i),r=s.confettiRadius,n=s.confettiNumber,o=s.confettiColors,a=s.emojis,l=s.emojiSize,c=this.canvas.getBoundingClientRect(),d=c.width,u=c.height,f=u*5/7,g={x:0,y:f},m={x:d,y:f},y=new UW(this.canvasContext),b=0;b<n/2;b++){var S=new ry({initialPosition:g,direction:"right",confettiRadius:r,confettiColors:o,confettiNumber:n,emojis:a,emojiSize:l,canvasWidth:d}),I=new ry({initialPosition:m,direction:"left",confettiRadius:r,confettiColors:o,confettiNumber:n,emojis:a,emojiSize:l,canvasWidth:d});y.addShapes(S,I)}return this.activeConfettiBatches.push(y),this.queueAnimationFrameIfNeeded(),y.getBatchCompletePromise()}},{key:"clearCanvas",value:function(){this.activeConfettiBatches=[]}},{key:"destroyCanvas",value:function(){this.canvas.remove()}}]),e}();const JW=e=>{var t,i;return console.log("appContractAccount is",e),{redeemable:Number(((t=e==null?void 0:e.redeemable)==null?void 0:t.quantity)??0),balance:Number(((i=e==null?void 0:e.balance)==null?void 0:i.quantity)??0)}},gu=qd()(Kd((e,t)=>({jsConfetti:null,uiUser:void 0,initialize:async()=>{console.log("[uiUserStore] initialize"),await Pt(t().refreshUser()),e({jsConfetti:new XW})},refreshUser:async()=>{console.log("[refreshUser]");const{sessionJungle4:i,appContractJungle4:s}=ls.getState();if(i&&s){const r=s.table("accounts",i.actor.toString()),n=await Pt(r.get("RDR"));e({uiUser:JW(n)})}else e({uiUser:void 0});return t().uiUser},stake:async i=>{const{sessionJungle4:s,tokenContractJungle4:r,appContractJungle4:n,accountJungle4:o}=ls.getState();if(s&&r){const a=r.action("transfer",{from:String(o==null?void 0:o.accountName.toString()),to:"radarstation",quantity:ie.from(`${i.toFixed(4)} EOS`),memo:"become observer"});pu.getState().closeRDRInfoModal(),s&&await Pt(s.transact({action:a}),`Added ${i*24*60*60} RDR Entitlements`),await Pt(t().refreshUser())}else pi({message:"Connect wallet first",type:"is-warning"})},donate:async(i,s)=>{const{sessionMainnet:r,tokenContractMainnet:n}=ls.getState();if(r&&n){const o=n.action("transfer",{from:r.actor.toString(),to:"radarstation",quantity:ie.from(`${i.toFixed(4)} EOS`),memo:`Donated to the development of eos-radar-station.com${s?`. Msg: ${s}`:""}`});await Pt(r.transact({action:o})),await t().jsConfetti.addConfetti(),pi({message:"Thank you so much for Donating!",type:"is-success"})}else{let a=0;for(;a<3;){a++;try{const l=await ls.getState().loginMainnet();if(console.log("login result is ",l),l)break}catch(l){console.error(`attempt ${a} failed: ${l.message}`)}}console.log("will donate"),await t().donate(i,s)}},checkin:async(i,s)=>{if(!s||!s.length){pi({message:"Please select at least one coin for the upgade",type:"is-warning"});return}const{sessionJungle4:r,appContractJungle4:n}=ls.getState();if(r&&n){const o=n.action("checkin",{stationer:r.actor.toString(),memo:`${i}:${s.join(",")}`});return r&&await Pt(r.transact({action:o}))}else return console.error("Someting went wrong: eiteher session or contract are not available"),null}}))),QW=1e3*30+1e3*30+1e3*1,qW=1;function mp(e){let t=document.querySelector("link[rel~='icon']");console.log("changing link"),t||(console.log("link not present"),t=document.createElement("link"),t.rel="icon",document.head.appendChild(t)),t.href=e}function KW(e){return typeof e=="object"&&Object.prototype.toString.call(e)==="[object Blob]"}const Er=qd()(Kd((e,t)=>({isConnected:!1,isUpgraded:!1,socket:null,wsHeartbeat:i=>{if(i)i&&i.pingTimeoutId&&clearTimeout(i.pingTimeoutId);else return;i.pingTimeoutId=setTimeout(()=>{i.close(),console.log("closing socket")},QW);const s=new Uint8Array(1);s[0]=qW,i.send(s)},connectWebSocket:async()=>{console.log("connect web socket"),t().disconnectWebSocket();try{const{accountJungle4:i,sessionJungle4:s}=ls.getState();let r=new WebSocket(`ws://localhost:9090/w/e/test?a=${String(i==null?void 0:i.accountName)}:${String(s==null?void 0:s.permissionLevel.permission)}`);r.onopen=()=>{mp("/test/radarstation.svg"),pi({message:"Socket open",type:"is-success"}),r!==t().socket&&t().disconnectWebSocket(),e({socket:r,isConnected:!0,isUpgraded:!1})},r.onmessage=async n=>{if(KW(n.data))t().wsHeartbeat(r);else{const{sessionJungle4:o}=ls.getState();if(!o&&t().isUpgraded){pi({message:"No wallet session available",type:"is-warning"});try{r&&r.pingTimeoutId&&clearTimeout(r.pingTimeoutId),r.close(),r=null,t().disconnectWebSocket(),setTimeout(async()=>await t().connectWebSocket(),1e3)}catch{}}const a=IW(n.data);try{Tc.getState().isGridReady||console.error("grid is not ready, not adding new ws data"),Tc.getState().gridApi.getRowNode(a.txHash)||(Tc.getState().gridApi.applyTransaction({add:[{txHash:a.txHash}],addIndex:0}),Tc.getState().gridApi.applyTransaction({update:[a]}))}catch(l){console.log("Error adding data on onmessage",l)}}},r.onclose=()=>{mp("/test/radarstation-offline.svg"),pi({message:"Socket close",type:"is-warning"}),r&&r.pingTimeoutId&&clearTimeout(r.pingTimeoutId),r=null,e({socket:r,isConnected:!1,isUpgraded:!1})},r.onerror=n=>{console.error("onerror event in websocket",n),mp("/test/radarstation-offline.svg"),pi({message:"Socket error",type:"is-danger"}),r&&r.pingTimeoutId&&clearTimeout(r.pingTimeoutId),r=null,e({socket:r,isConnected:!1,isUpgraded:!1})}}catch(i){console.error("Error:",i)}},disconnectWebSocket:()=>{try{clearTimeout(t().socket.pingTimeoutId),t().socket.close()}catch{}e({socket:null,isConnected:!1,isUpgraded:!1})},upgradeToSubscription:async i=>{const{sessionJungle4:s}=ls.getState();if(t().isUpgraded&&JSON.stringify(t().socket.currentlyUpgradedCoins)===JSON.stringify(i))return pi({message:"You are already upgraded. Nothing more to do",type:"is-success"});if(t().isUpgraded&&pi({message:"Logging in again to unlock new selected coins",type:"is-success"}),!s)return pi({message:"please login first",type:"is-warning"});if(!t().isConnected)return pi({message:"please connect to obfuscated feed first",type:"is-warning"});try{const n=await(await fetch("http://localhost:9090/test/login/nonce",{method:"POST",body:JSON.stringify({actor:s.actor.toString(),actorPermission:s.permissionLevel.permission.toString()})})).json();console.log("server sent nonce ",n);const o=await gu.getState().checkin(n.b,i);if(console.log("checkin Result is",o),!o)return;const a=await fetch("http://localhost:9090/test/login",{method:"POST",body:JSON.stringify({actor:s.actor.toString(),actorPermission:s.permissionLevel.permission.toString(),a:n.a,nonceTransaction:{chainId:o.chain.id,txId:o.response.transaction_id,blockNum:o.response.processed.block_num}})});a.status!==200?pi({message:"Server login unsuccessful... Please try again!",type:"is-danger"}):(pi({message:"Server login successful!",type:"is-success"}),t().socket.currentlyUpgradedCoins=i,e({isUpgraded:!0}));const l=await a.json();console.log("server login result is ",l)}catch{return pi({message:"Server login failed",type:"is-danger"})}}})));var Lg={exports:{}},ka={};const gv=Em(M3);var Q2={exports:{}},$W="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eT=$W,tT=eT;function q2(){}function K2(){}K2.resetWarningCache=q2;var iT=function(){function e(s,r,n,o,a,l){if(l!==tT){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:K2,resetWarningCache:q2};return i.PropTypes=i,i};Q2.exports=iT();var $2=Q2.exports,Zg={exports:{}},yr={},Hg={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var i="none",s="contents",r=/input|select|textarea|button|object|iframe/;function n(u,f){return f.getPropertyValue("overflow")!=="visible"||u.scrollWidth<=0&&u.scrollHeight<=0}function o(u){var f=u.offsetWidth<=0&&u.offsetHeight<=0;if(f&&!u.innerHTML)return!0;try{var g=window.getComputedStyle(u),m=g.getPropertyValue("display");return f?m!==s&&n(u,g):m===i}catch{return console.warn("Failed to inspect element style"),!1}}function a(u){for(var f=u,g=u.getRootNode&&u.getRootNode();f&&f!==document.body;){if(g&&f===g&&(f=g.host.parentNode),o(f))return!1;f=f.parentNode}return!0}function l(u,f){var g=u.nodeName.toLowerCase(),m=r.test(g)&&!u.disabled||g==="a"&&u.href||f;return m&&a(u)}function c(u){var f=u.getAttribute("tabindex");f===null&&(f=void 0);var g=isNaN(f);return(g||f>=0)&&l(u,!g)}function d(u){var f=[].slice.call(u.querySelectorAll("*"),0).reduce(function(g,m){return g.concat(m.shadowRoot?d(m.shadowRoot):[m])},[]);return f.filter(c)}e.exports=t.default})(Hg,Hg.exports);var eS=Hg.exports;Object.defineProperty(yr,"__esModule",{value:!0});yr.resetState=oT;yr.log=aT;yr.handleBlur=Pd;yr.handleFocus=Ld;yr.markForFocusLater=lT;yr.returnFocus=cT;yr.popWithoutFocus=dT;yr.setupScopedFocus=uT;yr.teardownScopedFocus=hT;var sT=eS,rT=nT(sT);function nT(e){return e&&e.__esModule?e:{default:e}}var zl=[],nl=null,Yg=!1;function oT(){zl=[]}function aT(){}function Pd(){Yg=!0}function Ld(){if(Yg){if(Yg=!1,!nl)return;setTimeout(function(){if(!nl.contains(document.activeElement)){var e=(0,rT.default)(nl)[0]||nl;e.focus()}},0)}}function lT(){zl.push(document.activeElement)}function cT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{zl.length!==0&&(t=zl.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function dT(){zl.length>0&&zl.pop()}function uT(e){nl=e,window.addEventListener?(window.addEventListener("blur",Pd,!1),document.addEventListener("focus",Ld,!0)):(window.attachEvent("onBlur",Pd),document.attachEvent("onFocus",Ld))}function hT(){nl=null,window.addEventListener?(window.removeEventListener("blur",Pd),document.removeEventListener("focus",Ld)):(window.detachEvent("onBlur",Pd),document.detachEvent("onFocus",Ld))}var zg={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=eS,s=r(i);function r(a){return a&&a.__esModule?a:{default:a}}function n(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?n(a.activeElement.shadowRoot):a.activeElement}function o(a,l){var c=(0,s.default)(a);if(!c.length){l.preventDefault();return}var d=void 0,u=l.shiftKey,f=c[0],g=c[c.length-1],m=n();if(a===m){if(!u)return;d=g}if(g===m&&!u&&(d=f),f===m&&u&&(d=g),d){l.preventDefault(),d.focus();return}var y=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),b=y!=null&&y[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(b){var S=c.indexOf(m);if(S>-1&&(S+=u?-1:1),d=c[S],typeof d>"u"){l.preventDefault(),d=u?g:f,d.focus();return}l.preventDefault(),d.focus()}}e.exports=t.default})(zg,zg.exports);var fT=zg.exports,wr={},pT=function(){},gT=pT,ur={},tS={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),i={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=i:window.ExecutionEnvironment=i})()})(tS);var mT=tS.exports;Object.defineProperty(ur,"__esModule",{value:!0});ur.canUseDOM=ur.SafeNodeList=ur.SafeHTMLCollection=void 0;var vT=mT,bT=CT(vT);function CT(e){return e&&e.__esModule?e:{default:e}}var mf=bT.default,yT=mf.canUseDOM?window.HTMLElement:{};ur.SafeHTMLCollection=mf.canUseDOM?window.HTMLCollection:{};ur.SafeNodeList=mf.canUseDOM?window.NodeList:{};ur.canUseDOM=mf.canUseDOM;ur.default=yT;Object.defineProperty(wr,"__esModule",{value:!0});wr.resetState=IT;wr.log=FT;wr.assertNodeList=iS;wr.setElement=ET;wr.validateElement=mv;wr.hide=MT;wr.show=xT;wr.documentNotReadyOrSSRTesting=kT;var wT=gT,ST=AT(wT),RT=ur;function AT(e){return e&&e.__esModule?e:{default:e}}var Ts=null;function IT(){Ts&&(Ts.removeAttribute?Ts.removeAttribute("aria-hidden"):Ts.length!=null?Ts.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(Ts).forEach(function(e){return e.removeAttribute("aria-hidden")})),Ts=null}function FT(){}function iS(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function ET(e){var t=e;if(typeof t=="string"&&RT.canUseDOM){var i=document.querySelectorAll(t);iS(i,t),t=i}return Ts=t||Ts,Ts}function mv(e){var t=e||Ts;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,ST.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function MT(e){var t=!0,i=!1,s=void 0;try{for(var r=mv(e)[Symbol.iterator](),n;!(t=(n=r.next()).done);t=!0){var o=n.value;o.setAttribute("aria-hidden","true")}}catch(a){i=!0,s=a}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}}function xT(e){var t=!0,i=!1,s=void 0;try{for(var r=mv(e)[Symbol.iterator](),n;!(t=(n=r.next()).done);t=!0){var o=n.value;o.removeAttribute("aria-hidden")}}catch(a){i=!0,s=a}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}}function kT(){Ts=null}var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.resetState=_T;pc.log=GT;var Xc={},Jc={};function ny(e,t){e.classList.remove(t)}function _T(){var e=document.getElementsByTagName("html")[0];for(var t in Xc)ny(e,Xc[t]);var i=document.body;for(var s in Jc)ny(i,Jc[s]);Xc={},Jc={}}function GT(){}var DT=function(t,i){return t[i]||(t[i]=0),t[i]+=1,i},WT=function(t,i){return t[i]&&(t[i]-=1),i},TT=function(t,i,s){s.forEach(function(r){DT(i,r),t.add(r)})},NT=function(t,i,s){s.forEach(function(r){WT(i,r),i[r]===0&&t.remove(r)})};pc.add=function(t,i){return TT(t.classList,t.nodeName.toLowerCase()=="html"?Xc:Jc,i.split(" "))};pc.remove=function(t,i){return NT(t.classList,t.nodeName.toLowerCase()=="html"?Xc:Jc,i.split(" "))};var gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.log=VT;gc.resetState=OT;function BT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var sS=function e(){var t=this;BT(this,e),this.register=function(i){t.openInstances.indexOf(i)===-1&&(t.openInstances.push(i),t.emit("register"))},this.deregister=function(i){var s=t.openInstances.indexOf(i);s!==-1&&(t.openInstances.splice(s,1),t.emit("deregister"))},this.subscribe=function(i){t.subscribers.push(i)},this.emit=function(i){t.subscribers.forEach(function(s){return s(i,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Ah=new sS;function VT(){console.log("portalOpenInstances ----------"),console.log(Ah.openInstances.length),Ah.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function OT(){Ah=new sS}gc.default=Ah;var vv={};Object.defineProperty(vv,"__esModule",{value:!0});vv.resetState=HT;vv.log=YT;var PT=gc,LT=ZT(PT);function ZT(e){return e&&e.__esModule?e:{default:e}}var Oi=void 0,or=void 0,sa=[];function HT(){for(var e=[Oi,or],t=0;t<e.length;t++){var i=e[t];i&&i.parentNode&&i.parentNode.removeChild(i)}Oi=or=null,sa=[]}function YT(){console.log("bodyTrap ----------"),console.log(sa.length);for(var e=[Oi,or],t=0;t<e.length;t++){var i=e[t],s=i||{};console.log(s.nodeName,s.className,s.id)}console.log("edn bodyTrap ----------")}function oy(){sa.length!==0&&sa[sa.length-1].focusContent()}function zT(e,t){!Oi&&!or&&(Oi=document.createElement("div"),Oi.setAttribute("data-react-modal-body-trap",""),Oi.style.position="absolute",Oi.style.opacity="0",Oi.setAttribute("tabindex","0"),Oi.addEventListener("focus",oy),or=Oi.cloneNode(),or.addEventListener("focus",oy)),sa=t,sa.length>0?(document.body.firstChild!==Oi&&document.body.insertBefore(Oi,document.body.firstChild),document.body.lastChild!==or&&document.body.appendChild(or)):(Oi.parentElement&&Oi.parentElement.removeChild(Oi),or.parentElement&&or.parentElement.removeChild(or))}LT.default.subscribe(zT);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(R){for(var A=1;A<arguments.length;A++){var k=arguments[A];for(var E in k)Object.prototype.hasOwnProperty.call(k,E)&&(R[E]=k[E])}return R},s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},r=function(){function R(A,k){for(var E=0;E<k.length;E++){var D=k[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(A,D.key,D)}}return function(A,k,E){return k&&R(A.prototype,k),E&&R(A,E),A}}(),n=gv,o=$2,a=L(o),l=yr,c=G(l),d=fT,u=L(d),f=wr,g=G(f),m=pc,y=G(m),b=ur,S=L(b),I=gc,F=L(I);function G(R){if(R&&R.__esModule)return R;var A={};if(R!=null)for(var k in R)Object.prototype.hasOwnProperty.call(R,k)&&(A[k]=R[k]);return A.default=R,A}function L(R){return R&&R.__esModule?R:{default:R}}function T(R,A){if(!(R instanceof A))throw new TypeError("Cannot call a class as a function")}function O(R,A){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:R}function Q(R,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);R.prototype=Object.create(A&&A.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(R,A):R.__proto__=A)}var V={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},U=function(A){return A.code==="Tab"||A.keyCode===9},M=function(A){return A.code==="Escape"||A.keyCode===27},v=0,w=function(R){Q(A,R);function A(k){T(this,A);var E=O(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,k));return E.setOverlayRef=function(D){E.overlay=D,E.props.overlayRef&&E.props.overlayRef(D)},E.setContentRef=function(D){E.content=D,E.props.contentRef&&E.props.contentRef(D)},E.afterClose=function(){var D=E.props,x=D.appElement,C=D.ariaHideApp,_=D.htmlOpenClassName,ce=D.bodyOpenClassName,de=D.parentSelector,ue=de&&de().ownerDocument||document;ce&&y.remove(ue.body,ce),_&&y.remove(ue.getElementsByTagName("html")[0],_),C&&v>0&&(v-=1,v===0&&g.show(x)),E.props.shouldFocusAfterRender&&(E.props.shouldReturnFocusAfterClose?(c.returnFocus(E.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),E.props.onAfterClose&&E.props.onAfterClose(),F.default.deregister(E)},E.open=function(){E.beforeOpen(),E.state.afterOpen&&E.state.beforeClose?(clearTimeout(E.closeTimer),E.setState({beforeClose:!1})):(E.props.shouldFocusAfterRender&&(c.setupScopedFocus(E.node),c.markForFocusLater()),E.setState({isOpen:!0},function(){E.openAnimationFrame=requestAnimationFrame(function(){E.setState({afterOpen:!0}),E.props.isOpen&&E.props.onAfterOpen&&E.props.onAfterOpen({overlayEl:E.overlay,contentEl:E.content})})}))},E.close=function(){E.props.closeTimeoutMS>0?E.closeWithTimeout():E.closeWithoutTimeout()},E.focusContent=function(){return E.content&&!E.contentHasFocus()&&E.content.focus({preventScroll:!0})},E.closeWithTimeout=function(){var D=Date.now()+E.props.closeTimeoutMS;E.setState({beforeClose:!0,closesAt:D},function(){E.closeTimer=setTimeout(E.closeWithoutTimeout,E.state.closesAt-Date.now())})},E.closeWithoutTimeout=function(){E.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},E.afterClose)},E.handleKeyDown=function(D){U(D)&&(0,u.default)(E.content,D),E.props.shouldCloseOnEsc&&M(D)&&(D.stopPropagation(),E.requestClose(D))},E.handleOverlayOnClick=function(D){E.shouldClose===null&&(E.shouldClose=!0),E.shouldClose&&E.props.shouldCloseOnOverlayClick&&(E.ownerHandlesClose()?E.requestClose(D):E.focusContent()),E.shouldClose=null},E.handleContentOnMouseUp=function(){E.shouldClose=!1},E.handleOverlayOnMouseDown=function(D){!E.props.shouldCloseOnOverlayClick&&D.target==E.overlay&&D.preventDefault()},E.handleContentOnClick=function(){E.shouldClose=!1},E.handleContentOnMouseDown=function(){E.shouldClose=!1},E.requestClose=function(D){return E.ownerHandlesClose()&&E.props.onRequestClose(D)},E.ownerHandlesClose=function(){return E.props.onRequestClose},E.shouldBeClosed=function(){return!E.state.isOpen&&!E.state.beforeClose},E.contentHasFocus=function(){return document.activeElement===E.content||E.content.contains(document.activeElement)},E.buildClassName=function(D,x){var C=(typeof x>"u"?"undefined":s(x))==="object"?x:{base:V[D],afterOpen:V[D]+"--after-open",beforeClose:V[D]+"--before-close"},_=C.base;return E.state.afterOpen&&(_=_+" "+C.afterOpen),E.state.beforeClose&&(_=_+" "+C.beforeClose),typeof x=="string"&&x?_+" "+x:_},E.attributesFromObject=function(D,x){return Object.keys(x).reduce(function(C,_){return C[D+"-"+_]=x[_],C},{})},E.state={afterOpen:!1,beforeClose:!1},E.shouldClose=null,E.moveFromContentToOverlay=null,E}return r(A,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(E,D){this.props.isOpen&&!E.isOpen?this.open():!this.props.isOpen&&E.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!D.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var E=this.props,D=E.appElement,x=E.ariaHideApp,C=E.htmlOpenClassName,_=E.bodyOpenClassName,ce=E.parentSelector,de=ce&&ce().ownerDocument||document;_&&y.add(de.body,_),C&&y.add(de.getElementsByTagName("html")[0],C),x&&(v+=1,g.hide(D)),F.default.register(this)}},{key:"render",value:function(){var E=this.props,D=E.id,x=E.className,C=E.overlayClassName,_=E.defaultStyles,ce=E.children,de=x?{}:_.content,ue=C?{}:_.overlay;if(this.shouldBeClosed())return null;var we={ref:this.setOverlayRef,className:this.buildClassName("overlay",C),style:i({},ue,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ke=i({id:D,ref:this.setContentRef,style:i({},de,this.props.style.content),className:this.buildClassName("content",x),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",i({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Be=this.props.contentElement(ke,ce);return this.props.overlayElement(we,Be)}}]),A}(n.Component);w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(S.default),a.default.instanceOf(b.SafeHTMLCollection),a.default.instanceOf(b.SafeNodeList),a.default.arrayOf(a.default.instanceOf(S.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=w,e.exports=t.default})(Zg,Zg.exports);var jT=Zg.exports;function rS(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function nS(e){function t(i){var s=this.constructor.getDerivedStateFromProps(e,i);return s??null}this.setState(t.bind(this))}function oS(e,t){try{var i=this.props,s=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(i,s)}finally{this.props=i,this.state=s}}rS.__suppressDeprecationWarning=!0;nS.__suppressDeprecationWarning=!0;oS.__suppressDeprecationWarning=!0;function UT(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var i=null,s=null,r=null;if(typeof t.componentWillMount=="function"?i="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(i="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?s="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(s="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?r="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),i!==null||s!==null||r!==null){var n=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+n+" uses "+o+" but also contains the following legacy lifecycles:"+(i!==null?`
  `+i:"")+(s!==null?`
  `+s:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=rS,t.componentWillReceiveProps=nS),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=oS;var a=t.componentDidUpdate;t.componentDidUpdate=function(c,d,u){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:u;a.call(this,c,d,f)}}return e}const XT=Object.freeze(Object.defineProperty({__proto__:null,polyfill:UT},Symbol.toStringTag,{value:"Module"})),JT=Em(XT);Object.defineProperty(ka,"__esModule",{value:!0});ka.bodyOpenClassName=ka.portalClassName=void 0;var ay=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},QT=function(){function e(t,i){for(var s=0;s<i.length;s++){var r=i[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),aS=gv,Ih=mu(aS),qT=gv,Fh=mu(qT),KT=$2,Ee=mu(KT),$T=jT,ly=mu($T),e7=wr,t7=s7(e7),oo=ur,cy=mu(oo),i7=JT;function s7(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function mu(e){return e&&e.__esModule?e:{default:e}}function r7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dy(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function n7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o7=ka.portalClassName="ReactModalPortal",a7=ka.bodyOpenClassName="ReactModal__Body--open",Yo=oo.canUseDOM&&Fh.default.createPortal!==void 0,uy=function(t){return document.createElement(t)},hy=function(){return Yo?Fh.default.createPortal:Fh.default.unstable_renderSubtreeIntoContainer};function _u(e){return e()}var vu=function(e){n7(t,e);function t(){var i,s,r,n;r7(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=(s=(r=dy(this,(i=t.__proto__||Object.getPrototypeOf(t)).call.apply(i,[this].concat(a))),r),r.removePortal=function(){!Yo&&Fh.default.unmountComponentAtNode(r.node);var c=_u(r.props.parentSelector);c&&c.contains(r.node)?c.removeChild(r.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},r.portalRef=function(c){r.portal=c},r.renderPortal=function(c){var d=hy(),u=d(r,Ih.default.createElement(ly.default,ay({defaultStyles:t.defaultStyles},c)),r.node);r.portalRef(u)},s),dy(r,n)}return QT(t,[{key:"componentDidMount",value:function(){if(oo.canUseDOM){Yo||(this.node=uy("div")),this.node.className=this.props.portalClassName;var s=_u(this.props.parentSelector);s.appendChild(this.node),!Yo&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(s){var r=_u(s.parentSelector),n=_u(this.props.parentSelector);return{prevParent:r,nextParent:n}}},{key:"componentDidUpdate",value:function(s,r,n){if(oo.canUseDOM){var o=this.props,a=o.isOpen,l=o.portalClassName;s.portalClassName!==l&&(this.node.className=l);var c=n.prevParent,d=n.nextParent;d!==c&&(c.removeChild(this.node),d.appendChild(this.node)),!(!s.isOpen&&!a)&&!Yo&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!oo.canUseDOM||!this.node||!this.portal)){var s=this.portal.state,r=Date.now(),n=s.isOpen&&this.props.closeTimeoutMS&&(s.closesAt||r+this.props.closeTimeoutMS);n?(s.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-r)):this.removePortal()}}},{key:"render",value:function(){if(!oo.canUseDOM||!Yo)return null;!this.node&&Yo&&(this.node=uy("div"));var s=hy();return s(Ih.default.createElement(ly.default,ay({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(s){t7.setElement(s)}}]),t}(aS.Component);vu.propTypes={isOpen:Ee.default.bool.isRequired,style:Ee.default.shape({content:Ee.default.object,overlay:Ee.default.object}),portalClassName:Ee.default.string,bodyOpenClassName:Ee.default.string,htmlOpenClassName:Ee.default.string,className:Ee.default.oneOfType([Ee.default.string,Ee.default.shape({base:Ee.default.string.isRequired,afterOpen:Ee.default.string.isRequired,beforeClose:Ee.default.string.isRequired})]),overlayClassName:Ee.default.oneOfType([Ee.default.string,Ee.default.shape({base:Ee.default.string.isRequired,afterOpen:Ee.default.string.isRequired,beforeClose:Ee.default.string.isRequired})]),appElement:Ee.default.oneOfType([Ee.default.instanceOf(cy.default),Ee.default.instanceOf(oo.SafeHTMLCollection),Ee.default.instanceOf(oo.SafeNodeList),Ee.default.arrayOf(Ee.default.instanceOf(cy.default))]),onAfterOpen:Ee.default.func,onRequestClose:Ee.default.func,closeTimeoutMS:Ee.default.number,ariaHideApp:Ee.default.bool,shouldFocusAfterRender:Ee.default.bool,shouldCloseOnOverlayClick:Ee.default.bool,shouldReturnFocusAfterClose:Ee.default.bool,preventScroll:Ee.default.bool,parentSelector:Ee.default.func,aria:Ee.default.object,data:Ee.default.object,role:Ee.default.string,contentLabel:Ee.default.string,shouldCloseOnEsc:Ee.default.bool,overlayRef:Ee.default.func,contentRef:Ee.default.func,id:Ee.default.string,overlayElement:Ee.default.func,contentElement:Ee.default.func};vu.defaultProps={isOpen:!1,portalClassName:o7,bodyOpenClassName:a7,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,i){return Ih.default.createElement("div",t,i)},contentElement:function(t,i){return Ih.default.createElement("div",t,i)}};vu.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,i7.polyfill)(vu);ka.default=vu;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=ka,s=r(i);function r(n){return n&&n.__esModule?n:{default:n}}t.default=s.default,e.exports=t.default})(Lg,Lg.exports);var l7=Lg.exports;const c7=Yh(l7),d7=({afterOpenModal:e,afterCloseModal:t,closeModal:i})=>{const{isRDRInfoModalOpen:s}=pu(),r=()=>{gu.getState().stake(Number(l))},[n,o]=Hr(86400),a=c=>{o(c)},l=(n/86400).toFixed(4);return $(c7,{ariaHideApp:!1,isOpen:s,overlayClassName:"custom-overlay",onAfterOpen:e,onAfterClose:t,onRequestClose:i,shouldCloseOnEsc:!0,style:{overlay:{zIndex:30}},contentLabel:"Example Modal",className:"modal-base",children:$("div",{className:"modal-content",children:[$("div",{className:"modal-header flex items-center justify-between",children:[$("h2",{className:"modal-title text-3xl font-bold",children:"Understanding the Radar Station"}),$("span",{className:"modal-close cursor-pointer text-xl",onClick:i,children:"×"})]}),$("div",{className:"mt-6",children:[$("h3",{className:"text-xl font-bold mt-4 mb-2",children:"RDR Entitlements"}),$("p",{children:"Having RDR Entitlements means you have access to the unobfuscated feed."}),$("ul",{className:"list-disc ml-6",children:[$("li",{children:"1 EOS grants you 86,400 RDR entitlements (the number of seconds in 24 hours)."}),$("li",{children:"Mine RDR by observing coin movements (the unobfuscated feed)."}),$("li",{children:"Each tracked coin mines 1 RDR per second and consumes 1 RDR entitlement (1 mining second)."}),$("li",{children:"RDR tokens are distributed every 10 minutes based on your usage."})]}),$("h3",{className:"text-xl font-bold mt-4 mb-2",children:"Mining RDR Tokens"}),$("p",{children:"Mining RDR is an investment in eos-radar-station.com. By transferring EOS to acquire RDR entitlements, and using the unobfuscated feed, you directly support this project's growth and shape its future."}),$("div",{className:"disclaimer-section",children:[" ",$("p",{className:"text-sm text-gray-600",children:[$("strong",{className:"text-red-500",children:"Note:"})," RDR is exclusive to eos-radar-station.com. A new platform with expanded features and exclusive RDR utility will be launched soon."]}),$("p",{className:"text-sm text-gray-600 mt-2",children:[$("strong",{className:"text-red-500",children:"Disclaimer:"})," RDR mining rates are subject to change. New features will be added after the alpha version based on community feedback and RDR-weighted voting. Your RDR holdings will give you a voice in shaping the future of eos-radar-station.com!"]}),$("p",{className:"text-sm text-red-500 mt-2",children:"Note: eos-radar-station.com is in Alpha. Service disruptions may occur."})]}),$("div",{className:"mt-6",children:[$("label",{className:"block font-bold mb-2",children:"Select RDR amount:"}),$("div",{className:"flex gap-4",children:[$("button",{className:`border border-gray-400 rounded px-4 py-2 ${n===86400?"bg-blue-500 text-white":""}`,onClick:()=>a(86400),children:"86400 RDR"}),$("button",{className:`border border-gray-400 rounded px-4 py-2 ${n===3*86400?"bg-blue-500 text-white":""}`,onClick:()=>a(3*86400),children:[3*86400," RDR"]}),$("button",{className:`border border-gray-400 rounded px-4 py-2 ${n===5*86400?"bg-blue-500 text-white":""}`,onClick:()=>a(5*86400),children:[5*86400," RDR"]})]}),$("label",{htmlFor:"eos-amount",className:"block font-bold mt-4 mb-2",children:"Calculated EOS amount:"}),$("input",{type:"text",id:"eos-amount",className:"modal-input w-full border border-gray-400 rounded px-3 py-2",value:`${l} EOS`,disabled:!0}),$("button",{className:"mt-4 w-full text-white bg-blue-500 hover:bg-blue-700 font-bold py-2 px-4 rounded",onClick:r,children:"Start Mining RDR with EOS"})]})]})]})})},u7=()=>{const{openRDRInfoModal:e}=pu(),{isConnected:t,isUpgraded:i}=Er();return $(Ti,{children:[$("div",{className:"flex flex-col w-full items-center gap-1",children:[$("p",{class:"text-lg font-bold mb-4",children:"Experience real-time EOS mainnet transaction monitoring."}),$("div",{class:"flex w-full",children:[$("div",{class:"w-1/5 mr-2 mt-6",children:$("button",{id:"sateliteButton",className:"",onClick:async()=>{e()},children:$("svg",{className:`${t&&i?"rotating-svg":""}`,width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[$("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2Z",stroke:t&&i||t?"green":"gray","stroke-width":"2"}),$("path",{d:"M17 17L12 12M12 12L7 7M12 12V20",stroke:t&&i||t?"green":"gray","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",transform:t?"":"rotate(45 12 12)"})]})})}),$("div",{class:"w-4/5 h-12 flex flex-col items-start",children:$("p",{class:"mb-4",children:"Stay informed about specific EOS transactions as they happen."})})]})]}),$("div",{children:$("span",{class:"bg-blue-400",children:["JUNGLE4 TESTNET: ",$("span",{children:"logged out"})]})}),$("div",{className:"flex",children:$("button",{id:"login",className:"text-green-800 border-none inline cursor-pointer transition-colors duration-200 rounded h-7 p-1",onClick:async()=>{await ls.getState().loginJungle4(),await Er.getState().connectWebSocket()},children:"CONNECT WALLET"})})]})},h7=()=>{const{isConnected:e,isUpgraded:t,socket:i}=Er(),{openRDRInfoModal:s}=pu(),{session:r}=ls(),[n,o]=Hr(new Set),[a,l]=Hr([]),{refreshUser:c,uiUser:d}=gu(),u=async()=>{t&&i&&JSON.stringify(i.currentlyUpgradedCoins)!==JSON.stringify(i.currentlySelectedCoins)&&i.currentlySelectedCoins&&i.currentlySelectedCoins.length!==0?Er.getState().upgradeToSubscription(Array.from(n)):i&&t?(await Er.getState().connectWebSocket(),o(new Set)):i&&e&&i.currentlySelectedCoins&&i.currentlySelectedCoins.length?Er.getState().upgradeToSubscription(Array.from(n)):i&&e&&(!i.currentlySelectedCoins||!i.currentlySelectedCoins.length)?pi({message:"Already connected to free feed. Select some coins and click again to Upgrade!",type:"is-success",duration:7*1e3}):(!i||!e)&&await Er.getState().connectWebSocket()},f=y=>{o(b=>{const S=new Set(b);return S.has(y)?S.delete(y):S.add(y),Er.getState().socket&&(Er.getState().socket.currentlySelectedCoins=Array.from(S)),S})},g=async()=>{s()},m=Ql(async()=>{const b=await(await fetch("http://localhost:9090/coins")).json();return await Pt(c()),b},[r]);return fn(()=>{m.then(y=>l(y))},[m]),fn(()=>{},[d]),fn(()=>{const y=async()=>{const F=await(await fetch("http://localhost:9090/coins")).json();JSON.stringify(F)!==JSON.stringify(a)&&(l(F),console.log("setting coins"))},S=setInterval(async()=>{await Pt(c()),await y()},25e3);return()=>clearInterval(S)},[r]),fn(()=>{o(new Set)},[e]),$(Ti,{children:$("div",{class:"flex w-full",children:[$("div",{class:"w-4/5  flex flex-col items-start",children:[$("button",{id:"sateliteButton",className:"",onClick:g,children:$("svg",{className:`${e&&t?"rotating-svg":""}`,width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[$("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2Z",stroke:e&&t||e?"green":"gray","stroke-width":"2"}),$("path",{d:"M17 17L12 12M12 12L7 7M12 12V20",stroke:e&&t||e?"green":"gray","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",transform:e?"":"rotate(45 12 12)"})]})}),$("div",{class:"consumption-rate mt-4",children:[$("div",{class:`text-sm ${n.size===0?"text-gray-400":""}`,children:!t&&n.size>0?`Will mine ${n.size} RDR / second`:t?$("strong",{class:"text-lime-600",children:["Mining ",i.currentlyUpgradedCoins.length," RDR / second"]}):"0 RDR / second"}),$("span",{class:"text-xs text-gray-500",children:"Issued every 10 minutes based on usage of unlocked feed"})]}),$("div",{class:"mt-6",children:$("span",{id:"rdrEntitlements",class:"text-yellow-700",children:[`${(d==null?void 0:d.redeemable)??"uninitialized"}`," RDR Entitlements"]})}),$("div",{children:$("span",{id:"rdrBalance",class:"text-green-700",children:[`${(d==null?void 0:d.balance)??"uninitialized"}`," RDR Balance"]})}),$("span",{class:"text-xs text-gray-500"}),$("div",{class:"mt-2",children:$("button",{onClick:u,class:"mt-4 relative inline-flex items-right justify-center p-0.5  mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-teal-300 to-lime-300 group-hover:from-pink-500 group-hover:to-orange-400 hover:text-white dark:text-white focus:ring-2 focus:outline-none focus:ring-lime-200 dark:focus:ring-lime-800",children:$("span",{class:"relative px-3 py-1.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0",children:t&&JSON.stringify(i.currentlyUpgradedCoins)!==JSON.stringify(i.currentlySelectedCoins)&&i.currentlySelectedCoins&&i.currentlySelectedCoins.length!==0?"Update Feed":t?"Stop Mining":e?"Unlock Selected":"Connect"})})})]}),$("div",{class:"w-1/5  items-start mb-2",children:a.map(y=>$("div",{class:"flex items-center mb-1",children:[$("label",{htmlFor:y,class:"mr-2 whitespace-nowrap flex items-center",children:$("img",{src:`/test/img/logos/${y}.png`,alt:"Coin Logo",class:"mr-2 inline-block h-6 w-6"})}),$("input",{type:"checkbox",id:y,checked:n.has(y),className:"form-checkbox h-5 w-5 ",onChange:()=>f(y)})]},y))})]})})},f7=()=>{const{sessionJungle4:e,accountJungle4:t,logoutJungle4:i}=ls(),{closeRDRInfoModal:s}=pu(),{connectWebSocket:r,disconnectWebSocket:n}=Er(),o=async()=>{await n(),await i()};return fn(()=>{(async()=>{await ls.getState().initialize(),await gu.getState().initialize(),await r()})()},[]),$("div",{className:"overflow-y-auto max-h-18",children:[$(d7,{closeModal:s,afterOpenModal:()=>console.log("after stake Open"),afterCloseModal:()=>console.log("after close stake modal")}),e&&t&&$(Ti,{children:[$("div",{children:$("span",{class:"bg-blue-400",children:["JUNGLE4 TESTNET: ",$("span",{children:`${t.accountName}`})]})}),$("button",{id:"logout",className:"text-red-800 border-none inline cursor-pointer transition-colors duration-200 rounded h-7 p-1",onClick:o,children:"DISCONNECT WALLET"})]}),!e&&$(u7,{}),e&&$(h7,{})]})};document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("app");e?po($(f7,{}),e):console.error("Could not find the auth container element.")});function p7(){const{sessionMainnet:e,accountMainnet:t,logoutMainnet:i,loginMainnet:s}=ls();Jd(null);const r=async()=>{await i()},n=async()=>{await s()};return $(Ti,{children:[e&&t&&$(Ti,{children:[$("div",{children:$("span",{class:"bg-green-400",children:["EOS MAINNET: ",$("span",{className:"w-24",children:`${t.accountName}`})]})}),$("button",{id:"logout",className:"text-red-800 border-none inline cursor-pointer transition-colors duration-200 rounded h-7 p-1",onClick:r,children:"DISCONNECT WALLET"})]}),!e&&!t&&$(Ti,{children:[$("div",{children:$("span",{class:"bg-green-400",children:["EOS MAINNET: ",$("span",{className:"w-24",children:"logged out"})]})}),$("button",{id:"logout",className:"text-green-800 border-none inline cursor-pointer transition-colors duration-200 rounded h-7 p-1",onClick:n,children:"CONNECT WALLET"})]})]})}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("donations-top");e?po($(p7,{}),e):console.error("Could not find the donations-top container element.")});function g7(){const{sessionJungle4:e,accountJungle4:t}=ls(),i=Jd(null),[s,r]=Hr(""),[n,o]=Hr(5);return $(Ti,{children:[$("ul",{children:[!e&&!t&&$("li",{children:[$("span",{style:{color:"blue"},children:"●"})," Connect your EOS testnet wallet (Jungle 4, from above) to explore core features."]}),!e&&!t&&$("li",{children:[$("span",{style:{color:"#222831"},children:"▲"})," See live EOS mainnet transfers, even while the platform is in testnet."]}),$("li",{children:[$("span",{style:{color:"green"},children:"●"})," Donate EOS to receive RDR token entitlements ",$("i",{children:"in EOS MAINNET"})," and be ready for launch."]})]}),$("div",{className:"flex flex-col w-full gap-1",children:[$("div",{class:"mb-1 pt-10",children:$("input",{id:"donatememo",value:s,onChange:l=>r(l.currentTarget.value),type:"text",class:"border border-gray-400 rounded px-4 py-2 w-full",maxLength:150,placeholder:"Send us a message"})}),$("div",{className:"w-full flex gap-1 items-center",children:[$("input",{type:"number",id:"donationAmount",value:n,onChange:l=>o(parseFloat(l.currentTarget.value)),className:"w-3/6 rounded h-7 px-2 border border-gray-300"}),$("button",{id:"donate",ref:i,className:"w-3/6 text-white border-none cursor-pointer btn-bg-color transition-colors duration-200 login-color rounded h-7",onClick:()=>{gu.getState().donate(n,s)},children:"Donate"})]})]})]})}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("donations");e?po($(g7,{}),e):console.error("Could not find the appinfo container element.")});var mc=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const s=t?this.allAsyncListeners:this.allSyncListeners;let r=s.get(e);return!r&&i&&(r=new Set,s.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const s=this.getListeners(e,i,!1);s&&(s.delete(t),s.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const s=(a,l)=>a.forEach(c=>{if(!l.has(c))return;const d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(d):d()}),r=this.getListeners(i,t,!1)??new Set,n=new Set(r);n.size>0&&s(n,r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,e)):()=>a(i,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},bu=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(bu||{}),fy={};function bv(e,t){fy[t]||(e(),fy[t]=!0)}function bn(e,...t){console.log("AG Grid: "+e,...t)}function j(e,...t){bv(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function $e(e,...t){bv(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Cv(e){return!!(e&&e.constructor&&e.call&&e.apply)}function m7(e){v7(e,400)}var vp=[],bp=!1;function py(e){vp.push(e),!bp&&(bp=!0,window.setTimeout(()=>{const t=vp.slice();vp.length=0,bp=!1,t.forEach(i=>i())},0))}function v7(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(i=>i()),t)}function us(e,t){let i;return function(...s){const r=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(r,s)},t)}}function gy(e,t){let i=0;return function(...s){const r=this,n=new Date().getTime();n-i<t||(i=n,e.apply(r,s))}}function b7(e,t,i=100,s){const r=new Date().getTime();let n=null,o=!1;const a=()=>{const l=new Date().getTime()-r>i;(e()||l)&&(t(),o=!0,n!=null&&(window.clearInterval(n),n=null),l&&s&&j(s))};a(),o||(n=window.setInterval(a,10))}function yn(e){return e==null||e===""?null:e}function te(e,t=!1){return e!=null&&(e!==""||t)}function Pe(e){return!te(e)}function Ms(e){return e==null||e.length===0}function jg(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function ra(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Ug(e){if(e!==void 0)return e===null||e===""?!1:Xg(e)}function Xg(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function Eh(e,t){const i=e?JSON.stringify(e):null,s=t?JSON.stringify(t):null;return i===s}function C7(e,t,i=!1){const s=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),s&&r)return 0;if(s)return-1;if(r)return 1;function n(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!i)return n(e,t);try{return e.localeCompare(t)}catch{return n(e,t)}}function Xu(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(i=>t.push(i)),t}return Object.values(e)}function lS(e,t){return e.get("rowModelType")===t}function ti(e){return lS(e,"clientSide")}function vc(e){return lS(e,"serverSide")}function Ni(e,t){return e.get("domLayout")===t}function Mh(e){return _h(e)!==void 0}function xh(e){return!e.get("suppressAsyncEvents")}function cS(e){return typeof e.get("getRowHeight")=="function"}function y7(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function _o(e,t,i=!1,s){if(s==null&&(s=e.environment.getDefaultRowHeight()),cS(e)){if(i)return{height:s,estimated:!0};const o={node:t,data:t.data},a=e.getCallback("getRowHeight")(o);if(Jg(a))return a===0&&j("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&e.get("masterDetail"))return w7(e);const r=e.get("rowHeight");return{height:r&&Jg(r)?r:s,estimated:!1}}function w7(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return Jg(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function vf(e){const{environment:t}=e,i=e.get("rowHeight");if(!i||Pe(i))return t.getDefaultRowHeight();const s=t.refreshRowHeightVariable();return s!==-1?s:(j("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function Jg(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Zd(e,t,i){const s=t[e.getDomDataKey()];return s?s[i]:void 0}function _a(e,t,i,s){const r=e.getDomDataKey();let n=t[r];Pe(n)&&(n={},t[r]=n),n[i]=s}function ri(e){let t=null;const i=e.get("getDocument");return i&&te(i)?t=i():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&te(t)?t:document}function dS(e){return ri(e).defaultView||window}function Hd(e){return e.eGridDiv.getRootNode()}function Zt(e){return Hd(e).activeElement}function uS(e){const t=ri(e),i=Zt(e);return i===null||i===t.body}function hl(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function bf(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Ni(e,"print"))}function Gr(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function Qg(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function hS(e){const t=e.get("grandTotalRow");if(t)return t;if(e.get("groupIncludeTotalFooter"))return"bottom"}function fS(e){const t=e.get("groupTotalRow");if(typeof t=="function")return e.getCallback("groupTotalRow");if(t)return()=>t;const i=e.get("groupIncludeFooter");if(typeof i=="function"){const s=e.getCallback("groupIncludeFooter");return r=>s(r)?"bottom":void 0}return()=>i?"bottom":void 0}function S7(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function yv(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function Cu(e){const t=e.getCallback("getRowId");return t===void 0?t:i=>{let s=t(i);return typeof s!="string"&&(j("The getRowId callback must return a string. The ID ",s," is being cast to a string."),s=String(s)),s}}function jl(e){return(e==null?void 0:e.checkboxes)??!0}function kh(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function R7(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function A7(e){return typeof e.get("rowSelection")!="string"}function I7(e){return e.get("cellSelection")!==void 0}function F7(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?(t==null?void 0:t.suppressMultiRanges)??!1:!1:e.get("suppressMultiRangeSelection")}function $r(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function E7(e){var s;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((s=t.handle)==null?void 0:s.mode)==="range":!1:e.get("enableRangeHandle")}function my(e){var s;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((s=t.handle)==null?void 0:s.mode)==="fill":!1:e.get("enableFillHandle")}function pS(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const i=e.get("suppressRowClickSelection"),s=e.get("suppressRowDeselection");return i&&s?!1:i?"enableDeselection":s?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function M7(e){const t=pS(e);return t===!0||t==="enableSelection"}function vy(e){const t=pS(e);return t===!0||t==="enableDeselection"}function wv(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function _h(e){const t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t==null?void 0:t.mode}function Sv(e){return _h(e)==="multiRow"}function x7(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function Rv(e){const t=e.get("rowSelection");if(typeof t=="string"){const i=e.get("groupSelectsChildren"),s=e.get("groupSelectsFiltered");return i&&s?"filteredDescendants":i?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function Ga(e){const t=Rv(e);return t==="descendants"||t==="filteredDescendants"}function Cp(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function je(e){if(!(!e||!e.length))return e[e.length-1]}function To(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((s,r)=>i?i(s,t[r]):t[r]===s)}function k7(e){return e.sort((t,i)=>t-i)}function gS(e,t){const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function hs(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function _7(e,t){for(let i=0;i<t.length;i++)gS(e,t[i])}function G7(e,t){for(let i=0;i<t.length;i++)hs(e,t[i])}function Gh(e,t,i){e.splice(i,0,t)}function mS(e,t,i){G7(e,t),t.slice().reverse().forEach(s=>Gh(e,s,i))}function na(e,t){return e.indexOf(t)>-1}function D7(e){return(e==null?void 0:e.flatMap(t=>t))??[]}function by(e,t){t==null||e==null||t.forEach(i=>e.push(i))}var vS="__ag_Grid_Stop_Propagation",W7=["touchstart","touchend","touchmove","touchcancel","scroll"],yp={};function Ul(e){e[vS]=!0}function wn(e){return e[vS]===!0}var bS=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof yp[i]=="boolean")return yp[i];const s=document.createElement(e[i]||"div");return i="on"+i,yp[i]=i in s}})();function qg(e,t,i){let s=t;for(;s;){const r=Zd(e,s,i);if(r)return r;s=s.parentElement}return null}function T7(e,t){return!t||!e?!1:B7(t).indexOf(e)>=0}function N7(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function B7(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():N7(t)}function V7(e,t,i,s){const n=na(W7,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,s,n)}var Y=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new mc),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService&&this.localEventService.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const s in t){const r=t[s];r&&i.push(this._setupListener(e,s,r))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;e instanceof HTMLElement?V7(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);const s=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==s),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const i=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,s=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=r.changeSet.id}const n={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(n)};e.forEach(r=>this.setupGridOptionListener(r,s))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function es(e){return e instanceof Ju}var Ju=class extends Y{constructor(e,t,i,s){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=wS(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=s}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{Go(t)?e.push(t):es(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const s=this.findChildrenRemovingPadding();for(let n=0,o=s.length;n<o;n++){const a=s[n];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,i=!0):l==="closed"?(t=!0,i=!0):(e=!0,t=!0)}const r=e&&t&&i;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach(s=>{es(s)&&s.isPadding()?t(s.children):e.push(s)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},CS="ag-Grid-ControlsColumn",O7=class extends Y{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const{gos:e}=this,t=e.get("rowSelection");if(!t||typeof t!="object")return[];const i=jl(t),s=kh(t);if(i||s){const r=e.get("selectionColumnDef"),o={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(l,c,d,u){const f=d.isSelected(),g=u.isSelected();return f&&g?0:f?1:-1},editable:!1,suppressFillHandle:!0,...r,colId:`${CS}`},a=new Ev(o,null,o.colId,!1);return this.createBean(a),[a]}return[]}},Cf="ag-Grid-AutoColumn";function Av(e){const t=[],i=s=>{for(let r=0;r<s.length;r++){const n=s[r];Go(n)?t.push(n):es(n)&&i(n.getChildren())}};return i(e),t}function dn(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function qn(e,t,i){const s={};if(!t)return;Dn(null,t,n=>{s[n.getInstanceId()]=n}),i&&Dn(null,i,n=>{s[n.getInstanceId()]=null});const r=Object.values(s).filter(n=>n!=null);e.destroyBeans(r)}function Cy(e){return e.getId().startsWith(Cf)}function yf(e){return e.getColId().startsWith(CS)}function Qu(e){let t=[];return e instanceof Array?e.some(s=>typeof s!="string")?j("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):j("colDef.type should be of type 'string' | 'string[]'"),t}var Iv=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=i=>{this.frameworkOverrides.wrapOutgoing(()=>e(i))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(i,s)=>{this.frameworkOverrides.wrapOutgoing(()=>e(i,s))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},Fv=new Set(["__proto__","constructor","prototype"]);function lr(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const[i,s]of Object.entries(e))t(i,s)}}function yS(e){const t={},i=Object.keys(e);for(let s=0;s<i.length;s++){if(Fv.has(i[s]))continue;const r=i[s],n=e[r];t[r]=n}return t}function Kg(e,t){if(!e)return;const i=e,s={};return Object.keys(i).forEach(r=>{if(t&&t.indexOf(r)>=0||Fv.has(r))return;const n=i[r];$g(n)&&n.constructor===Object?s[r]=Kg(n):s[r]=n}),s}function Da(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const i=[];for(const s in e)e.hasOwnProperty(s)&&e.propertyIsEnumerable(s)&&i.push(e[s]);return i}function ts(e,t,i=!0,s=!1){te(t)&&lr(t,(r,n)=>{if(Fv.has(r))return;let o=e[r];o!==n&&(s&&o==null&&n!=null&&typeof n=="object"&&n.constructor===Object&&(o={},e[r]=o),$g(n)&&$g(o)&&!Array.isArray(o)?ts(o,n,i,s):(i||n!==void 0)&&(e[r]=n))})}function Qc(e,t,i){if(!t||!e)return;if(!i)return e[t];const s=t.split(".");let r=e;for(let n=0;n<s.length;n++){if(r==null)return;r=r[s[n]]}return r}function $g(e){return typeof e=="object"&&e!==null}var P7={resizable:!0,sortable:!0},L7=0;function wS(){return L7++}function Go(e){return e instanceof Ev}var Ev=class extends Y{constructor(e,t,i,s){super(),this.isColumn=!0,this.instanceId=wS(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new mc,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=s,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=e.sortIndex,i=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):i!==null&&(this.sortIndex=i);const s=e.hide,r=e.initialHide;s!==void 0?this.visible=!s:this.visible=!r,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const n=e.flex,o=e.initialFlex;n!==void 0?this.flex=n:o!==void 0&&(this.flex=o)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=te(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=te(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=te(this.colDef.tooltipField)||te(this.colDef.tooltipValueGetter)||te(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=ra(e.width),s=ra(e.initialWidth);return i!=null?t=i:s!=null?t=s:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(Pe(this.colDef)||Pe(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===e;return t||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){var s;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new Iv(this.frameworkOverrides));const i=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(t))??t;this.columnEventService.addEventListener(e,i)}removeEventListener(e,t){var s;const i=((s=this.frameworkEventListenerService)==null?void 0:s.unwrap(t))??t;this.columnEventService.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),i=this.colDef.suppressNavigable;return i(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&typeof t!="string"){const i=yf(this)&&jl(t);return this.isColumnFunc(e,i)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??P7[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Pe(this.sort)}isSorting(){return te(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const s=this.createColumnEvent("filterChanged",t);i&&ts(s,i),this.columnEventService.dispatchEvent(s)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const i=e===!0;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Pe(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(Pe(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},Z7={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},H7=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=jg(e);let i=0;for(;;){let s;if(e?(s=e,i!==0&&(s+="_"+i)):t?(s=t,i!==0&&(s+="_"+i)):s=i,!this.existingKeys[s])return this.existingKeys[s]=!0,String(s);i++}}},Y7=class extends Y{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,i,s){const r=new H7,{existingCols:n,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(i);r.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,n,r,o,s),c=this.findMaxDept(l,0),d=this.balanceColumnTree(l,0,c,r);return Dn(null,d,(f,g)=>{es(f)&&f.setupExpandable(),f.setOriginalParent(g)}),{columnTree:d,treeDept:c}}extractExistingTreeData(e){const t=[],i=[],s=[];return e&&Dn(null,e,r=>{if(es(r)){const n=r;i.push(n)}else{const n=r;s.push(n.getId()),t.push(n)}}),{existingCols:t,existingGroups:i,existingColKeys:s}}balanceTreeForAutoCols(e,t){const i=[],s=this.findDepth(t);return e.forEach(r=>{let n=r;for(let o=s-1;o>=0;o--){const a=new Ju(null,`FAKE_PATH_${r.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([n]),n.setOriginalParent(a),n=a}s===0&&r.setOriginalParent(null),i.push(n)}),[i,s]}findDepth(e){let t=0,i=e;for(;i&&i[0]&&es(i[0]);)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,s){const r=[];for(let n=0;n<e.length;n++){const o=e[n];if(es(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,i,s);a.setChildren(l),r.push(a)}else{let a,l;for(let c=i-1;c>=t;c--){const d=s.getUniqueKey(null,null),u=this.createMergedColGroupDef(null),f=new Ju(u,d,!0,t);this.createBean(f),l&&l.setChildren([f]),l=f,a||(a=l)}if(a&&l)if(r.push(a),e.some(d=>es(d))){l.setChildren([o]);continue}else{l.setChildren(e);break}r.push(o)}}return r}findMaxDept(e,t){let i=t;for(let s=0;s<e.length;s++){const r=e[s];if(es(r)){const n=r,o=this.findMaxDept(n.getChildren(),t+1);i<o&&(i=o)}}return i}recursivelyCreateColumns(e,t,i,s,r,n,o){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const c=e[l];this.isColumnGroup(c)?a[l]=this.createColumnGroup(i,c,t,s,r,n,o):a[l]=this.createColumn(i,c,s,r,o)}return a}createColumnGroup(e,t,i,s,r,n,o){const a=this.createMergedColGroupDef(t),l=r.getUniqueKey(a.groupId||null,null),c=new Ju(a,l,!1,i);this.createBean(c);const d=this.findExistingGroup(t,n);d&&n.splice(d.idx,1);const u=d==null?void 0:d.group;u&&c.setExpanded(u.isExpanded());const f=this.recursivelyCreateColumns(a.children,i+1,e,s,r,n,o);return c.setChildren(f),c}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,s,r){var a;const n=this.findExistingColumn(t,i);n&&(i==null||i.splice(n.idx,1));let o=n==null?void 0:n.column;if(o){const l=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(l,t,r),this.applyColumnState(o,l,r)}else{const l=s.getUniqueKey(t.colId,t.field),c=this.addColumnDefaultAndTypes(t,l);o=new Ev(c,t,l,e),this.createBean(o)}return(a=this.dataTypeService)==null||a.addColumnListeners(o),o}applyColumnState(e,t,i){const s=ra(t.flex);if(s!==void 0&&e.setFlex(s),e.getFlex()<=0){const a=ra(t.width);if(a!=null)e.setActualWidth(a,i);else{const l=e.getActualWidth();e.setActualWidth(l,i)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,i):e.setSort(void 0,i));const n=ra(t.sortIndex);n!==void 0&&e.setSortIndex(n);const o=Ug(t.hide);o!==void 0&&e.setVisible(!o,i),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){const s=t[i].getUserProvidedColDef();if(!s)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(s.field===e.field)return{idx:i,column:t[i]};continue}if(s===e)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let s=0;s<t.length;s++){const r=t[s];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:s,group:r}}}addColumnDefaultAndTypes(e,t){var a;const i={},s=this.gos.get("defaultColDef");ts(i,s,!1,!0);const r=this.updateColDefAndGetColumnType(i,e,t);r&&this.assignColumnTypes(r,i),ts(i,e,!1,!0);const n=this.gos.get("autoGroupColumnDef"),o=Gr(this.gos);return e.rowGroup&&n&&o&&ts(i,{sort:n.sort,initialSort:n.initialSort},!1,!0),(a=this.dataTypeService)==null||a.validateColDef(i),i}updateColDefAndGetColumnType(e,t,i){var n;const s=(n=this.dataTypeService)==null?void 0:n.updateColDefAndGetColumnType(e,t,i),r=t.type??s??e.type;return e.type=r,r?Qu(r):void 0}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},Z7),s=this.gos.get("columnTypes")||{};lr(s,(r,n)=>{r in i?j(`the column type '${r}' is a default column type and cannot be overridden.`):(n.type&&j("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[r]=n)}),e.forEach(r=>{const n=i[r.trim()];n?ts(t,n,!1,!0):j("colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function Dn(e,t,i){if(t)for(let s=0;s<t.length;s++){const r=t[s];es(r)&&Dn(r,r.getChildren(),i),i(r,e)}}var z7=class extends Y{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(Qo(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,Qo(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(Qo(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(Qo(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),Qo(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){var c,d,u;const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const i=(c=this.colDefCols)==null?void 0:c.list,s=(d=this.colDefCols)==null?void 0:d.tree,r=this.columnFactory.createColumnTree(this.colDefs,!0,s,e);qn(this.context,(u=this.colDefCols)==null?void 0:u.tree,r.columnTree);const n=r.columnTree,o=r.treeDept,a=Av(n),l={};a.forEach(f=>l[f.getId()]=f),this.colDefCols={tree:n,treeDepth:o,list:a,map:l},this.funcColsService.extractCols(e,i),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){var r,n,o;if(!this.colDefCols)return;const t=(r=this.cols)==null?void 0:r.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const i=y7(this.gos,this.showingPivotResult);(!e||i)&&this.restoreColOrder(),this.positionLockedCols(),(n=this.showRowGroupColsService)==null||n.refresh(),(o=this.quickFilterService)==null||o.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!To(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:t,list:i,tree:s,treeDepth:r}=e;this.cols={list:i.slice(),map:{...t},tree:s.slice(),treeDepth:r},e.list.some(o=>{var a;return((a=this.cols)==null?void 0:a.map[o.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:t,list:i,tree:s,treeDepth:r}=this.colDefCols;this.cols={list:i.slice(),map:{...t},tree:s.slice(),treeDepth:r}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(s=>{const r=Cy(s);if(e){const n=t&&na(t,s);return r||n}else return r||s.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),yy(this.cols))}createAutoCols(){var m;const e=yv(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),i=this.funcColsService.getRowGroupColumns(),r=!(i.length>0||this.gos.get("treeData"))||t||e,n=()=>{this.autoCols&&(qn(this.context,this.autoCols.tree),this.autoCols=null)};if(r||!this.autoColService){n();return}const o=this.autoColService.createAutoCols(i)??[],a=Sy(o,((m=this.autoCols)==null?void 0:m.list)||null),l=this.cols.treeDepth,d=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&d)return;n();const[u,f]=this.columnFactory.balanceTreeForAutoCols(o,this.cols.tree);this.autoCols={list:o,tree:u,treeDepth:f,map:{}};const g=y=>{if(!y)return null;const b=y.filter(S=>!Cy(S));return[...o,...b]};this.lastOrder=g(this.lastOrder),this.lastPivotOrder=g(this.lastPivotOrder)}createControlsCols(){var c,d,u;const e=()=>{var f;qn(this.context,(f=this.controlsCols)==null?void 0:f.tree),this.controlsCols=null};this.controlsColService||e();const t=this.cols.treeDepth,s=(((c=this.controlsCols)==null?void 0:c.treeDepth)??-1)==t,r=((d=this.controlsColService)==null?void 0:d.createControlsCols())??[];if(Sy(r,((u=this.controlsCols)==null?void 0:u.list)??[])&&s)return;e();const[o,a]=this.columnFactory.balanceTreeForAutoCols(r,this.cols.tree);this.controlsCols={list:r,tree:o,treeDepth:a,map:{}};const l=f=>{if(!f)return null;const g=f.filter(m=>!yf(m));return[...r,...g]};this.lastOrder=l(this.lastOrder),this.lastPivotOrder=l(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),yy(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,i){this.columnApplyStateService.applyColumnState({state:e.map(s=>({colId:typeof s=="string"?s:s.getColId(),hide:!t}))},i)}setColsPinned(e,t,i){if(!this.cols||Ms(e))return;if(Ni(this.gos,"print")){j("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let s;t===!0||t==="left"?s="left":t==="right"?s="right":s=null;const r=[];e.forEach(n=>{if(!n)return;const o=this.getCol(n);o&&o.getPinned()!==s&&(o.setPinned(s),r.push(o))}),r.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(r,i)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let s;es(e)?s=e.getId():s=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:s,open:t}],i)}getProvidedColGroup(e){var i;let t=null;return Dn(null,(i=this.cols)==null?void 0:i.tree,s=>{es(s)&&s.getId()===e&&(t=s)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const s=this.funcColsService.getRowGroupColumns().findIndex(r=>r.getColId()===e.getColId());return t>s}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,ti(this.gos)||vc(this.gos)||j("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((l,c)=>[l,c]));if(!this.cols.list.some(l=>t.has(l)))return;const s=new Map(this.cols.list.map(l=>[l,!0])),r=e.filter(l=>s.has(l)),n=new Map(r.map(l=>[l,!0])),o=this.cols.list.filter(l=>!n.has(l)),a=r.slice();o.forEach(l=>{let c=l.getOriginalParent();if(!c){a.push(l);return}const d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(m=>{const y=a.indexOf(m)>=0,b=d.indexOf(m)<0;y&&b&&d.push(m)}),c=c.getOriginalParent();if(!d.length){a.push(l);return}const u=d.map(g=>a.indexOf(g)),f=Math.max(...u);Gh(a,l,f+1)}),this.cols.list=a}sortColsLikeKeys(e){if(this.cols==null)return;let t=[];const i={};e.forEach(r=>{if(i[r])return;const n=this.cols.map[r];n&&(t.push(n),i[r]=!0)});let s=0;if(this.cols.list.forEach(r=>{const n=r.getColId();if(i[n]!=null)return;n.startsWith(Cf)?Gh(t,r,s++):t.push(r)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){j("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(i=>this.cols.list.indexOf(i)<0).length>0||e.sort((i,s)=>{const r=this.cols.list.indexOf(i),n=this.cols.list.indexOf(s);return r-n})}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const s=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(s,i,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,i){var s;mS((s=this.cols)==null?void 0:s.list,e,t),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=(e=this.cols)==null?void 0:e.list:this.lastOrder=(t=this.cols)==null?void 0:t.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((s,r)=>this.lastOrder.indexOf(s)-this.lastOrder.indexOf(r)):this.lastOrder&&e.sort((s,r)=>this.cols.list.indexOf(s)-this.cols.list.indexOf(r));const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return((e=this.colDefCols)==null?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(j("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!Ms(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e,t,i;qn(this.context,(e=this.colDefCols)==null?void 0:e.tree),qn(this.context,(t=this.autoCols)==null?void 0:t.tree),qn(this.context,(i=this.controlsCols)==null?void 0:i.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return(e=this.colDefCols)!=null&&e.list?this.colDefCols.list:null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var i,s,r;const e=this.pivotResultColsService.getPivotResultCols(),t=e==null?void 0:e.list;return[((i=this.colDefCols)==null?void 0:i.list)??[],((s=this.autoCols)==null?void 0:s.list)??[],((r=this.controlsCols)==null?void 0:r.list)??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;const{map:i,list:s}=t;if(typeof e=="string"&&i[e])return i[e];for(let r=0;r<s.length;r++)if(wy(s[r],e))return s[r];return this.getAutoCol(e)}getAutoCol(e){var t;return((t=this.autoCols)==null?void 0:t.list.find(i=>wy(i,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const i of t){if(!i)continue;const s=i.getGroupRowCount()||0;for(let r=0;r<s;r++){const n=i.getGroupRowCtrlAtIndex(r),o=e[r];if(n){const a=this.getColumnGroupHeaderRowHeight(n);(o==null||a>o)&&(e[r]=a)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let i=0;const s=e.getHeaderCtrls();for(const r of s){const n=r.getColumn();if(n.isAutoHeaderHeight()){const o=n.getAutoHeaderHeight();o!=null&&o>i&&(i=o)}}return Math.max(t,i)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.visibleColsService.getAllCols().filter(s=>s.isAutoHeaderHeight()).map(s=>s.getAutoHeaderHeight()||0);return Math.max(e,...i)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,i){const s=t&&typeof t!="string"?jl(t):void 0,r=e&&typeof e!="string"?jl(e):void 0,n=s!==r,o=t&&typeof t!="string"?kh(t):void 0,a=e&&typeof e!="string"?kh(e):void 0;(n||o!==a)&&this.refreshAll(i)}};function Qo(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function yy(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function wy(e,t){const i=e===t,s=e.getColDef()===t,r=e.getColId()==t;return i||s||r}function Sy(e,t){return To(e,t,(i,s)=>i.getColId()===s.getColId())}var j7=class extends Y{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:i,skipHeaderGroups:s,stopAtGroup:r,source:n="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const o=[];let a=-1;const l=i??this.gos.get("skipHeaderOnAutoSize"),c=s??l;for(;a!==0;){a=0;const d=[];t.forEach(u=>{if(!u)return;const f=this.columnModel.getCol(u);if(!f||o.indexOf(f)>=0)return;const g=this.autoWidthCalculator.getPreferredWidthForColumn(f,l);if(g>0){const m=this.normaliseColumnWidth(f,g);f.setActualWidth(m,n),o.push(f),a++}d.push(f)}),d.length&&this.visibleColsService.refresh(n)}c||this.autoSizeColumnGroupsByColumns(t,n,r),this.eventDispatcher.columnResized(o,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const s=new Set;this.columnModel.getColsForKeys(e).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||s.add(l),l=l.getParent()});let n;const o=[];for(const a of s){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(n=l.getHeaderCtrlForColumn(a),n)break;n&&n.resizeLeafColumnsToFit(t)}return o}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const i=e.getMinWidth();t<i&&(t=i);const s=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=s),t}},U7=class extends Y{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>hs(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>hs(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>hs(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);const i=this.columnModel.getColDefCol(t);return i?[i]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return Ms(this.rowGroupCols)}setColumnAggFunc(e,t,i){if(!e)return;const s=this.columnModel.getColDefCol(e);s&&(s.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[s],i))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(i,s)=>this.setRowGroupActive(i,s,t),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,i),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,i))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,i=>this.setRowGroupActive(!0,i,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,i=>this.setRowGroupActive(!1,i,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,i=>i.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(i,s)=>{s.setPivotActive(i,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,i=>i.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(i,s)=>this.setValueActive(i,s,t),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){const s=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(s)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,i=>this.setValueActive(!0,i,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,i=>this.setValueActive(!1,i,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;const s=this.rowGroupCols[e],r=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,s),this.eventDispatcher.rowGroupChanged(r,i)}setColList(e,t,i,s,r,n,o){if(!this.columnModel.getCols())return;const a=new Map;t.forEach((c,d)=>a.set(c,d)),t.length=0,te(e)&&e.forEach(c=>{const d=this.columnModel.getColDefCol(c);d&&t.push(d)}),t.forEach((c,d)=>{const u=a.get(c);if(u===void 0){a.set(c,0);return}s&&u!==d||a.delete(c)}),(this.columnModel.getColDefCols()||[]).forEach(c=>{const d=t.indexOf(c)>=0;n(d,c)}),r&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.columnChanged(i,[...a.keys()],o)}updateColList(e,t,i,s,r,n,o){if(!e||Ms(e))return;let a=!1;const l=new Set;e.forEach(c=>{if(!c)return;const d=this.columnModel.getColDefCol(c);if(d){if(l.add(d),i){if(t.indexOf(d)>=0)return;t.push(d)}else{const u=t.indexOf(d);if(u<0)return;for(let f=u+1;f<t.length;f++)l.add(t[f]);hs(t,d)}r(d),a=!0}}),a&&(s&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.genericColumnEvent(n,Array.from(l),o))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(i,s)=>i.setValueActive(s,e),()=>{},()=>{},i=>{const s=i.aggFunc;if(s===null||s==="")return null;if(s!==void 0)return!!s},i=>i.initialAggFunc!=null&&i.initialAggFunc!=""),this.valueCols.forEach(i=>{const s=i.getColDef();s.aggFunc!=null&&s.aggFunc!=""?i.setAggFunc(s.aggFunc):i.getAggFunc()||i.setAggFunc(s.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(i,s)=>i.setRowGroupActive(s,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(i,s)=>i.setPivotActive(s,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}extractColsCommon(e=[],t=[],i,s,r,n,o){const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(f=>{const g=e.indexOf(f)<0,m=f.getColDef(),y=Ug(n(m)),b=Ug(o(m)),S=ra(s(m)),I=ra(r(m));let F;y!==void 0?F=y:S!==void 0?S===null?F=!1:F=S>=0:g?b!==void 0?F=b:I!==void 0?F=I!=null&&I>=0:F=!1:F=t.indexOf(f)>=0,F&&((g?S!=null||I!=null:S!=null)?a.push(f):l.push(f))});const d=f=>{const g=s(f.getColDef()),m=r(f.getColDef());return g??m};a.sort((f,g)=>{const m=d(f),y=d(g);return m===y?0:m<y?-1:1});const u=[].concat(a);return t.forEach(f=>{l.indexOf(f)>=0&&u.push(f)}),l.forEach(f=>{u.indexOf(f)<0&&u.push(f)}),t.forEach(f=>{u.indexOf(f)<0&&i(f,!1)}),u.forEach(f=>{t.indexOf(f)<0&&i(f,!0)}),u}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},s=(r,n,o,a,l,c)=>{const d=this.columnModel.getColDefCols();if(!n.length||!d)return[];const u=Object.keys(r),f=new Set(u),g=new Set(u),m=new Set(n.map(T=>{const O=T.getColId();return g.delete(O),O}).concat(u)),y=[],b={};let S=0;for(let T=0;T<d.length;T++){const O=d[T].getColId();m.has(O)&&(y.push(O),b[O]=S++)}let I=1e3,F=!1,G=0;const L=T=>{const O=b[T];for(let Q=G;Q<O;Q++){const V=y[Q];g.has(V)&&(r[V][l]=I++,g.delete(V))}G=O};n.forEach(T=>{const O=T.getColId();if(f.has(O))L(O),r[O][l]=I++;else{const Q=T.getColDef();(Q[l]===null||Q[l]===void 0&&Q[c]==null)&&(F||(Q[o]||Q[o]===void 0&&Q[a]?L(O):(g.forEach(M=>{r[M][l]=I+b[M]}),I+=y.length,F=!0)),i[O]||(i[O]={colId:O}),i[O][l]=I++)}})};return s(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},X7=class extends Y{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const i=this.columnModel.getColDefCols()||[];if(Ms(i))return!1;if(e&&e.state&&!e.state.forEach)return j("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const s=this.funcColsService.getModifyColumnsNoEventsCallbacks(),r=(a,l,c)=>{const d=this.compareColumnStatesAndDispatchEvents(t),u=l.slice(),f={},g={},m=[],y=[];let b=0;const S=this.funcColsService.getRowGroupColumns().slice(),I=this.funcColsService.getPivotColumns().slice();a.forEach(T=>{const O=T.colId||"";if(O.startsWith(Cf)){m.push(T),y.push(T);return}const V=c(O);V?(this.syncColumnWithStateItem(V,T,e.defaultState,f,g,!1,t,s),hs(u,V)):(y.push(T),b+=1)});const F=T=>this.syncColumnWithStateItem(T,null,e.defaultState,f,g,!1,t,s);u.forEach(F),this.funcColsService.sortRowGroupColumns(Ry.bind(this,f,S)),this.funcColsService.sortPivotColumns(Ry.bind(this,g,I)),this.columnModel.refreshCols(!1);const L=(this.columnModel.getAutoCols()||[]).slice();return m.forEach(T=>{const O=this.columnModel.getAutoCol(T.colId);hs(L,O),this.syncColumnWithStateItem(O,T,e.defaultState,null,null,!0,t,s)}),L.forEach(F),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),d(),{unmatchedAndAutoStates:y,unmatchedCount:b}};this.columnAnimationService.start();let{unmatchedAndAutoStates:n,unmatchedCount:o}=r(e.state||[],i,a=>this.columnModel.getColDefCol(a));if(n.length>0||te(e.defaultState)){const a=this.pivotResultColsService.getPivotResultCols(),l=a==null?void 0:a.list;o=r(n,l||[],c=>this.pivotResultColsService.getPivotResultCol(c)).unmatchedCount}return this.columnAnimationService.finish(),o===0}resetColumnState(e){const t=this.columnModel.getColDefCols();if(Ms(t))return;const i=this.columnModel.getColDefColTree(),s=Av(i),r=[];let n=1e3,o=1e3,a=[];const l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),s&&(a=a.concat(s)),a.forEach(c=>{const d=this.getColumnStateFromColDef(c);Pe(d.rowGroupIndex)&&d.rowGroup&&(d.rowGroupIndex=n++),Pe(d.pivotIndex)&&d.pivot&&(d.pivotIndex=o++),r.push(d)}),this.applyColumnState({state:r,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(m,y)=>m??y??null,i=e.getColDef(),s=t(i.sort,i.initialSort),r=t(i.sortIndex,i.initialSortIndex),n=t(i.hide,i.initialHide),o=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let c=t(i.rowGroupIndex,i.initialRowGroupIndex),d=t(i.rowGroup,i.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let u=t(i.pivotIndex,i.initialPivotIndex),f=t(i.pivot,i.initialPivot);u==null&&(f==null||f==!1)&&(u=null,f=null);const g=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:s,sortIndex:r,hide:n,pinned:o,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:f,pivotIndex:u,aggFunc:g}}syncColumnWithStateItem(e,t,i,s,r,n,o,a){if(!e)return;const l=(G,L)=>{const T={value1:void 0,value2:void 0};let O=!1;return t&&(t[G]!==void 0&&(T.value1=t[G],O=!0),te(L)&&t[L]!==void 0&&(T.value2=t[L],O=!0)),!O&&i&&(i[G]!==void 0&&(T.value1=i[G]),te(L)&&i[L]!==void 0&&(T.value2=i[L])),T},c=l("hide").value1;c!==void 0&&e.setVisible(!c,o);const d=l("pinned").value1;d!==void 0&&e.setPinned(d);const u=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),f=l("flex").value1;if(f!==void 0&&e.setFlex(f),f==null){const G=l("width").value1;G!=null&&u!=null&&G>=u&&e.setActualWidth(G,o)}const g=l("sort").value1;g!==void 0&&(g==="desc"||g==="asc"?e.setSort(g,o):e.setSort(void 0,o));const m=l("sortIndex").value1;if(m!==void 0&&e.setSortIndex(m),n||!e.isPrimary())return;const y=l("aggFunc").value1;y!==void 0&&(typeof y=="string"?(e.setAggFunc(y),e.isValueActive()||(e.setValueActive(!0,o),a.addValueCol(e))):(te(y)&&j("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),a.removeValueCol(e))));const{value1:b,value2:S}=l("rowGroup","rowGroupIndex");(b!==void 0||S!==void 0)&&(typeof S=="number"||b?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),a.addGroupCol(e)),s&&typeof S=="number"&&(s[e.getId()]=S)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),a.removeGroupCol(e)));const{value1:I,value2:F}=l("pivot","pivotIndex");(I!==void 0||F!==void 0)&&(typeof F=="number"||I?(e.isPivotActive()||(e.setPivotActive(!0,o),a.addPivotCol(e)),r&&typeof F=="number"&&(r[e.getId()]=F)):e.isPivotActive()&&(e.setPivotActive(!1,o),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(i=>{i.colId!=null&&t.push(i.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),s={};return i.forEach(r=>{s[r.colId]=r}),()=>{const r=this.columnModel.getAllCols(),n=(y,b,S,I)=>{const F=b.map(I),G=S.map(I);if(To(F,G))return;const T=new Set(b);S.forEach(Q=>{T.delete(Q)||T.add(Q)});const O=[...T];this.eventService.dispatchEvent({type:y,columns:O,column:O.length===1?O[0]:null,source:e})},o=y=>{const b=[];return r.forEach(S=>{const I=s[S.getColId()];I&&y(I,S)&&b.push(S)}),b},a=y=>y.getColId();n("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),n("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const c=o((y,b)=>{const S=y.aggFunc!=null,I=S!=b.isValueActive(),F=S&&y.aggFunc!=b.getAggFunc();return I||F});c.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",c,e);const d=(y,b)=>y.width!=b.getActualWidth();this.eventDispatcher.columnResized(o(d),!0,e);const u=(y,b)=>y.pinned!=b.getPinned();this.eventDispatcher.columnPinned(o(u),e);const f=(y,b)=>y.hide==b.isVisible();this.eventDispatcher.columnVisible(o(f),e);const m=o((y,b)=>y.sort!=b.getSort()||y.sortIndex!=b.getSortIndex());m.length>0&&this.sortController.dispatchSortChangedEvents(e,m),this.normaliseColumnMovedEventForColumnState(i,e)}}normaliseColumnMovedEventForColumnState(e,t){const i=this.columnGetStateService.getColumnState(),s={};i.forEach(l=>s[l.colId]=l);const r={};e.forEach(l=>{s[l.colId]&&(r[l.colId]=!0)});const n=e.filter(l=>r[l.colId]),o=i.filter(l=>r[l.colId]),a=[];o.forEach((l,c)=>{const d=n&&n[c];if(d&&d.colId!==l.colId){const u=this.columnModel.getCol(d.colId);u&&a.push(u)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},Ry=(e,t,i,s)=>{const r=e[i.getId()],n=e[s.getId()],o=r!=null,a=n!=null;if(o&&a)return r-n;if(o)return-1;if(a)return 1;const l=t.indexOf(i),c=t.indexOf(s),d=l>=0,u=c>=0;return d&&u?l-c:d?-1:1},J7=class extends Y{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,i){const s=this.columnModel.getCols();if(!s)return;const r=s[e];this.moveColumns([r],t,i)}moveColumns(e,t,i,s=!0){const r=this.columnModel.getCols();if(!r)return;if(t>r.length-e.length){j("tried to insert columns in invalid location, toIndex = ",t),j("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const n=this.columnModel.getColsForKeys(e);this.doesMovePassRules(n,t)&&(this.columnModel.moveInCols(n,t,i),this.eventDispatcher.columnMoved({movedColumns:n,source:i,toIndex:t,finished:s})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const s=this.columnModel.getCols().slice();return mS(s,e,t),s}doesMovePassLockedPositions(e){const t=n=>n?n==="left"||n===!0?-1:1:0,i=this.gos.get("enableRtl");let s=i?1:-1,r=!0;return e.forEach(n=>{const o=t(n.getColDef().lockPosition);i?o>s&&(r=!1):o<s&&(r=!1),s=o}),r}doesMovePassMarryChildren(e){let t=!0;const i=this.columnModel.getColTree();return Dn(null,i,s=>{if(!es(s))return;const r=s,n=r.getColGroupDef();if(!(n&&n.marryChildren))return;const a=[];r.getLeafColumns().forEach(f=>{const g=e.indexOf(f);a.push(g)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,u=r.getLeafColumns().length-1;d>u&&(t=!1)}),t}placeLockedColumns(e){const t=[],i=[],s=[];return e.forEach(n=>{const o=n.getColDef().lockPosition;o==="right"?s.push(n):o==="left"||o===!0?t.push(n):i.push(n)}),this.gos.get("enableRtl")?[...s,...i,...t]:[...t,...i,...s]}},Q7=/[&<>"']/g,q7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Lr(e,t){if(e==null)return null;const i=e.toString().toString();return t?i:i.replace(Q7,s=>q7[s])}function K7(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}function $7(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var eN=class extends Y{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const s=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,s):s}getDisplayNameForProvidedColumnGroup(e,t,i){const s=t?t.getColGroupDef():null;return s?this.getHeaderName(s,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,s,r){const n=e.headerValueGetter;if(n){const o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:s,location:r});return typeof n=="function"?n(o):typeof n=="string"?this.expressionService.evaluate(n,o):(j("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return K7(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn,s=te(i);let r=null,n;if(s){const o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&o.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return t;r=i?i.getAggFunc():null,n=!0}else{const o=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();o&&a?(r=e.getAggFunc(),n=!0):n=!1}if(n){const o=typeof r=="string"?r:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}},tN=class extends Y{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;qn(this.context,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;const i=this.columnModel.getColDefCol(t);let s=null;return this.pivotResultCols.list.forEach(r=>{const n=r.getColDef().pivotKeys,o=r.getColDef().pivotValueColumn;To(n,e)&&o===i&&(s=r)}),s}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){var i,s;if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const r=this.columnFactory.createColumnTree(e,!1,((i=this.pivotResultCols)==null?void 0:i.tree)||this.previousPivotResultCols||void 0,t);qn(this.context,(s=this.pivotResultCols)==null?void 0:s.tree,r.columnTree);const n=r.columnTree,o=r.treeDept,a=Av(n),l={};this.pivotResultCols={tree:n,treeDepth:o,list:a,map:l},this.pivotResultCols.list.forEach(d=>this.pivotResultCols.map[d.getId()]=d);const c=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!c)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;const s=r=>{r.forEach(n=>{if(te(n.children)){const a=n;i&&i(a),s(a.children)}else t&&t(n)})};e&&s(e)}},iN=class extends Y{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,i,s){const r=[];e.forEach(n=>{const o=this.columnModel.getColDefCol(n.key)||this.columnModel.getCol(n.key);if(!o)return;if(r.push({width:n.newWidth,ratios:[1],columns:[o]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const l=this.visibleColsService.getColAfter(o);if(!l)return;const c=o.getActualWidth()-n.newWidth,d=l.getActualWidth()+c;r.push({width:d,ratios:[1],columns:[l]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:i,source:s})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:s}=e;if(!(!t||t.every(d=>this.checkMinAndMaxWidthsForSet(d)))){if(i){const d=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(d,i,s)}return}const n=[],o=[];t.forEach(d=>{const{width:u,columns:f,ratios:g}=d,m={},y={};f.forEach(I=>o.push(I));let b=!0,S=0;for(;b;){if(S++,S>1e3){$e("infinite loop in resizeColumnSets");break}b=!1;const I=[];let F=0,G=u;f.forEach((T,O)=>{if(y[T.getId()])G-=m[T.getId()];else{I.push(T);const V=g[O];F+=V}});const L=1/F;I.forEach((T,O)=>{const Q=O===I.length-1;let V;Q?V=G:(V=Math.round(g[O]*u*L),G-=V);const U=T.getMinWidth(),M=T.getMaxWidth();V<U?(V=U,y[T.getId()]=!0,b=!0):M>0&&V>M&&(V=M,y[T.getId()]=!0,b=!0),m[T.getId()]=V})}f.forEach(I=>{const F=m[I.getId()];I.getActualWidth()!==F&&(I.setActualWidth(F,s),n.push(I))})});const a=n.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(s),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const c=o.concat(l);(a||i)&&this.eventDispatcher.columnResized(c,i,s,l)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let s=0,r=0,n=!0;t.forEach(l=>{const c=l.getMinWidth();s+=c||0;const d=l.getMaxWidth();d>0?r+=d:n=!1});const o=i>=s,a=!n||i<=r;return o&&a}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const i=this.visibleColsService.getCenterCols();let s=-1;if(e.resizingCols){const f=new Set(e.resizingCols);for(let g=i.length-1;g>=0;g--)if(f.has(i[g])){s=g;break}}let r=0,n=[],o=0,a=0;for(let f=0;f<i.length;f++)i[f].getFlex()&&f>s?(n.push(i[f]),a+=i[f].getFlex(),o+=i[f].getMinWidth()):r+=i[f].getActualWidth();if(!n.length)return[];let l=[];r+o>this.flexViewportWidth&&(n.forEach(f=>f.setActualWidth(f.getMinWidth(),t)),l=n,n=[]);const c=[];let d;e:for(;;){d=this.flexViewportWidth-r;const f=d/a;for(let g=0;g<n.length;g++){const m=n[g],y=f*m.getFlex();let b=0;const S=m.getMinWidth(),I=m.getMaxWidth();if(y<S?b=S:y>I&&(b=I),b){m.setActualWidth(b,t),gS(n,m),a-=m.getFlex(),l.push(m),r+=m.getActualWidth();continue e}c[g]=Math.floor(y)}break}let u=d;return n.forEach((f,g)=>{const m=g<n.length-1?Math.min(c[g],u):Math.max(c[g],u);f.setActualWidth(m,t),l.push(f),u-=c[g]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,n),n}sizeColumnsToFit(e,t="sizeColumnsToFit",i,s){var f;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,s));return}const r={};s&&((f=s==null?void 0:s.columnLimits)==null||f.forEach(({key:g,...m})=>{r[typeof g=="string"?g:g.getColId()]=m}));const n=this.visibleColsService.getAllCols(),o=e===dn(n);if(e<=0||!n.length||o)return;const a=[],l=[];n.forEach(g=>{g.getColDef().suppressSizeToFit===!0?l.push(g):a.push(g)});const c=a.slice(0);let d=!1;const u=g=>{hs(a,g),l.push(g)};for(a.forEach(g=>{g.resetActualWidth(t);const m=r==null?void 0:r[g.getId()],y=(m==null?void 0:m.minWidth)??(s==null?void 0:s.defaultMinWidth),b=(m==null?void 0:m.maxWidth)??(s==null?void 0:s.defaultMaxWidth),S=g.getActualWidth();typeof y=="number"&&S<y?g.setActualWidth(y,t,!0):typeof b=="number"&&S>b&&g.setActualWidth(b,t,!0)});!d;){d=!0;const g=e-dn(l);if(g<=0)a.forEach(m=>{var b;const y=((b=r==null?void 0:r[m.getId()])==null?void 0:b.minWidth)??(s==null?void 0:s.defaultMinWidth);if(typeof y=="number"){m.setActualWidth(y,t,!0);return}m.setMinimum(t)});else{const m=g/dn(a);let y=g;for(let b=a.length-1;b>=0;b--){const S=a[b],I=r==null?void 0:r[S.getId()],F=(I==null?void 0:I.minWidth)??(s==null?void 0:s.defaultMinWidth),G=(I==null?void 0:I.maxWidth)??(s==null?void 0:s.defaultMaxWidth),L=S.getMinWidth(),T=S.getMaxWidth(),O=typeof F=="number"&&F>L?F:L,Q=typeof G=="number"&&G<T?G:T;let V=Math.round(S.getActualWidth()*m);V<O?(V=O,u(S),d=!1):V>Q?(V=Q,u(S),d=!1):b===0&&(V=y),S.setActualWidth(V,t,!0),y-=V}}}c.forEach(g=>{g.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!i&&this.eventDispatcher.columnResized(c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:s,defaultMaxWidth:r}=e,n=i==null?void 0:i.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:s,defaultMaxWidth:r,columnLimits:n})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function SS(e,t){return e+"_"+t}function ui(e){return e instanceof RS}var RS=class extends Y{constructor(e,t,i,s){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=s}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return SS(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{ui(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=je(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Go(t)?e.push(t):ui(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Go(t)?e.push(t):ui(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(ui(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},sN=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}},rN=class extends Y{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=wp(this.treeLeft),this.columnsCenter=wp(this.treeCenter),this.columnsRight=wp(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(i=>i.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=dn(this.columnsCenter),t=dn(this.columnsLeft),i=dn(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?je(this.columnsRight):null):(t=this.columnsLeft?je(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(s=>{s.setLastLeftPinned(s===t,e),s.setFirstRightPinned(s===i,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(n=>n.getPinned()=="left"),i=e.filter(n=>n.getPinned()=="right"),s=e.filter(n=>n.getPinned()!="left"&&n.getPinned()!="right"),r=new sN;this.treeLeft=this.createGroups({columns:t,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:s,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],i=[],s=[];for(const r of e){const n=r.getPinned();n?n===!0||n==="left"?t.push(r):s.push(r):i.push(r)}this.ariaOrderColumns=t.concat(i).concat(s)}getAriaColIndex(e){let t;return ui(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{ui(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const i=this.columnModel.getCols().slice(0),s=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(r=>{if(s){let n=dn(r);r.forEach(o=>{n-=o.getActualWidth(),o.setLeft(n,e)})}else{let n=0;r.forEach(o=>{o.setLeft(n,e),n+=o.getActualWidth()})}_7(i,r)}),i.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,i,s){const r=[];let n=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){const f=c-1;for(let g=1;g<=f;g++)d.push(t[o+g]);o+=f}let u;i?(u=!1,d.forEach(f=>{i(f)&&(u=!0)})):u=!0,u&&(r.length===0&&n&&(s&&s(a))&&r.push(n),r.push(a)),n=a}return r}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),i=t.indexOf(e);return i>0?t[i-1]:null}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),r=t==="After"?je(s):s[0],n=`getCol${t}`;for(;;){const o=this[n](r);if(!o)return null;const a=this.getColGroupAtLevel(o,i);if(a!==e)return a}}getColGroupAtLevel(e,t){let i=e.getParent(),s,r;for(;s=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),!(s+r<=t);)i=i.getParent();return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};qo(this.treeCenter,!1,e),qo(this.treeLeft,!1,e),qo(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();qo(e,!1,t=>{ui(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const s=this[t[i]]();if(s.length)return e?je(s):s[0]}return null}getColumnGroup(e,t){if(!e)return null;if(ui(e))return e;const i=this.getAllTrees(),s=typeof t=="number";let r=null;return qo(i,!1,n=>{if(ui(n)){const o=n;let a;s?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(r=o)}}),r}getColAfter(e){const t=this.getAllCols(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return dn(this.columnsLeft)}getDisplayedColumnsRightWidth(){return dn(this.columnsRight)}isColAtEdge(e,t){const i=this.getAllCols();if(!i.length)return!1;const s=t==="first";let r;if(ui(e)){const n=e.getDisplayedLeafColumns();if(!n.length)return!1;r=s?n[0]:je(n)}else r=e;return(s?i[0]:je(i))===r}createGroups(e){const{columns:t,idCreator:i,pinned:s,oldDisplayedGroups:r,isStandaloneStructure:n}=e,o=this.mapOldGroupsById(r),a=[];let l=t;for(;l.length;){const c=l;l=[];let d=0;const u=f=>{const g=d;d=f;const m=c[g],b=(ui(m)?m.getProvidedColumnGroup():m).getOriginalParent();if(b==null){for(let I=g;I<f;I++)a.push(c[I]);return}const S=this.createColGroup(b,i,o,s,n);for(let I=g;I<f;I++)S.addChild(c[I]);l.push(S)};for(let f=1;f<c.length;f++){const g=c[f],y=(ui(g)?g.getProvidedColumnGroup():g).getOriginalParent(),b=c[d],I=(ui(b)?b.getProvidedColumnGroup():b).getOriginalParent();y!==I&&u(f)}d<c.length&&u(c.length)}return n||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,i,s,r){const n=e.getGroupId(),o=t.getInstanceIdForKey(n),a=SS(n,o);let l=i[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),te(l)?l.reset():(l=new RS(e,n,o,s),r||this.createBean(l)),l}mapOldGroupsById(e){const t={},i=s=>{s.forEach(r=>{if(ui(r)){const n=r;t[r.getUniqueId()]=n,i(n.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.setParent(t),ui(i)){const s=i;this.setupParentsIntoCols(s.getChildren(),s)}})}};function qo(e,t,i){if(e)for(let s=0;s<e.length;s++){const r=e[s];if(ui(r)){const n=t?r.getDisplayedChildren():r.getChildren();qo(n,t,i)}i(r)}}function wp(e){const t=[];return qo(e,!0,i=>{Go(i)&&t.push(i)}),t}var AS=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],nN=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],oN=[...AS,...nN],aN={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},Li=class{};Li.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];Li.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];Li.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];Li.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];Li.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];Li.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];Li.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];Li.ALL_PROPERTIES=[...Li.ARRAY_PROPERTIES,...Li.OBJECT_PROPERTIES,...Li.STRING_PROPERTIES,...Li.NUMBER_PROPERTIES,...Li.FUNCTION_PROPERTIES,...Li.BOOLEAN_PROPERTIES,...Li.OTHER_PROPERTIES];var Yd=Li,Hs=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};Hs.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Hs.PUBLIC_EVENTS=AS;Hs.EVENT_CALLBACKS=oN.map(e=>Hs.getCallbackForEvent(e));Hs.BOOLEAN_PROPERTIES=Yd.BOOLEAN_PROPERTIES;Hs.ALL_PROPERTIES=Yd.ALL_PROPERTIES;Hs.ALL_PROPERTIES_AND_CALLBACKS=[...Hs.ALL_PROPERTIES,...Hs.EVENT_CALLBACKS];Hs.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Hs.ALL_PROPERTIES_AND_CALLBACKS);var IS=Hs;function yu(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var lN=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(s=>this.addCssClass(s));return}if(this.cssClassStates[e]!==!0&&e.length){const s=this.getGui();s&&s.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(s=>this.removeCssClass(s));return}if(this.cssClassStates[e]!==!1&&e.length){const s=this.getGui();s&&s.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const s=(e||"").split(" ");if(s.length>1){s.forEach(r=>this.addOrRemoveCssClass(r,t));return}}if(this.cssClassStates[e]!==t&&e.length){const s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}};function On(e,t,i){i==null||typeof i=="string"&&i==""?FS(e,t):Sr(e,t,i)}function Sr(e,t,i){e.setAttribute(ES(t),i.toString())}function FS(e,t){e.removeAttribute(ES(t))}function ES(e){return`aria-${e}`}function bs(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function cN(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function dN(e){return e.getAttribute("aria-label")}function Xl(e,t){On(e,"label",t)}function zd(e,t){On(e,"labelledby",t)}function MS(e,t){On(e,"live",t)}function uN(e,t){On(e,"atomic",t)}function hN(e,t){On(e,"relevant",t)}function fN(e,t){On(e,"disabled",t)}function xS(e,t){On(e,"hidden",t)}function Dh(e,t){Sr(e,"expanded",t)}function pN(e,t){Sr(e,"setsize",t)}function gN(e,t){Sr(e,"posinset",t)}function mN(e,t){Sr(e,"multiselectable",t)}function vN(e,t){Sr(e,"rowcount",t)}function kS(e,t){Sr(e,"rowindex",t)}function bN(e,t){Sr(e,"colcount",t)}function _S(e,t){Sr(e,"colindex",t)}function CN(e,t){Sr(e,"colspan",t)}function yN(e,t){Sr(e,"sort",t)}function wN(e){FS(e,"sort")}function Wh(e,t){On(e,"selected",t)}function SN(e,t){On(e,"controls",t.id),zd(t,e.id)}function Mv(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Sp,Gu,Rp,Ap,Ip,Fp,em,tm,Ep;function en(){return Sp===void 0&&(Sp=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Sp}function GS(){if(Gu===void 0)if(en()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Gu=e[1]!=null?parseFloat(e[1]):0)}else Gu=0;return Gu}function xv(){if(Rp===void 0){const e=window;Rp=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Rp}function kv(){return Ap===void 0&&(Ap=/(firefox)/i.test(navigator.userAgent)),Ap}function DS(){return Ip===void 0&&(Ip=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Ip}function No(){return Fp===void 0&&(Fp=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Fp}function im(){return!en()||GS()>=15}function sm(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!kv())?null:t.toString()}function RN(){if(Ep!==void 0)return Ep;if(!document.body)return-1;let e=1e6;const t=kv()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const s=e*2;if(i.style.height=s+"px",s>t||i.clientHeight!==s)break;e=s}return document.body.removeChild(i),Ep=e,e}function AN(){var e,t;return((e=document.body)==null?void 0:e.clientWidth)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1)}function IN(){var e,t;return((e=document.body)==null?void 0:e.clientHeight)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1)}function FN(){return tm==null&&WS(),tm}function WS(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(tm=i,em=i===0)}function TS(){return em==null&&WS(),em}var Du,EN="[tabindex], input, select, button, textarea, [href]",NS="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function _v(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,s=t.call(e,"input, select, button, textarea"),r=t.call(e,NS),n=vr(e);return s&&!r&&n}function Lt(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-hidden",!t),s||xS(e,!t)}function MN(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-invisible",!t),s||xS(e,!t)}function jd(e,t){const i="disabled",s=t?r=>r.setAttribute(i,""):r=>r.removeAttribute(i);s(e),HS(e.querySelectorAll("input"),r=>s(r))}function fl(e,t,i){let s=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++s>i)break}else if(e===i)break}return!1}function Pa(e){const{height:t,width:i,borderTopWidth:s,borderRightWidth:r,borderBottomWidth:n,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:f,marginBottom:g,marginLeft:m,boxSizing:y}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(n||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(f||"0"),marginBottom:parseFloat(g||"0"),marginLeft:parseFloat(m||"0"),boxSizing:y}}function Gv(e){const t=Pa(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function wu(e){const t=Pa(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function BS(e){const{height:t,marginBottom:i,marginTop:s}=Pa(e);return Math.floor(t+i+s)}function Th(e){const{width:t,marginLeft:i,marginRight:s}=Pa(e);return Math.floor(t+i+s)}function VS(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:s,borderRightWidth:r,borderBottomWidth:n}=Pa(e);return{top:t.top+(i||0),left:t.left+(s||0),right:t.right+(r||0),bottom:t.bottom+(n||0)}}function Nh(){if(typeof Du=="boolean")return Du;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,Du=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),Du}function Bh(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),xv()&&!Nh()&&(i=e.scrollWidth-e.getBoundingClientRect().width-i)),i}function Vh(e,t,i){i&&(Nh()?t*=-1:(en()||xv())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function zi(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Wr(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function OS(e){return!!e.offsetParent}function vr(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!OS(e)||window.getComputedStyle(e).visibility!=="visible")}function Ud(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function PS(e,t,i){i&&i.nextSibling===t||(i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function LS(e,t){for(let i=0;i<t.length;i++){const s=t[i],r=e.children[i];r!==s&&e.insertBefore(s,r)}}function xN(e,t,i){i?i.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function ZS(e,t){if(t)for(const[i,s]of Object.entries(t)){if(!i||!i.length||s==null)continue;const r=$7(i),n=s.toString(),o=n.replace(/\s*!important/g,""),a=o.length!=n.length?"important":void 0;e.style.setProperty(r,o,a)}}function kN(e){return e.clientWidth<e.scrollWidth}function _N(e){return e.clientHeight<e.scrollHeight}function Oh(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):hr(e,t)}function hr(e,t){t=Dv(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function qc(e,t){t=Dv(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Dv(e){return typeof e=="number"?`${e}px`:e}function Wv(e){return e instanceof Node||e instanceof HTMLElement}function GN(e){if(e==null)return[];const t=[];return HS(e,i=>t.push(i)),t}function DN(e,t){if(e)for(let i=0;i<e.length;i++){const s=e[i];t(s.name,s.value)}}function Ys(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function HS(e,t){if(e!=null)for(let i=0;i<e.length;i++)t(e[i])}var Tv=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},WN=1e3,TN=1e3,Ay=100,YS=class zo extends Y{constructor(t,i,s,r){super(),this.parentComp=t,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=s,this.shouldDisplayTooltip=r,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const i=this.gos.get(t);return i<0&&j(`${t} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(t){return t==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!No()&&(zo.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},Ay):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var n;const i=t.relatedTarget,s=this.parentComp.getGui(),r=(n=this.tooltipComp)==null?void 0:n.getGui();this.isInteractingWithTooltip||s.contains(i)||this.interactionEnabled&&(r!=null&&r.contains(i))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||zo.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),i=zo.lastTooltipHideTime;return t-i<WN}setToDoNothing(t){!t&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!te(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(i)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),zo.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,i){if(this.state!==2||this.tooltipInstanceCount!==t){this.destroyBean(i);return}const r=i.getGui();this.tooltipComp=i,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const n=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:r,ariaLabel:n("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(ri(this.gos),{keydown:a=>{r.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var s;const t=(s=this.tooltipComp)==null?void 0:s.getGui(),i=Zt(this.gos);return!!t&&t.contains(i)}onTooltipFocusOut(t){const i=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,i.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,i=this.tooltipComp,s=this.tooltipTrigger===0?TN:0;window.setTimeout(()=>{t(),this.destroyBean(i)},s),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){zo.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},Ay)}unlockService(){zo.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};YS.isLocked=!1;var NN=YS,bc=class extends Y{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(e!=null&&e!=""?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,i,s,r;if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new NN(e,(i=(t=this.ctrl).getTooltipShowDelayOverride)==null?void 0:i.call(t),(r=(s=this.ctrl).getTooltipHideDelayOverride)==null?void 0:r.call(s),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var r,n,o,a,l;const e=this.ctrl,t=(r=e.getColumn)==null?void 0:r.call(e),i=(n=e.getColDef)==null?void 0:n.call(e),s=(o=e.getRowNode)==null?void 0:o.call(e);return{location:e.getLocation(),colDef:i,column:t,rowIndex:(a=e.getRowIndex)==null?void 0:a.call(e),node:s,data:s==null?void 0:s.data,value:this.getTooltipText(),valueFormatted:(l=e.getValueFormatted)==null?void 0:l.call(e),hideTooltipCallback:()=>{var c;return(c=this.tooltipManager)==null?void 0:c.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},BN=new Tv,le=null,Ue=class zS extends Y{constructor(t,i){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=BN.next(),this.cssClassManager=new lN(()=>this.eGui),this.componentSelectors=new Map((i??[]).map(s=>[s.selector,s])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,i){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,i))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:i,showDelayOverride:s,hideDelayOverride:r,location:n,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);const a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new bc({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>n??"UNKNOWN",getColDef:t==null?void 0:t.getColDef,getColumn:t==null?void 0:t.getColumn,getTooltipShowDelayOverride:s!=null?()=>s:void 0,getTooltipHideDelayOverride:r!=null?()=>r:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,i,s,r=null){if(i===void 0&&(i=this.getDataRefAttribute(t)),i){const n=this[i];if(n===le)this[i]=r??t;else{const o=s&&s[i];!this.suppressDataRefValidation&&!o&&j(`Issue with data-ref: ${i} on ${this.constructor.name} with ${n}`)}}}createChildComponentsFromTags(t,i){GN(t.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const n=this.createComponentFromElement(r,o=>{o.getGui()&&this.copyAttributesFromNode(r,o.getGui())},i);if(n){if(n.addItems&&r.children.length){this.createChildComponentsFromTags(r,i);const o=Array.prototype.slice.call(r.children);n.addItems(o)}this.swapComponentForNode(n,t,r)}else r.childNodes&&this.createChildComponentsFromTags(r,i)})}createComponentFromElement(t,i,s){const r=t.nodeName,n=this.getDataRefAttribute(t),o=r.indexOf("AG-")===0,a=o?this.componentSelectors.get(r):null;let l=null;if(a){zS.elementGettingCreated=t;const c=s&&n?s[n]:void 0;l=new a.component(c),l.setParentComponent(this),this.createBean(l,null,i)}else o&&j(`Missing selector: ${r}`);return this.applyElementsToComponent(t,n,s,l),l}copyAttributesFromNode(t,i){DN(t.attributes,(s,r)=>i.setAttribute(s,r))}swapComponentForNode(t,i,s){const r=t.getGui();i.replaceChild(r,s),i.insertBefore(document.createComment(s.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const i=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(s=>s.setAttribute("tabindex",i.toString()))}setTemplate(t,i,s){const r=Ud(t);this.setTemplateFromElement(r,i,s)}setTemplateFromElement(t,i,s,r=!1){if(this.eGui=t,this.suppressDataRefValidation=r,i)for(let n=0;n<i.length;n++){const o=i[n];this.componentSelectors.set(o.selector,o)}this.wireTemplate(t,s)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,i){let s=i;return t==null?null:(s||(s=this.eGui),Wv(t)?{element:t,parent:s}:{element:t.getGui(),parent:s})}prependChild(t,i){const{element:s,parent:r}=this.getContainerAndElement(t,i)||{};!s||!r||r.insertAdjacentElement("afterbegin",s)}appendChild(t,i){const{element:s,parent:r}=this.getContainerAndElement(t,i)||{};!s||!r||r.appendChild(s)}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:s}=i;MN(this.eGui,t,{skipAriaHidden:s})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:s}=i;Lt(this.eGui,t,{skipAriaHidden:s});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,i,s){this.eGui.addEventListener(t,i,s),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}},jS={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},VN=(()=>{const e=new Set(Object.values(jS));return e.add("eye"),e})();function ON(e,t,i){const s=Es(e,t,i);if(s){const{className:n}=s;if(typeof n=="string"&&n.indexOf("ag-icon")>-1||typeof n=="object"&&n["ag-icon"])return s}const r=document.createElement("span");return r.appendChild(s),r}function Es(e,t,i,s){let r=null;const n=i&&i.getColDef().icons;if(n&&(r=n[e]),t&&!r){const o=t.get("icons");o&&(r=o[e])}if(r){let o;if(typeof r=="function")o=r();else if(typeof r=="string")o=r;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return Ud(o);if(Wv(o))return o;j("iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=jS[e]??(VN.has(e)?e:void 0);return a||(j(`Did not find icon ${e}`),a=""),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),bs(o,"presentation"),o}}var PN=class extends Ue{constructor(){super(...arguments),this.dragSource=null,this.eIcon=le,this.eLabel=le}postConstruct(){const e=t=>ON(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){var s,r;zi(this.eIcon);let i=null;e||(e=(s=this.dragSource)!=null&&s.getDefaultIconName?(r=this.dragSource)==null?void 0:r.getDefaultIconName():"notAllowed"),i=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),!(i===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eIcon.appendChild(i)}setLabel(e){this.eLabel.textContent=Lr(e)}};function US(e,t,i){if(i===0)return!1;const s=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(s,r)<=i}var fo=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new mc,this.eElement=e,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",s,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",s,{passive:!0}),this.eElement.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;const s={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(s)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!US(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function Ec(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var LN=`<span class="ag-sort-indicator-container">
        ${Ec("Order","order")}
        ${Ec("Asc","ascending-icon")}
        ${Ec("Desc","descending-icon")}
        ${Ec("Mixed","mixed-icon")}
        ${Ec("None","none-icon")}
    </span>`,Nv=class extends Ue{constructor(e){super(),this.eSortOrder=le,this.eSortAsc=le,this.eSortDesc=le,this.eSortMixed=le,this.eSortNone=le,e||this.setTemplate(LN)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,i,s,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=s,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const i=this.updateIcons.bind(this),s=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:s,columnRowGroupChanged:s}),this.onSortChanged()}addInIcon(e,t,i){if(t==null)return;const s=Es(e,this.gos,i);s&&t.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";Lt(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";Lt(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),i=e==null;Lt(this.eSortNone,!t&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;Gr(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Lt(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,i=e.some(r=>this.sortController.getDisplaySortIndexForColumn(r)??!1),s=t>=0&&i;Lt(this.eSortOrder,s,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():zi(this.eSortOrder)}},ZN={selector:"AG-SORT-INDICATOR",component:Nv},HN=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,rm=class extends Ue{constructor(){super(...arguments),this.eFilter=le,this.eFilterButton=le,this.eSortIndicator=le,this.eMenu=le,this.eLabel=le,this.eText=le,this.eSortOrder=le,this.eSortAsc=le,this.eSortDesc=le,this.eSortMixed=le,this.eSortNone=le,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??HN;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[ZN]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=Lr(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(t==null)return;const s=Es(e,this.gos,i);s&&t.appendChild(s)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new fo(this.getGui(),!0),i=this.shouldSuppressMenuHide(),s=i&&te(this.eMenu),r=s?new fo(this.eMenu,!0):t;if(this.params.enableMenu){const n=s?"tap":"longTap",o=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(r,{[n]:o})}if(this.params.enableSorting){const n=o=>{var l,c;const a=o.touchStart.target;i&&((l=this.eMenu)!=null&&l.contains(a)||(c=this.eFilterButton)!=null&&c.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:n})}if(this.params.enableFilterButton){const n=new fo(this.eFilterButton,!0);this.addManagedListeners(n,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>n.destroy())}this.addDestroyFunc(()=>t.destroy()),s&&this.addDestroyFunc(()=>r.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Wr(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,i=this.menuService.isLegacyMenuEnabled();if(e&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new Nv(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{const i=this.params.column.isMoving(),r=new Date().getTime()-this.lastMovingChanged<50;if(!(i||r)){const a=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const i=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),r=!(i==null?void 0:i.every(n=>this.params.column.getSort()==n.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",r)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,i){if(!e)return Wr(t),!1;const s=this.params.column;return this.addInIcon("filter",t,s),this.addManagedListeners(s,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Lt(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},YN=class extends Ue{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=le,this.agClosed=le,this.agLabel=le}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&j("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=r=>{if(wn(r))return;const n=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),n,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=r=>{Ul(r)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup(),s=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:s,expandableChanged:s})}addTouchAndClickListeners(e,t){const i=new fo(e,!0);this.addManagedListeners(i,{tap:t}),this.addDestroyFunc(()=>i.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();Lt(this.agOpened,t),Lt(this.agClosed,!t)}else Lt(this.agOpened,!1),Lt(this.agClosed,!1)}addInIcon(e,t){const i=Es(e,this.gos,null);i&&t.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Lt(this.agOpened,!1),Lt(this.agClosed,!1);return}}setupLabel(){var i;const{displayName:e,columnGroup:t}=this.params;if(te(e)){const s=Lr(e,!0);this.agLabel.textContent=s}this.addOrRemoveCssClass("ag-sticky-label",!((i=t.getColGroupDef())!=null&&i.suppressStickyLabel))}},zN="↑",jN="↓",UN=class extends Ue{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),s=e.formatValue(i),r=te(s)?s:i,n=t>=0;n?this.eDelta.textContent=zN+r:this.eDelta.textContent=jN+r,this.eDelta.classList.toggle("ag-value-change-delta-up",n),this.eDelta.classList.toggle("ag-value-change-delta-down",!n)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),zi(this.eDelta)}refresh(e,t=!1){var s;const i=e.value;if(i===this.lastValue||(te(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:te(e.value)?this.eValue.textContent=i:zi(this.eValue),(s=this.filterManager)!=null&&s.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){const r=i-this.lastValue;this.showDelta(e,r)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},XN=class extends Ue{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var s;let i=e.value;return Pe(i)&&(i=""),i===this.lastValue||(s=this.filterManager)!=null&&s.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=i,te(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:te(e.value)?this.eCurrent.textContent=i:zi(this.eCurrent),!0)}},Z=class{};Z.BACKSPACE="Backspace";Z.TAB="Tab";Z.ENTER="Enter";Z.ESCAPE="Escape";Z.SPACE=" ";Z.LEFT="ArrowLeft";Z.UP="ArrowUp";Z.RIGHT="ArrowRight";Z.DOWN="ArrowDown";Z.DELETE="Delete";Z.F2="F2";Z.PAGE_UP="PageUp";Z.PAGE_DOWN="PageDown";Z.PAGE_HOME="Home";Z.PAGE_END="End";Z.A="KeyA";Z.C="KeyC";Z.D="KeyD";Z.V="KeyV";Z.X="KeyX";Z.Y="KeyY";Z.Z="KeyZ";var JN=class extends Ue{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:s,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){zi(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Lt(this.eLabel,!1),bs(this.eLabel,"presentation")):(Lt(this.eLabel,!0),bs(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Oh(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return jd(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},XS=class extends JN{constructor(e,t,i,s){super(e,t,i),this.className=s}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||dN(e)!==null?zd(e,""):zd(e,t??"")}setAriaLabel(e){return Xl(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return hr(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},ta=class extends XS{constructor(e,t,i="text",s="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${s} data-ref="eInput" class="ag-input-field-input"></${s}>
                </div>
            </div>`,[],t),this.inputType=i,this.displayFieldTag=s,this.eLabel=le,this.eWrapper=le,this.eInput=le}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Oh(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Ys(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Xl(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return jd(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Ys(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Ys(this.eInput,"autocomplete",t)}return this}},Bv=class extends ta{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const s=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:s.id,name:s.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},Vv={selector:"AG-CHECKBOX",component:Bv},QN=class extends Ue{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Vv]),this.eCheckbox=le}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),MS(t,"polite"),this.addManagedListeners(t,{click:i=>{if(Ul(i),this.eCheckbox.isDisabled())return;const s=this.eCheckbox.getValue();this.onCheckboxChanged(s)},dblclick:i=>{Ul(i)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:i=>{if(i.key===Z.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Zt(this.gos)&&this.eCheckbox.toggle();const s=this.eCheckbox.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var a;let t,i=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")t=e.value;else{const l=e.column.getColId();l.startsWith(Cf)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?t=e.value??void 0:i=!1}else t=e.value??void 0;if(!i){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);const s=e.disabled!=null?e.disabled:!((a=e.column)!=null&&a.isCellEditable(e.node));this.eCheckbox.setDisabled(s);const r=this.localeService.getLocaleTextFunc(),n=Mv(r,t),o=s?n:`${r("ariaToggleCellValue","Press SPACE to toggle cell value")} (${n})`;this.eCheckbox.setInputAriaLabel(o)}onCheckboxChanged(e){const{column:t,node:i,value:s}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t==null?void 0:t.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s});const r=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t==null?void 0:t.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:r}),r||this.updateCheckbox(this.params)}},qN=class extends Ue{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=le,this.eLoadingText=le}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=Es("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},KN=class extends Ue{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>zd(e.eParentOfValue)),zd(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Xl(this.getGui(),t)}setupLoading(e){const i=ri(this.gos).createElement("div");i.classList.add("ag-skeleton-effect");const s=e.node.rowIndex;if(s!=null){const o=75+25*(s%2===0?Math.sin(s):Math.cos(s));i.style.width=`${o}%`}this.getGui().appendChild(i);const n=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Xl(this.getGui(),n)}refresh(e){return!1}destroy(){super.destroy()}},JS=class extends Ue{constructor(){super()}destroy(){super.destroy()}},$N=class extends JS{init(){var t;const e=yn((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}},eB=class extends JS{init(){var t;const e=yn((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}},Cc=class extends Ue{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},tB=class extends Cc{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Lr(t,!0)}};function QS(e){const{inputValue:t,allSuggestions:i,hideIrrelevant:s,filterByPercentageOfBestMatch:r,addSequentialWeight:n}=e;let o=i.map((c,d)=>({value:c,relevance:sB(t.toLowerCase(),c.toLocaleLowerCase(),n),idx:d}));if(o.sort((c,d)=>d.relevance-c.relevance),s&&(o=o.filter(c=>c.relevance!==0)),o.length>0&&r&&r>0){const d=o[0].relevance*r;o=o.filter(u=>d-u.relevance<0)}const a=[],l=[];for(const c of o)a.push(c.value),l.push(c.idx);return{values:a,indices:l}}function iB(e){const t=[],i=e.length;for(let s=1;s<=i;s++)for(let r=0;r<=i-s;r++){const n=r+s-1;t.push(e.slice(r,n+1))}return t}function sB(e,t,i=!1){const s=e.replace(/\s/g,""),r=t.replace(/\s/g,""),n=s.length,o=r.length,a=new Array(n+1).fill(null).map(()=>new Array(o+1).fill(0));for(let u=0;u<=n;u+=1)a[u][0]=u;for(let u=0;u<=o;u+=1)a[0][u]=u;for(let u=1;u<=n;u++)for(let f=1;f<=o;f++)s[u-1]===r[f-1]?a[u][f]=a[u-1][f-1]:a[u][f]=1+Math.min(a[u][f-1],Math.min(a[u-1][f],a[u-1][f-1]));const l=a[n][o];let d=Math.max(n,o)-l;if(i){const u=iB(s);for(let f=0;f<u.length;f++){const g=u[f];r.indexOf(g)!==-1&&(d+=1,d*=g.length)}}return d}var rB=class extends Y{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:PN,agColumnHeader:rm,agColumnGroupHeader:YN,agSortIndicator:Nv,agAnimateShowChangeCellRenderer:UN,agAnimateSlideCellRenderer:XN,agLoadingCellRenderer:qN,agSkeletonCellRenderer:KN,agCheckboxCellRenderer:QN,agLoadingOverlay:$N,agNoRowsOverlay:eB,agTooltipComponent:tB},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&lr(e,(t,i)=>this.registerJsComponent(t,i))}registerDefaultComponent(e,t,i){this.agGridDefaults[e]=t,i&&(this.agGridDefaultParams[e]=i)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(a,l,c)=>({componentFromFramework:l,component:a,params:c}),s=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(s!=null)return i(s,!0);const r=this.jsComps[t];if(r){const a=this.getFrameworkOverrides().isFrameworkComponent(r);return i(r,a)}const n=this.agGridDefaults[t];if(n)return i(n,!1,this.agGridDefaultParams[t]);const o=this.enterpriseAgDefaultCompsModule[t];return o?this.gos.assertModuleRegistered(o,`AG Grid '${e}' component: ${t}`):bv(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const i=[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],s=QS({inputValue:t,allSuggestions:i,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;j(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),s.length>0&&j(`         Did you mean: [${s.slice(0,3)}]?`),j(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},Is=class Nc{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new Nc(i=>{let s=t.length;const r=new Array(s);t.forEach((n,o)=>{n.then(a=>{r[o]=a,s--,s===0&&i(r)})})}):Nc.resolve()}static resolve(t=null){return new Nc(i=>i(t))}then(t){return new Nc(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(s=>i(t(s)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}},nB={propertyName:"dateComponent",cellRenderer:!1},oB={propertyName:"dragAndDropImageComponent",cellRenderer:!1},aB={propertyName:"headerComponent",cellRenderer:!1},lB={propertyName:"headerGroupComponent",cellRenderer:!1},Iy={propertyName:"cellRenderer",cellRenderer:!0},cB={propertyName:"cellRenderer",cellRenderer:!1},dB={propertyName:"loadingCellRenderer",cellRenderer:!0},uB={propertyName:"cellEditor",cellRenderer:!1},Fy={propertyName:"innerRenderer",cellRenderer:!0},hB={propertyName:"loadingOverlayComponent",cellRenderer:!1},fB={propertyName:"noRowsOverlayComponent",cellRenderer:!1},pB={propertyName:"tooltipComponent",cellRenderer:!1},Ov={propertyName:"filter",cellRenderer:!1},gB={propertyName:"floatingFilterComponent",cellRenderer:!1},mB={propertyName:"toolPanel",cellRenderer:!1},vB={propertyName:"statusPanel",cellRenderer:!1},bB={propertyName:"fullWidthCellRenderer",cellRenderer:!0},CB={propertyName:"loadingCellRenderer",cellRenderer:!0},yB={propertyName:"groupRowRenderer",cellRenderer:!0},wB={propertyName:"detailCellRenderer",cellRenderer:!0},SB={propertyName:"menuItem",cellRenderer:!1},qS=class KS extends Y{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,oB,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,i){return this.getCompDetails(t,aB,"agColumnHeader",i)}getHeaderGroupCompDetails(t){const i=t.columnGroup.getColGroupDef();return this.getCompDetails(i,lB,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,bB,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,CB,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,yB,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,wB,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,i){return this.getCompDetails(t,Fy,null,i)}getFullWidthGroupRowInnerCellRenderer(t,i){return this.getCompDetails(t,Fy,null,i)}getCellRendererDetails(t,i){return this.getCompDetails(t,Iy,null,i)}getEditorRendererDetails(t,i){return this.getCompDetails(t,cB,null,i)}getLoadingCellRendererDetails(t,i){return this.getCompDetails(t,dB,"agSkeletonCellRenderer",i,!0)}getCellEditorDetails(t,i){return this.getCompDetails(t,uB,"agCellEditor",i,!0)}getFilterDetails(t,i,s){return this.getCompDetails(t,Ov,s,i,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,nB,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,hB,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,fB,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,pB,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,i){return this.getCompDetails(t,Iy,null,i)}getFloatingFilterCompDetails(t,i,s){return this.getCompDetails(t,gB,s,i)}getToolPanelCompDetails(t,i){return this.getCompDetails(t,mB,null,i,!0)}getStatusPanelCompDetails(t,i){return this.getCompDetails(t,vB,null,i,!0)}getMenuItemCompDetails(t,i){return this.getCompDetails(t,SB,"agMenuItem",i,!0)}getCompDetails(t,i,s,r,n=!1){const{propertyName:o,cellRenderer:a}=i;let{compName:l,jsComp:c,fwComp:d,paramsFromSelector:u,popupFromSelector:f,popupPositionFromSelector:g}=KS.getCompKeys(this.frameworkOverrides,t,i,r),m;const y=F=>{const G=this.userComponentRegistry.retrieve(o,F);G&&(c=G.componentFromFramework?void 0:G.component,d=G.componentFromFramework?G.component:void 0,m=G.params)};if(l!=null&&y(l),c==null&&d==null&&s!=null&&y(s),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(o,c)),!c&&!d){n&&$e(`Could not find component ${l}, did you forget to configure this component?`);return}const b=this.mergeParamsWithApplicationProvidedParams(t,i,r,u,m),S=c==null,I=c||d;return{componentFromFramework:S,componentClass:I,params:b,type:i,popupFromSelector:f,popupPositionFromSelector:g,newAgStackInstance:()=>this.newAgStackInstance(I,S,b,i)}}static getCompKeys(t,i,s,r){const{propertyName:n}=s;let o,a,l,c,d,u;if(i){const f=i,g=f[n+"Selector"],m=g?g(r):null,y=b=>{typeof b=="string"?o=b:b!=null&&b!==!0&&(t.isFrameworkComponent(b)?l=b:a=b)};m?(y(m.component),c=m.params,d=m.popup,u=m.popupPosition):y(f[n])}return{compName:o,jsComp:a,fwComp:l,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:u}}newAgStackInstance(t,i,s,r){const n=r.propertyName,o=!i;let a;if(o)a=new t;else{const c=this.componentMetadataProvider.retrieve(n);a=this.frameworkComponentWrapper.wrap(t,c.mandatoryMethodList,c.optionalMethodList,r)}const l=this.initComponent(a,s);return l==null?Is.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,i,s,r=null,n){const o=this.gos.getGridCommonParams();ts(o,s),n&&ts(o,n);const a=t,l=a&&a[i.propertyName+"Params"];if(typeof l=="function"){const c=l(s);ts(o,c)}else typeof l=="object"&&ts(o,l);return ts(o,r),o}initComponent(t,i){if(this.createBean(t),t.init!=null)return t.init(i)}};function Kc(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var wf=class rt{static register(t){rt.__register(t,!0,void 0)}static registerModules(t){rt.__registerModules(t,!0,void 0)}static __register(t,i,s){rt.runVersionChecks(t),s!==void 0?(rt.areGridScopedModules=!0,rt.gridModulesMap[s]===void 0&&(rt.gridModulesMap[s]={}),rt.gridModulesMap[s][t.moduleName]=t):rt.globalModulesMap[t.moduleName]=t,rt.setModuleBased(i)}static __unRegisterGridModules(t){delete rt.gridModulesMap[t]}static __registerModules(t,i,s){rt.setModuleBased(i),t&&t.forEach(r=>rt.__register(r,i,s))}static isValidModuleVersion(t){const[i,s]=t.version.split(".")||[],[r,n]=rt.currentModuleVersion.split(".")||[];return i===r&&s===n}static runVersionChecks(t){rt.currentModuleVersion||(rt.currentModuleVersion=t.version);const i=s=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${s} Please update all modules to the same version.`;if(t.version?rt.isValidModuleVersion(t)||$e(i(`'${t.moduleName}' is version ${t.version} but the other modules are version ${rt.currentModuleVersion}.`)):$e(i(`'${t.moduleName}' is incompatible.`)),t.validate){const s=t.validate();s.isValid||$e(`${s.message}`)}}static setModuleBased(t){rt.moduleBased===void 0?rt.moduleBased=t:rt.moduleBased!==t&&($e("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),$e("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){rt.isBundled=!0}static __assertRegistered(t,i,s){var n;if(this.__isRegistered(t,s))return!0;let r;if(rt.isBundled)r=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(rt.moduleBased||rt.moduleBased===void 0){const o=(n=Object.entries(bu).find(([a,l])=>l===t))==null?void 0:n[0];r=`AG Grid: unable to use ${i} as the ${o} is not registered${rt.areGridScopedModules?` for gridId: ${s}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${o} } from '${t}';
    
    ModuleRegistry.registerModules([ ${o} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else r=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return $e(r),!1}static __isRegistered(t,i){var s;return!!rt.globalModulesMap[t]||!!((s=rt.gridModulesMap[i])!=null&&s[t])}static __getRegisteredModules(t){return[...Xu(rt.globalModulesMap),...Xu(rt.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return Xu(rt.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!rt.moduleBased}};wf.globalModulesMap={};wf.gridModulesMap={};wf.areGridScopedModules=!1;var un=wf,RB=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach(([i,s])=>{this.beans[i]=s}),e.beanClasses.forEach(i=>{const s=new i;s.beanName?this.beans[s.beanName]=s:console.error(`Bean ${i.name} is missing beanName`),this.createdBeans.push(s)}),(t=e.derivedBeans)==null||t.forEach(i=>{const{beanName:s,bean:r}=i(this);this.beans[s]=r,this.createdBeans.push(r)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{var s,r;(s=i.preWireBeans)==null||s.call(i,this.beans),(r=i.wireBeans)==null||r.call(i,this.beans)}),e.forEach(i=>{var s;return(s=i.preConstruct)==null?void 0:s.call(i)}),t&&e.forEach(t),e.forEach(i=>{var s;return(s=i.postConstruct)==null?void 0:s.call(i)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},AB=class extends RB{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),un.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},$S=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))($S||{}),IB=class extends Y{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),hs(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var i,s;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),(s=(i=this.dragSource).onDragStarted)==null||s.call(i),this.createDragAndDropImageComponent()}onDragStop(e){var t,i,s;if((i=(t=this.dragSource)==null?void 0:t.onDragStopped)==null||i.call(t),(s=this.lastDropTarget)!=null&&s.onDragStop){const r=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(r)}this.clearDragAndDropProperties()}onDragCancel(){var e,t,i;(t=(e=this.dragSource)==null?void 0:e.onDragCancelled)==null||t.call(e),(i=this.lastDropTarget)!=null&&i.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var o,a,l,c;const i=this.getHorizontalDirection(e),s=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const r=this.dropTargets.filter(d=>this.isMouseOnDropTarget(e,d)),n=this.findCurrentDropTarget(e,r);if(n!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,i,s,t),this.lastDropTarget!==null&&n===null&&((a=(o=this.dragSource)==null?void 0:o.onGridExit)==null||a.call(o,this.dragItem)),this.lastDropTarget===null&&n!==null&&((c=(l=this.dragSource)==null?void 0:l.onGridEnter)==null||c.call(l,this.dragItem)),this.enterDragTargetIfExists(n,e,i,s,t),n&&this.dragAndDropImageComp){const{comp:d,promise:u}=this.dragAndDropImageComp;d?d.setIcon(n.getIconName?n.getIconName():null):u.then(f=>{f&&f.setIcon(n.getIconName?n.getIconName():null)})}this.lastDropTarget=n}else if(n&&n.onDragging){const d=this.createDropTargetEvent(n,e,i,s,t);n.onDragging(d)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const{width:s,height:r,left:n,right:o,top:a,bottom:l}=i.getBoundingClientRect();if(s===0||r===0)return!1;const c=e.clientX>=n&&e.clientX<o,d=e.clientY>=a&&e.clientY<l;if(!c||!d)return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let s=!1;for(const o of i)if(this.allContainersIntersect(e,o)){s=!0;break}const{eElement:r,type:n}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(r)?!1:s&&t.isInterestedIn(n,r)}findCurrentDropTarget(e,t){const i=t.length;if(i===0)return null;if(i===1)return t[0];const r=Hd(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const n of r)for(const o of t)if(D7(this.getAllContainersFromDropTarget(o)).indexOf(n)!==-1)return o;return null}enterDragTargetIfExists(e,t,i,s,r){if(e&&e.onDragEnter){const n=this.createDropTargetEvent(e,t,i,s,r);e.onDragEnter(n)}}leaveLastTargetIfExists(e,t,i,s){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const n=this.createDropTargetEvent(this.lastDropTarget,e,t,i,s);this.lastDropTarget.onDragLeave(n)}const r=this.getDragAndDropImageComponent();r&&r.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:s}=e;return i.contains(s)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,s,r){const n=e.getContainer(),o=n.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,c=t.clientX-o.left,d=t.clientY-o.top;return this.gos.addGridCommonParams({event:t,x:c,y:d,vDirection:s,hDirection:i,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:n})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const i=t.getGui(),r=i.getBoundingClientRect().height,n=AN()-2,o=IN()-2;if(!i.offsetParent)return;const l=VS(i.offsetParent),{clientY:c,clientX:d}=e;let u=c-l.top-r/2,f=d-l.left-10;const g=ri(this.gos),m=g.defaultView||window,y=m.pageYOffset||g.documentElement.scrollTop,b=m.pageXOffset||g.documentElement.scrollLeft;n>0&&f+i.clientWidth>n+b&&(f=n+b-i.clientWidth),f<0&&(f=0),o>0&&u+i.clientHeight>o+y&&(u=o+y-i.clientHeight),u<0&&(u=0),i.style.left=`${f}px`,i.style.top=`${u}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const i=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:i,environment:s}=this;if(!t)return;const r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),i.stampTopLevelGridCompWithGridInstance(r),s.applyThemeClasses(r),e.setIcon(null);let{dragItemName:n}=t;Cv(n)&&(n=n()),e.setLabel(n||""),r.style.top="20px",r.style.left="20px";const o=ri(this.gos);let a=null,l=null;try{a=o.fullscreenElement}catch{}finally{a||(a=Hd(this.gos));const c=a.querySelector("body");c?l=c:a instanceof ShadowRoot?l=a:a instanceof Document?l=a==null?void 0:a.documentElement:l=a}this.dragAndDropImageParent=l,l?l.appendChild(r):j("Could not find document body, it is needed for drag and drop.")}},FB=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const s=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<s.left+r,this.tickRight=e.clientX>s.right-r,this.tickUp=e.clientY<s.top+r&&!i,this.tickDown=e.clientY>s.bottom-r&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Bc=(e=>(e[e.Above=0]="Above",e[e.Below=1]="Below",e))(Bc||{}),EB=class extends Y{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){ti(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new FB({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var s;return!!(this.funcColsService.getRowGroupColumns().length||((s=this.filterManager)==null?void 0:s.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const s=[...this.selectionService.getSelectedNodes()].sort((r,n)=>r.rowIndex==null||n.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(n));if(s.indexOf(t)!==-1)return s}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),s=this.gos.get("rowDragManaged"),r=e.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(je(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&t.highlighted===1,s=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes;let n=i?1:0;if(this.isFromThisGrid(e))r.forEach(o=>{o.rowTop<s&&(n-=1)}),this.moveRows(r,s,n);else{const o=Cu(this.gos);let a=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===0&&a--,this.clientSideRowModel.updateRowData({add:r.filter(l=>!this.clientSideRowModel.getRowNode((o==null?void 0:o({data:l.data,level:0,rowPinned:l.rowPinned}))??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){var r;this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),(r=this.rangeService)==null||r.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){j("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){j("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=s=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",s))}),e.onDragLeave&&(t.onDragLeave=s=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",s))}),e.onDragging&&(t.onDragging=s=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",s))}),e.onDragStop&&(t.onDragStop=s=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",s))}),e.onDragCancel&&(t.onDragCancel=s=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",s))}));const i={isInterestedIn:s=>s===2,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(i),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),r=this.onDragging.bind(this),n=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{i(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:i,onDragLeave:e.onDragLeave?l=>{s(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:s,onDragging:e.onDragging?l=>{r(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:r,onDragStop:e.onDragStop?l=>{n(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:n,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:i,onDragLeave:s,onDragging:r,onDragStop:n,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y,s=i>this.pageBoundsService.getCurrentPageHeight();let r=-1,n;s||(r=this.rowModel.getRowIndexAtPixel(i),n=this.rowModel.getRow(r));let o;switch(t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:n,y:i,vDirection:o})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},MB=class extends Y{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const s=e.touchStartListener;t.removeEventListener("touchstart",s,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),hs(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:s,stopPropagationForTouch:r}=e;i.addEventListener("mousedown",t);let n=null;const o=this.gos.get("suppressTouch");s&&!o&&(n=a=>{_v(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a))},i.addEventListener("touchstart",n,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:n,touchEnabled:!!s})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const s=l=>this.onTouchMove(l,e.eElement),r=l=>this.onTouchUp(l,e.eElement),n=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Hd(this.gos),type:"touchmove",listener:n,options:{passive:!1}},{target:o,type:"touchmove",listener:s,options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const s=c=>this.onMouseMove(c,e.eElement),r=c=>this.onMouseUp(c,e.eElement),n=c=>c.preventDefault(),o=c=>{c.key===Z.ESCAPE&&this.cancelDrag(e.eElement)},a=Hd(this.gos),l=[{target:a,type:"mousemove",listener:s},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:n},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:s,listener:r,options:n}=t;i.addEventListener(s,r,n)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:s,listener:r,options:n}=t;i.removeEventListener(s,r,n)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams,s=te(i)?i:4;return US(e,t,s)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){var s;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(s=this.currentDragParams)==null||s.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){var i;en()&&((i=ri(this.gos).getSelection())==null||i.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),i=e.type==="mousemove";return t&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,i=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,i;this.eventService.dispatchEvent({type:"dragCancelled",target:e}),(i=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||i.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},nm=class extends Ue{constructor(e,t,i,s,r,n){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=s,this.dragStartPixels=r,this.suppressVisibilityChange=n,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Es("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new kB(this,this.beans,this.rowNode,this.column):new xB(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&j("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:s=>{s==null||s.preventDefault()}})[0]);const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const s=this.getDragItem(),r=((o=s.rowNodes)==null?void 0:o.length)||1,n=this.getRowDragText(this.column);return n?n(s,r):r===1?this.cellValueFn():`${r} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},eR=class extends Y{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,s=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),s=Cv(this.column.getColDef().rowDrag)),s?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}},xB=class extends eR{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},kB=class extends eR{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),s=this.gos.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones(),n=i&&!r||s;this.setDisplayedOrVisible(n)}},_B=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),Su=class Xn{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Xn.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,i){var n;const s=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(t,s,i);(n=this.localEventService)==null||n.dispatchEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,s){return{type:"dataChanged",node:this,oldData:i,newData:t,update:s}}getRowIndexString(){return this.rowIndex==null?($e("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?Xn.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?Xn.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new Xn(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,i){var o;const s=te(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,s);const n=this.createDataChangedEvent(t,r,!1);(o=this.localEventService)==null||o.dispatchEvent(n)}checkRowSelectable(){const t=wv(this.beans.gos);this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,i){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),i)return;if(Ga(this.beans.gos)){const r=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:r??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){var s;const i=Cu(this.beans.gos);if(i)if(this.data){const r=((s=this.parent)==null?void 0:s.getRoute())??[];this.id=i({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Xn.ID_PREFIX_ROW_GROUP)&&$e(`Row IDs cannot start with ${Xn.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,i=!1){this.rowHeight=t,this.rowHeightEstimated=i,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=us(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var a;let t=!1,i=!0,s=0;const r=this.__autoHeights;if(r==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let c=r[l.getId()];if(c==null)if(this.beans.columnModel.isColSpanActive()){let d=[];switch(l.getPinned()){case"left":d=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":d=this.beans.visibleColsService.getRightColsForRow(this);break;case null:d=this.beans.columnViewportService.getColsWithinViewport(this);break}if(d.includes(l)){t=!0;return}c=-1}else{t=!0;return}else i=!1;c>s&&(s=c)}),t)||((i||s<10)&&(s=_o(this.beans.gos,this).height),s==this.rowHeight))return;this.setRowHeight(s);const o=this.beans.rowModel;(a=o.onRowHeightChangedDebounced)==null||a.call(o)}setExpanded(t,i,s){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const r={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:i||null};this.beans.rowNodeEventThrottle.dispatchExpanded(r,s),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,i,s){const n=typeof t!="string"?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t),o=this.beans.valueService.getValueForDisplay(n,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:n,colDef:n.getColDef(),data:this.data,node:this,oldValue:o,newValue:i,value:i,source:s}),!1;const a=this.beans.valueService.setValue(this,n,i,s);return this.dispatchCellChangedEvent(n,i,o),this.checkRowSelectable(),a}setGroupValue(t,i){const s=this.beans.columnModel.getCol(t);Pe(this.groupData)&&(this.groupData={});const r=s.getColId(),n=this.groupData[r];n!==i&&(this.groupData[r]=i,this.dispatchCellChangedEvent(s,i,n))}setAggData(t){const i=this.aggData;if(this.aggData=t,this.localEventService){const s=r=>{const n=this.aggData?this.aggData[r]:void 0,o=i?i[r]:void 0;if(n===o)return;const a=this.beans.columnModel.getCol(r);a&&this.dispatchCellChangedEvent(a,n,o)};for(const r in i)s(r);for(const r in t)(!i||!(r in i))&&s(r)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(vc(this.beans.gos)){const s=this.beans.gos.get("treeData"),r=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(s?!!r&&r(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(t,i,s){var n;const r={type:"cellChanged",node:this,column:t,newValue:i,oldValue:s};(n=this.localEventService)==null||n.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var s;let t=!1,i=!1;if(!((s=this.childrenAfterGroup)!=null&&s.length))return this.selectable?this.selected:null;for(let r=0;r<this.childrenAfterGroup.length;r++){const n=this.childrenAfterGroup[r];let o=n.isSelected();if(!n.selectable){const a=n.calculateSelectedFromChildren();if(a===null)continue;o=a}switch(o){case!0:t=!0;break;case!1:i=!0;break;default:return}}if(!(t&&i))return t?!0:i?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){var i;(i=this.localEventService)==null||i.dispatchEvent({type:t,node:this})}selectThisNode(t,i,s="api"){const r=!this.selectable&&t,n=this.selected===t;if(r||n)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:i||null,source:s}),!0}setSelected(t,i=!1,s="api"){if(typeof s=="boolean"){j("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:i,rangeSelect:!1,source:s})}setSelectedParams(t){return this.rowPinned?(j("cannot select pinned rows"),0):this.id===void 0?(j("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,i){var r;this.localEventService||(this.localEventService=new mc),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new Iv(this.beans.frameworkOverrides));const s=((r=this.frameworkEventListenerService)==null?void 0:r.wrap(i))??i;this.localEventService.addEventListener(t,s)}removeEventListener(t,i){var r;if(!this.localEventService)return;const s=((r=this.frameworkEventListenerService)==null?void 0:r.unwrap(i))??i;this.localEventService.removeEventListener(t,s),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(j("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const t=[];let i=this;for(;i&&i.key!=null;)t.push(i.key),i=i.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Xn(this.beans);Object.keys(this).forEach(i=>{_B.has(i)||(t[i]=this[i])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.dispatchRowEvent("firstChildChanged"))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.dispatchRowEvent("draggingChanged"))}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.dispatchRowEvent("uiLevelChanged"))}};Su.ID_PREFIX_ROW_GROUP="row-group-";Su.ID_PREFIX_TOP_PINNED="t-";Su.ID_PREFIX_BOTTOM_PINNED="b-";Su.OBJECT_ID_SEQUENCE=0;var oa=Su,GB=class extends Y{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvancedFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){var i;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(i=this.columnFilterService)==null||i.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.columnFilterService)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t,i;e?(t=this.columnFilterService)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(i=this.advancedFilterService)!=null&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;(e=this.quickFilterService)==null||e.resetQuickFilterCache()}refreshFiltersForAggregations(){Qg(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:i,columns:s=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):Is.resolve()).then(()=>{var n;const r={source:t,type:"filterChanged",columns:s};i&&ts(r,i),this.eventService.dispatchEvent(r),(n=this.columnFilterService)==null||n.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.columnFilterService)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilterService)!=null&&e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!Qg(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){var t;return!!((t=this.columnFilterService)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.columnFilterService)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvancedFilterEnabled()?!1:!!((t=this.columnFilterService)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var i;return(i=this.columnFilterService)==null?void 0:i.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var i;(i=this.columnFilterService)==null||i.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var i;return!!((i=this.columnFilterService)!=null&&i.areFilterCompsDifferent(e,t))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var t;if(this.isAdvancedFilterEnabled()){if((t=this.dataTypeService)!=null&&t.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.hasFloatingFilters())}getFilterInstance(e,t){var i;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(i=this.columnFilterService)==null?void 0:i.getFilterInstance(e,t)}getColumnFilterInstance(e){var t;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((t=this.columnFilterService)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvancedFilters(){j("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var i;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((i=this.columnFilterService)==null?void 0:i.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,i){var s;(s=this.columnFilterService)==null||s.setColDefPropertiesForDataType(e,t,i)}},DB=class extends Ue{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??Is.resolve()}afterGuiAttached(e){var t,i;(i=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||i.then(s=>{var r;(r=s==null?void 0:s.afterGuiAttached)==null||r.call(s,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(i=>{var s;(s=i==null?void 0:i.afterGuiDetached)==null||s.call(i)})}createFilter(e){var s,r;const{column:t,source:i}=this;this.filterWrapper=((s=this.filterManager)==null?void 0:s.getOrCreateFilterWrapper(t))??null,(r=this.filterWrapper)!=null&&r.filterPromise&&this.filterWrapper.filterPromise.then(n=>{const o=n.getGui();te(o)||j(`getGui method from filter returned ${o}; it should be a DOM element.`),this.appendChild(o),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(zi(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},tR="ag-resizer-wrapper",jn=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,WB=`<div class="${tR}">
        ${jn("eTopLeft","topLeft")}
        ${jn("eTop","top")}
        ${jn("eTopRight","topRight")}
        ${jn("eRight","right")}
        ${jn("eBottomRight","bottomRight")}
        ${jn("eBottom","bottom")}
        ${jn("eBottomLeft","bottomLeft")}
        ${jn("eLeft","left")}
    </div>`,TB=class extends Y{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,s=e/2-this.getHeight()/2;this.offsetElement(i,s)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:s,minHeight:r,height:n,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const d=vr(this.element);if(d){const u=this.findBoundaryElement(),f=window.getComputedStyle(u);if(f.minWidth!=null){const g=u.offsetWidth-this.element.offsetWidth;c=parseInt(f.minWidth,10)-g}if(f.minHeight!=null){const g=u.offsetHeight-this.element.offsetHeight;l=parseInt(f.minHeight,10)-g}}if(this.minHeight=r||l,this.minWidth=i||c,s&&this.setWidth(s),n&&this.setHeight(n),(!s||!n)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(d&&t){let u=this.boundaryEl,f=!0;if(u||(u=this.findBoundaryElement(),f=!1),u){const g=parseFloat(u.style.top),m=parseFloat(u.style.left);f?this.offsetElement(isNaN(m)?0:m,isNaN(g)?0:g):this.setPosition(m,g)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const s=!!e[t],r=this.getResizerElement(t),n={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(s||!this.isAlive()&&!s)&&(s?(this.dragService.addDragSource(n),this.resizeListeners.push(n),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=s)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)qc(i,e),e=BS(i),s=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(s?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?qc(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),n=e?this.position.y:s.top,o=e?0:r.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();a=d-s.bottom}}return i+o-n-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)hr(t,e),e=Th(t),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,n=i?this.position.x:this.element.getBoundingClientRect().left;r&&e+n>r&&(e=r-n)}this.getWidth()!==e&&(s?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?hr(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:i}=this.config,s=i?this.boundaryEl:this.element;s&&(this.popupService.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:s,anywhereWithin:r,topBuffer:n}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!i,!!r,o)?0:o,c=this.shouldSkipY(t,!!s,n,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,i,s){const r=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;let l=a<=0&&n.left>=e.clientX||n.right<=e.clientX&&n.right<=o.right;return l?!0:(t?l=s<0&&e.clientX>a+n.left||s>0&&e.clientX<a+n.left:i?l=s<0&&e.clientX>o.right||s>0&&e.clientX<a+n.left:l=s<0&&e.clientX>o.right||s>0&&e.clientX<o.right,l)}shouldSkipY(e,t,i=0,s){const r=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;let l=a<=0&&n.top>=e.clientY||n.bottom<=e.clientY&&n.bottom<=o.bottom;return l?!0:(t?l=s<0&&e.clientY>a+n.top+i||s>0&&e.clientY<a+n.top:l=s<0&&e.clientY>o.bottom||s>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=new DOMParser().parseFromString(WB,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${tR}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:s}=this.config;!i&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let s=0;s<e.length;s++){const r=e[s],n=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(n){const l=window.getComputedStyle(r);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=r.offsetHeight,a=r.offsetWidth;t+=o,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let s=0;s<i.length;s++){const r=i[s];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=i[s+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:s,isRight:r,isBottom:n,isLeft:o}=this.currentResizer,a=r||o,l=n||s,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:o,isTop:s}),u=this.position.x,f=this.position.y;let g=0,m=0;if(a&&c){const y=o?-1:1,b=this.getWidth(),S=b+c*y;let I=!1;o&&(g=b-S,(u+g<=0||S<=this.minWidth)&&(I=!0,g=0)),I||this.setWidth(S)}if(l&&d){const y=s?-1:1,b=this.getHeight(),S=b+d*y;let I=!1;s?(m=b-S,(f+m<=0||S<=this.minHeight)&&(I=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&b<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(I=!0),I||this.setHeight(S)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&g||m)&&this.offsetElement(u+g,f+m)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());const{movementX:r,movementY:n}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(t+r,i+n),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},iR=class sR extends Y{constructor(t,i={}){super(),this.eFocusableElement=t,this.callbacks=i,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:s=>{if(s.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,s.shiftKey);r&&(r.focus(),s.preventDefault())},...i}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(sR.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:i=>{if(!(i.defaultPrevented||wn(i))){if(this.callbacks.shouldStopEventPropagation(i)){Ul(i);return}i.key===Z.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}}})}};iR.FOCUS_MANAGED_CLASS="ag-focus-managed";var La=iR,rR={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function Pv(e,t){return Ph(e)?(e.debounceMs!=null&&j("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function Ph(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var NB=class extends Ue{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=le,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new La(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new TB(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Ph(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=Ph(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:i,readOnly:s}=t??{},{buttons:r,readOnly:n}=e;if(s===n&&Eh(i,r))return;const o=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(zi(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&Wr(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=c=>{let d,u;switch(c){case"apply":d=this.translate("applyFilter"),u=m=>this.onBtApply(!1,!1,m);break;case"clear":d=this.translate("clearFilter"),u=()=>this.onBtClear();break;case"reset":d=this.translate("resetFilter"),u=()=>this.onBtReset();break;case"cancel":d=this.translate("cancelFilter"),u=m=>{this.onBtCancel(m)};break;default:j("Unknown button type specified");return}const g=Ud(`<button
                    type="${c==="apply"?"submit":"button"}"
                    data-ref="${c}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${d}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(g,{click:u})),a.append(g)};r.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=Pv(this.providedFilterParams,this.getDefaultDebounceMs()),t=us(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:s}=this.providedFilterParams;s&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,i=t&&t.key;let s;(i==="Enter"||i==="Space")&&(s={keyboardEvent:t}),this.hidePopup(s),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),s=this.queryForHtmlElement('[data-ref="applyFilterButton"]');s&&jd(s,!i)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:i,gos:s}=this;t?(i.restoreLastSize(),i.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,rR[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},BB=class extends Bv{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},VB=class extends Ue{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case Z.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case Z.DOWN:case Z.UP:e.preventDefault(),this.navigate(t);break;case Z.PAGE_DOWN:case Z.PAGE_UP:case Z.PAGE_HOME:case Z.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===Z.DOWN;let i;if(!this.highlightedEl)i=this.itemEls[t?0:this.itemEls.length-1];else{let r=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),i=this.itemEls[r]}this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,s=this.itemEls[0].clientHeight,r=Math.floor(this.getGui().clientHeight/s);let n=-1;e===Z.PAGE_HOME?n=0:e===Z.PAGE_END?n=i:e===Z.PAGE_DOWN?n=Math.min(t+r,i):e===Z.PAGE_UP&&(n=Math.max(t-r,0)),n!==-1&&this.highlightItem(this.itemEls[n])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:i}=e,s=i||t;return this.options.push({value:t,text:s}),this.renderOption(t,s),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Wr(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{gN(t,i+1),pN(t,e.length)})}renderOption(e,t){const i=ri(this.gos),s=i.createElement("div");bs(s,"option"),s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const r=i.createElement("span");s.appendChild(r),r.textContent=t,this.unFocusable||(s.tabIndex=-1),this.itemEls.push(s),this.addManagedListeners(s,{mouseover:()=>this.highlightItem(s),mousedown:n=>{n.preventDefault(),n.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new bc({getTooltipValue:()=>t,getGui:()=>s,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(s)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const i=this.options.findIndex(s=>s.value===e);if(i!==-1){const s=this.options[i];this.value=s.value,this.displayValue=s.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!vr(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),Wh(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:i,clientHeight:s}=t,{offsetTop:r,offsetHeight:n}=e;(r+n>i+s||r<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!vr(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),Wh(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},OB=class extends XS{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=le,this.eWrapper=le,this.eDisplayField=le,this.eIcon=le,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:s,minPickerWidth:r,maxPickerWidth:n}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!s,i!=null&&this.setPickerMaxHeight(i),r!=null&&this.setPickerMinWidth(r),n!=null&&this.setPickerMaxWidth(n)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:s}=this.config;if(i){const r=Es(i,this.gos);r&&this.eIcon.appendChild(r)}s!=null&&this.setInputWidth(s)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Dh(e,!1),this.ariaRole&&bs(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Z.UP:case Z.DOWN:case Z.ENTER:case Z.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Z.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:s,modalPicker:r=!0}=this.config,n={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const f=uS(this.gos);this.beforeHidePicker(),f&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,s),anchorToElement:this.eWrapper};e.style.position="absolute";const o=this.popupService.addPopup(n),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:c,variableWidth:d}=this;d?(l&&(e.style.minWidth=l),e.style.width=Dv(Th(this.eWrapper)),c&&(e.style.maxWidth=c)):Oh(e,c??Th(this.eWrapper));const u=a??`${Gv(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",u),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Dh(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Oh(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Lv=class extends OB{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),i&&t==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new VB("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),SN(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var i;const{key:t}=e;switch(t===Z.TAB&&this.hidePicker(),t){case Z.ENTER:case Z.UP:case Z.DOWN:case Z.PAGE_UP:case Z.PAGE_DOWN:case Z.PAGE_HOME:case Z.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(i=this.listComponent)==null||i.handleKeyDown(e):super.onKeyDown(e);break;case Z.ESCAPE:super.onKeyDown(e);break;case Z.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let r=this.listComponent.getDisplayValue();return r==null&&this.config.placeholder&&(r=this.config.placeholder),this.eDisplayField.textContent=r,this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},PB={selector:"AG-SELECT",component:Lv},nR=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],i=s=>s.some(r=>e[r]!=null)?!0:(j(`ignoring FilterOptionDef as it doesn't contain one of '${s}'`),!1);if(!t.every(i)){this.filterOptions=this.filterOptions.filter(s=>s===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:j("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else j("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},oR=class extends NB{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:s}=t;return s??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{i===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,s=!t.operator;if(!i&&s||i&&!s)return!1;let n;if(i){const o=e,a=t;n=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;n=o.operator===a.operator&&To(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return n}shouldRefresh(e){var n;const t=this.getModel(),i=t?t.conditions??[t]:null,s=((n=e.filterOptions)==null?void 0:n.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!i||i.every(o=>s.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&i&&i.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const i=e;let s=i.conditions;s==null&&(s=[],j("Filter model is missing 'conditions'"));const r=this.validateAndUpdateConditions(s),n=this.getNumConditions();if(r<n)this.removeConditionsAndOperators(r);else if(r>n)for(let a=n;a<r;a++)this.createJoinOperatorPanel(),this.createOption();const o=i.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),s.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Is.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),j('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:i}=t,s=[];if(i){const n=t;s.push(...n.conditions??[])}else s.push(t);return s[i&&i==="OR"?"some":"every"](n=>this.individualConditionPasses(e,n))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new nR,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(j('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(j('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(j('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new Lv);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,s=>this.resetInput(s)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const s=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,s,r),this.resetJoinOperatorOr(i,s,r),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const s=this.createManagedBean(new BB);return e.push(s),s.addCssClass("ag-filter-condition-operator"),s.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(s.getGui()),s}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);const s=e+1,r=i-s;r>0&&this.removeConditionsAndOperators(s,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((s,r)=>{const n=this.isConditionDisabled(r,e);s.setDisabled(n||this.filterListOptions.length<=1),r===1&&(jd(this.eJoinOperatorPanels[0],n),this.eJoinOperatorsAnd[0].setDisabled(n),this.eJoinOperatorsOr[0].setDisabled(n))}),this.eConditionBodies.forEach((s,r)=>{Lt(s,this.isConditionBodyVisible(r))});const i=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(s=>{s.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(s=>{s.setValue(i,!0)}),this.forEachInput((s,r,n,o)=>{this.setElementDisplayed(s,r<o),this.setElementDisabled(s,this.isConditionDisabled(n,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach(r=>Wr(r))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach(r=>{Wr(r.getGui()),this.destroyBean(r)})}removeItems(e,t,i){return i==null?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof ta&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,s=!1;const r=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,i=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),s=!0,l&&i--)}let n=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),n=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),n=!0),n&&this.updateConditionStatusesAndValues(i,r),s&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(Cv(this.filterPlaceholder)){const s=this.filterPlaceholder,r=this.eTypes[t].getValue(),n=this.translate(r);i=s({filterOptionKey:r,filterOption:n,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,i,s,r)=>{if(!(t instanceof ta))return;const n=i===0&&r>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",o=i===0&&r>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(n,s)),t.setInputAriaLabel(o)})}setElementValue(e,t,i){e instanceof ta&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Ue&&Lt(e.getGui(),t)}setElementDisabled(e,t){e instanceof Ue&&jd(e.getGui(),t)}attachElementOnChange(e,t){e instanceof ta&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const s=this.getNumberOfInputs(t),r=this.getInputs(e);for(let n=0;n<r.length;n++){const o=r[n];o!=null&&i(o,n,e,s)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Is.resolve()}resetType(e){const i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,s,r){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(s),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput((s,r,n)=>{n===t&&this.setElementValue(s,i[r]!=null?i[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,s)=>{this.setElementValue(t,i===0&&s===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),s=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type),n=this.evaluateCustomFilter(r,s,i);return n??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(s,i,t,e))}evaluateCustomFilter(e,t,i){if(e==null)return;const{predicate:s}=e;if(s!=null&&!t.some(r=>r==null))return s(t,i)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},aR=class extends oR{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){const s=this.comparator(),r=e[0]!=null?s(e[0],t):0;switch(i.type){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const n=s(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&n<=0:r>0&&n<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return j('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},LB=65,ZB=67,HB=86,YB=68,zB=90,jB=89;function lR(e){var i;return e.altKey||e.ctrlKey||e.metaKey?!1:((i=e.key)==null?void 0:i.length)===1}function om(e,t,i,s,r){const n=s?s.getColDef().suppressKeyboardEvent:void 0;if(!n)return!1;const o=e.addGridCommonParams({event:t,editing:r,column:s,node:i,data:i.data,colDef:s.getColDef()});return!!(n&&n(o))}function UB(e,t,i,s){const r=s.getDefinition(),n=r&&r.suppressHeaderKeyboardEvent;if(!te(n))return!1;const o=e.addGridCommonParams({colDef:r,column:s,headerRowIndex:i,event:t});return!!n(o)}function XB(e){const{keyCode:t}=e;let i;switch(t){case LB:i=Z.A;break;case ZB:i=Z.C;break;case HB:i=Z.V;break;case YB:i=Z.D;break;case zB:i=Z.Z;break;case jB:i=Z.Y;break;default:i=e.code}return i}function JB(e,t=!1){return e===Z.DELETE?!0:!t&&e===Z.BACKSPACE?DS():!1}var Za=class extends ta{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=te(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{lR(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{var r;const s=(r=i.clipboardData)==null?void 0:r.getData("text");s&&s.split("").some(n=>!e.test(n))&&i.preventDefault()}})}},Sf={selector:"AG-INPUT-TEXT-FIELD",component:Za},Zv=class extends Za{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const r=parseFloat(this.eInput.value),n=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==n&&this.setValue(n)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:i,step:s}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof i=="number"&&this.setMax(i),typeof s=="number"&&this.setStep(s)}onWheel(e){Zt(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const s=parseFloat(e).toFixed(this.precision);return parseFloat(s).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,Ys(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Ys(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Ys(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(te(i)){let s=this.isScientificNotation(i);if(s&&this.eInput.validity.valid)return e(i);if(!s){i=this.adjustPrecision(i);const r=this.normalizeValue(i);s=i!=r}if(s)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},QB={selector:"AG-INPUT-NUMBER-FIELD",component:Zv},cR=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Hv=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=e.operator!=null,i=this.localeService.getLocaleTextFunc();if(t){const s=e,n=(s.conditions??[]).map(a=>this.getModelAsString(a)),o=s.operator==="AND"?"andCondition":"orCondition";return n.join(` ${i(o,rR[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return i(e.type,e.type);{const s=e,r=this.optionsFactory.getCustomOption(s.type),{displayKey:n,displayName:o,numberOfInputs:a}=r||{};return n&&o&&a===0?(i(n,o),o):this.conditionToString(s,r)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},dR=class extends Hv{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function am(e){const{allowedCharPattern:t}=e??{};return t??null}var qB=class extends aR{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(s))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new dR(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return cR}setElementValue(e,t,i){const s=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,s)}createValueElement(){const e=am(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),bs(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,s){const r=this.createManagedBean(s?new Za({allowedCharPattern:s}):new Zv);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,r,n)=>{s<n&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=yn(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValues(e);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},uR=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],hR=class extends Hv{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function fR(e){const t=e&&e.trim();return t===""?e:t}var KB=class extends oR{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return t.indexOf(i)===0;case"endsWith":{const s=t.lastIndexOf(i);return s>=0&&s===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new hR(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(j("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:i,filterText:s})=>e(t,i,s)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValuesWithSideEffects(e,!0);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const i=[];return this.forEachPositionInput(e,(s,r,n,o)=>{if(r<o){let a=yn(s.getValue());t&&this.textFilterParams.trimInput&&(a=fR(a)??null,s.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return uR}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),bs(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const s=this.createManagedBean(new Za);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,s){const r=e.map(f=>this.formatter(f))||[],n=this.formatter(t),{api:o,colDef:a,column:l,context:c,textFormatter:d}=this.textFilterParams;if(i.type==="blank")return this.isBlank(t);if(i.type==="notBlank")return!this.isBlank(t);const u={api:o,colDef:a,column:l,context:c,node:s.node,data:s.data,filterOption:i.type,value:n,textFormatter:d};return r.some(f=>this.matcher({...u,filterText:f}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function pR(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}function Fr(e,t=Number.MAX_VALUE){return i=>{const s=pR(i);if(!(s==null||s<e||s>t))return s}}function $c(e,t){return e.toString().padStart(t,"0")}function $B(e,t){const i=[];for(let s=e;s<=t;s++)i.push(s);return i}function eV(e,t,i){return typeof e!="number"?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function zs(e,t=!0,i="-"){if(!e)return null;let s=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>$c(r,2)).join(i);return t&&(s+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>$c(r,2)).join(":")),s}var Mp=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function ed(e,t="YYYY-MM-DD"){const i=$c(e.getFullYear(),4),s=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>s[e.getMonth()],MMM:()=>s[e.getMonth()].slice(0,3),MM:()=>$c(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Mp(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Mp(e.getDate())}`,DD:()=>$c(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Mp(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(n).join("|"),"g");return t.replace(o,a=>a in n?n[a]():a)}function fs(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const s=t.split("-").map(u=>parseInt(u,10));if(s.filter(u=>!isNaN(u)).length!==3)return null;const[r,n,o]=s,a=new Date(r,n-1,o);if(a.getFullYear()!==r||a.getMonth()!==n-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;const[l,c,d]=i.split(":").map(u=>parseInt(u,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),d>=0&&d<60&&a.setSeconds(d),a}var gR=class{constructor(e,t,i,s,r){this.alive=!0,this.context=e,this.eParent=s,t.getDateCompDetails(i).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(s.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),r==null||r(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Lt(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var i,s;let t=!1;(i=this.dateComp)!=null&&i.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&((s=this.dateComp)!=null&&s.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&j("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},mR=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],vR=class extends Hv{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:s}=t||{},r=i=="inRange"||s===2,n=fs(e.dateFrom),o=fs(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){const l=n!==null?ed(n,a):"null",c=o!==null?ed(o,a):"null";return`${l}-${c}`}return n!=null?ed(n,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},Ey=1e3,My=1/0,tV=class extends aR{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Ey,this.maxValidYear=My,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:s}=e||{};return[t&&fs(t)||null,i&&fs(i)||null].slice(0,this.getNumberOfInputs(s))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const i=t;return t==null||i<e?-1:i>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(i,s)=>{if(e[i]!=null)if(isNaN(e[i]))j(`DateFilter ${i} is not a number`);else return e[i]==null?s:Number(e[i]);return s};this.minValidYear=t("minValidYear",Ey),this.maxValidYear=t("maxValidYear",My),this.minValidYear>this.maxValidYear&&j("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:fs(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:fs(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&j("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new vR(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new gR(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return mR}createValueElement(){const t=ri(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,s){const n=ri(this.gos).createElement("div");n.classList.add(`ag-filter-${s}`),n.classList.add(`ag-filter-date-${s}`),t.push(n),e.appendChild(n),i.push(this.createDateCompWrapper(n))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,s,r,n)=>{r!==e||!t||s>=n||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},s=this.getValues(e);return s.length>0&&(i.dateFrom=zs(s[0])),s.length>1&&(i.dateTo=zs(s[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...i}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(s=>{s.setInputPlaceholder(t),s.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,r,n)=>{s<n&&t.push(i.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},Yv=class extends Y{constructor(e,t,i,s){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=s,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?je(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=te(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),s=this.modifyLeftForPrintLayout(e,i),r=this.modifyLeftForPrintLayout(e,t);this.setLeft(s),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!Ni(this.beans.gos,"print")||e.getPinned()==="left")return t;const s=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const r=this.beans.visibleColsService.getBodyContainerWidth();return s+r+t}return s+t}setLeft(e){if(te(e)&&(this.eCell.style.left=`${e}px`),ui(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&CN(this.ariaEl,t.length)}}},iV="ag-column-first",sV="ag-column-last";function bR(e,t,i,s){return Pe(e)?[]:nV(e.headerClass,e,t,i,s)}function CR(e,t,i){e.addOrRemoveCssClass(iV,i.isColAtEdge(t,"first")),e.addOrRemoveCssClass(sV,i.isColAtEdge(t,"last"))}function rV(e,t,i,s){return t.addGridCommonParams({colDef:e,column:i,columnGroup:s})}function nV(e,t,i,s,r){if(Pe(e))return[];let n;if(typeof e=="function"){const o=rV(t,i,s,r);n=e(o)}else n=e;return typeof n=="string"?[n]:Array.isArray(n)?[...n]:[]}var oV=0,yR=class wR extends Y{constructor(t,i,s){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=s,this.beans=i,this.instanceId=t.getUniqueId()+"-"+oV++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:i,column:s}=this.focusService.getFocusedHeader();return UB(this.gos,t,i,s)}getWrapperHasFocus(){return Zt(this.gos)===this.eGui}setGui(t,i){this.eGui=t,this.addDomData(i),i.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),i.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:i,checkMeasuringCallback:s,compBean:r}=t,{animationFrameService:n,resizeObserverService:o,columnModel:a,gos:l}=this.beans,c=y=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:b,paddingBottom:S,borderBottomWidth:I,borderTopWidth:F}=Pa(this.getGui()),G=b+S+I+F,T=i.offsetHeight+G;if(y<5){const O=ri(l),Q=!O||!O.contains(i),V=T==0;if(Q||V){n.requestAnimationFrame(()=>c(y+1));return}}a.setColHeaderHeight(this.column,T)};let d=!1,u;const f=()=>{const y=this.column.isAutoHeaderHeight();y&&!d&&g(),!y&&d&&m()},g=()=>{d=!0,c(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),u=o.observeResize(i,()=>c(0))},m=()=>{d=!1,u&&u(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),u=void 0};f(),r.addDestroyFunc(()=>m()),r.addManagedListeners(this.column,{widthChanged:()=>d&&c(0)}),r.addManagedEventListeners({sortChanged:()=>{d&&window.setTimeout(()=>c(0))}}),s&&s(f)}onDisplayedColumnsChanged(){const{comp:t,column:i,beans:s,eGui:r}=this;!t||!i||!r||(CR(t,i,s.visibleColsService),_S(r,s.visibleColsService.getAriaColIndex(i)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&Ys(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){var o;const i=Zt(this.gos),s=t.key===Z.LEFT||t.key===Z.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),i!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||s)&&(t.preventDefault(),t.stopImmediatePropagation()),!s))return;const r=t.key===Z.LEFT!==this.gos.get("enableRtl"),n=$S[r?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(a,t.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(n)}getViewportAdjustedResizeDiff(t){let i=this.getResizeDiff(t);if(this.column.getPinned()){const r=this.pinnedWidthService.getPinnedLeftWidth(),n=this.pinnedWidthService.getPinnedRightWidth(),o=wu(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(r+n+i>o)if(o>r+n)i=o-r-n;else return 0}return i}getResizeDiff(t){let i=t.key===Z.LEFT!==this.gos.get("enableRtl");const s=this.column.getPinned(),r=this.gos.get("enableRtl");return s&&r!==(s==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const i=this.getWrapperHasFocus();switch(t.key){case Z.PAGE_DOWN:case Z.PAGE_UP:case Z.PAGE_HOME:case Z.PAGE_END:i&&t.preventDefault()}}addDomData(t){const i=wR.DOM_DATA_KEY_HEADER_CTRL;_a(this.gos,this.eGui,i,this),t.addDestroyFunc(()=>_a(this.gos,this.eGui,i,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,i,s){const r=t??i;this.gos.get("preventDefaultOnContextMenu")&&r.preventDefault(),this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,t,i),this.dispatchColumnMouseEvent("columnHeaderContextMenu",s)}dispatchColumnMouseEvent(t,i){this.eventService.dispatchEvent({type:t,column:i})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};yR.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var Rf=yR,zv=class extends Y{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},aV=class extends Rf{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,s,r){this.comp=e,r=yu(this,this.beans.context,r),this.eButtonShowMainFilter=i,this.eFloatingFilterBody=s,this.setGui(t,r),this.setupActive(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r),r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Es("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new La(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Xl(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Zt(this.gos)===this.eGui)return;const s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),s.focus();return}const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let i=this.column;do if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Z.UP:case Z.DOWN:t||e.preventDefault();case Z.LEFT:case Z.RIGHT:if(t)return;e.stopPropagation();case Z.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Z.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),s=!!e.relatedTarget&&fl(e.relatedTarget,"ag-floating-filter");if(i&&s&&e.target===this.eGui){const n=this.lastFocusEvent,o=!!(n&&n.key===Z.TAB);if(n&&o){const a=n.shiftKey;this.focusService.focusInto(this.eGui,a)}}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(e){e.createManagedBean(new zv([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new Yv(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,i=s=>{if((s==null?void 0:s.source)==="filterDestroyed"&&!this.isAlive())return;const r=this.comp.getFloatingFilterComp();r&&r.then(n=>{if(n){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;n.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:i}),t!=null&&t.isFilterActive(this.column)&&i(null)}setupWidth(e){const t=()=>{const i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var n;const t=this.active;this.setupActive();const i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const s=this.active?(n=this.beans.filterManager)==null?void 0:n.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!s?this.updateCompDetails(e,s,i):r.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,s)?this.updateCompDetails(e,s,i):this.updateFloatingFilterParams(s)})}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var i;if(!e)return;const t=e.params;(i=this.comp.getFloatingFilterComp())==null||i.then(s=>{let r=!1;s!=null&&s.refresh&&typeof s.refresh=="function"&&s.refresh(t)!==null&&(r=!0),!r&&(s!=null&&s.onParamsUpdated)&&typeof s.onParamsUpdated=="function"&&s.onParamsUpdated(t)!==null&&j("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var Ae="32.3.3";function lV(e){var t,i;return!!((t=e.filterManager)!=null&&t.isColumnFilterPresent())||!!((i=e.filterManager)!=null&&i.isAggregateFilterPresent())}function cV(e,t,i){var s;return(s=e.filterManager)==null?void 0:s.getFilterInstance(t,i)}function dV(e,t){var i;return((i=e.filterManager)==null?void 0:i.getColumnFilterInstance(t))??Promise.resolve(void 0)}function uV(e,t){var s;const i=e.columnModel.getColDefCol(t);if(i)return(s=e.filterManager)==null?void 0:s.destroyFilter(i,"api")}function hV(e,t){e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=e.filterManager)==null?void 0:i.setFilterModel(t)})}function fV(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function pV(e,t){var i;return((i=e.filterManager)==null?void 0:i.getColumnFilterModel(t))??null}function gV(e,t,i){var s;return((s=e.filterManager)==null?void 0:s.setColumnFilterModel(t,i))??Promise.resolve()}function mV(e,t){const i=e.columnModel.getCol(t);if(!i){$e(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}function vV(e,t,i){if(t==null)return null;let s=null;const{compName:r,jsComp:n,fwComp:o}=qS.getCompKeys(e,t,Ov);return r?s={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:n==null&&o==null&&t.filter===!0&&(s=i()),s}var xy={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},ky=["january","february","march","april","may","june","july","august","september","october","november","december"],bV=class extends Y{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){var r;if((r=this.dataTypeService)!=null&&r.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const i=[],s=this.getFilterModel(!0);if(e){const n=new Set(Object.keys(e));this.allColumnFilters.forEach((o,a)=>{const l=e[a];i.push(this.setModelOnFilterWrapper(o.filterPromise,l)),n.delete(a)}),n.forEach(o=>{const a=this.columnModel.getColDefCol(o)||this.columnModel.getCol(o);if(!a){j("setFilterModel() - no column found for colId: "+o);return}if(!a.isFilterAllowed()){j("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(a);if(!l){j("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}i.push(this.setModelOnFilterWrapper(l.filterPromise,e[o]))})}else this.allColumnFilters.forEach(n=>{i.push(this.setModelOnFilterWrapper(n.filterPromise,null))});Is.all(i).then(()=>{var a;const n=this.getFilterModel(!0),o=[];this.allColumnFilters.forEach((l,c)=>{const d=s?s[c]:null,u=n?n[c]:null;Eh(d,u)||o.push(l.column)}),o.length>0&&((a=this.filterManager)==null||a.onFilterChanged({columns:o,source:t}))})}setModelOnFilterWrapper(e,t){return new Is(i=>{e.then(s=>{typeof s.setModel!="function"&&(j("filter missing setModel method, which is needed for setFilterModel"),i()),(s.setModel(t)||Is.resolve()).then(()=>i())})})}getFilterModel(e){const t={},{allColumnFilters:i,initialFilterModel:s}=this;return i.forEach((r,n)=>{const o=this.getModelFromFilterWrapper(r);te(o)&&(t[n]=o)}),e||Object.entries(s).forEach(([r,n])=>{var o;te(n)&&!i.has(r)&&((o=this.columnModel.getCol(r))!=null&&o.isFilterAllowed())&&(t[r]=n)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(j("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=n=>n?n.isFilterActive?n.isFilterActive():(j("Filter is missing isFilterActive() method"),!1):!1,t=!!Qg(this.gos),i=n=>{if(!n.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!n.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:t},s=[],r=[];return this.forEachColumnFilter((n,o)=>{e(n)&&(i(o.column)?s.push(n):r.push(n))}).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,s)=>s.column.setFilterActive(i.isFilterActive(),e,t))}forEachColumnFilter(e){return Is.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(i=>e(i,t))))}doColumnFiltersPass(e,t,i){const{data:s,aggData:r}=e,n=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?r:s;for(let a=0;a<n.length;a++){const l=n[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>{var i;return(i=this.filterManager)==null?void 0:i.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(s=>{s.filterPromise&&s.filterPromise.then(r=>{r&&r!==t&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{const s=i?this.columnModel.getCol(i):e;return s?this.valueService.getValue(s,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){var i;let t;if(Cp(this.gos))t="agSetColumnFilter";else{const s=(i=this.dataTypeService)==null?void 0:i.getBaseDataType(e);s==="number"?t="agNumberColumnFilter":s==="date"||s==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){var i;let t;if(Cp(this.gos))t="agSetColumnFloatingFilter";else{const s=(i=this.dataTypeService)==null?void 0:i.getBaseDataType(e);s==="number"?t="agNumberColumnFloatingFilter":s==="date"||s==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const i=this.getDefaultFilter(e),s=e.getColDef();let r;const n={...this.createFilterParams(e,s),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(r,e)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(r,a):!0},o=this.userComponentFactory.getFilterDetails(s,n,i);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a!=null&&a.then(l=>{r=l,t&&(t.filter=l)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:yS(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:s}=this.createFilterInstance(e,t);return t.filterPromise=(i==null?void 0:i())??null,t.compDetails=s,t}onColumnsChanged(){var i;const e=[];this.allColumnFilters.forEach((s,r)=>{let n;s.column.isPrimary()?n=this.columnModel.getColDefCol(r):n=this.columnModel.getCol(r),!(n&&n===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(r))});const t=e.every(s=>s.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?(i=this.filterManager)==null||i.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:i}=this.allColumnFilters.get(e.getColId())??{};return i&&typeof(i==null?void 0:i.isFilterAllowed)=="function"?i.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const i=l=>{var d;const c=(d=this.getOrCreateFilterWrapper(e))==null?void 0:d.filterPromise;c!=null&&c.then(u=>{l(Kc(u))})},s=e.getColDef(),r={...this.createFilterParams(e,s),filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,e)())},n=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,Ov,r);let o=vV(this.frameworkOverrides,s,()=>this.getDefaultFloatingFilter(e));o==null&&(o="agReadOnlyFloatingFilter");const a={column:e,filterParams:n,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(s,a,o)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){var r;const i=e.getColId(),s=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],s&&(this.disposeFilterWrapper(s,t),(r=this.filterManager)==null||r.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{const s=(i==null?void 0:i.source)??"columnFilter",r={filter:e,additionalEventAttributes:i,columns:[t],source:s};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:s}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,s)){this.destroyFilter(i,"paramsUpdated");return}const r=i.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(i,"paramsUpdated");return}t.filterPromise.then(n=>{(n!=null&&n.refresh?n.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(n,i),filterChangedCallback:this.filterChangedCallbackFactory(n,i),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(n,a):!0,...r}):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:s}=t;return!(i===s||(i==null?void 0:i.render)&&(s==null?void 0:s.render)&&i.render===s.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(i=>{const s=Kc(i);t(s)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t(Kc(i))})})}getFilterInstanceImpl(e){var s;const t=this.columnModel.getColDefCol(e);return t?((s=this.getOrCreateFilterWrapper(t))==null?void 0:s.filterPromise)??Is.resolve(null):Is.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){var n;if((n=this.dataTypeService)!=null&&n.isPendingInference()){let o=()=>{};const a=new Promise(l=>{o=l});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:o}),a}const i=this.columnModel.getColDefCol(e),s=i?this.getOrCreateFilterWrapper(i):null;return s?(o=>new Promise(a=>{o.then(l=>a(l))}))(this.setModelOnFilterWrapper(s.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,i){const s=Cp(this.gos),r=this.localeService.getLocaleTextFunc(),n=o=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...o}:o};switch(t.baseDataType){case"number":{s&&n({comparator:(o,a)=>{const l=o==null?0:parseInt(o),c=a==null?0:parseInt(a);return l===c?0:l>c?1:-1}});break}case"boolean":{n(s?{valueFormatter:o=>te(o.value)?r(String(o.value),o.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{s&&n({valueFormatter:o=>{const a=i(o);return te(a)?a:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(a===1&&o!=null){const l=ky[Number(o)-1];return r(l,xy[l])}return o??r("blanks","(Blanks)")}});break}case"dateString":{const o=t.dateParser;n(s?{valueFormatter:a=>{const l=i(a);return te(l)?l:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const c=ky[Number(a)-1];return r(c,xy[c])}return a??r("blanks","(Blanks)")}}:{comparator:(a,l)=>{const c=o(l);return l==null||c<a?-1:c>a?1:0}});break}case"object":{s?n({valueFormatter:o=>{const a=i(o);return te(a)?a:r("blanks","(Blanks)")}}):e.filterValueGetter=o=>i({column:o.column,node:o.node,value:this.valueService.getValue(o.column,o.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function CV(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function yV(e,t="api"){var i;(i=e.filterManager)==null||i.onFilterChanged({source:t})}var wV=class extends Ue{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[Sf]),this.eFloatingFilterText=le}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},SR=class extends Ue{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const i=e;return this.isTypeEditable(i.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new nR,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return i==null||i==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${t} ${i("ariaFilterInput","Filter Input")}`}},SV=class extends SR{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[Sf]),this.eReadOnlyText=le,this.eDateWrapper=le}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return mR}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new vR(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const i=e;this.dateComp.setDate(fs(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Lt(this.eDateWrapper,e),Lt(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=zs(e);this.params.parentFilterInstance(i=>{if(i){const s=fs(t);i.onFloatingFilterChanged(this.getLastType()||null,s)}})}getDateComponentParams(){const e=Pv(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:us(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new gR(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},RV=class extends Ue{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[Sf]),this.eDateInput=le}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:i=>{i.target===Zt(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&en(),t.type=i?"date":"text";const{minValidYear:s,maxValidYear:r,minValidDate:n,maxValidDate:o}=e.filterParams||{};if(n&&s&&j("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&r&&j("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),n&&o){const[a,l]=[n,o].map(c=>c instanceof Date?c:fs(c));a&&l&&a.getTime()>l.getTime()&&j("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}n?n instanceof Date?t.min=ed(n):t.min=n:s&&(t.min=`${s}-01-01`),o?o instanceof Date?t.max=ed(o):t.max=o:r&&(t.max=`${r}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return fs(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(zs(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:xv()||kv()||en()&&GS()>=14.1}},RR=class extends Y{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=le,this.valueChangedListener=()=>{}}setupGui(e){var s;this.eFloatingFilterTextInput=this.createManagedBean(new Za((s=this.params)==null?void 0:s.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const i=r=>this.valueChangedListener(r);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},AR=class extends SR{constructor(){super(...arguments),this.eFloatingFilterInputContainer=le}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Ph(this.params.filterParams),!this.isReadOnly()){const i=Pv(this.params.filterParams,this.getDefaultDebounceMs()),s=us(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(s)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();zi(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===Z.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=fR(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(s=>{s&&s.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},AV=class extends Y{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Zv),this.eFloatingFilterTextInput=this.createManagedBean(new Za),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,s=>this.valueChangedListener(s)),this.setupListeners(i,s=>this.valueChangedListener(s))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},IV=class extends AR{init(e){var t;super.init(e),this.filterModelFormatter=new dR(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){am(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return cR}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=am(e.filterParams),this.allowedCharPattern?this.createManagedBean(new RR({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new AV)}},FV=class extends AR{init(e){super.init(e),this.filterModelFormatter=new hR(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return uR}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new RR)}};function EV(e){var t;return!!((t=e.filterManager)!=null&&t.isQuickFilterPresent())}function MV(e){return e.gos.get("quickFilterText")}function xV(e){var t;(t=e.filterManager)==null||t.resetQuickFilterCache()}var kV=class extends Y{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var r;const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols();let s=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(r=this.pivotResultColsService.getPivotResultCols())==null?void 0:r.list:i)??[];t&&(s=s.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?s:s.filter(n=>n.isVisible()||n.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return te(e)?ti(this.gos)?e.toUpperCase():(j("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){j(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(i=>{const s=this.getQuickFilterTextForColumn(i,e);return te(s)&&s.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);const{quickFilterParts:s,matcher:r}=this;return r(s,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const s=e.getColDef();if(s.getQuickFilterText){const r=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:s});i=s.getQuickFilterText(r)}return te(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(i=>{const s=this.getQuickFilterTextForColumn(i,e);te(s)&&t.push(s)}),t.join(`
`)}},jv={version:Ae,moduleName:"@ag-grid-community/filter-core",beans:[GB]},_V={version:Ae,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:CV,onFilterChanged:yV},dependantModules:[jv]},Uv={version:Ae,moduleName:"@ag-grid-community/column-filter",beans:[bV],dependantModules:[jv]},GV={version:Ae,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:lV,getFilterInstance:cV,getColumnFilterInstance:dV,destroyFilter:uV,setFilterModel:hV,getFilterModel:fV,getColumnFilterModel:pV,setColumnFilterModel:gV,showColumnFilter:mV},dependantModules:[Uv,_V]},IR={version:Ae,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:aV}],dependantModules:[Uv]},DV={version:Ae,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:wV}],dependantModules:[IR]},WV={version:Ae,moduleName:"@ag-grid-community/simple-filter",dependantModules:[Uv],userComponents:[{name:"agTextColumnFilter",classImp:KB},{name:"agNumberColumnFilter",classImp:qB},{name:"agDateColumnFilter",classImp:tV},{name:"agDateInput",classImp:RV}]},TV={version:Ae,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[WV,IR],userComponents:[{name:"agTextColumnFloatingFilter",classImp:FV},{name:"agNumberColumnFloatingFilter",classImp:IV},{name:"agDateColumnFloatingFilter",classImp:SV}]},FR={version:Ae,moduleName:"@ag-grid-community/quick-filter-core",beans:[kV],dependantModules:[jv]},NV={version:Ae,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:EV,getQuickFilter:MV,resetQuickFilter:xV},dependantModules:[FR]},BV={version:Ae,moduleName:"@ag-grid-community/quick-filter",dependantModules:[FR,NV]},VV={version:Ae,moduleName:"@ag-grid-community/filter",dependantModules:[TV,DV,BV,GV]},Xv=class extends Ue{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},OV=class extends Xv{constructor(e){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div data-ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,e),this.eFloatingFilterBody=le,this.eButtonWrapper=le,this.eButtonShowMainFilter=le}postConstruct(){const e=this.getGui(),t={addOrRemoveCssClass:(i,s)=>this.addOrRemoveCssClass(i,s),addOrRemoveBodyCssClass:(i,s)=>this.eFloatingFilterBody.classList.toggle(i,s),setButtonWrapperDisplayed:i=>Lt(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},PV=class extends Xv{constructor(e){super(`<div class="ag-header-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,e),this.eResize=le,this.eHeaderCompWrapper=le,this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();((r,n)=>{n!=null&&n!=""?e.setAttribute(r,n):e.removeAttribute(r)})("col-id",this.column.getColId());const i={setWidth:r=>e.style.width=r,addOrRemoveCssClass:(r,n)=>this.addOrRemoveCssClass(r,n),setAriaSort:r=>r?yN(e,r):wN(e),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);const s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const t=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(t,i))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},LV=class extends Xv{constructor(e){super(`<div class="ag-header-group-cell" role="columnheader">
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,e),this.eResize=le,this.eHeaderCompWrapper=le}postConstruct(){const e=this.getGui(),t=(s,r)=>r!=null?e.setAttribute(s,r):e.removeAttribute(s);e.setAttribute("col-id",this.ctrl.getColId());const i={addOrRemoveCssClass:(s,r)=>this.addOrRemoveCssClass(s,r),setHeaderWrapperHidden:s=>{s?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:s=>{s!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${s}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",s!=null)},setResizableDisplayed:s=>Lt(this.eResize,s),setWidth:s=>e.style.width=s,setAriaExpanded:s=>t("aria-expanded",s),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(i,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){const t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}const i=this.getGui(),s=e.getGui();this.eHeaderCompWrapper.appendChild(s),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(i)}addOrRemoveHeaderWrapperStyle(e,t){const{eHeaderCompWrapper:i}=this;t?i.style.setProperty(e,t):i.style.removeProperty(e)}},ZV=class extends Ue{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){kS(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,i)=>this.setHeaderCtrls(t,i),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;const i=this.headerComps;if(this.headerComps={},e.forEach(s=>{const r=s.instanceId;let n=i[r];delete i[r],n==null&&(n=this.createHeaderComp(s),this.getGui().appendChild(n.getGui())),this.headerComps[r]=n}),lr(i,(s,r)=>{this.getGui().removeChild(r.getGui()),this.destroyBean(r)}),t){const s=Da(this.headerComps);s.sort((n,o)=>{const a=n.getCtrl().getColumnGroupChild().getLeft(),l=o.getCtrl().getColumnGroupChild().getLeft();return a-l});const r=s.map(n=>n.getGui());LS(this.getGui(),r)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new LV(e);break;case"filter":t=new OV(e);break;default:t=new PV(e);break}return this.createBean(t),t.setParentComponent(this),t}},HV=class extends Y{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});const e=ri(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var e;return((e=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:e.getRowCount())??0}getHeaderPositionForColumn(e,t){let i;if(typeof e=="string"?(i=this.columnModel.getCol(e),i||(i=this.visibleColService.getColumnGroup(e))):i=e,!i)return null;const s=this.ctrlsService.getHeaderRowContainerCtrl(),r=s==null?void 0:s.getAllCtrls(),n=je(r||[]).getType()==="filter",o=this.getHeaderRowCount()-1;let a=-1,l=i;for(;l;)a++,l=l.getParent();let c=a;return t&&n&&c===o-1&&c++,c===-1?null:{headerRowIndex:c,column:i}}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:s}=t,r=t.column,n=this.getHeaderRowCount(),o=e===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=o?this.headerPositionUtils.getColumnVisibleParent(r,s):this.headerPositionUtils.getColumnVisibleChild(r,s),d=!1;return a<0&&(a=0,l=r,d=!0),a>=n?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!d&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,i){const s=this.focusService.getFocusedHeader(),r=e===2,n=this.gos.get("enableRtl");let o,a;if(this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,r!==n?(a="Before",o=this.headerPositionUtils.findHeader(s,a)):(a="After",o=this.headerPositionUtils.findHeader(s,a)),o||!t)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(s,a,i)}focusNextHeaderRow(e,t,i){const s=e.headerRowIndex;let r=null,n;if(t==="Before"?s>0&&(n=s-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"end")):(n=s+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"start")),!r)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r==null?void 0:r.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(ui(e)){const s=e.getDisplayedLeafColumns();i=t==="Before"?je(s):s[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},YV=class extends Y{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new La(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const s=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:s}),this.mockContextMenuForIPad(s),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var n;const{columnModel:e}=this;let t=0;const i=this.columnModel.getGroupRowsHeight().reduce((o,a)=>o+a,0),s=this.columnModel.getColumnHeaderRowHeight();if((n=this.filterManager)!=null&&n.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=i,t+=s,this.headerHeight===t)return;this.headerHeight=t;const r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey,s=i!==t?2:3;(this.headerNavigationService.navigateHorizontally(s,!0,e)||!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case Z.LEFT:t=2;case Z.RIGHT:{te(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case Z.UP:t=0;case Z.DOWN:{te(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(Zt(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){var r;if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===((r=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:r.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!No())return;const t=new fo(this.eGui),i=s=>{e(void 0,s.touchStart,s.touchEvent)};this.addManagedListeners(t,{longTap:i}),this.addDestroyFunc(()=>t.destroy())}},Jv=class extends Y{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Ni(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),s=this.visibleColsService.getDisplayedColumnsRightWidth();let r;e?r=t+i+s:(r=t,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.scrollVisibleService.getScrollbarWidth())),this.callback(r)}},zV=class extends Y{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function ER(e){const{isFromHeader:t,fromLeft:i,xPosition:s,fromEnter:r,fakeEvent:n,pinned:o,gos:a,columnModel:l,columnMoveService:c,visibleColsService:d}=e;let{allMovingColumns:u}=e;if(t){const L=[];u.forEach(T=>{var V;let O=null,Q=T.getParent();for(;Q!=null&&Q.getDisplayedLeafColumns().length===1;)O=Q,Q=Q.getParent();O!=null?(!!((V=O.getColGroupDef())!=null&&V.marryChildren)?O.getProvidedColumnGroup().getLeafColumns():O.getLeafColumns()).forEach(v=>{L.includes(v)||L.push(v)}):L.includes(T)||L.push(T)}),u=L}const f=u.slice();l.sortColsLikeCols(f);const g=JV({movingCols:f,draggingRight:i,xPosition:s,pinned:o,gos:a,columnModel:l,visibleColsService:d}),m=jV(f,l);if(g.length===0)return;const y=g[0];let b=m!==null&&!r;if(t&&(b=m!==null),b&&!n&&(!i&&y>=m||i&&y<=m))return;const S=d.getAllCols(),I=[];let F=null;for(let L=0;L<g.length;L++){const T=g[L],O=c.getProposedColumnOrder(f,T);if(!c.doesOrderPassRules(O))continue;const Q=O.filter(U=>S.includes(U));if(F===null)F=Q;else if(!To(Q,F))break;const V=UV(O);I.push({move:T,fragCount:V})}if(I.length===0)return;I.sort((L,T)=>L.fragCount-T.fragCount);const G=I[0].move;if(!(G>l.getCols().length-u.length))return{columns:u,toIndex:G}}function Qv(e){const{columns:t,toIndex:i}=ER(e)||{},{finished:s,columnMoveService:r}=e;return!t||i==null?null:(r.moveColumns(t,i,"uiColumnMoved",s),s?null:{columns:t,toIndex:i})}function jV(e,t){const i=t.getCols(),s=k7(e.map(l=>i.indexOf(l))),r=s[0];return je(s)-r!==s.length-1?null:r}function UV(e){function t(s){const r=[];let n=s.getOriginalParent();for(;n!=null;)r.push(n),n=n.getOriginalParent();return r}let i=0;for(let s=0;s<e.length-1;s++){let r=t(e[s]),n=t(e[s+1]);[r,n]=r.length>n.length?[r,n]:[n,r],r.forEach(o=>{n.indexOf(o)===-1&&i++})}return i}function XV(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function JV(e){const{movingCols:t,draggingRight:i,xPosition:s,pinned:r,gos:n,columnModel:o,visibleColsService:a}=e;if(n.get("suppressMovableColumns")||t.some(F=>F.getColDef().suppressMovable))return[];const c=XV(a,r),d=o.getCols(),u=c.filter(F=>na(t,F)),f=c.filter(F=>!na(t,F)),g=d.filter(F=>!na(t,F));let m=0,y=s;if(i){let F=0;u.forEach(G=>F+=G.getActualWidth()),y-=F}if(y>0){for(let F=0;F<f.length;F++){const G=f[F];if(y-=G.getActualWidth(),y<0)break;m++}i&&m++}let b;if(m>0){const F=f[m-1];b=g.indexOf(F)+1}else b=g.indexOf(f[0]),b===-1&&(b=0);const S=[b],I=(F,G)=>F-G;if(i){let F=b+1;const G=d.length-1;for(;F<=G;)S.push(F),F++;S.sort(I)}else{let F=b;const G=d.length-1;let L=d[F];for(;F<=G&&c.indexOf(L)<0;)F++,S.push(F),L=d[F];F=b-1;const T=0;for(;F>=T;)S.push(F),F--;S.sort(I).reverse()}return S}function Lh(e){var c;const{pinned:t,fromKeyboard:i,gos:s,ctrlsService:r,useHeaderRow:n,skipScrollPadding:o}=e;let a=(c=r.getHeaderRowContainerCtrl(t))==null?void 0:c.getViewportElement(),{x:l}=e;return a?(i&&(l-=a.getBoundingClientRect().left),s.get("enableRtl")&&(n&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0}function pl(e,t){for(const i of e)i.setMoving(t,"uiColumnMoved")}var _y=7,lm=100,Wu=lm/2,QV=5,qV=100,KV=class extends Y{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!te(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){var t;const e=((t=this.lastDraggingEvent)==null?void 0:t.dragItem.columns)??[];for(const i of e){const s=i.getPinned();if(i.getColDef().lockPinned){if(s==this.pinned)return"move";continue}if(s===this.pinned||!this.pinned)return"move";if(!s&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const s=e.dragItem.visibleState,r=(t||[]).filter(n=>s[n.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,s=!1){const r=this.gos.get("suppressMoveWhenColumnDragging");if(s&&!r){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!s&&Pe(e.hDirection))return;const{pinned:n,gos:o,ctrlsService:a}=this,l=Lh({x:e.x,pinned:n,gos:o,ctrlsService:a});t||this.checkCenterForScrolling(l),r?this.handleColumnDragWhileSuppressingMovement(e,t,i,l,s):this.handleColumnDragWhileAllowingMovement(e,t,i,l,s)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;const s=e.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColsVisible(s,t,i)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,s,r){const n=this.getAllMovingColumns(e,!0);if(r){const o=this.isAttemptingToPin(n);o&&this.attemptToPinColumns(n,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(n,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:n,xPosition:l,fromEnter:t,fakeEvent:i,fromLeft:a})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(n,s)}}handleColumnDragWhileAllowingMovement(e,t,i,s,r){const n=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)===1,a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:n,isFromHeader:a,xPosition:s,fromLeft:o,fromEnter:t,fakeEvent:i}),c=Qv({...l,finished:r});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const i=e.dragSource.getDragItem();let s=null;t?(s=i.columnsInSplit,s||(s=i.columns)):s=i.columns;const r=n=>n.getColDef().lockPinned?n.getPinned()==this.pinned:!0;return s?s.filter(r):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:i,xPosition:s,fromLeft:r,fromEnter:n,fakeEvent:o}=e,{pinned:a,gos:l,columnModel:c,columnMoveService:d,visibleColsService:u}=this;return{allMovingColumns:t,isFromHeader:i,fromLeft:r,xPosition:s,pinned:a,fromEnter:n,fakeEvent:o,gos:l,columnModel:c,columnMoveService:d,visibleColsService:u}}findFirstAndLastMovingColumns(e){const t=e.length;let i,s;for(let r=0;r<=t;r++){if(!i){const n=e[r];n.getLeft()!=null&&(i=n)}if(!s){const n=e[t-1-r];n.getLeft()!=null&&(s=n)}if(i&&s)break}return{firstMovingCol:i,lastMovingCol:s}}highlightHoveredColumn(e,t){var d;const{gos:i,columnModel:s}=this,r=i.get("enableRtl"),n=s.getCols().filter(u=>u.isVisible()&&u.getPinned()===this.pinned);let o=null,a=null,l=null;for(const u of n){if(a=u.getActualWidth(),o=this.getNormalisedColumnLeft(u,0,r),o!=null){const f=o+a;if(o<=t&&f>=t){l=u;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let u=n.length-1;u>=0;u--){const f=n[u],g=n[u].getParent();if(!g){l=f;break}const m=g==null?void 0:g.getDisplayedLeafColumns();if(m.length){l=je(m);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth()}if(((d=this.lastHighlightedColumn)==null?void 0:d.column)!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;t-o<a/2!==r?c=0:c=1,l.setHighlighted(c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){const{gos:i,visibleColsService:s}=this,r=i.get("enableRtl"),{firstMovingCol:n,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!n||!o||a==null)return;const l=s.getAllCols(),c=l.indexOf(n),d=l.indexOf(o),u=a===0!==r,f=c<d||c===d&&!u;let g=0;if(u?f&&(g-=1):f||(g+=1),d+g===c)return;const m=l[d+g];if(!m)return;const y=this.getNormalisedColumnLeft(m,20,r);return{fromLeft:f,xPosition:y}}getColumnMoveAndTargetInfo(e,t,i){const s=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:n}=this.findFirstAndLastMovingColumns(e);if(!r||!n||s.column||!t)return{firstMovingCol:r,...s};const a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==i?r:n}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,i){const{gos:s,ctrlsService:r}=this,n=e.getLeft();if(n==null)return null;const o=e.getActualWidth();return Lh({x:i?n+o-t:n+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:s,ctrlsService:r})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>_y;return t&&i||e.some(s=>s.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:i,fromEnter:s,fakeEvent:r,fromLeft:n}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:n,fromEnter:s,fakeEvent:r}),{columns:a,toIndex:l}=ER(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),s=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+Wu,this.needToMoveLeft=e>s-Wu):(this.needToMoveLeft=e<i+Wu,this.needToMoveRight=e>s-Wu),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),qV),(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName()))}moveInterval(){var s,r;let e;this.intervalCount++,e=10+this.intervalCount*QV,e>lm&&(e=lm);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=_y+1)return;if((s=this.dragAndDropService.getDragAndDropImageComponent())==null||s.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const n=(r=this.lastDraggingEvent)==null?void 0:r.dragItem.columns;this.attemptToPinColumns(n,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,i=!1){const s=(e||[]).filter(r=>!r.getColDef().lockPinned);return s.length?(i&&(t=this.getPinDirection()),this.columnModel.setColsPinned(s,t,"uiColumnDragged"),i&&this.dragAndDropService.nudge(),s.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},$V=class extends Y{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new KV(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new zV(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},eO=class extends Y{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,s,r){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=s,this.ctrl=r}postConstruct(){const e=[];let t,i;const s=()=>{if(Lt(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),i){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const c=new fo(this.eResize);c.addEventListener("doubleTap",l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),c.removeEventListener("doubleTap",l),c.destroy()})}},r=()=>{e.forEach(o=>o()),e.length=0},n=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==i)&&(t=o,i=a,r(),s())};n(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",n)}onResizing(e,t){const{column:i,lastResizeAmount:s,resizeStartWidth:r}=this,n=this.normaliseResizeAmount(t),o=r+n,a=[{key:i,newWidth:o}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),d=wu(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+c+(n-s)>d)return}this.lastResizeAmount=n,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i=this.pinned!=="left",s=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):s&&(t*=-1),t}},tO=class extends Y{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Zt(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Bv),this.cbSelectAll.addCssClass("ag-header-select-all"),bs(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),s=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${s} (${i})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return Sv(this.gos)?!0:(j(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return ti(this.gos)||vc(this.gos)?!0:(j(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly();let s="uiSelectAll";i?s="uiSelectAllCurrentPage":t&&(s="uiSelectAllFiltered");const r={source:s,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),t=typeof e=="object"&&kh(e)&&yf(this.column),i=this.column.getColDef().headerCheckboxSelection;let s=!1;return t?s=!0:typeof i=="function"?s=i(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):s=!!i,s&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},iO=class extends Rf{constructor(e,t,i){super(e,t,i),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,s,r){this.comp=e,r=yu(this,this.beans.context,r),this.setGui(t,r),this.updateState(),this.setupWidth(r),this.setupMovingCss(r),this.setupMenuClass(r),this.setupSortableClass(r),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:s,checkMeasuringCallback:o=>this.setRefreshFunction("measuring",o),compBean:r}),this.addColumnHoverListener(r),this.setupFilterClass(r),this.setupClassesFromColDef(),this.setupTooltip(r),this.addActiveHeaderMouseListeners(r),this.setupSelectAll(r),this.setupUserComp(r),this.refreshAria(),this.resizeFeature=r.createManagedBean(new eO(this.getPinned(),this.column,i,e,this)),r.createManagedBean(new zv([this.column],t)),r.createManagedBean(new Yv(this.column,t,this.beans)),r.createManagedBean(new La(t,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(r),r.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(r)),r.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(r)}),r.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const n=()=>this.checkDisplayName(r);r.addManagedEventListeners({columnValueChanged:n,columnRowGroupChanged:n,columnPivotChanged:n,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),r.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;const i=this.column.getActualWidth(),s=this.column.getMinWidth(),r=this.column.getMaxWidth(),n=Math.min(Math.max(i+e,s),r);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:n}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:i,column:s,ctrlsService:r}=this,{gos:n,columnModel:o,columnMoveService:a,visibleColsService:l}=i,c=this.getPinned(),d=t.getBoundingClientRect().left,u=s.getActualWidth(),f=n.get("enableRtl"),m=Lh({x:e===0!==f?d-20:d+u+20,pinned:c,fromKeyboard:!0,gos:n,ctrlsService:r}),y=this.focusService.getFocusedHeader();Qv({allMovingColumns:[s],isFromHeader:!0,fromLeft:e===1,xPosition:m,pinned:c,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&y&&this.restoreFocus(y)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:i=>{this.menuService.showColumnMenu({column:this.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:i=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:i,positionBy:"mouse"})},showFilter:i=>{this.menuService.showFilterMenu({column:this.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:i=>{this.beans.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,s)=>{this.beans.sortController.setSortForColumn(this.column,i,!!s,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(i,s)=>{this.setupTooltip(e,i,s)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new tO(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Z.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===Z.ENTER&&this.onEnterKeyDown(e),e.key===Z.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();!i||!(i instanceof rm)||i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s=this.gos.get("tooltipShowMode")==="whenTruncated",r=this.eGui,n=this.column.getColDef();!i&&s&&!n.headerComponent&&(i=()=>{const l=r.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:i},a=e.createManagedBean(new bc(o));this.setRefreshFunction("tooltip",()=>a.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=bR(t,this.gos,this.column,null),s=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(r=>{s.has(r)?s.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),s.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:i,displayName:s,dragAndDropService:r,gos:n}=this,{columnModel:o}=i;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:s,onDragStarted:()=>{a=!n.get("suppressDragLeaveHidesColumns"),pl([t],!0)},onDragStopped:()=>pl([t],!1),onDragCancelled:()=>pl([t],!1),onGridEnter:c=>{var d;if(a){const u=((d=c==null?void 0:c.columns)==null?void 0:d.filter(f=>!f.getColDef().lockVisible))||[];o.setColsVisible(u,!0,"uiColumnMoved")}},onGridExit:c=>{var d;if(a){const u=((d=c==null?void 0:c.columns)==null?void 0:d.filter(f=>!f.getColDef().lockVisible))||[];o.setColsVisible(u,!1,"uiColumnMoved")}}};r.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,i=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:s}=this,r=this.beans.columnModel.getGroupRowsHeight(),n=r.reduce((u,f)=>u+=f,0)===0;if(i.addOrRemoveCssClass("ag-header-parent-hidden",n),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",o>0);const{columnModel:l}=s,c=l.getColumnHeaderRowHeight();if(o===0){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${c}px`);return}i.addOrRemoveCssClass("ag-header-span-total",a);let d=0;for(let u=0;u<o;u++)d+=r[r.length-1-u];e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${c+d}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(cN(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Zt(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>t==="filter"?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),s=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:i,contextmenu:s})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof rm?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},sO=class extends Y{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,s){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||i.push(r.getColId())}),i.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const s=this.normaliseDragChange(t),r=this.resizeStartWidth+s;this.resizeColumnsFromLocalValues(r,i,e)}getInitialValues(e){const t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),s=this.getSizeRatiosOfColumns(t,i),r={columnsToResize:t,resizeStartWidth:i,resizeRatios:s};let n=null;if(e&&(n=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),n){const o=n.getDisplayedLeafColumns(),a=r.groupAfterColumns=o.filter(c=>c.isResizable()),l=r.groupAfterStartWidth=this.getInitialSizeOfColumns(a);r.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:s,groupAfterColumns:r,groupAfterStartWidth:n,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=s,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=n,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;const s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(s,e,t,i)}resizeColumns(e,t,i,s=!0){const{columnsToResize:r,resizeStartWidth:n,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:r,ratios:o,width:t}),a){const u=t-n;d.push({columns:a,ratios:c,width:l-u})}this.columnSizeService.resizeColumnSets({resizeSets:d,finished:s,source:i}),s&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(i=>i.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},rO=class extends Y{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},nO=class extends Rf{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const s=this.getGui();this.setDragSource(s)}},this.column=e}setComp(e,t,i,s,r){this.comp=e,r=yu(this,this.beans.context,r),this.setGui(t,r),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(r),this.setupAutoHeight({wrapperElement:s,compBean:r}),this.setupUserComp(r),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const n=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();r.createManagedBean(new zv(o,t)),r.createManagedBean(new Yv(this.column,t,this.beans)),r.createManagedBean(new rO(e,this.column)),this.resizeFeature=r.createManagedBean(new sO(e,i,n,this.column)),r.createManagedBean(new La(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,o),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,i=e.get("groupHeaderHeight");i!=null?i===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(i):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),i=t[0]===e,s=je(t)===e;if(!i&&!s)return;const r=e.getHighlighted(),n=!!this.getParentRowCtrl().findHeaderCellCtrl(l=>l.getColumnGroupChild().isMoving());let o=!1,a=!1;if(n){const l=this.beans.gos.get("enableRtl"),c=r===1,d=r===0;i&&(l?a=c:o=d),s&&(l?o=d:a=c)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:i,column:s,ctrlsService:r}=this,{gos:n,columnModel:o,columnMoveService:a,visibleColsService:l}=t,c=n.get("enableRtl"),d=e===0,u=this.getPinned(),f=i.getBoundingClientRect(),g=f.left,m=f.width,y=Lh({x:d!==c?g-20:g+m+20,pinned:u,fromKeyboard:!0,gos:n,ctrlsService:r}),b=s.getGroupId(),S=this.focusService.getFocusedHeader();Qv({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:y,pinned:u,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0});const I=s.getDisplayedLeafColumns(),F=d?I[0]:je(I);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(F,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&S&&this.restoreFocus(b,s,S)}restoreFocus(e,t,i){const s=t.getLeafColumns();if(!s.length)return;const r=s[0].getParent();if(!r)return;const n=this.findGroupWidthId(r,e);n&&this.focusService.focusHeaderPosition({headerPosition:{...i,column:n}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:s=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),s,"gridInitializing")},setTooltip:(s,r)=>{this.setupTooltip(e,s,r)}}),i=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),s=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:i,contextmenu:s})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s=this.column.getColGroupDef(),r=this.gos.get("tooltipShowMode")==="whenTruncated",n=this.eGui;!i&&r&&!(s!=null&&s.headerGroupComponent)&&(i=()=>{const a=n.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});const o={getColumn:()=>this.column,getGui:()=>n,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(s&&s.headerTooltip),shouldDisplayTooltip:i};s&&(o.getColDef=()=>s),e.createManagedBean(new bc(o))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=bR(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e!=null&&e.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(e){const i=this.column.getProvidedColumnGroup().getLeafColumns(),s=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());i.forEach(r=>{e.addManagedListeners(r,{movingChanged:s})}),s()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Z.ENTER){const i=this.column,s=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),s,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:i,displayName:s,gos:r,dragAndDropService:n}=this,{columnModel:o}=t,a=i.getProvidedColumnGroup().getLeafColumns();let l=!r.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:s,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!r.get("suppressDragLeaveHidesColumns"),pl(a,!0)},onDragStopped:()=>pl(a,!1),onDragCancelled:()=>pl(a,!1),onGridEnter:d=>{if(l){const{columns:u=[],visibleState:f}=d??{},g=u.filter(m=>!m.getColDef().lockVisible&&(!f||f[m.getColId()]));o.setColsVisible(g,!0,"uiColumnMoved")}},onGridExit:d=>{var u;if(l){const f=((u=d==null?void 0:d.columns)==null?void 0:u.filter(g=>!g.getColDef().lockVisible))||[];o.setColsVisible(f,!1,"uiColumnMoved")}}};n.addDragSource(c,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(o=>i[o.getId()]=o.isVisible());const s=[];this.beans.visibleColsService.getAllCols().forEach(o=>{t.indexOf(o)>=0&&(s.push(o),hs(t,o))}),t.forEach(o=>s.push(o));const r=[],n=e.getLeafColumns();for(const o of s)n.indexOf(o)!==-1&&r.push(o);return{columns:s,columnsInSplit:r,visibleState:i}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},oO=0,xp=class extends Y{constructor(e,t,i){super(),this.instanceId=oO++,this.rowIndex=e,this.pinned=t,this.type=i;const s=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${s}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=Ni(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t,i=!0){this.comp=e,t=yu(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Xu(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=Ni(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,i=[],s=e.getGroupRowsHeight(),r=e.getColumnHeaderRowHeight();i.push(...s),i.push(r),t!=null&&t.hasFloatingFilters()&&i.push(e.getFloatingFiltersHeight());let n=0;for(let a=0;a<this.rowIndex;a++)n+=i[a];const o=i[this.rowIndex];return{topOffset:n,rowHeight:o}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const s of t)this.recycleAndCreateHeaderCtrls(s,e);const i=s=>{const{focusService:r,visibleColsService:n}=this.beans;return r.isHeaderWrapperFocused(s)?n.isVisible(s.getColumnGroupChild()):!1};if(e)for(const[s,r]of e)i(r)?this.headerCellCtrls.set(s,r):this.destroyBean(r);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const i=e.getUniqueId();let s;if(t&&(s=t.get(i),t.delete(i)),s&&s.getColumnGroupChild()!=e&&(this.destroyBean(s),s=void 0),s==null)switch(this.type){case"filter":{s=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":s=this.createBean(new nO(e,this.beans,this));break;default:s=this.createBean(new iO(e,this.beans,this));break}this.headerCellCtrls.set(i,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach(s=>{const r=i.getHeadersToRender(s,t);e=e.concat(r)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let i;return typeof e=="function"?i=t.find(e):i=t.find(s=>s.getColumnGroupChild()==e),i}focusHeader(e,t){const i=this.findHeaderCellCtrl(e);return i?i.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},aO=class extends Y{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i});const s=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(s,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new Tv,i=this.focusService.getFocusHeaderToUseAfterRefresh(),s=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const c=this.createBean(new xp(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},r=()=>{const a=t.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new xp(a,this.pinned,"column")))},n=()=>{var c;this.includeFloatingFilter=!!((c=this.filterManager)!=null&&c.hasFloatingFilters())&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=t.next();if(this.filtersRowCtrl){const d=this.filtersRowCtrl.getRowIndex()!==l;(!e||d)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new xp(l,this.pinned,"filter")))};s(),r(),n();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(e){var t;if(Go(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){const s=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(s)return s}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){const r=this.getAllCtrls()[e];return r?r.focusHeader(t,i):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new $V(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var t;const e=((t=this.filterManager)==null?void 0:t.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Jv(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const i=()=>{const s=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(s==null)return;const r=s==0,n=this.hidden!==r,o=this.gos.get("enableRtl"),a=this.scrollVisibleService.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?s+a:s;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!r),n&&(this.hidden=r,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},lO='<div class="ag-pinned-left-header" role="rowgroup"></div>',cO='<div class="ag-pinned-right-header" role="rowgroup"></div>',dO=`<div class="ag-header-viewport" role="presentation">
        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>
    </div>`,kp=class extends Ue{constructor(e){super(),this.eCenterContainer=le,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();const e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{const s=this.getGui();s.style.width=i,s.style.maxWidth=i,s.style.minWidth=i}};this.createManagedBean(new aO(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const e=this.pinned=="left",t=this.pinned=="right",i=e?lO:t?cO:dO;this.setTemplate(i),this.eRowContainer=this.eCenterContainer!==le?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let i;const s=r=>{const n=r.getGui();n.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(n),i&&PS(this.eRowContainer,n,i),i=n};e.forEach(r=>{const n=r.instanceId,o=t[n];delete t[n];const a=o||this.createBean(new ZV(r));this.headerRowComps[n]=a,this.rowCompsList.push(a),s(a)}),Da(t).forEach(r=>this.destroyRowComp(r))}},uO=class extends Ue{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){const e={addOrRemoveCssClass:(s,r)=>this.addOrRemoveCssClass(s,r),setHeightAndMinHeight:s=>{this.getGui().style.height=s,this.getGui().style.minHeight=s}};this.createManagedBean(new YV).setComp(e,this.getGui(),this.getFocusableElement());const i=s=>{this.createManagedBean(s),this.appendChild(s)};i(new kp("left")),i(new kp(null)),i(new kp("right"))}},hO={selector:"AG-HEADER-ROOT",component:uO},qv=class extends Y{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(j(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},fO=class extends Ue{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=le,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==Z.TAB||e.defaultPrevented||wn(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=this.focusService.focusGridView(je(this.visibleColsService.getAllCols()),!0,!1):i=this.focusService.focusNextGridCoreContainer(!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new qv(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,s){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.focusService.isGridFocused()){const r=Zt(this.gos);r&&!uS(this.gos)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!r)return;if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,s)){const o=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(s,({currentValue:a})=>{var l;(l=o.refresh)==null||l.call(o,this.gos.addGridCommonParams({...a??{}}))})}const n=this.focusService;i&&n.isGridFocused()&&n.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var s;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),zi(this.eOverlayWrapper),(s=t==null?void 0:t.focus)==null||s.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},pO={selector:"AG-OVERLAY-WRAPPER",component:fO},MR=class extends Ue{constructor(e,t){super(),this.direction=t,this.eViewport=le,this.eContainer=le,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",DS()||No())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=TS(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();b7(()=>vr(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},gO=class extends MR{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=le,this.eRightSpacer=le}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new Jv(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,s=this.scrollVisibleService.getScrollbarWidth();i&&(t+=s),hr(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=s);let r=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(r+=s),hr(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=s)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),s=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=i?0:s===0&&t?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),qc(this.getGui(),n),qc(this.eViewport,n),qc(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return Bh(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){vr(this.getViewportElement())||this.attemptSettingScrollPosition(e),Vh(this.getViewportElement(),e,this.enableRtl)}},mO={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:gO},xR=class extends Y{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},vO=class extends MR{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new xR(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.scrollVisibleService.getScrollbarWidth()||0,s=i===0&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),hr(this.getGui(),s),hr(this.eViewport,s),hr(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,i=e.getGridBodyCtrl().getBodyViewportElement(),s=this.getScrollPosition(),r=i.scrollTop;s!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!vr(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},bO={selector:"AG-FAKE-VERTICAL-SCROLL",component:vO},cm=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(cm||{}),CO=class extends Y{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=us(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=us(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(cm)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?us(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),s=t?us(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,s)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(cm),"Viewport"]){if(this.lastScrollSource[1]===t)continue;const i=this.getViewportForSource(t);Vh(i,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;const s=Bh(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(s),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;e==="Viewport"?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!No()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Gv(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Nh()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const s=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Nh()?e=e>0?0:s:e=Math.min(Math.max(e,0),s)),Vh(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const i=this.rowModel.getRowCount();let s=-1;for(let r=0;r<i;r++){const n=this.rowModel.getRow(r);if(typeof e=="function"){if(n&&e(n)){s=r;break}}else if(e===n||e===n.data){s=r;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t){if(Ni(this.gos,"print"))return;const i=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=i){j("Invalid row index for ensureIndexVisible: "+e);return}const r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var d;r||(d=this.paginationService)==null||d.goToPageWithIndex(e);const n=this.ctrlsService.getGridBodyCtrl(),o=n.getStickyTopHeight(),a=n.getStickyBottomHeight(),l=this.rowModel.getRow(e);let c;do{const u=l.rowTop,f=l.rowHeight,g=this.pageBoundsService.getPixelOffset(),m=l.rowTop-g,y=m+l.rowHeight,b=this.getVScrollPosition(),S=this.heightScaler.getDivStretchOffset(),I=b.top+S,F=b.bottom+S,G=F-I,L=this.heightScaler.getScrollPositionForPixel(m),T=this.heightScaler.getScrollPositionForPixel(y-G),O=Math.min((L+T)/2,m),Q=I+o>m,V=F-a<y;let U=null;t==="top"?U=L:t==="bottom"?U=T:t==="middle"?U=O:Q?U=L-o:V&&(U=T+a),U!==null&&(this.setVerticalScrollPosition(U),this.rowRenderer.redraw({afterScroll:!0})),c=u!==l.rowTop||f!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const i=this.columnModel.getCol(e);if(!i||i.isPinned()||!this.visibleColsService.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),n=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:s)||r,l=o?s:i;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:d,colMiddle:u,colRight:f}=this.getColumnBounds(e);return c?u-n/2:a?o?f:d:o?d-n:f-n}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:s,colRight:r}=this.getColumnBounds(e),n=this.enableRtl,o=n?t>r:i<r,a=n?i<s:t>s;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),s=e.getActualWidth(),r=e.getLeft(),n=t?-1:1,o=t?i-r:r,a=o+s*n,l=o+s/2*n;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,s=e+t;return{start:i,end:s,width:e}}},yO=class extends Y{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=wu(e);if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50);const s=this.gos.getCallback("processUnpinnedColumns");i.length&&(s&&(i=s({columns:i,viewportWidth:t})),this.columnModel.setColsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),s=t+i;if(s<e)return[];const r=[...this.visibleColsService.getLeftCols()],n=[...this.visibleColsService.getRightCols()];let o=0,a=0;const l=0,c=[];let d=s-l-e;for(;(a<r.length||o<n.length)&&d>0;){if(o<n.length){const u=n[o++];d-=u.getActualWidth(),c.push(u)}if(a<r.length&&d>0){const u=r[a++];d-=u.getActualWidth(),c.push(u)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Gv(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},wO=class extends Y{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{$r(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),$r(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},SO=class extends Ue{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Vv]),this.eCheckbox=le}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=Mv(e,t),[s,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],n=e(s,r);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:s=>Ul(s),click:s=>{Ul(s);const r=Rv(this.gos)==="filteredDescendants",n=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(n,r)?this.onClicked(!0,r,s||{})===0&&this.onClicked(!1,r,s):n?this.onClicked(!1,r,s):this.onClicked(!0,r,s||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),wv(this.gos)||typeof this.getIsVisible()=="function"){const s=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:s}),this.addManagedListeners(this.rowNode,{dataChanged:s,cellChanged:s}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&ti(this.gos)}showOrHideSelect(){var r,n,o;let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if(typeof t=="function"){const a=(r=this.overrides)==null?void 0:r.callbackParams;if(!this.column)e=t({...a,node:this.rowNode,data:this.rowNode.data});else{const l=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...a,...l})}}else e=t??!1;const i=this.gos.get("rowSelection");if(i&&typeof i!="string"?!R7(i):(n=this.column)==null?void 0:n.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if((o=this.overrides)!=null&&o.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){var t,i;if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&typeof e!="string"?jl(e):(i=(t=this.column)==null?void 0:t.getColDef())==null?void 0:i.checkboxSelection}},RO=class extends Ue{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(Es("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const s=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}};if(t){const s=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(s)}else i()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},AO=class extends Y{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,s=>this.cellComp.addOrRemoveCssClass(s,!0),s=>this.cellComp.addOrRemoveCssClass(s,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),s=e.cellStyle;t=s(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},IO=class extends Y{constructor(e,t,i,s,r){super(),this.cellCtrl=e,this.beans=t,this.rowNode=s,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case Z.ENTER:this.onEnterKeyDown(e);break;case Z.F2:this.onF2KeyDown(e);break;case Z.ESCAPE:this.onEscapeKeyDown(e);break;case Z.TAB:this.onTabKeyDown(e);break;case Z.BACKSPACE:case Z.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Z.DOWN:case Z.UP:case Z.RIGHT:case Z.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:s,rowNode:r}=this,{gos:n,rangeService:o,eventService:a}=s;if(!i.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),JB(e,n.get("enableCellEditingOnBackspace"))){if(o&&$r(n))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const l=i.getColumn(),c=this.beans.valueService.getDeleteValue(l,r);r.setDataValue(l,c,"cellClear")}}else i.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?Z.UP:Z.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(Z.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Z.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const s=e.key;s===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(s,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&Mh(t)){const i=this.rowNode.isSelected(),s=!i,r=Rv(t)==="filteredDescendants",n=this.rowNode.setSelectedParams({newValue:s,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});i===void 0&&n===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},FO=class extends Y{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!wn(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:i,gos:s}=this.beans,r=e.ctrlKey||e.metaKey;i&&r&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const n=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(n);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(n)})},0),(s.get("singleClickEdit")||o.singleClickEdit)&&!s.get("suppressClickEdit")&&!(e.shiftKey&&(i==null?void 0:i.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!No()||bS("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:s}=this,{eventService:r,frameworkOverrides:n,gos:o}=i,a=t.getColDef(),l=s.createEvent(e,"cellDoubleClicked");r.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{n.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&s.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:s}=e,r=e.target,{cellCtrl:n,beans:o}=this,{eventService:a,rangeService:l,focusService:c,gos:d}=o;if(this.isRightClickInExistingRange(e))return;const u=l&&l.getCellRanges().length!=0;if(!s||!u){const g=d.get("enableCellTextSelection")&&e.defaultPrevented,m=(en()||g)&&!n.isEditing()&&!_v(r);n.focusCell(m)}if(s&&u&&!c.isCellFocused(n.getCellPosition())){e.preventDefault();const f=c.getFocusedCell();if(f){const{column:g,rowIndex:m,rowPinned:y}=f,b=o.rowRenderer.getRowByPosition({rowIndex:m,rowPinned:y}),S=b==null?void 0:b.getCellCtrl(g);S!=null&&S.isEditing()&&S.stopEditing(),c.setFocusedCell({column:g,rowIndex:m,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(l){const f=this.cellCtrl.getCellPosition();if(s)l.extendLatestRangeToCell(f);else{const g=t||i;l.setRangeToCell(f,g)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),s=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&s)return!0}return!1}containsWidget(e){return fl(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),s=t.contains(e.relatedTarget);return i&&s}destroy(){super.destroy()}},EO=class extends Y{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();To(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let i=this.column;const s=this.column.getPinned();for(let r=0;i&&r<e&&(t.push(i),i=this.beans.visibleColsService.getColAfter(i),!(!i||Pe(i)||s!==i.getPinned()));r++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=je(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=this.beans.visibleColsService.getBodyContainerWidth();return t+i+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const i=vf(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},Mc="ag-cell-range-selected",MO="ag-cell-range-chart",xO="ag-cell-range-single-cell",kO="ag-cell-range-chart-category",_O="ag-cell-range-handle",GO="ag-cell-range-top",DO="ag-cell-range-right",WO="ag-cell-range-bottom",TO="ag-cell-range-left",NO=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Mc,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${Mc}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${Mc}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${Mc}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${Mc}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(MO,this.hasChartRange),Wh(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(xO,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,s=!t&&e.right,r=!t&&e.bottom,n=!t&&e.left;this.cellComp.addOrRemoveCssClass(GO,i),this.cellComp.addOrRemoveCssClass(DO,s),this.cellComp.addOrRemoveCssClass(WO,r),this.cellComp.addOrRemoveCssClass(TO,n)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(i=>na([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,i=!1,s=!1,r=!1;const n=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService;let a,l;e?(a=o.getColAfter(n),l=o.getColBefore(n)):(a=o.getColBefore(n),l=o.getColAfter(n));const c=this.rangeService.getCellRanges().filter(d=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),d));a||(r=!0),l||(i=!0);for(let d=0;d<c.length&&!(t&&i&&s&&r);d++){const u=c[d],f=this.rangeService.getRangeStartRow(u),g=this.rangeService.getRangeEndRow(u);!t&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(t=!0),!s&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(s=!0),!r&&a&&u.columns.indexOf(a)<0&&(r=!0),!i&&l&&u.columns.indexOf(l)<0&&(i=!0)}return{top:t,right:i,bottom:s,left:r}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(_O,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;const s=je(t),r=this.cellCtrl.getCellPosition(),n=my(e)&&!this.cellCtrl.isSuppressFillHandle(),o=E7(e);let a=i===1&&!this.cellCtrl.isEditing()&&(n||o);if(this.hasChartRange){const c=t[0].type===1&&this.rangeService.isCellInSpecificRange(r,t[0]);this.cellComp.addOrRemoveCssClass(kO,c),a=s.type===0}return a&&s.endRow!=null&&this.rangeService.isContiguousRange(s)&&this.rangeService.isBottomRightCell(s,r)}addSelectionHandle(){const e=je(this.rangeService.getCellRanges()).type,i=my(this.beans.gos)&&Pe(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},BO="ag-cell",VO="ag-cell-auto-height",OO="ag-cell-normal-height",PO="ag-cell-focus",LO="ag-cell-first-right-pinned",ZO="ag-cell-last-left-pinned",HO="ag-cell-not-inline-editing",YO="ag-column-hover",zO="ag-cell-wrap-text",jO=0,kR=class dm extends Y{constructor(t,i,s,r){super(),this.column=t,this.rowNode=i,this.beans=s,this.rowCtrl=r,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=t.getId()+"-"+jO++,this.colIdSanitised=Lr(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new EO(this,this.beans),this.cellCustomStyleFeature=new AO(this,this.beans),this.cellMouseListenerFeature=new FO(this,this.beans,this.column),this.cellKeyboardListenerFeature=new IO(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&$r(this.beans.gos)&&(this.cellRangeFeature=new NO(this.beans,this))}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=t.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(t,i){const s=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&te(a))return Qc(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},r=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!i&&r&&!this.isCellRenderer()&&(i=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const n={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:s,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i};this.tooltipFeature=new bc(n,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,i,s,r,n,o){var a,l,c,d;this.cellComp=t,this.eGui=i,this.printLayout=r,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(s,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)==null||a.setComp(i),(l=this.cellCustomStyleFeature)==null||l.setComp(t),(c=this.tooltipFeature)==null||c.refreshToolTip(),(d=this.cellKeyboardListenerFeature)==null||d.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),n&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(u=>u()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t,i){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const s=t.parentElement,r=_o(this.beans.gos,this.rowNode).height,n=l=>{if(this.editing||!this.isAlive()||!i.isAlive())return;const{paddingTop:c,paddingBottom:d,borderBottomWidth:u,borderTopWidth:f}=Pa(s),g=c+d+u+f,y=t.offsetHeight+g;if(l<5){const S=ri(this.beans.gos),I=!S||!S.contains(t),F=y==0;if(I||F){window.setTimeout(()=>n(l+1),0);return}}const b=Math.max(y,r);this.rowNode.setRowAutoHeight(b,this.column)},o=()=>n(0);o();const a=this.beans.resizeObserverService.observeResize(t,o);i.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){var f;const{beans:i,column:s,rowNode:r,cellRangeFeature:n,cellComp:o}=this,{userComponentFactory:a,animationFrameService:l}=i,c=this.getValueToDisplay();let d;if(r.stub&&((f=r.groupData)==null?void 0:f[this.column.getId()])==null){const g=this.createCellRendererParams();d=a.getLoadingCellRendererDetails(s.getColDef(),g)}else if(this.isCellRenderer()){const g=this.createCellRendererParams();d=a.getCellRendererDetails(s.getColDef(),g)}o.setRenderDetails(d,c,t),l.requestAnimationFrame(()=>n==null?void 0:n.refreshHandle())}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t)),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}isCheckboxSelection(t){const{rowSelection:i}=this.beans.gridOptions;return t.checkboxSelection||yf(this.column)&&i&&typeof i!="string"&&jl(i)}refreshShouldDestroy(){const t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t)),s=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),r=this.includeDndSource!=this.isIncludeControl(t.dndSource),n=this.isAutoHeight!=this.column.isAutoHeight();return i||s||r||n}startEditing(t=null,i=!1,s=null){const{editService:r}=this.beans;return!this.isCellEditable()||this.editing||!r?!0:this.cellComp?r.startEditing(this,t,i,s):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,i,s)}),!0)}setEditing(t,i){this.editCompDetails=i,this.editing!==t&&(this.editing=t)}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){this.onCellEditorAttachedFuncs=[];const{editService:i}=this.beans;return!this.editing||!i?!1:i.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,s,r,n)=>this.registerRowDragger(i,s,n),setTooltip:(i,s)=>{var r;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,s),(r=this.tooltipFeature)==null||r.refreshToolTip()}})}setFocusOutOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusOutOnEditor(this))}setFocusInOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusInOnEditor(this))}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var i;this.refreshShouldDestroy()?(i=this.rowCtrl)==null||i.recreateCell(this):this.refreshCell(t)}refreshCell(t){var d,u,f,g,m;if(this.suppressRefreshCell||this.editing)return;const i=this.column.getColDef(),s=t!=null&&!!t.newData,r=t!=null&&!!t.suppressFlash||!!i.suppressCellFlash,n=i.field==null&&i.valueGetter==null&&i.showRowGroup==null,o=t&&t.forceRefresh||n||s,a=!!this.cellComp,l=this.updateAndFormatValue(a),c=o||l;if(a){if(c){this.showValue(s);const y=(d=this.beans.filterManager)==null?void 0:d.isSuppressFlashingCellsBecauseFiltering();!r&&!y&&(this.beans.gos.get("enableCellChangeFlash")||i.enableCellChangeFlash)&&this.flashCell(),(u=this.cellCustomStyleFeature)==null||u.applyUserStyles(),(f=this.cellCustomStyleFeature)==null||f.applyClassesFromColDef()}(g=this.tooltipFeature)==null||g.refreshToolTip(),(m=this.cellCustomStyleFeature)==null||m.applyCellClassRules()}}stopEditingAndFocus(t=!1,i=!1){var s;(s=this.beans.editService)==null||s.stopEditingAndFocus(this,t,i)}flashCell(t){const i=(t==null?void 0:t.flashDuration)??(t==null?void 0:t.flashDelay),s=(t==null?void 0:t.fadeDuration)??(t==null?void 0:t.fadeDelay);this.animateCell("data-changed",i,s)}animateCell(t,i,s){if(!this.cellComp)return;const{gos:r}=this.beans;if(i||(i=r.get("cellFlashDuration")),i===0)return;te(s)||(s=r.get("cellFadeDuration"));const n=`ag-cell-${t}`,o=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(n,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${s}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},s))},i)})}onFlashCells(t){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const i=this.value,s=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(i,this.value)||this.valueFormatted!=s:!0}valuesAreEqual(t,i){const s=this.column.getColDef();return s.equals?s.equals(t,i):t===i}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const i=this.getGui();_a(this.beans.gos,i,dm.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc(()=>_a(this.beans.gos,i,dm.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,i){return this.beans.gos.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var i;(i=this.cellKeyboardListenerFeature)==null||i.processCharacter(t)}onKeyDown(t){var i;(i=this.cellKeyboardListenerFeature)==null||i.onKeyDown(t)}onMouseEvent(t,i){var s;(s=this.cellMouseListenerFeature)==null||s.onMouseEvent(t,i)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:i,beans:s}=this;CR(t,i,s.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);_S(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,i=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,i):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,i)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&Ys(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(LO,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(ZO,t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){i&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(PO,i),i&&t&&t.forceBrowserFocus){let r=this.cellComp.getFocusableElement();if(this.editing){const n=this.beans.focusService.findFocusableElements(r,null,!0);n.length&&(r=n[0])}r.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const s=this.beans.gos.get("editType")==="fullRow";!i&&!s&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:yn(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(BO,!0),this.cellComp.addOrRemoveCssClass(HO,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(VO,t),this.cellComp.addOrRemoveCssClass(OO,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(YO,t)}onColDefChanged(){var i;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(i=this.beans.editService)==null||i.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(zO,t)}dispatchCellContextMenuEvent(t){const i=this.column.getColDef(),s=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(s),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(s)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new SO;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new RO(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,i,s){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,i);return}const r=this.createRowDragComp(t,i,s);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(t,i,s){const r=this.beans.gos.get("pagination"),n=this.beans.gos.get("rowDragManaged"),o=ti(this.beans.gos);if(n){if(!o){j("managed row dragging is only allowed in the Client Side Row Model");return}if(r){j("managed row dragging is not possible when doing pagination");return}}const a=new nm(()=>this.value,this.rowNode,this.column,t,i,s);return this.beans.context.createBean(a),a}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(t=>t()),this.onCellEditorAttachedFuncs=[]}};kR.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var aa=kR,UO=0,_R=class um extends Y{constructor(t,i,s,r,n){var o;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gos=i.gos,this.rowNode=t,this.paginationPage=((o=i.paginationService)==null?void 0:o.getCurrentPage())??0,this.useAnimationFrameForCreate=r,this.printLayout=n,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+UO++,this.rowId=Lr(t.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(s),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Lr(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,i){t==="left"?this.leftGui=i:t==="right"?this.rightGui=i:t==="fullWidth"?this.fullWidthGui=i:this.centerGui=i}setComp(t,i,s,r){r=yu(this,this.beans.context,r);const n={rowComp:t,element:i,containerType:s,compBean:r};this.allRowGuis.push(n),this.updateGui(s,n),this.initialiseRowComp(n),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const i=t?"none":"";this.allRowGuis.forEach(s=>s.element.style.display=i)}initialiseRowComp(t){const i=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),Mh(i)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const s=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(n=>s.addOrRemoveCssClass(n,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Dh(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(s),this.setRowCompRowBusinessKey(s),_a(i,t.element,um.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc(()=>_a(i,t.element,um.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=Lr(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:i}=t;this.slideInAnimation[i]&&(py(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(py(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(t){if($r(this.gos)){j("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const i=this.beans.localeService.getLocaleTextFunc(),s=new nm(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),r=this.createBean(s,this.beans.context);this.rowDragComps.push(r),t.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(n=>n!==r),this.destroyBean(r,this.beans.context)})}setupFullWidth(t){const i=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const s=this.createFullWidthCompDetails(t.element,i);t.rowComp.showFullWidth(s)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,i;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(s=>{var r;return(r=s==null?void 0:s.rowComp)==null?void 0:r.getFullWidthCellRenderer()}):[(i=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:i.getFullWidthCellRenderer()]}getCellElement(t){const i=this.getCellCtrl(t);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const i={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(i)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),i=!!this.centerGui,s=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&i&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this.rowNode}):!1}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),i=this.isNodeFullWidthCell(),s=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&yv(this.gos,r);t?this.rowType="FullWidthLoading":s?this.rowType="FullWidthDetail":i?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,i=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(i);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,i,s=null){const r={list:[],map:{}},n=(o,a)=>{r.list.push(a),r.map[o]=a};return i.forEach(o=>{const a=o.getInstanceId();let l=t.map[a];l||(l=new aa(o,this.rowNode,this.beans,this)),n(a,l)}),t.list.forEach(o=>{const a=o.getColumn().getInstanceId();if(r.map[a]!=null)return;if(!this.isCellEligibleToBeRemoved(o,s)){n(a,o);return}o.destroy()}),r}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(i=>{const s=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(s,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,i=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const s=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s);const r=i.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const n=i.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(t,i){if(t.getColumn().getPinned()!=i)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const c=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(c)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Ni(this.gos,"print")}listenOnDomOrder(t){const i=()=>{t.rowComp.setDomOrder(this.getDomOrder())};t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],i)}setAnimateFlags(t){if(this.isSticky()||!t)return;const i=te(this.rowNode.oldRowTop),s=this.beans.visibleColsService.isPinningLeft(),r=this.beans.visibleColsService.isPinningRight();if(i){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=s,this.slideInAnimation.right=r}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=s,this.fadeInAnimation.right=r}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,i=t(this.fullWidthGui,null),s=t(this.centerGui,null),r=t(this.leftGui,"left"),n=t(this.rightGui,"right");return i&&s&&r&&n}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(t))}})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(s=>s.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(s=>{this.setRowCompRowId(s.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const s=t===0,r=t===1;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",s),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),i=this.rowNode.expanded==!0;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass("ag-row-group",t),s.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),s.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),Dh(s.element,t&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:yn(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find(i=>i.element.contains(t))}onKeyboardNavigate(t){const i=this.findFullWidthRowGui(t.target);if(!((i?i.element:null)===t.target))return;const n=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:(o==null?void 0:o.column)??this.getColumnForFullWidth(i)};this.beans.navigationService.navigateToNextCell(t,t.key,a,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||wn(t))return;const i=this.allRowGuis.find(l=>l.element.contains(t.target)),s=i?i.element:null,r=s===t.target,n=Zt(this.gos);let o=!1;s&&n&&(o=s.contains(n)&&n.classList.contains("ag-cell"));let a=null;!r&&!o&&(a=this.beans.focusService.findNextFocusableElement(s,!1,t.shiftKey)),(this.isFullWidth()&&r||!a)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var i;const t=(i=this.allRowGuis.find(s=>vr(s.element)))==null?void 0:i.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const i=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(s=>{Ys(s.element,"tabindex",i)})}onFullWidthRowFocused(t){var n;const i=this.rowNode,s=t?this.isFullWidth()&&t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned:!1,r=this.fullWidthGui?this.fullWidthGui.element:(n=this.centerGui)==null?void 0:n.element;r&&(r.classList.toggle("ag-full-width-focus",s),s&&(t!=null&&t.forceBrowserFocus)&&r.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,i){const s={list:[],map:{}};return t.list.forEach(r=>{r!==i&&(s.list.push(r),s.map[r.getColumn().getInstanceId()]=r)}),s}onMouseEvent(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i);break}}createRowEvent(t,i){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(t,i){const s=this.createRowEvent(t,i);return s.source=this,s}onRowDblClick(t){wn(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:i}=this.beans;switch(t==null?void 0:t.containerType){case"center":return i.getCenterCols()[0];case"left":return i.getLeftCols()[0];case"right":return i.getRightCols()[0];default:return i.getAllCols()[0]}}onRowMouseDown(t){if(this.lastMouseDownOnDragger=fl(t.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const s=this.findFullWidthRowGui(t.target),r=s==null?void 0:s.element,n=t.target;let o=!0;r&&r.contains(n)&&_v(n)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:this.getColumnForFullWidth(s),rowPinned:i.rowPinned,forceBrowserFocus:o})}onRowClick(t){if(wn(t)||this.lastMouseDownOnDragger)return;const{gos:s}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const r=t.ctrlKey||t.metaKey,n=t.shiftKey,o=this.rowNode.isSelected(),a=Ga(s),l=vy(s),c=M7(s);if(a&&this.rowNode.group||this.isRowSelectionBlocked()||!c&&!o||!l&&o)return;const d=x7(s),u="rowClicked";if(o)d?this.rowNode.setSelectedParams({newValue:!1,event:t,source:u}):r?l&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:u}):c&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n,rangeSelect:n,event:t,source:u});else{const f=d?!1:!r;this.rowNode.setSelectedParams({newValue:!0,clearSelection:f,rangeSelect:n,event:t,source:u})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!Mh(this.gos)}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const i=()=>{const r=t.clientHeight;if(r!=null&&r>0){const n=()=>{this.rowNode.setRowHeight(r),(ti(this.gos)||vc(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(n,0)}},s=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(s),i()}createFullWidthCompDetails(t,i){const{gos:s,rowNode:r}=this,n=s.addGridCommonParams({fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,l,c,d)=>this.addFullWidthRowDragging(a,l,c,d),setTooltip:(a,l)=>this.refreshRowTooltip(a,l)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(n);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(n);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(n);default:return o.getFullWidthCellRendererDetails(n)}}refreshRowTooltip(t,i){if(!this.fullWidthGui)return;const s={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new bc(s,this.beans))}addFullWidthRowDragging(t,i,s="",r){if(!this.isFullWidth())return;const n=new nm(()=>s,this.rowNode,void 0,t,i,r);this.createBean(n,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(n,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const i="ag-row-level-"+t,s="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(i,!0),r.rowComp.addOrRemoveCssClass(s,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(t=!1){var i;this.stoppingRowEdit||(i=this.beans.rowEditService)==null||i.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(i=>i.isEditing());this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,i=null,s=null){var r;return this.editingRow?!0:((r=this.beans.rowEditService)==null?void 0:r.startEditing(this,t,i,s))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(i=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,i){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,s=>s.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"||t==="right"?t:null}getInitialRowClasses(t){const i=this.getPinnedForContainer(t),s={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(s)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){j("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const i=this.gos.getCallback("getRowStyle");let s;if(i){const r={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};s=i(r)}return s||t?Object.assign({},t,s):this.emptyStyle}onRowSelected(t){const i=!!this.rowNode.isSelected();this.forEachGui(t,s=>{s.rowComp.addOrRemoveCssClass("ag-row-selected",i),Wh(s.element,i),s.element.contains(Zt(this.gos))&&(s===this.centerGui||s===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&!vy(this.gos))return;const s=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(s,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{element:i,compBean:s}=t,{rowNode:r,beans:n,gos:o}=this;s.addManagedListeners(i,{mouseenter:()=>r.onMouseEnter(),mouseleave:()=>r.onMouseLeave()}),s.addManagedListeners(r,{mouseEnter:()=>{!n.dragService.isDragging()&&!o.get("suppressRowHoverHighlight")&&(i.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{i.classList.remove("ag-row-hover"),r.setHovered(!1)}})}roundRowTopToBounds(t){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),s=this.applyPaginationOffset(i.top,!0)-100,r=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(s,t),r)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,i){t?i(t):this.allRowGuis.forEach(i)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const i=this.rowNode.rowHeight,s=this.beans.environment.getDefaultRowHeight(),n=cS(this.gos)?_o(this.gos,this.rowNode).height:void 0,o=n?`${Math.min(s,n)-2}px`:void 0;this.forEachGui(t,a=>{a.element.style.height=`${i}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,i){super.addEventListener(t,i)}removeEventListener(t,i){super.removeEventListener(t,i)}destroyFirstPass(t=!1){if(this.active=!1,!t&&hl(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=i=>(i.list.forEach(s=>s.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var i;const t=((i=this.beans.paginationService)==null?void 0:i.getCurrentPage())??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,i=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const s=this.beans.pageBoundsService.getPixelOffset();return t+s*(i?1:-1)}setRowTop(t){if(!this.printLayout&&te(t)){const i=this.applyPaginationOffset(t),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(n)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const i=this.rowNode;let s;if(this.isSticky())s=i.stickyRowTop;else{const r=this.slideInAnimation[t]?this.roundRowTopToBounds(i.oldRowTop):i.rowTop,n=this.applyPaginationOffset(r);s=i.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return s+"px"}setRowTopStyle(t){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(t):i.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let i=null;return this.getAllCellCtrls().forEach(s=>{s.getColumn()==t&&(i=s)}),i!=null||this.getAllCellCtrls().forEach(s=>{s.getColSpanningList().indexOf(t)>=0&&(i=s)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){var o;const i=this.rowNode.getRowIndexString();if(i===null)return;const s=this.beans.headerNavigationService.getHeaderRowCount()+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),r=this.rowNode.rowIndex%2===0,n=s+this.rowNode.rowIndex+1;this.forEachGui(t,a=>{a.rowComp.setRowIndex(i),a.rowComp.addOrRemoveCssClass("ag-row-even",r),a.rowComp.addOrRemoveCssClass("ag-row-odd",!r),kS(a.element,n)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};_R.DOM_DATA_KEY_ROW_CTRL="renderedRow";var la=_R,XO=class extends Y{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",bS("touchstart")?"touchstart":"mousedown"].forEach(i=>{const s=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:s})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||wn(t))return;const i=this.getRowForEvent(t),s=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,i,s):(s&&s.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!No())return;const e=new fo(this.element),t=i=>{const s=this.getRowForEvent(i.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,s,r)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const i=Zd(this.gos,t,la.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,s){const r=i?i.getRowNode():null,n=s?s.getColumn():null;let o=null;if(n){const c=e||t;s.dispatchCellContextMenuEvent(c??null),o=this.valueService.getValue(n,r)}const a=this.ctrlsService.getGridBodyCtrl(),l=s?s.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:r,column:n,value:o,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:qg(this.gos,e,aa.DOM_DATA_KEY_CELL_CTRL),rowCtrl:qg(this.gos,e,la.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,t))}processCellKeyboardEvent(e,t,i){const s=e.getRowNode(),r=e.getColumn(),n=e.isEditing();!om(this.gos,i,s,r,n)&&t==="keydown"&&(!n&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),lR(i)&&e.processCharacter(i)),t==="keydown"&&this.eventService.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){const s=e.getRowNode(),r=this.focusService.getFocusedCell(),n=r&&r.column;if(!om(this.gos,i,s,n,!1)){const a=i.key;if(t==="keydown")switch(a){case Z.PAGE_HOME:case Z.PAGE_END:case Z.PAGE_UP:case Z.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case Z.UP:case Z.DOWN:e.onKeyboardNavigate(i);break;case Z.TAB:e.onTabKeyDown(i);break}}t==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const i=XB(e);if(i===Z.A)return this.onCtrlAndA(e);if(i===Z.C)return this.onCtrlAndC(e);if(i===Z.D)return this.onCtrlAndD(e);if(i===Z.V)return this.onCtrlAndV(e);if(i===Z.X)return this.onCtrlAndX(e);if(i===Z.Y)return this.onCtrlAndY();if(i===Z.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:i,rangeService:s}=this;if(s&&i.isRowsToRender()){const[r,n]=[t.isEmpty("top"),t.isEmpty("bottom")],o=r?null:"top";let a,l;n?(a=null,l=i.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowCount()-1);const c=this.visibleColsService.getAllCols();if(Ms(c))return;s.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:c[0],columnEnd:je(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;(e=this.undoRedoService)==null||e.redo("ui")}},JO=class extends Y{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Lt(this.element,t),hr(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},QO=class extends Y{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Lt(this.element,t),hr(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},Tu=e=>e.getTopRowCtrls(),Nu=e=>e.getStickyTopRowCtrls(),Bu=e=>e.getStickyBottomRowCtrls(),Vu=e=>e.getBottomRowCtrls(),Ou=e=>e.getCentreRowCtrls(),qO={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Ou},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Ou},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Ou},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Ou},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:Tu},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Tu},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Tu},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:Tu},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:Nu},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Nu},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Nu},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:Nu},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:Bu},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Bu},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Bu},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:Bu},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Vu},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Vu},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Vu},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Vu}};function ol(e){return qO[e]}var KO=["topCenter","topLeft","topRight"],$O=["bottomCenter","bottomLeft","bottomRight"],eP=["center","left","right"],tP=["center","left","right","fullWidth"],iP=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],sP=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],rP=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],GR=["stickyTopCenter","stickyTopLeft","stickyTopRight"],DR=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],nP=[...GR,"stickyTopFullWidth",...DR,"stickyBottomFullWidth"],oP=[...KO,...$O,...eP,...GR,...DR],aP=class extends Y{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=ol(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new yO(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new XO(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const s=()=>this.onPinnedWidthChanged();this.forContainers(sP,()=>{this.pinnedWidthFeature=this.createManagedBean(new JO(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers(rP,()=>{this.pinnedWidthFeature=this.createManagedBean(new QO(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(tP,()=>this.createManagedBean(new xR(this.eContainer,this.name==="center"?i:void 0))),this.forContainers(oP,()=>this.createManagedBean(new wO(this.eContainer))),this.forContainers(iP,()=>this.createManagedBean(new Jv(r=>this.comp.setContainerWidth(`${r}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(nP.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const i=this.gos.get("ensureDomOrder"),s=Ni(this.gos,"print");this.comp.setDomOrder(i||s)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return wu(this.eViewport)}getCenterViewportScrollLeft(){return Bh(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return OS(this.eViewport)}getViewportScrollLeft(){return Bh(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||kN(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Vh(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=Ni(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||i,n=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:n,useFlushSync:e})}},WR="ag-force-vertical-scroll",lP="ag-selectable",cP="ag-column-moving",dP=class extends Y{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,s,r,n,o){var a;this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=s,this.eBottom=r,this.eStickyTop=n,this.eStickyBottom=o,this.eCenterColsViewport=i.querySelector(`.${ol("center").viewport}`),this.eFullWidthContainer=i.querySelector(`.${ol("fullWidth").container}`),this.eStickyTopFullWidthContainer=n.querySelector(`.${ol("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${ol("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new qv(this.comp)),this.bodyScrollFeature=this.createManagedBean(new CO(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,i,r,n,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(a=this.filterManager)==null||a.setupAdvancedFilterHeaderComp(s),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{const{target:s}=i,r=fl(s,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:i=>{const{target:s,relatedTarget:r}=i,n=t.contains(r),o=fl(r,"ag-root",t);fl(s,"ag-root",t)||(!n||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(cP,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(lP,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.scrollVisibleService.getScrollbarWidth()||0,i=TS()?16:0,s=`calc(100% + ${t+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(s)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=i=>{const s=i.relatedTarget;if(sm(s)===null){this.rowRenderer.stopEditing();return}let r=t.some(n=>n.contains(s))&&this.mouseEventService.isElementInThisGrid(s);if(!r){const n=this.popupService;r=n.getActivePopups().some(o=>o.contains(s))||n.isElementWithinCustomPopup(s)}r||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(i=>this.addManagedElementListeners(i,{focusout:e}))}updateRowCount(){var s;const e=this.headerNavigationService.getHeaderRowCount()+(((s=this.filterManager)==null?void 0:s.getHeaderRowCount())??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=t===-1?-1:e+t;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?WR:null,i=Ni(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&_N(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const i=e&&hl(this.gos)&&!this.rowContainerHeightService.isStretching(),s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e;(s||Math.abs(t)>Math.abs(i))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e,r=s||Math.abs(t)>Math.abs(i),n=e.target;r?(this.eStickyTopFullWidthContainer.contains(n)||this.eStickyBottomFullWidthContainer.contains(n))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:s}=e||t;(s===this.eBodyViewport||s===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!No())return;const t=new fo(this.eBodyViewport),i=s=>{e(void 0,s.touchStart,s.touchEvent)};this.addManagedListeners(t,{longTap:i}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new EB(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var r;const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((r=this.filterManager)==null?void 0:r.getHeaderHeight())??0),i=this.pinnedRowModel.getPinnedTopTotalHeight();let s=0;t>0&&(s+=t),i>0&&(s+=i),s>0&&(s+=1),this.comp.setStickyTopTop(`${s}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,s=e+i;this.comp.setStickyBottomBottom(`${s}px`)}sizeColumnsToFit(e,t){const s=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,n=wu(this.eGridBody)-s;if(n>0){this.columnSizeService.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):j("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},uP=class extends Ue{constructor(e,t,i,s,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=s,this.cellCtrl=t;const n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(n);const o=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1),bs(o,t.getCellAriaRole()),o.setAttribute("col-id",t.colIdSanitised);const a={addOrRemoveCssClass:(l,c)=>this.addOrRemoveCssClass(l,c),setUserStyles:l=>ZS(o,l),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:l=>this.includeSelection=l,setIncludeRowDrag:l=>this.includeRowDrag=l,setIncludeDndSource:l=>this.includeDndSource=l,setRenderDetails:(l,c,d)=>this.setRenderDetails(l,c,d),setEditDetails:(l,c,d)=>this.setEditDetails(l,c,d),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(a,this.getGui(),this.eCellWrapper,i,r,void 0)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(i||r)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,s=i&&this.eCellWrapper==null;if(s){const c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}const r=!i&&this.eCellWrapper!=null;r&&(Wr(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const n=!e&&i,o=n&&this.eCellValue==null;if(o){const c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}const a=!n&&this.eCellValue!=null;a&&(Wr(this.eCellValue),this.eCellValue=void 0);const l=s||r||o||a;return l&&this.removeControls(),e||t&&this.addControls(),l}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){const s=this.editorVersion,r=e.newAgStackInstance();if(r==null)return;const{params:n}=e;r.then(a=>this.afterCellEditorCreated(s,a,n,t,i)),Pe(this.cellEditor)&&n.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();zi(t);const i=e!=null?Lr(e,!0):null;i!=null&&(t.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Wr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Wr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){const i=!this.beans.gos.get("suppressAnimationFrame"),s=this.rendererVersion,{componentClass:r}=e,n=()=>{if(this.rendererVersion!==s||!this.isAlive())return;const a=e.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,s,r);a&&a.then(l)};i&&this.firstRender?this.beans.animationFrameService.createTask(n,this.rowNode.rowIndex,"createTasksP2"):n()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const r=this.getParentOfValue();zi(r),r.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,i,s,r){if(e!==this.editorVersion){this.beans.context.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){j(`cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();const a=s||t.isPopup!==void 0&&t.isPopup();a?this.addPopupCellEditor(i,r):this.addInCellEditor(),this.refreshEditStyles(!0,a),t.afterGuiAttached&&t.afterGuiAttached(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),(i=this.rowCtrl)==null||i.setInlineEditingCss()}addInCellEditor(){const e=this.getGui();e.contains(Zt(this.beans.gos))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){var f;this.beans.gos.get("editType")==="fullRow"&&j("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(e));const s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);const r=this.beans.popupService,n=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),o=t??((f=i.getPopupPosition)==null?void 0:f.call(i))??"over",a=this.beans.gos.get("enableRtl"),l={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:o,alignSide:a?"right":"left",keepWithinBounds:!0},c=r.positionPopupByComponent.bind(r,l),d=this.beans.localeService.getLocaleTextFunc(),u=r.addPopup({modal:n,eChild:s,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});u&&(this.hideEditorPopup=u.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui();e.contains(Zt(this.beans.gos))&&im()&&e.focus({preventScroll:!0}),zi(this.getParentOfValue())}},hP=class extends Ue{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;const s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),s.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(s);const r=this.getGui(),n=r.style;this.domOrder=this.rowCtrl.getDomOrder(),bs(r,"row");const o={setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(a,l)=>this.addOrRemoveCssClass(a,l),setUserStyles:a=>ZS(r,a),setTop:a=>n.top=a,setTransform:a=>n.transform=a,setRowIndex:a=>r.setAttribute("row-index",a),setRowId:a=>r.setAttribute("row-id",a),setRowBusinessKey:a=>r.setAttribute("row-business-key",a),refreshFullWidth:a=>{var l,c;return((c=(l=this.fullWidthCellRenderer)==null?void 0:l.refresh)==null?void 0:c.call(l,a()))??!1}};e.setComp(o,this.getGui(),i,void 0),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){const t=s=>{if(this.isAlive()){const r=s.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(s)}else this.beans.context.destroyBean(s)},i=e.newAgStackInstance();i!=null&&i.then(t)}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(s=>{const r=s.instanceId;this.cellComps[r]==null?this.newCellComp(s):t[r]=null});const i=Da(t).filter(s=>s!=null);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(i=>{const s=this.cellComps[i.instanceId];s&&t.push(s.getGui())}),LS(this.getGui(),t)}newCellComp(e){const t=new uP(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.instanceId]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=Da(this.cellComps).filter(t=>t!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&$e("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){e.forEach(t=>{if(!t)return;const i=t.getCtrl().instanceId;this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}};function fP(e){let t;return e.type==="center"?t=`<div class="${e.viewport}" data-ref="eViewport" role="presentation">
                <div class="${e.container}" data-ref="eContainer"></div>
            </div>`:t=`<div class="${e.container}" data-ref="eContainer"></div>`,t}var pP=class extends Ue{constructor(){super(),this.eViewport=le,this.eContainer=le,this.rowComps={},this.name=Ue.elementGettingCreated.getAttribute("name"),this.options=ol(this.name),this.setTemplate(fP(this.options))}wireBeans(e){this.beans=e}postConstruct(){const e={setHorizontalScroll:i=>this.eViewport.scrollLeft=i,setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i,setOffsetTop:i=>this.eContainer.style.transform=`translateY(${i})`};this.createManagedBean(new aP(this.name)).setComp(e,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy()}setRowCtrls(e){const t={...this.rowComps};this.rowComps={},this.lastPlacedElement=null;const i=s=>{const r=s.instanceId,n=t[r];if(n)this.rowComps[r]=n,delete t[r],this.ensureDomOrder(n.getGui());else{if(!s.getRowNode().displayed)return;const o=new hP(s,this.beans,this.options.type);this.rowComps[r]=o,this.appendRow(o.getGui())}};e.forEach(i),Da(t).forEach(s=>{this.eContainer.removeChild(s.getGui()),s.destroy()}),bs(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?xN(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(PS(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}},gP={selector:"AG-ROW-CONTAINER",component:pP};function xc(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}var mP=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${xc(["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${xc(["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${xc(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${xc(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${xc(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,vP=class extends Ue{constructor(){super(mP,[pO,mO,bO,hO,gP]),this.eBodyViewport=le,this.eStickyTop=le,this.eStickyBottom=le,this.eTop=le,this.eBottom=le,this.eBody=le}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.rangeService=e.rangeService}postConstruct(){const e=(i,s)=>{const r=`${i}px`;s.style.minHeight=r,s.style.height=r},t={setRowAnimationCssOnBodyViewport:(i,s)=>this.setRowAnimationCssOnBodyViewport(i,s),setColumnCount:i=>bN(this.getGui(),i),setRowCount:i=>vN(this.getGui(),i),setTopHeight:i=>e(i,this.eTop),setBottomHeight:i=>e(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setStickyBottomHeight:i=>{this.eStickyBottom.style.height=i,this.eStickyBottom.classList.toggle("ag-hidden",i==="0px")},setStickyBottomBottom:i=>this.eStickyBottom.style.bottom=i,setStickyBottomWidth:i=>this.eStickyBottom.style.width=i,setColumnMovingCss:(i,s)=>this.addOrRemoveCssClass(i,s),updateLayoutClasses:(i,s)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(n=>{n.toggle("ag-layout-auto-height",s.autoHeight),n.toggle("ag-layout-normal",s.normal),n.toggle("ag-layout-print",s.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",s.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",s.normal),this.addOrRemoveCssClass("ag-layout-print",s.print)},setAlwaysVerticalScrollClass:(i,s)=>this.eBodyViewport.classList.toggle(WR,s),registerBodyViewportResizeListener:i=>{const s=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>s())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,s)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(i,s))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new dP),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&$r(this.gos)||Sv(this.gos))&&mN(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}},bP={selector:"AG-GRID-BODY",component:vP},CP=class extends Y{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),i=typeof e=="number"&&e>=0?e:FN();i!=null&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Gy="__ag_grid_instance",TR=class NR extends Y{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=NR.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[Gy]=this.gridInstanceId}getRenderedCellForEvent(t){return qg(this.gos,t.target,aa.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let i=t;for(;i;){const s=i[Gy];if(te(s))return s===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(t){const i=this.getRenderedCellForEvent(t);return i?i.getCellPosition():null}getNormalisedPosition(t){const i=Ni(this.gos,"normal"),s=t;let r,n;if(s.clientX!=null||s.clientY!=null?(r=s.clientX,n=s.clientY):(r=s.x,n=s.y),i){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();r+=l.left,n+=a.top}return{x:r,y:n}}};TR.gridInstanceSequence=new Tv;var yP=TR,wP=class extends Y{constructor(){super(),this.beanName="navigationService",this.onPageDown=gy(this.onPageDown,100),this.onPageUp=gy(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,s=e.altKey,r=e.ctrlKey||e.metaKey,n=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(i){case Z.PAGE_HOME:case Z.PAGE_END:!r&&!s&&(this.onHomeOrEndKey(i),a=!0);break;case Z.LEFT:case Z.RIGHT:case Z.UP:case Z.DOWN:if(!o)return!1;r&&!s&&!n&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case Z.PAGE_DOWN:case Z.PAGE_UP:!r&&!s&&(a=this.handlePageUpDown(i,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),t?(e===Z.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){var o;const{scrollIndex:t,scrollType:i,scrollColumn:s,focusIndex:r,focusColumn:n}=e;te(s)&&!s.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(s),te(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:n,rowPinned:null,forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:r,rowPinned:null,column:n})}onPageDown(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.getViewportHeight(),r=this.pageBoundsService.getPixelOffset(),n=i.top+s,o=this.rowModel.getRowIndexAtPixel(n+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.pageBoundsService.getPixelOffset(),r=i.top,n=this.rowModel.getRowIndexAtPixel(r+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,n,!0):this.navigateToNextPage(e,n,!0)}navigateToNextPage(e,t,i=!1){const s=this.getViewportHeight(),r=this.pageBoundsService.getFirstRow(),n=this.pageBoundsService.getLastRow(),o=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=i?(a==null?void 0:a.rowHeight)-s-o:s-o,c=(a==null?void 0:a.rowTop)+l;let d=this.rowModel.getRowIndexAtPixel(c+o);if(d===e.rowIndex){const f=i?-1:1;t=d=e.rowIndex+f}let u;i?(u="bottom",d<r&&(d=r),t<r&&(t=r)):(u="top",d>n&&(d=n),t>n&&(t=n)),this.isRowTallerThanView(d)&&(t=d,u="top"),this.navigateTo({scrollIndex:t,scrollType:u,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const s=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const i=t?-1:1,s=this.getViewportHeight(),r=this.pageBoundsService.getLastRow();let n=0,o=e.rowIndex;for(;o>=0&&o<=r;){const a=this.rowModel.getRow(o);if(a){const l=a.rowHeight??0;if(n+l>s)break;n+=l}o+=i}return Math.max(0,Math.min(o,r))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let i=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(i-=t),i}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const i=t.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:s}=i,r=i.column;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:r,focusIndex:s,focusColumn:r})}onHomeOrEndKey(e){const t=e===Z.PAGE_HOME,i=this.visibleColsService.getAllCols(),s=t?i[0]:je(i),r=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:s,focusIndex:r,focusColumn:s})}onTabKeyDown(e,t){const i=t.shiftKey,s=this.tabToNextCellCommon(e,i,t);if(s!==!1){s?t.preventDefault():s===null&&this.focusService.allowFocusForNextGridCoreContainer(i);return}if(i){const{rowIndex:r,rowPinned:n}=e.getRowPosition();(n?r===0:r===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof aa&&e.focusCell(!0),(!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&t.preventDefault()}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let s=this.getCellByPosition(i);return!s&&(s=this.rowRenderer.getRowByPosition(i),!s||!s.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t)}tabToNextCellCommon(e,t,i){let s=e.isEditing();if(!s&&e instanceof aa){const o=e.getRowCtrl();o&&(s=o.isEditing())}let r;return s?this.gos.get("editType")==="fullRow"?r=this.moveToNextEditingRow(e,t,i):r=this.moveToNextEditingCell(e,t,i):r=this.moveToNextCellNotEditing(e,t),r===null?r:r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){const s=e.getCellPosition();e.getGui().focus(),e.stopEditing();const r=this.findNextCellToFocusOn(s,t,!0);return r===!1?null:r==null?!1:(r.startEditing(null,!0,i),r.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const s=e.getCellPosition(),r=this.findNextCellToFocusOn(s,t,!0);if(r===!1)return null;if(r==null)return!1;const n=r.getCellPosition(),o=this.isCellEditable(s),a=this.isCellEditable(n),l=n&&s.rowIndex===n.rowIndex&&s.rowPinned===n.rowPinned;return o&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.visibleColsService.getAllCols();let s;e instanceof la?s={...e.getRowPosition(),column:t?i[0]:je(i)}:s=e.getCellPosition();const r=this.findNextCellToFocusOn(s,t,!1);if(r===!1)return null;if(r instanceof aa)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return te(r)}findNextCellToFocusOn(e,t,i){var r;let s=e;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextTabbedCell(s,t);const n=this.gos.getCallback("tabToNextCell");if(te(n)){const c=n({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:s||null});if(c===!0||c===null)c===null&&j("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),s=e;else{if(c===!1)return!1;s={rowIndex:c.rowIndex,column:c.column,rowPinned:c.rowPinned}}}if(!s)return null;if(s.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+s.rowIndex,column:s.column},fromCell:!0}),null}const o=this.gos.get("editType")==="fullRow";if(i&&!o&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);const a=this.getCellByPosition(s);if(!a){const l=this.rowRenderer.getRowByPosition(s);if(!l||!l.isFullWidth()||i)continue;return l}if(!a.isSuppressNavigable())return(r=this.rangeService)==null||r.setRangeToCell(s),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,i,s){let r=i,n=!1;for(;r&&(r===i||!this.isValidNavigateCell(r));)this.gos.get("enableRtl")?t===Z.LEFT&&(r=this.getLastCellOfColSpan(r)):t===Z.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(t,r),n=Pe(r);if(n&&e&&e.key===Z.UP&&(r={rowIndex:-1,rowPinned:null,column:i.column}),s){const a=this.gos.getCallback("navigateToNextCell");if(te(a)){const c=a({key:t,previousCellPosition:i,nextCellPosition:r||null,event:e});te(c)?r={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}:r=null}}if(!r)return;if(r.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+r.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(r);o?this.focusPosition(o):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const i=this.visibleColsService.getAllCols(),s=this.rowRenderer.getRowByPosition(e);if(!s||!s.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),n={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?je(i):i[0])};this.focusPosition(n);const o=t??(r!=null&&this.rowPositionUtils.before(n,r));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:n.column,isFullWidthCell:!0,fromBelow:o}),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:je(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=bf(this.gos),i=this.rowModel.getRow(e.rowIndex);!(t&&(i==null?void 0:i.sticky))&&Pe(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},SP=class extends Y{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},RP=class extends Y{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,s=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:s})},i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let s=-1,r="left";const n=this.menuService.isLegacyMenuEnabled();!n&&this.gos.get("enableRtl")&&(s=1,r="right");const o=n?void 0:4*s,a=n?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:l,nudgeX:o,nudgeY:a,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},i,t,n)}showPopup(e,t,i,s,r){const n=e?this.createBean(new DB(e,"COLUMN_MENU")):void 0;if(this.activeMenu=n,!(n!=null&&n.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");bs(o,"presentation"),o.classList.add("ag-menu"),r||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:m=>this.trapFocusWithin(m,o)}),o.appendChild(n==null?void 0:n.getGui());let a;const l=()=>n==null?void 0:n.afterGuiDetached(),c=this.menuService.isColumnMenuAnchoringEnabled()?s??this.ctrlsService.getGridBodyCtrl().getGui():void 0,d=m=>{e.setMenuVisible(!1,"contextMenu");const y=m instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),y&&s&&vr(s)){const b=this.focusService.findTabbableParent(s);b&&b.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},u=this.localeService.getLocaleTextFunc(),f=r&&i!=="columnFilter"?u("ariaLabelColumnMenu","Column Menu"):u("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:d,positionCallback:()=>t(o),anchorToElement:c,ariaLabel:f});g&&(this.hidePopup=a=g.hideFunc),n.afterInit().then(()=>{t(o),n.afterGuiAttached({container:i,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==Z.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},AP=class extends Y{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const s=dS(this.gos).ResizeObserver,r=s?new s(t):null;return r==null||r.observe(e),()=>r==null?void 0:r.disconnect()}},IP=class extends Y{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){var i;const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const s=((i=this.paginationService)==null?void 0:i.getCurrentPage())??0;s!==this.lastPage&&(this.lastPage=s,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&j(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const s={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],s),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,s)=>i.index!==s.index?t*(s.index-i.index):s.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,s=this.createTasksP2,r=s.list,n=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let u;if(i.length)this.sortTaskList(t),u=i.pop().task;else if(r.length)this.sortTaskList(s),u=r.pop().task;else if(n.length)u=n.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(u)||u()}a=new Date().getTime()-o}i.length||r.length||n.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=dS(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}},De=(e=>(e.EVERYTHING="group",e.FILTER="filter",e.SORT="sort",e.MAP="map",e.AGGREGATE="aggregate",e.FILTER_AGGREGATES="filter_aggregates",e.PIVOT="pivot",e.NOTHING="nothing",e))(De||{}),FP=class extends Y{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=ti(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(i=>{i.id&&t.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:i})=>{t&&i&&e.push(i)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,s){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,i,s),e.setExpanded(t,void 0,s))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},EP=class extends Y{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){const i=this.getRowCtrl(e),s=this.getCellGui(i,t);if(!s)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};const r=s.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(e){var n;const t=e.rowNode,i=e.column;let{anchorToElement:s,value:r}=e;t&&i&&r==null&&(r=this.valueService.getValueForDisplay(i,t)),s==null&&(s=this.getContextMenuAnchorElement(t,i)),(n=this.contextMenuFactory)==null||n.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,i??null,r,s)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(i??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&Go(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(No()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var s;const t=e.getColDef(),i=(s=t.floatingFilterComponentParams)==null?void 0:s.suppressFilterButton;return i!=null&&j("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!i:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,i,s){const{positionBy:r}=t,n=t.column;if(r==="button"){const{buttonElement:o}=t;e.showMenuAfterButtonClick(n,o,i,s)}else if(r==="mouse"){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(n,o,i,s)}else n&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var a;const o=(a=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()))==null?void 0:a.getHeaderCtrlForColumn(n);o&&e.showMenuAfterButtonClick(n,o.getAnchorElementForMenu(s),i,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:i}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){if(!e||!t)return;const i=e.getCellCtrl(t);return(i==null?void 0:i.getGui())||void 0}getContextMenuAnchorElement(e,t){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),s=this.getRowCtrl(e);if(!s)return i;const r=this.getCellGui(s,t);return r||(s.isFullWidth()?s.getFullWidthElement():i)}},MP=class extends ta{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},xP={selector:"AG-INPUT-TEXT-AREA",component:MP},kP=class extends Cc{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[xP]),this.eTextArea=le}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),te(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===Z.LEFT||t===Z.UP||t===Z.RIGHT||t===Z.DOWN||e.shiftKey&&t===Z.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!te(e)&&!te(this.params.value)?this.params.value:this.params.parseValue(e)}},_P=class extends Cc{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){_a(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,i=s=>{om(this.gos,s,t.node,t.column,!0)||t.onKeyDown(s)};this.addManagedElementListeners(e,{keydown:i})}},GP=class extends Cc{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[PB]),this.eSelect=le,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:i,gos:s}=this,{values:r,value:n,eventKey:o}=e;if(Pe(r)){j("no values found for select cellEditor");return}this.startedByEnter=o!=null?o===Z.ENTER:!1;let a=!1;r.forEach(u=>{const f={value:u},g=i.formatValue(e.column,null,u),m=g!=null;f.text=m?g:u,t.addOption(f),a=a||n===u}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),s.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},Af=class extends Cc{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=le}init(e){this.params=e;const{cellStartedEdit:t,eventKey:i,suppressPreventDefault:s}=e,r=this.eInput;this.cellEditorInput.init(r,e);let n,o=!0;t?(this.focusAfterAttached=!0,i===Z.BACKSPACE||i===Z.DELETE?n="":i&&i.length===1?s?o=!1:n=i:(n=this.cellEditorInput.getStartValue(),i!==Z.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,n=this.cellEditorInput.getStartValue()),o&&n!=null&&r.setStartValue(n),this.addManagedElementListeners(r.getGui(),{keydown:a=>{const{key:l}=a;(l===Z.PAGE_UP||l===Z.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var s,r;const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;en()||t.getFocusableElement().focus();const i=t.getInputElement();this.highlightAllOnFocus?i.select():(r=(s=this.cellEditorInput).setCaret)==null||r.call(s)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},DP=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[Sf]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!te(e)&&!te(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=te(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},BR=class extends Af{constructor(){super(new DP)}},WP=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[QB]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===Z.UP||e.key===Z.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!te(e)&&!te(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){en()&&this.eInput.getInputElement().focus({preventScroll:!0})}},TP=class extends Af{constructor(){super(new WP)}},NP=class extends Za{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=en();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Zt(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?zs(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Ys(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?zs(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Ys(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Ys(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return fs(this.getValue())??void 0}setDate(e,t){this.setValue(zs(e??null,!1),t)}},VR={selector:"AG-INPUT-DATE-FIELD",component:NP},BP=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[VR]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!te(e)&&!te(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return zs(e,!1)}},VP=class extends Af{constructor(){super(new BP)}},OP=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[VR]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!te(e)&&!te(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return zs(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):fs(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):zs(e??null,!1)??void 0}},PP=class extends Af{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new OP(()=>this.dataTypeService))}},LP=class extends Cc{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Vv]),this.eCheckbox=le}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:s=>this.setAriaLabel(s.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=Mv(t,e),s=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}},Vc=class{constructor(e){this.cellValueChanges=e}},_p=class extends Vc{constructor(e,t,i,s){super(e),this.initialRange=t,this.finalRange=i,this.ranges=s}},ZP=10,Dy=class{constructor(e){this.actionStack=[],this.maxStackSize=e||ZP,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},HP=class extends Y{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),s=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||s||this.isPasting||this.isRangeInAction))return;const{rowPinned:n,rowIndex:o,column:a,oldValue:l,value:c}=e,d={rowPinned:n,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new Dy(e),this.redoStack=new Dy(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,i,s,r){if(!e)return!1;const n=e.pop();return!n||!n.cellValueChanges?!1:(this.processAction(n,o=>o[s],r),n instanceof _p?this.processRange(this.rangeService,n.ranges||[n[i]]):this.processCell(n.cellValueChanges),t.push(n),!0)}processAction(e,t,i){e.cellValueChanges.forEach(s=>{const{rowIndex:r,rowPinned:n,columnId:o}=s,a={rowIndex:r,rowPinned:n},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(o,t(s),i)})}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach((s,r)=>{if(!s)return;const n=s.startRow,o=s.endRow;r===t.length-1&&(i={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(i));const a={rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:s.startColumn,columns:s.columns};e.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:s}=t,r={rowIndex:i,rowPinned:s},n=this.rowPositionUtils.getRowNode(r),o={rowPinned:t.rowPinned,rowIndex:n.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:s,rowPinned:r}=e,n=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(s);if(!o)return;n.ensureIndexVisible(i),n.ensureColumnVisible(o);const a={rowIndex:i,column:o,rowPinned:r};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t==null||t.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Vc(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new Vc(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Vc(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new _p(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&$r(this.gos)?e=new _p(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new Vc(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function YP(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function zP(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function OR(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function PR(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}function jP(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}function UP(e){var t;(t=e.undoRedoService)==null||t.undo("api")}function XP(e){var t;(t=e.undoRedoService)==null||t.redo("api")}function JP(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(Kc)}function QP(e){return e.rowRenderer.getEditingCells()}function qP(e,t=!1){e.rowRenderer.stopEditing(t)}function KP(e,t){const i=e.columnModel.getCol(t.colKey);if(!i){j(`no column found for ${t.colKey}`);return}const s={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};t.rowPinned==null&&PR(e,t.rowIndex),OR(e,t.colKey);const n=e.navigationService.getCellByPosition(s);if(!n)return;const{focusService:o,gos:a}=e,l=()=>{const d=Zt(a),u=n.getGui();return d!==u&&!!(u!=null&&u.contains(d))},c=a.get("stopEditingWhenCellsLoseFocus")&&l();(c||!o.isCellFocused(s))&&o.setFocusedCell({...s,forceBrowserFocus:c,preventScrollOnBrowserFocus:!0}),n.startRowOrCellEdit(t.key)}function $P(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentUndoStackSize())??0}function e8(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentRedoStackSize())??0}var t8=class extends Y{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,i=!1,s=null){var c;const r=this.createCellEditorParams(e,t,i),n=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(n,r),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!n.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:n.cellEditorPopupPosition;return e.setEditing(!0,o),e.getComp().setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(s,"cellEditingStarted")),!((c=o==null?void 0:o.params)!=null&&c.suppressPreventDefault)}stopEditing(e,t){const i=e.getComp(),{newValue:s,newValueExists:r}=this.takeValueFromCellEditor(t,i),n=e.getRowNode(),o=e.getColumn(),a=this.valueService.getValueForDisplay(o,n);let l=!1;return r&&(l=this.saveNewValue(e,a,s,n,o)),e.setEditing(!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:s,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t!=null&&t.refresh){const{eventKey:i,cellStartedEdit:s}=e.getEditCompDetails().params,r=this.createCellEditorParams(e,i,s),n=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(n,r);t.refresh(o.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),i=t.getCellEditor();i!=null&&i.focusIn?i.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>{var s,r;return(r=(s=t.getCellEditor())==null?void 0:s.focusIn)==null?void 0:r.call(s)}))}stopEditingAndFocus(e,t=!1,i=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(i,e.getCellPosition())}createPopupEditorWrapper(e){return new _P(e)}takeValueFromCellEditor(e,t){const i={newValueExists:!1};if(e)return i;const s=t.getCellEditor();return!s||s.isCancelAfterEnd&&s.isCancelAfterEnd()?i:{newValue:s.getValue(),newValueExists:!0}}saveNewValue(e,t,i,s,r){if(i===t)return!1;e.setSuppressRefreshCell(!0);const n=s.setDataValue(r,i,"edit");return e.setSuppressRefreshCell(!1),n}createCellEditorParams(e,t,i){const s=e.getColumn(),r=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(s,r),eventKey:t,column:s,colDef:s.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:r,data:r.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:n=>this.valueService.parseValue(s,r,n,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const s=e?Z.UP:Z.DOWN;this.navigationService.navigateToNextCell(null,s,t,!1)}}},i8=class extends Y{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,i=null,s=null){let r=!0;return e.getAllCellCtrls().reduce((o,a)=>{const l=a===i;return l?r=a.startEditing(t,l,s):a.startEditing(null,l,s),o?!0:a.isEditing()},!1)&&this.setEditing(e,!0),r}stopEditing(e,t=!1){const i=e.getAllCellCtrls(),s=e.isEditing();e.setStoppingRowEdit(!0);let r=!1;for(const n of i){const o=n.stopEditing(t);s&&!t&&!r&&o&&(r=!0)}r&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),s&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,s=>s.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(i)}},Ha={version:Ae,moduleName:"@ag-grid-community/edit-core",beans:[t8]},s8={version:Ae,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:UP,redoCellEditing:XP,getCellEditorInstances:JP,getEditingCells:QP,stopEditing:qP,startEditingCell:KP,getCurrentUndoSize:$P,getCurrentRedoSize:e8},dependantModules:[Ha]},r8={version:Ae,moduleName:"@ag-grid-community/undo-redo-edit",beans:[HP],dependantModules:[Ha]},n8={version:Ae,moduleName:"@ag-grid-community/full-row-edit",beans:[i8],dependantModules:[Ha]},LR={version:Ae,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:BR}],dependantModules:[Ha]},o8={version:Ae,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:BR},{name:"agNumberCellEditor",classImp:TP,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:VP},{name:"agDateStringCellEditor",classImp:PP},{name:"agCheckboxCellEditor",classImp:LP}],dependantModules:[LR]},a8={version:Ae,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:GP}],dependantModules:[Ha]},l8={version:Ae,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:kP}],dependantModules:[Ha]},c8={version:Ae,moduleName:"@ag-grid-community/all-editors",dependantModules:[LR,o8,a8,l8]},d8={version:Ae,moduleName:"@ag-grid-community/editing",dependantModules:[Ha,r8,n8,c8,s8]},u8=class extends Y{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const s=this.rowRenderer.getAllCellsForColumn(e);return t||s.push(i),this.addElementsToContainerAndGetWidth(s)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach(n=>this.cloneItemIntoDummy(n,t)),i.appendChild(t);const s=t.offsetWidth;i.removeChild(t);const r=this.getAutoSizePadding();return s+r}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const s=i.getHtmlElementForColumnHeader(e);s!=null&&(t=s)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const s=document.createElement("div"),r=s.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(r.add("ag-header","ag-header-row"),s.style.position="static"):r.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&r.add(c)}break}o=o.parentElement}s.appendChild(i),t.appendChild(s)}},h8=class extends Y{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=ti(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,i;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let r=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(r=(i=e.sibling.childStore)==null?void 0:i.getStoreBounds()),((r==null?void 0:r.heightPx)??0)+((r==null?void 0:r.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let s=e.footer?e.sibling:e;for(;s.isExpandable()&&s.expanded;)if(s.master)s=s.detailNode;else if(s.childrenAfterSort){if(s.childrenAfterSort.length===0)break;s=je(s.childrenAfterSort)}return s.rowTop+s.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);const s=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,r=new Set,n=c=>{if(r.add(c),t){const d=this.getLastPixelOfGroup(c),u=s+i+c.rowHeight;d<u?c.stickyRowTop=i+(d-u):c.stickyRowTop=i}else{const d=this.getFirstPixelOfGroup(c),u=s-(i+c.rowHeight);d>u?c.stickyRowTop=i-(d-u):c.stickyRowTop=i}i=0,r.forEach(d=>{const u=d.stickyRowTop+d.rowHeight;i<u&&(i=u)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=c=>{if(!c.displayed)return!1;if(c.footer){if(o===!0||o==="grand"&&c.level===-1||o==="group"&&c.level>-1)return!1;const d=c.sibling.rowIndex?c.sibling.rowIndex+1===c.rowIndex:!1;return e==="bottom"&&d?!1:!r.has(c)}return c.isExpandable()?a===!0||e==="bottom"?!1:!r.has(c)&&c.expanded:!1};for(let c=0;c<100;c++){let d=s+i;t||(d=s-i);const u=this.rowModel.getRowIndexAtPixel(d),f=this.rowModel.getRow(u);if(f==null)break;const m=this.getStickyAncestors(f).find(b=>(t?b.rowIndex<u:b.rowIndex>u)&&l(b));if(m){n(m);continue}if((t?f.rowTop<d:f.rowTop+f.rowHeight>d)&&l(f)){n(f);continue}break}return t||r.forEach(c=>{c.stickyRowTop=i-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(e,r,i)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",i=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&i?!0:i?"grand":t?"group":!1}canRowsBeSticky(){const e=bf(this.gos),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){const t=[];let i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(i=>i.getRowNode()===e)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const s=this.stickyTopRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const s=this.stickyBottomRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,i){const s=e==="top",r=s?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,n={},o=[];for(let f=0;f<r.length;f++){const g=r[f].getRowNode();if(!t.has(g)){n[g.id]=r[f],g.sticky=!1;continue}o.push(r[f])}const a=new Set;for(let f=0;f<o.length;f++)a.add(o[f].getRowNode());const l=[];t.forEach(f=>{a.has(f)||(f.sticky=!0,l.push(this.createRowCon(f,!1,!1)))});let c=!!l.length||o.length!==r.length;s?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),c=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),c=!0),this.destroyRowCtrls(n,!1);const d=[...o,...l];d.sort((f,g)=>g.getRowNode().rowIndex-f.getRowNode().rowIndex),s||d.reverse(),d.forEach(f=>f.setRowTop(f.getRowNode().stickyRowTop));let u=0;return s?(t.forEach(f=>{f.rowIndex<this.pageBoundsService.getFirstRow()&&(u+=f.rowHeight)}),u>this.topContainerHeight&&(u=this.topContainerHeight),this.setOffsetTop(u)):(t.forEach(f=>{f.rowIndex>this.pageBoundsService.getLastRow()&&(u+=f.rowHeight)}),u>this.bottomContainerHeight&&(u=this.bottomContainerHeight),this.setOffsetBottom(u)),c?(s?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0):!1}ensureRowHeightsValid(){let e=!1;const t=i=>{const s=i.getRowNode();if(s.rowHeightEstimated){const r=_o(this.gos,s);s.setRowHeight(r.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},f8=class extends Y{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(n=>n.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(n=>n.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},s=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>s()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{$r(this.gos)?i():s()}),$r(this.gos)&&i()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),bf(this.gos)&&(ti(this.gos)||vc(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new h8(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Ni(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new p8(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=Da(this.rowCtrlsByRowIndex),t=Da(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const i=l=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===t&&l(c)})},s=()=>{i(l=>l.onLeftChanged())},r=()=>{i(l=>l.onWidthChanged())},n=()=>{i(l=>l.onFirstRightPinnedChanged())},o=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.addEventListener("leftChanged",s),t.addEventListener("widthChanged",r),t.addEventListener("firstRightPinnedChanged",n),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",s),t.removeEventListener("widthChanged",r),t.removeEventListener("firstRightPinnedChanged",n),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Ni(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const s=i.getCellElement(e);s&&t.push(s)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:i,beans:s,printLayout:r}=this,n=Object.fromEntries(e.map(a=>[a.getRowNode().id,a]));i.forEachPinnedRow(t,(a,l)=>{const c=e[l];c&&i.getPinnedRowById(c.getRowNode().id,t)===void 0&&(c.destroyFirstPass(),c.destroySecondPass()),a.id in n?(e[l]=n[a.id],delete n[a.id]):e[l]=new la(a,s,!1,!1,r)});const o=t==="top"?i.getPinnedTopRowCount():i.getPinnedBottomRowCount();e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var i;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((i=this.cachedRowCtrls)!=null&&i.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const s=r=>{const n=r[e.rowIndex];n&&n.getRowNode()===e&&(n.destroyFirstPass(),n.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":s(this.topRowCtrls);break;case"bottom":s(this.bottomRowCtrls);break;default:s(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const i=Zt(this.gos),s=Zd(this.gos,i,aa.DOM_DATA_KEY_CELL_CTRL),r=Zd(this.gos,i,la.DOM_DATA_KEY_ROW_CTRL);return s||r?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,s=e.animate&&hl(this.gos),r=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const n=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();n&&this.updateContainerHeights(n)}this.recycleRows(r,s),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var s;const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(s=this.stickyRowFeature)==null||s.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(t=(e=this.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let s=0;s<i;s++){const r=t[s].getAllCellCtrls(),n=r.length;for(let o=0;o<n;o++)e.push(r[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const s in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[s]);return i}addRenderedRowListener(e,t,i){const s=this.rowCtrlsByRowIndex[t];s&&s.addEventListener(e,i)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&im()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){var r;const t=this.getCellCtrls(e.rowNodes,e.columns).map(n=>n.getCellRenderer()).filter(n=>n!=null);if((r=e.columns)!=null&&r.length)return t;const i=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(n=>{if(s&&!this.isRowInMap(n.getRowNode(),s)||!n.isFullWidth())return;const o=n.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&i.push(l)}}),[...i,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{const s=i.getCellEditor();s&&t.push(s)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const s=i.id;switch(i.rowPinned){case"top":t.top[s]=i;break;case"bottom":t.bottom[s]=i;break;default:t.normal[s]=i;break}}),t}isRowInMap(e,t){const i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(s=>{const r=s.getRowNode();return this.isRowInMap(r,t)})}getCellCtrls(e,t){let i;te(t)&&(i={},t.forEach(r=>{const n=this.columnModel.getCol(r);te(n)&&(i[n.getId()]=!0)}));const s=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(n=>{const o=n.getColumn().getId();i&&!i[o]||s.push(n)})}),s}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];lr(this.rowCtrlsByRowIndex,(i,s)=>{s.getRowNode().id==null&&e.push(i)}),this.removeRowCtrls(e);const t={};return lr(this.rowCtrlsByRowIndex,(i,s)=>{const r=s.getRowNode();t[r.id]=s}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const s=this.rowCtrlsByRowIndex[i];s&&(s.destroyFirstPass(t),s.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let i;this.stickyRowFeature&&im()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const s=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let n=!1;if(this.stickyRowFeature){n=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}const o=this.firstRenderedRow!==s||this.lastRenderedRow!==r;if(!(t&&!n&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!n),i!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();i!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(n=>i[n]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(n=>!i[n]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){const t=$B(this.firstRenderedRow,this.lastRenderedRow),i=(r,n)=>{const o=n.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(n)&&t.push(o)};lr(this.rowCtrlsByRowIndex,i),lr(e,i),t.sort((r,n)=>r-n);const s=[];for(let r=0;r<t.length;r++){const n=t[r],o=this.rowModel.getRow(n);o&&!o.sticky&&s.push(n)}return s}recycleRows(e,t=!1,i=!1){const s=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(s,!t),s.forEach(r=>{this.createOrUpdateRowCtrl(r,e,t,i)}),e&&(i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const s=i.getRowNode();return!(t!=null&&!this.isRowInMap(s,t))})}createOrUpdateRowCtrl(e,t,i,s){let r,n=this.rowCtrlsByRowIndex[e];if(n||(r=this.rowModel.getRow(e),te(r)&&te(t)&&t[r.id]&&r.alreadyRendered&&(n=t[r.id],t[r.id]=null)),!n)if(r||(r=this.rowModel.getRow(e)),te(r))n=this.createRowCon(r,i,s);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=n,n}destroyRowCtrls(e,t){const i=[];lr(e,(s,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);return}if(r.destroyFirstPass(!t),t){const n=r.instanceId;this.zombieRowCtrls[n]=r,i.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[n]})}else r.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),m7(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=vf(this.gos);return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),c=this.gos.get("suppressRowVirtualisation");let d=!1,u,f;do{const S=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:I,pageLastPixel:F}=this.pageBoundsService.getCurrentPagePixelRange(),G=this.rowContainerHeightService.getDivStretchOffset(),L=l.getScrollFeature().getVScrollPosition(),T=L.top,O=L.bottom;c?(u=I+G,f=F+G):(u=Math.max(T+S-a,I)+G,f=Math.min(O+S+a,F)+G),this.firstVisibleVPixel=Math.max(T+S,I)+G,this.lastVisibleVPixel=Math.min(O+S,F)+G,d=this.ensureAllRowsInRangeHaveHeightsCalculated(u,f)}while(d);let g=this.rowModel.getRowIndexAtPixel(u),m=this.rowModel.getRowIndexAtPixel(f);const y=this.pageBoundsService.getFirstRow(),b=this.pageBoundsService.getLastRow();g<y&&(g=y),m>b&&(m=b),e=g,t=m}const i=Ni(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);i&&!s&&t-e>r&&(t=e+r);const n=e!==this.firstRenderedRow,o=t!==this.lastRenderedRow;(n||o)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var n,o;const i=(n=this.pinnedRowModel)==null?void 0:n.ensureRowHeightsValid(),s=(o=this.stickyRowFeature)==null?void 0:o.ensureRowHeightsValid(),r=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(r||s)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),s||r||i?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const s=e.getRowNode(),r=this.focusService.isRowNodeFocused(s),n=e.isEditing(),o=s.detail;return r||n||o?!!this.isRowPresent(s):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,i){const s=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(s)return s;const r=this.gos.get("suppressAnimationFrame"),n=i&&!r&&!this.printLayout;return new la(e,this.beans,t,n,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const s=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!s}},p8=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],hs(this.entriesList,i)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],hs(this.entriesList,e)}getEntries(){return this.entriesList}},g8=class extends Y{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new Wy,this.pinnedBottomRows=new Wy}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=i=>{i.setRowHeight(i.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){var s,r;let e=!1,t=0;const i=n=>{if(n.rowHeightEstimated){const o=_o(this.gos,n);n.setRowTop(t),n.setRowHeight(o.height),t+=o.height,e=!0}};return(s=this.pinnedBottomRows)==null||s.forEach(i),t=0,(r=this.pinnedTopRows)==null||r.forEach(i),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const i=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){i.clear();return}const s=Cu(this.gos),r=t==="top"?oa.ID_PREFIX_TOP_PINNED:oa.ID_PREFIX_BOTTOM_PINNED,n=i.getIds(),o=[],a=new Set;let l=0,c=-1;for(const d of e){const u=(s==null?void 0:s({data:d,level:0,rowPinned:t}))??r+this.nextId++;if(a.has(u)){j("Duplicate ID",u,"found for pinned row with data",d,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}c++,a.add(u),o.push(u);const f=i.getById(u);if(f!==void 0)f.data!==d&&f.setData(d),l+=this.setRowTopAndRowIndex(f,l,c),n.delete(u);else{const g=new oa(this.beans);g.id=u,g.data=d,g.rowPinned=t,l+=this.setRowTopAndRowIndex(g,l,c),i.push(g)}}n.forEach(d=>{var u;(u=i.getById(d))==null||u.clearRowTopAndRowIndex()}),i.removeAllById(n),i.setOrder(o)}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(_o(this.gos,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return t==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return e==="top"?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(t===0)return 0;const i=e.getByIndex(t-1);return i===void 0?0:i.rowTop+i.rowHeight}},Wy=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,i)=>{const s=this.cache[t];s&&e(s,i)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},m8=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){var e;return this.root&&((e=this.root)==null?void 0:e.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var e;return this.end&&((e=this.end)==null?void 0:e.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const i=t[0].id===this.root.id,s=t.findIndex(r=>r.id===e.id);if(s>-1){const r=t.slice(0,s),n=t.slice(s+1);return this.setEndRange(e),i?{keep:r,discard:n}:{keep:n,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){const i=this.getRoot();if(i==null){const r=this.getRange().slice();return t&&e.depthFirstSearch(n=>!n.group&&r.push(n)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,e).find(r=>{var n;return r.id===((n=this.end)==null?void 0:n.id)}))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}},v8=class extends Y{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,i,s){this.processClassRules(void 0,e.cellClassRules,t,i,s),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,s,r){if(t==null&&e==null)return;const n={},o={},a=(l,c)=>{l.split(" ").forEach(d=>{d.trim()!=""&&c(d)})};if(t){const l=Object.keys(t);for(let c=0;c<l.length;c++){const d=l[c],u=t[d];let f;typeof u=="string"?f=this.expressionService.evaluate(u,i):typeof u=="function"&&(f=u(i)),a(d,g=>{f?n[g]=!0:o[g]=!0})}}e&&r&&Object.keys(e).forEach(l=>a(l,c=>{n[c]||(o[c]=!0)})),r&&Object.keys(o).forEach(r),Object.keys(n).forEach(s)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let s;return typeof i=="function"?s=i(t):s=i,typeof s=="string"&&(s=[s]),s||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(r=>{i(r)})}},b8=class extends Y{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:s,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:n,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:u,handleKeyDown:f,eFocusableElement:g}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=a,this.eFocusableElement=g,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!n,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=f}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new La(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){var l;const t=ri(this.gos),i=this.focusService.findFocusableElements(t.body,null,!0),s=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(s===-1)return;let r,n;e?(r=0,n=s):(r=s+1,n=i.length);const o=i.slice(r,n),a=this.gos.get("tabIndex");o.sort((c,d)=>{const u=parseInt(c.getAttribute("tabindex")||"0"),f=parseInt(d.getAttribute("tabindex")||"0");return f===a?1:u===a?-1:u===0?1:f===0?-1:u-f}),(l=o[e?o.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},C8=class extends Y{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:i,eFocusableElement:s}=this,r=[t,i],n={setTabIndex:y=>{r.forEach(b=>y!=null?b.setAttribute("tabindex",y):b.removeAttribute("tabindex"))}};this.addTabGuards(t,i);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:f,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:m}=e;this.tabGuardCtrl=this.createManagedBean(new b8({comp:n,focusTrapActive:o,eTopGuard:t,eBottomGuard:i,eFocusableElement:s,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:f,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:m}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=ri(this.gos).createElement("div"),i=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",i),bs(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];zi(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){Wv(t)||(t=t.getGui());const{eBottomGuard:s}=this;s?s.insertAdjacentElement("beforebegin",t):e(t,i)}},ZR=class extends Ue{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new C8(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},y8=0,w8=200,S8=class extends Y{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i}=e,s=this.getPopupIndex(i);if(s!==-1){const g=this.popupList[s];g.alignedToElement=t}const r=t.getBoundingClientRect(),n=this.getParentRect(),o=this.keepXYWithinBounds(i,r.top-n.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;const c=n.right-n.left-a;let d;this.gos.get("enableRtl")?(d=f(),d<0&&(d=u(),this.setAlignedStyles(i,"left")),d>c&&(d=0,this.setAlignedStyles(i,"right"))):(d=u(),d>c&&(d=f(),this.setAlignedStyles(i,"right")),d<0&&(d=0,this.setAlignedStyles(i,"left"))),i.style.left=`${d}px`,i.style.top=`${o}px`;function u(){return r.right-n.left-2}function f(){return r.left-n.left-a}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:s,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:r,eventSource:n,alignSide:o="left",position:a="over",column:l,rowNode:c,type:d}=e,u=n.getBoundingClientRect(),f=this.getParentRect(),g=this.getPopupIndex(t);if(g!==-1){const y=this.popupList[g];y.alignedToElement=n}const m=()=>{let y=u.left-f.left;o==="right"&&(y-=t.offsetWidth-u.width);let b;return a==="over"?(b=u.top-f.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,u,f,e.nudgeY||0)==="under"?b=u.top-f.top+u.height:b=u.top-t.offsetHeight-(s||0)*2-f.top),{x:y,y:b}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:r,updatePosition:m,postProcessCallback:()=>this.callPostProcessPopup(d,t,n,null,l,c)})}shouldRenderUnderOrAbove(e,t,i,s){const r=i.bottom-t.bottom,n=t.top-i.top,o=e.offsetHeight+s;return r>o?"under":n>o||n>r?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const s=this.popupList[i],{alignedToElement:r}=s;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,i,s,r,n){const o=this.gos.getCallback("postProcessPopup");o&&o({column:r,rowNode:n,ePopup:t,type:e,eventSource:i,mouseEvent:s})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:s,nudgeY:r,skipObserver:n,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:u}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,s&&(d+=s),r&&(u+=r),i&&(d=this.keepXYWithinBounds(t,d,1),u=this.keepXYWithinBounds(t,u,0)),t.style.left=`${d}px`,t.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!n){const c=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>c(),w8)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=ri(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),VS(t)}keepXYWithinBounds(e,t,i){const s=i===0,r=s?"clientHeight":"clientWidth",n=s?"top":"left",o=s?"height":"width",a=s?"scrollTop":"scrollLeft",l=ri(this.gos),c=l.documentElement,d=this.getPopupParent(),u=e.getBoundingClientRect(),f=d.getBoundingClientRect(),g=l.documentElement.getBoundingClientRect(),m=d===l.body,y=Math.ceil(u[o]);let S=m?(s?BS:Th)(c)+c[a]:d[r];m&&(S-=Math.abs(g[n]-f[n]));const I=S-y;return Math.min(Math.max(t,0),Math.abs(I))}addPopup(e){const t=ri(this.gos),{eChild:i,ariaLabel:s,alwaysOnTop:r,positionCallback:n,anchorToElement:o}=e;if(!t)return j("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,s,!!r),c=this.addEventListenersToPopup({...e,wrapperEl:l});return n&&n(),this.addPopupToPopupList(i,l,c,o),{hideFunc:c}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();te(e.style.top)||(e.style.top=`${i.top*-1}px`),te(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i){const s=this.getPopupParent(),r=document.createElement("div");return this.environment.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||bs(e,"dialog"),Xl(e,t),r.appendChild(e),s.appendChild(r),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=ri(this.gos),i=this.getPopupParent(),{wrapperEl:s,eChild:r,closedCallback:n,afterGuiAttached:o,closeOnEsc:a,modal:l}=e;let c=!1;const d=m=>{if(!s.contains(Zt(this.gos)))return;m.key===Z.ESCAPE&&!wn(m)&&g({keyboardEvent:m})},u=m=>g({mouseEvent:m}),f=m=>g({touchEvent:m}),g=(m={})=>{const{mouseEvent:y,touchEvent:b,keyboardEvent:S,forceHide:I}=m;!I&&(this.isEventFromCurrentPopup({mouseEvent:y,touchEvent:b},r)||c)||(c=!0,i.removeChild(s),t.removeEventListener("keydown",d),t.removeEventListener("mousedown",u),t.removeEventListener("touchstart",f),t.removeEventListener("contextmenu",u),this.eventService.removeEventListener("dragStarted",u),n&&n(y||b||S),this.removePopupFromPopupList(r))};return o&&o({hidePopup:g}),window.setTimeout(()=>{a&&t.addEventListener("keydown",d),l&&(t.addEventListener("mousedown",u),this.eventService.addEventListener("dragStarted",u),t.addEventListener("touchstart",f),t.addEventListener("contextmenu",u))},0),g}addPopupToPopupList(e,t,i,s){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:y8++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(e,s)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const s=this.popupList[i];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(n=>n&&n()),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:s.hideFunc});return s.stopAnchoringPromise=r,s.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:s,ePopup:r}=e,n=s.getBoundingClientRect(),o=u=>parseInt(u.substring(0,u.length-1),10),a=(u,f)=>{const g=i[u]-n[u],m=o(r.style[u]);return{initialDiff:g,lastDiff:g,initial:m,last:m,direction:f}},l=a("top",0),c=a("left",1),d=this.getFrameworkOverrides();return new Is(u=>{d.wrapIncoming(()=>{d.setInterval(()=>{const f=t.getBoundingClientRect(),g=s.getBoundingClientRect();if(g.top==0&&g.left==0&&g.height==0&&g.width==0){e.hidePopup();return}const y=(b,S)=>{const I=o(r.style[S]);b.last!==I&&(b.initial=I,b.last=I);const F=f[S]-g[S];if(F!=b.lastDiff){const G=this.keepXYWithinBounds(r,b.initial+b.initialDiff-F,b.direction);r.style[S]=`${G}px`,b.last=G}b.lastDiff=F};y(l,"top"),y(c,"left")},200).then(f=>{u(()=>{f!=null&&window.clearInterval(f)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:s}=e,r=i||s;if(!r)return!1;const n=this.getPopupIndex(t);if(n===-1)return!1;for(let o=n;o<this.popupList.length;o++){const a=this.popupList[o];if(T7(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=ri(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),s=i.length,r=this.getWrapper(e);if(!r||s<=1||!t.contains(e))return;const n=[],o=[];for(const f of i)f!==r&&(f.classList.contains("ag-always-on-top")?o.push(f):n.push(f));const a=[],l=o.length,u=r.classList.contains("ag-always-on-top")||!l?[...n,...o,r]:[...n,r,...o];for(let f=0;f<=s;f++){const g=u[f];if(i[f]===u[f]||g===r)continue;g.querySelectorAll("div").forEach(y=>{y.scrollTop!==0&&a.push([y,y.scrollTop])}),f===0?t.insertAdjacentElement("afterbegin",g):u[f-1].insertAdjacentElement("afterend",g)}for(;a.length;){const f=a.pop();f[0].scrollTop=f[1]}}},R8=["touchstart","touchend","touchmove","touchcancel"],A8=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new Is(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,s){const r=na(R8,t);e.addEventListener(t,i,{capture:!!s,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},I8=class extends Y{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===Z.UP,s=e===Z.DOWN,r=e===Z.LEFT;let n,o;if(i||s)o=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),n=t.column;else{const a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");o=t.rowIndex,n=r!==l?a[0]:je(a)}return{rowIndex:o,rowPinned:null,column:n}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,s=!1;for(;!s;){switch(e){case Z.UP:i=this.getCellAbove(i);break;case Z.DOWN:i=this.getCellBelow(i);break;case Z.RIGHT:this.gos.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case Z.LEFT:this.gos.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,j("unknown key for navigation ",e);break}i?s=this.isCellGoodToFocusOn(i):s=!0}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}return i?!t.isSuppressNavigable(i):!1}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;let s=!1;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(s=!0);const r=this.rowModel.getRow(e.rowIndex),n=s?void 0:this.getNextStickyPosition(r);return n||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!bf(this.gos)||!e||!e.sticky)return;const i=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex);let s=[];i?s=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):s=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const r=t?-1:1,n=s.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=s[n+r];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=i:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=i:this.pageBoundsService.getLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned,s=i?t===0:t===this.pageBoundsService.getFirstRow();let r=!1;if(s)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;i&&(r=!0);const n=this.rowModel.getRow(e.rowIndex),o=r?void 0:this.getNextStickyPosition(n,!0);return o||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){var n;const t=this.visibleColsService.getAllCols();let i=e.rowIndex,s=e.rowPinned,r=this.visibleColsService.getColAfter(e.column);if(!r){r=t[0];const o=this.getRowBelow(e);if(Pe(o)||!o.rowPinned&&!(((n=this.paginationService)==null?void 0:n.isRowInPage(o))??!0))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}getNextTabbedCellBackwards(e){var n;const t=this.visibleColsService.getAllCols();let i=e.rowIndex,s=e.rowPinned,r=this.visibleColsService.getColBefore(e.column);if(!r){r=je(t);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Pe(o)||!o.rowPinned&&!(((n=this.paginationService)==null?void 0:n.isRowInPage(o))??!0))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}},Qi=(e,t)=>{for(const i in t)t[i]=e;return t},Ty={...Qi("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Qi("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Qi("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...Qi("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Qi("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Qi("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Qi("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Qi("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Qi("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Qi("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...Qi("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Qi("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Qi("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Qi("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Qi("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},Gp={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},F8=(e,t)=>e.eventService.dispatchEvent(t),HR=class{};Reflect.defineProperty(HR,"name",{value:"GridApi"});var E8=class extends Y{constructor(){super(),this.beanName="apiFunctionService",this.api=new HR,this.fns={...Gp,dispatchEvent:F8},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in Ty)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var r;const{fns:i,beans:s}=this;i!==Gp&&(i[e]=((r=s==null?void 0:s.validationService)==null?void 0:r.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:i,fns:{[e]:s}}=this;return s?s(i,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:i,preDestroyLink:s}=this;if(!t)j(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${s}`);else{const r=Ty[e];i.assertModuleRegistered(r,`api.${e}`)&&j(`API function '${e}' not registered to module '${r}'`)}}destroy(){super.destroy(),this.fns=Gp,this.beans=null}};function M8(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var x8=class extends Y{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,i){const s=[],r={};return e.forEach(n=>{const o=this.createDefFromColumn(n,t,i);let a=!0,l=o,c=n.getOriginalParent(),d=null;for(;c;){let u=null;if(c.isPadding()){c=c.getOriginalParent();continue}const f=r[c.getGroupId()];if(f){f.children.push(l),a=!1;break}if(u=this.createDefFromGroup(c),u&&(u.children=[l],r[u.groupId]=u,l=u,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&s.push(l)}),s}createDefFromGroup(e){const t=Kg(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const s=Kg(e.getColDef());return s.colId=e.getColId(),s.width=e.getActualWidth(),s.rowGroup=e.isRowGroupActive(),s.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,s.pivot=e.isPivotActive(),s.pivotIndex=e.isPivotActive()?i.indexOf(e):null,s.aggFunc=e.isValueActive()?e.getAggFunc():null,s.hide=e.isVisible()?void 0:!0,s.pinned=e.isPinned()?e.getPinned():null,s.sort=e.getSort()?e.getSort():null,s.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,s}},k8=class extends Y{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t})}genericColumnEvent(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t.length===1?t[0]:null,source:i})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:i,toIndex:s,finished:r}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:s,finished:r,source:i})}columnPinned(e,t){if(!e.length)return;const i=e.length===1?e[0]:null,s=this.getCommonValue(e,r=>r.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:s??null,columns:e,column:i,source:t})}columnVisible(e,t){if(!e.length)return;const i=e.length===1?e[0]:null,s=this.getCommonValue(e,r=>r.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:s,columns:e,column:i,source:t})}getCommonValue(e,t){if(!e||e.length==0)return;const i=t(e[0]);for(let s=1;s<e.length;s++)if(i!==t(e[s]))return;return i}columnChanged(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t&&t.length==1?t[0]:null,source:i})}columnResized(e,t,i,s=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:s,finished:t,source:i})}},_8=class extends Y{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(Pe(e)||!this.columnModel.isAlive())return[];const i=this.columnModel.getAllCols().map(s=>this.createStateItemFromColumn(s));return this.orderColumnStateList(i),i}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),s=e.isRowGroupActive()?t.indexOf(e):null,r=e.isPivotActive()?i.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null,o=e.getSort()!=null?e.getSort():null,a=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:a,aggFunc:n,rowGroup:e.isRowGroupActive(),rowGroupIndex:s,pivot:e.isPivotActive(),pivotIndex:r,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),i=new Map(t.map((s,r)=>[s.getColId(),r]));e.sort((s,r)=>{const n=i.has(s.colId)?i.get(s.colId):-1,o=i.has(r.colId)?i.get(r.colId):-1;return n-o})}},G8=class extends Y{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],t=this.columnModel.getColTree();return Dn(null,t,i=>{es(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const i=[];Dn(null,t,s=>{if(es(s)){const r=s.getColGroupDef(),n={groupId:s.getGroupId(),open:r?r.openByDefault:void 0};i.push(n)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const s=[];e.forEach(r=>{const n=r.groupId,o=r.open,a=this.columnModel.getProvidedColGroup(n);a&&a.isExpanded()!==o&&(a.setExpanded(o),s.push(a))}),this.visibleColsService.refresh(t,!0),s.length&&this.eventDispatcher.groupOpened(s),this.columnAnimationService.finish()}},D8=class extends Y{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){const s=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!s)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const n=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=n-this.scrollPosition-this.scrollWidth,this.viewportRight=n-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),s=this.viewportLeft-200,r=this.viewportRight+200,n=t<s&&i<s,o=t>r&&i>r;return!n&&!o}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=r=>{const n=r.getLeft();return te(n)&&n>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),s=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,s,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(i).forEach(n=>e[n.getId()]=!0);const r=(n,o,a)=>{let l=!1;for(let c=0;c<n.length;c++){const d=n[c];let u=!1;if(Go(d))u=e[d.getId()]===!0;else{const g=d.getDisplayedChildren();g&&(u=r(g,o,a+1))}u&&(l=!0,o[a]||(o[a]=[]),o[a].push(d))}return l};r(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),r(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),r(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=s=>`${s.getId()}-${s.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}},W8=class extends Y{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(s){const r=e(s),n=typeof r;if(n==="string"||n==="number"||n==="boolean"){this.eGui=Ud("<span>"+r+"</span>");return}if(r==null){this.eGui=Ud("<span></span>");return}this.eGui=r}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},T8=class extends Y{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},N8=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],Ny=Object.fromEntries(N8.map((e,t)=>[e,t]));function B8(e,t){const i=(e.beanName?Ny[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,s=(t.beanName?Ny[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-s}function V8(e,t){return(e==null?void 0:e.beanName)==="gridDestroyService"?-1:0}var O8=class extends Y{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const i=this.registry[e];if(i!=null)return new i(...t)}},P8=class extends Y{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){var t,i;this.runReadyCallbacksAsync=((i=(t=e.frameworkOverrides).runWhenReadyAsync)==null?void 0:i.call(t))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>(e==null?void 0:e.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},L8=class extends Y{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:i,column:s}=e;return this.createIdFromValues({rowIndex:t,column:s,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:s}=e;return`${t}.${i??"null"}.${s.getId()}`}equals(e,t){const i=e.column===t.column,s=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return i&&s&&r}},Z8=class extends Y{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){ti(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(s=>this.eventService.dispatchEvent(s)),this.events=[]};t?i():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},H8=class extends Y{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),s=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):s&&(t="top",e=s-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(te(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},By={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},Vy={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Oy={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Y8=class extends Y{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(By),this.getSizeEl(Vy),this.getSizeEl(Oy)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(By)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(Vy)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Oy)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var e;return((e=this.gridTheme)==null?void 0:e.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&!t.includes(i)&&e.classList.remove(i);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const i=t.offsetWidth;return i===Py?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(i),this.eGridDiv.appendChild(i)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${Py}px)`,i.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&j(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const r=this.resizeObserverService.observeResize(t,()=>{const n=this.measureSizeEl(e);n==="detached"||n==="no-styles"||(this.lastKnownValues.set(e,n),n!==s&&(s=n,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>r()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const i=this.readAncestorThemeClasses();z8(i,this.ancestorThemeClasses)||(this.ancestorThemeClasses=i,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const i=Array.from(e.classList).filter(s=>s.startsWith("ag-theme-"));for(const s of i)t.includes(s)||t.unshift(s);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:i}=this,s=e.get("theme")||null;s!==i&&(i==null||i.stopUse(),this.gridTheme=s,s==null||s.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var e;(e=this.gridTheme)==null||e.stopUse(),this.gridTheme=null}},z8=(e,t)=>e.length===t.length&&e.findIndex((i,s)=>e[s]!==t[s])===-1,Py=15538,j8=class extends Y{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new mc}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=xh(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},Kv=class Ws extends Y{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",Ws.toggleKeyboardMode),t.addEventListener("mousedown",Ws.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",Ws.toggleKeyboardMode),t.removeEventListener("mousedown",Ws.toggleKeyboardMode))}static toggleKeyboardMode(t){const i=Ws.keyboardModeActive,s=t.type==="keydown";s&&(t.ctrlKey||t.metaKey||t.altKey)||i!==s&&(Ws.keyboardModeActive=s)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,i=>{this.gridCtrl=i.gridCtrl})}registerKeyboardFocusEvents(){const t=ri(this.gos);Ws.addKeyboardModeEvents(t),Ws.instanceCount++,this.addDestroyFunc(()=>{Ws.instanceCount--,Ws.removeKeyboardModeEvents(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,i=this.columnModel.getCol(t.getId());t!==i&&this.clearFocusedCell()}isKeyboardMode(){return Ws.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Zt(this.gos),la.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Zt(this.gos),Rf.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,i){let s=t;for(;s;){if(Zd(this.gos,s,i))return!1;s=s.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,i){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),i())})}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:i,rowPinned:s,column:r}=t,n={rowIndex:i,rowPinned:s,column:r,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:s});return o&&(n.isFullWidthCell=o.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:i,rowIndex:s,rowPinned:r,forceBrowserFocus:n=!1,preventScrollOnBrowserFocus:o=!1}=t,a=this.columnModel.getCol(i);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:s,rowPinned:yn(r),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:n,preventScrollOnBrowserFocus:o})}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const i=t.getColumnGroupChild(),s=t.getRowIndex(),r=t.getPinned(),{column:n,headerRowIndex:o}=this.focusedHeaderPosition;return i===n&&s===o&&r==n.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,i){this.focusedHeaderPosition={headerRowIndex:t,column:i}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){var c;if(this.isHeaderFocusSuppressed())return!1;const{direction:i,fromTab:s,allowUserOverride:r,event:n,fromCell:o,rowWithoutSpanValue:a}=t;let{headerPosition:l}=t;if(o&&((c=this.filterManager)!=null&&c.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter(l);if(r){const d=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount();if(s){const f=this.gos.getCallback("tabToNextHeader");f&&(l=this.getHeaderPositionFromUserFunc({userFunc:f,direction:i,currentPosition:d,headerPosition:l,headerRowCount:u}))}else{const f=this.gos.getCallback("navigateToNextHeader");if(f&&n){const g={key:n.key,previousHeaderPosition:d,nextHeaderPosition:l,headerRowCount:u,event:n};l=f(g)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:n,fromCell:o,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:i,headerPosition:s,direction:r,event:n}=t,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),l=this.getHeaderPositionFromUserFunc({userFunc:i,direction:r,currentPosition:o,headerPosition:s,headerRowCount:a});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:r,event:n})}getHeaderPositionFromUserFunc(t){const{userFunc:i,direction:s,currentPosition:r,headerPosition:n,headerRowCount:o}=t,l=i({backwards:s==="Before",previousHeaderPosition:r,nextHeaderPosition:n,headerRowCount:o});return l===!0||l===null?(l===null&&j("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),r):l===!1?null:l}focusProvidedHeaderPosition(t){var u;const{headerPosition:i,direction:s,fromCell:r,rowWithoutSpanValue:n,event:o}=t,{column:a,headerRowIndex:l}=i;if(l===-1)return(u=this.filterManager)!=null&&u.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(i):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,s);const c=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned()),d=(c==null?void 0:c.focusHeader(i.headerRowIndex,a,o))||!1;return d&&(n!=null||r)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(n??-1),d}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const i=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const i=this.headerNavigationService.getHeaderRowCount()-1,s=je(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:s},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){var i;return(i=this.filterManager)!=null&&i.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===yn(i)}findFocusableElements(t,i,s=!1){const r=EN;let n=NS;i&&(n+=", "+i),s&&(n+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(t.querySelectorAll(r)).filter(c=>vr(c)),a=Array.prototype.slice.apply(t.querySelectorAll(n));return a.length?((c,d)=>c.filter(u=>d.indexOf(u)===-1))(o,a):o}focusInto(t,i=!1,s=!1){const r=this.findFocusableElements(t,null,s),n=i?je(r):r[0];return n?(n.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,i){if(!i)return null;const s=this.findFocusableElements(t),r=s.indexOf(i);if(r===-1)return null;let n=-1;for(let o=r-1;o>=0;o--)if(s[o].classList.contains("ag-tab-guard-top")){n=o;break}return n<=0?null:s[n-1]}findNextFocusableElement(t=this.eGridDiv,i,s){const r=this.findFocusableElements(t,i?':not([tabindex="-1"])':null),n=Zt(this.gos);let o;i?o=r.findIndex(l=>l.contains(n)):o=r.indexOf(n);const a=o+(s?-1:1);return a<0||a>=r.length?null:r[a]}isTargetUnderManagedComponent(t,i){if(!i)return!1;const s=t.querySelectorAll(`.${La.FOCUS_MANAGED_CLASS}`);if(!s.length)return!1;for(let r=0;r<s.length;r++)if(s[r].contains(i))return!0;return!1}findTabbableParent(t,i=5){let s=0;for(;t&&sm(t)===null&&++s<=i;)t=t.parentElement;return sm(t)===null?null:t}focusOverlay(t){var s;const i=this.overlayService.isVisible()&&((s=this.overlayService.getOverlayWrapper())==null?void 0:s.getGui());return!!i&&this.focusInto(i,t)}focusGridViewFailed(t,i){return i&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,i=!1,s=!0){var n,o;if(this.overlayService.isExclusive())return s&&this.focusOverlay(i);if(this.isCellFocusSuppressed())return i&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():s&&this.focusOverlay(i)?!0:this.focusNextGridCoreContainer(!1);const r=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(r){const{rowIndex:a,rowPinned:l}=r;if(t??(t=(n=this.getFocusedHeader())==null?void 0:n.column),t&&a!==void 0&&a!==null){if(this.navigationService.ensureCellVisible({rowIndex:a,column:t,rowPinned:l}),i){const c=this.rowRenderer.getRowByPosition(r);if(c!=null&&c.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(r,i))return!0}return this.setFocusedCell({rowIndex:a,column:t,rowPinned:yn(l),forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:a,rowPinned:l,column:t}),!0}}return!!(s&&this.focusOverlay(i)||i&&this.focusLastHeader())}isGridFocused(){const t=Zt(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,i=!1){return!i&&this.gridCtrl.focusNextInnerContainer(t)?!0:((i||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){var i;return this.advancedFilterFocusColumn=t==null?void 0:t.column,((i=this.advancedFilterService)==null?void 0:i.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(t,i){var r;const s=(i?void 0:this.advancedFilterFocusColumn)??((r=this.visibleColsService.getAllCols())==null?void 0:r[0]);return t?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};Kv.keyboardModeActive=!1;Kv.instanceCount=0;var U8=Kv,X8=class extends Y{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=Ni(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),i=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},J8=class extends Y{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:s,mouseEventService:r,ctrlsService:n,resizeObserverService:o}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:c=>c===1||c===0,getIconName:()=>"notAllowed"};s.addDropTarget(a),this.addDestroyFunc(()=>s.removeDropTarget(a)),r.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new qv(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=o.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>l()),n.register("gridCtrl",this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,i,s,r,n;const e=this.beans;return{paginationSelector:(t=e.paginationService)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:(i=e.columnDropZonesService)==null?void 0:i.getDropZoneSelector(),sideBarSelector:(s=e.sideBarService)==null?void 0:s.getSideBarSelector(),statusBarSelector:(r=e.statusBarService)==null?void 0:r.getStatusPanelSelector(),watermarkSelector:(n=e.licenseManager)==null?void 0:n.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:s}=this.getNextFocusableIndex(t,e);if(s<0||s>=t.length)return!1;if(s===0){if(i>0){const r=this.visibleColsService.getAllCols(),n=je(r);if(this.focusService.focusGridView(n,!0))return!0}return!1}return this.focusContainer(t[s],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const i=this.getFocusableContainers(),s=this.visibleColsService.getAllCols();if(e){if(i.length>1)return this.focusContainer(je(i),!0);const r=je(s);if(this.focusService.focusGridView(r,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(s[0]))return!0;for(let r=1;r<i.length;r++)if(this.focusService.focusInto(i[r].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var n;const t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:s}=this.getNextFocusableIndex(t,e);if(s===-1||i<0||i>=t.length)return;const r=t[i];(n=r.setAllowFocus)==null||n.call(r,!0),setTimeout(()=>{var o;(o=r.setAllowFocus)==null||o.call(r,!1)})}getNextFocusableIndex(e,t){const i=Zt(this.gos),s=e.findIndex(n=>n.getGui().contains(i)),r=s+(t?-1:1);return{indexWithFocus:s,nextIndex:r}}focusContainer(e,t){var s,r;(s=e.setAllowFocus)==null||s.call(e,!0);const i=this.focusService.focusInto(e.getGui(),t);return(r=e.setAllowFocus)==null||r.call(e,!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Q8=class extends ZR{constructor(e){super(),this.gridBody=le,this.sideBar=le,this.pagination=le,this.rootWrapperBody=le,this.eGridDiv=e}postConstruct(){const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:n=>this.addCssClass(n),setGridThemeClass:n=>this.addCssClass(n),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:n=>{this.getGui().style.userSelect=n??"",this.getGui().style.webkitUserSelect=n??""},setCursor:n=>{this.getGui().style.cursor=n??""}},t=this.createManagedBean(new J8),i=t.getOptionalSelectors(),s=this.createTemplate(i),r=[bP,...Object.values(i).filter(n=>!!n)];this.setTemplate(s,r),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:n=>t.focusInnerElement(n),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.gos.get("debug")&&bn("Grid removed from DOM")})}updateLayoutClasses(e,t){const i=this.rootWrapperBody.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(e){const t=e.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=e.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",s=e.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",r=e.watermarkSelector?"<ag-watermark></ag-watermark>":"",n=e.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";return`<div class="ag-root-wrapper" role="presentation">
                ${t}
                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">
                    <ag-grid-body data-ref="gridBody"></ag-grid-body>
                    ${i}
                </div>
                ${s}
                ${n}
                ${r}
            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){var t;if(!e&&((t=this.pagination)!=null&&t.isDisplayed())){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){const e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>vr(t.getGui()))}},q8=class extends Y{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";typeof e=="function"&&(e=e());const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(r=>{var o;if(!r){$e("alignedGrids contains an undefined option."),t||$e(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),$e(i());return}if(this.isGridApi(r))return r;const n=r;return"current"in n?(o=n.current)==null?void 0:o.api:(n.api||$e(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),n.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const i=[];return e.columns?e.columns.forEach(s=>{i.push(t(s))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":j("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(i=>{let s=null;i&&(s=t.getProvidedColGroup(i.getGroupId())),!(i&&!s)&&t.setColumnGroupOpened(s,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var c;const t=e.column;let i=null;if(t&&(i=this.columnModel.getColDefCol(t.getColId())),t&&!i)return;const s=this.getMasterColumns(e),{columnApplyStateService:r,columnSizeService:n,ctrlsService:o}=this;switch(e.type){case"columnMoved":{const u=e.api.getColumnState().map(f=>({colId:f.colId}));r.applyColumnState({state:u,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const u=e.api.getColumnState().map(f=>({colId:f.colId,hide:f.hide}));r.applyColumnState({state:u},"alignedGridChanged")}break;case"columnPinned":{const u=e.api.getColumnState().map(f=>({colId:f.colId,pinned:f.pinned}));r.applyColumnState({state:u},"alignedGridChanged")}break;case"columnResized":{const d=e,u={};s.forEach(f=>{u[f.getId()]={key:f.getColId(),newWidth:f.getActualWidth()}}),(c=d.flexColumns)==null||c.forEach(f=>{u[f.getId()]&&delete u[f.getId()]}),n.setColumnWidths(Object.values(u),!1,d.finished,"alignedGridChanged");break}}const l=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(d=>{d.setGridOption("alwaysShowVerticalScroll",l)})}},K8={version:Ae,moduleName:"@ag-grid-community/aligned-grid",beans:[q8]};function $8(e,t){const i=e.columnModel.getColDefCol(t);return i?i.getColDef():null}function eL(e){return e.columnModel.getColumnDefs()}function tL(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function iL(e,t,i){e.columnModel.setColumnGroupOpened(t,i,"api")}function sL(e,t,i){return e.visibleColsService.getColumnGroup(t,i)}function rL(e,t){return e.columnModel.getProvidedColGroup(t)}function nL(e,t,i){return e.columnNameService.getDisplayNameForColumn(t,i)||""}function oL(e,t,i){return e.columnNameService.getDisplayNameForColumnGroup(t,i)||""}function aL(e,t){return e.columnModel.getColDefCol(t)}function lL(e){return e.columnModel.getColDefCols()}function cL(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function dL(e){return e.columnGetStateService.getColumnState()}function uL(e){e.columnApplyStateService.resetColumnState("api")}function hL(e){return e.columnGroupStateService.getColumnGroupState()}function fL(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function pL(e){e.columnGroupStateService.resetColumnGroupState("api")}function gL(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function mL(e){return e.visibleColsService.isPinningLeft()}function vL(e){return e.visibleColsService.isPinningRight()}function bL(e,t){return e.visibleColsService.getColAfter(t)}function CL(e,t){return e.visibleColsService.getColBefore(t)}function yL(e,t,i){e.columnModel.setColsVisible([t],i,"api")}function wL(e,t,i){e.columnModel.setColsVisible(t,i,"api")}function SL(e,t,i){e.columnModel.setColsPinned([t],i,"api")}function RL(e,t,i){e.columnModel.setColsPinned(t,i,"api")}function AL(e){return e.columnModel.getCols()}function IL(e){return e.visibleColsService.getLeftCols()}function FL(e){return e.visibleColsService.getCenterCols()}function EL(e){return e.visibleColsService.getRightCols()}function ML(e){return e.visibleColsService.getAllCols()}function xL(e){return e.columnViewportService.getViewportColumns()}function kL(e,t,i){e.columnMoveService.moveColumns([t],i,"api")}function _L(e,t,i){e.columnMoveService.moveColumnByIndex(t,i,"api")}function GL(e,t,i){e.columnMoveService.moveColumns(t,i,"api")}function DL(e,t,i,s=!0,r="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:i}],!1,s,r)}function WL(e,t,i=!0,s="api"){e.columnSizeService.setColumnWidths(t,!1,i,s)}function TL(e){return e.visibleColsService.getTreeLeft()}function NL(e){return e.visibleColsService.getTreeCenter()}function BL(e){return e.visibleColsService.getTreeRight()}function VL(e){return e.visibleColsService.getAllTrees()}function OL(e,t,i){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:i,source:"api"})}function PL(e,t,i){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})}function LL(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var ZL=class extends Y{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Qo(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=s=>r=>{const{column:n,node:o,value:a}=r;let l=n.getColDef().valueFormatter;return l===s.groupSafeValueFormatter&&(l=s.valueFormatter),this.valueService.formatValue(n,o,a,l)};Object.entries(e).forEach(([s,r])=>{const n={...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)};this.dataTypeDefinitions[s]=n,this.formatValueFuncs[s]=t(n)});const i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach(([s,r])=>{const n=this.processDataTypeDefinition(r,i,[s],e);n&&(this.dataTypeDefinitions[s]=n,r.dataTypeMatcher&&(this.dataTypeMatchers[s]=r.dataTypeMatcher),this.formatValueFuncs[s]=t(n))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(s=>{const r=this.dataTypeMatchers[s];r&&delete this.dataTypeMatchers[s],this.dataTypeMatchers[s]=r??e[s].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...Qu(e.columnTypes),...Qu(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,s){let r;const n=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=s[n];const a=t[n];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,n))return;r=this.mergeDataTypeDefinitions(o,e)}else{if(i.includes(n)){j('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=t[n];if(!this.validateDataTypeDefinition(e,o,n))return;const a=this.processDataTypeDefinition(o,t,[...i,n],s);if(!a)return;r=this.mergeDataTypeDefinitions(a,e)}return{...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)}}validateDataTypeDefinition(e,t,i){return t?t.baseDataType!==e.baseDataType?(j('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(j(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var i,s;if((i=t.node)!=null&&i.group){const r=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&r!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&typeof t.value=="string"&&!((s=e.dataTypeMatcher)!=null&&s.call(e,t.value)))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:s}=t;const{field:r}=t;if(s===void 0&&(s=e.cellDataType),(s==null||s===!0)&&(s=this.canInferCellDataType(e,t)?this.inferCellDataType(r,i):!1),!s){e.cellDataType=!1;return}const n=this.dataTypeDefinitions[s];if(!n){j(`Missing data type definition - "${s}"`);return}return e.cellDataType=s,n.groupSafeValueFormatter&&(e.valueFormatter=n.groupSafeValueFormatter),n.valueParser&&(e.valueParser=n.valueParser),n.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,n,i),n.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=s=>{t.add(s.key)};e.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){if(!ti(this.gos))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;const s=t.type===null?e.type:t.type;if(s){const r=this.gos.get("columnTypes")??{};if(Qu(s).some(o=>{const a=r[o.trim()];return a&&this.doColDefPropsPreventInference(a,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,s])=>this.doesColDefPropPreventInference(e,t,i,s))}doesColDefPropPreventInference(e,t,i,s){if(!t[i])return!1;const r=e[i];return r===null?(t[i]=!1,!1):s===void 0?!!r:r===s}inferCellDataType(e,t){if(!e)return;let i;const s=this.getInitialData();if(s){const n=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=Qc(s,e,n)}else this.initWaitForRowData(t);if(i==null)return;const[r]=Object.entries(this.dataTypeMatchers).find(([n,o])=>o(i))??["object"];return r}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:r}=s;r&&(i==null||i(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const s={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([n,o])=>{const a=this.columnModel.getCol(n);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const d=this.getUpdatedColumnState(a,o);d.rowGroup&&d.rowGroupIndex==null&&(s[n]=d),d.pivot&&d.pivotIndex==null&&(r[n]=d),i.push(d)}}),t&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(s,r)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(s=>{delete i[s],s==="rowGroup"?delete i.rowGroupIndex:s==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var s;if(t==null)return!0;const i=(s=this.getDataTypeDefinition(e))==null?void 0:s.dataTypeMatcher;return i?i(t):!0}validateColDef(e){const t=i=>j(`Cell data type is "object" but no Value ${i} has been provided. Please either provide an object data type definition with a Value ${i}, or set "colDef.value${i}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,i,s){var n;const r=this.formatValueFuncs[t];switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===Z.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=r;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=r;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const l=this.columnModel.getColDefCol(s),c=l==null?void 0:l.getColDef();if(!l||!c)return 0;const d=o==null?"":r({column:l,node:null,value:o}),u=a==null?"":r({column:l,node:null,value:a});return d===u?0:d>u?1:-1},e.keyCreator=r;break}}(n=this.filterManager)==null||n.setColDefPropertiesForDataType(e,i,r)}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>{var s,r;return((r=(s=i.newValue)==null?void 0:s.trim)==null?void 0:r.call(s))===""?null:Number(i.newValue)},valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:jg(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>{var s,r;return i.newValue==null?i.newValue:((r=(s=i.newValue)==null?void 0:s.trim)==null?void 0:r.call(s))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>fs(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):zs(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>fs(i)??void 0,dateFormatter:i=>zs(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>jg(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},HL={version:Ae,moduleName:"@ag-grid-community/data-type",beans:[ZL]},YL={version:Ae,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:$8,getColumnDefs:eL,sizeColumnsToFit:tL,setColumnGroupOpened:iL,getColumnGroup:sL,getProvidedColumnGroup:rL,getDisplayNameForColumn:nL,getDisplayNameForColumnGroup:oL,getColumn:aL,getColumns:lL,applyColumnState:cL,getColumnState:dL,resetColumnState:uL,getColumnGroupState:hL,setColumnGroupState:fL,resetColumnGroupState:pL,isPinning:gL,isPinningLeft:mL,isPinningRight:vL,getDisplayedColAfter:bL,getDisplayedColBefore:CL,setColumnVisible:yL,setColumnsVisible:wL,setColumnPinned:SL,setColumnsPinned:RL,getAllGridColumns:AL,getDisplayedLeftColumns:IL,getDisplayedCenterColumns:FL,getDisplayedRightColumns:EL,getAllDisplayedColumns:ML,getAllDisplayedVirtualColumns:xL,moveColumn:kL,moveColumnByIndex:_L,moveColumns:GL,setColumnWidth:DL,setColumnWidths:WL,getLeftDisplayedColumnGroups:TL,getCenterDisplayedColumnGroups:NL,getRightDisplayedColumnGroups:BL,getAllDisplayedColumnGroups:VL,autoSizeColumn:OL,autoSizeColumns:PL,autoSizeAllColumns:LL}};function zL(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function jL(e,t){const i=e.dragAndDropService.findExternalZone(t);i&&e.dragAndDropService.removeDropTarget(i)}function UL(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var XL={version:Ae,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:zL,removeRowDropZone:jL,getRowDropZoneParams:UL}};function JL(e){return e.pinnedRowModel.getPinnedTopRowCount()}function QL(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function qL(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function KL(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var $L={version:Ae,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:JL,getPinnedBottomRowCount:QL,getPinnedTopRow:qL,getPinnedBottomRow:KL}};function eZ(e){e.overlayService.showLoadingOverlay()}function tZ(e){e.overlayService.showNoRowsOverlay()}function iZ(e){e.overlayService.hideOverlay()}var sZ={version:Ae,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:eZ,showNoRowsOverlay:tZ,hideOverlay:iZ}};function rZ(e,t,i){if(!t)return;const s=e.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${t}`;i===null?s.removeAttribute(r):s.setAttribute(r,i)}function nZ(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function oZ(e,t={}){const i=s=>j(`Since v31.1 api.flashCells parameter '${s}Delay' is deprecated. Please use '${s}Duration' instead.`);te(t.fadeDelay)&&i("fade"),te(t.flashDelay)&&i("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function aZ(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function lZ(e){return e.animationFrameService.isQueueEmpty()}function cZ(e){e.animationFrameService.flushAllFrames()}function dZ(e){return{rowHeight:vf(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function uZ(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(Kc)}var hZ={version:Ae,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:rZ,refreshCells:nZ,flashCells:oZ,refreshHeader:aZ,isAnimationFrameQueueEmpty:lZ,flushAllAnimationFrames:cZ,getSizesForCurrentTheme:dZ,getCellRendererInstances:uZ}};function fZ(e){e.valueCache.expire()}function pZ(e,t,i){return YR(e,{colKey:t,rowNode:i})}function YR(e,t){const{colKey:i,rowNode:s,useFormatter:r}=t,n=e.columnModel.getColDefCol(i)??e.columnModel.getCol(i);if(Pe(n))return null;const o=e.valueService.getValueForDisplay(n,s);return r?e.valueService.formatValue(n,s,o)??Lr(o,!0):o}function gZ(e){return e.context.getGridId()}function mZ(e){e.gridDestroyService.destroy()}function vZ(e){return e.gridDestroyService.isDestroyCalled()}function bZ(e,t){return e.gos.get(t)}function CZ(e,t,i){zR(e,{[t]:i})}function zR(e,t){e.gos.updateGridOptions({options:t})}function yZ(e,t,i){e.apiEventService.addEventListener(t,i)}function wZ(e,t,i){e.apiEventService.removeEventListener(t,i)}function SZ(e,t){e.apiEventService.addGlobalListener(t)}function RZ(e,t){e.apiEventService.removeGlobalListener(t)}function AZ(e){return e.focusService.getFocusedCell()}function IZ(e){return e.focusService.clearFocusedCell()}function FZ(e,t,i,s){e.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:s,forceBrowserFocus:!0})}function EZ(e,t){return e.navigationService.tabToNextCell(!1,t)}function MZ(e,t){return e.navigationService.tabToNextCell(!0,t)}function xZ(e,t,i=!1){const s=e.headerNavigationService.getHeaderPositionForColumn(t,i);s&&e.focusService.focusHeaderPosition({headerPosition:s})}function kZ(e,t,i){const s=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:s,buttonElement:i,positionBy:"button"})}function _Z(e,t,i){let s=e.columnModel.getCol(t);if(s||(s=e.columnModel.getColDefCol(t)),!s){$e(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:s,mouseEvent:i,positionBy:"mouse"})}function GZ(e,t){const i=e.columnModel.getCol(t);if(!i){$e(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:i,positionBy:"auto"})}function DZ(e){e.menuService.hidePopupMenu()}function WZ(e,t={}){const i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))}function TZ(e,t,i,s,r){e.expansionService.setRowNodeExpanded(t,i,s,r)}function NZ(e,t){return e.rowModel.getRowNode(t)}function BZ(e,t,i,s){e.rowRenderer.addRenderedRowListener(t,i,s)}function VZ(e){return e.rowRenderer.getRenderedNodes()}function OZ(e,t,i){e.rowModel.forEachNode(t,i)}function PZ(e){return jR(e)}function jR(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function LZ(e){return UR(e)}function UR(e){return e.rowRenderer.getLastVirtualRenderedRow()}function ZZ(e,t){return e.rowModel.getRow(t)}function HZ(e){return e.rowModel.getRowCount()}function YZ(e){return e.rowModel}function zZ(e,t){if(!t.nodes.every(a=>a.rowPinned?(j("cannot select pinned rows"),!1):a.id===void 0?(j("cannot select node until id for node is known"),!1):!0))return;const{nodes:s,source:r,newValue:n}=t,o=s;e.selectionService.setNodesSelected({nodes:o,source:r??"api",newValue:n})}function jZ(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function UZ(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function XZ(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function JZ(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function QZ(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function qZ(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function KZ(e){return e.selectionService.getSelectedNodes()}function $Z(e){return e.selectionService.getSelectedRows()}function eH(e){e.sortController.onSortChanged("api")}var tH={version:Ae,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:gZ,destroy:mZ,isDestroyed:vZ,getGridOption:bZ,setGridOption:CZ,updateGridOptions:zR}},iH={version:Ae,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:zZ,selectAll:jZ,deselectAll:UZ,selectAllFiltered:XZ,deselectAllFiltered:JZ,selectAllOnCurrentPage:QZ,deselectAllOnCurrentPage:qZ,getSelectedNodes:KZ,getSelectedRows:$Z}},sH={version:Ae,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:WZ,setRowNodeExpanded:TZ,getRowNode:NZ,addRenderedRowListener:BZ,getRenderedNodes:VZ,forEachNode:OZ,getFirstDisplayedRow:PZ,getFirstDisplayedRowIndex:jR,getLastDisplayedRow:LZ,getLastDisplayedRowIndex:UR,getDisplayedRowAtIndex:ZZ,getDisplayedRowCount:HZ,getModel:YZ}},rH={version:Ae,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:YP,getHorizontalPixelRange:zP,ensureColumnVisible:OR,ensureIndexVisible:PR,ensureNodeVisible:jP}},nH={version:Ae,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:AZ,clearFocusedCell:IZ,setFocusedCell:FZ,setFocusedHeader:xZ,tabToNextCell:EZ,tabToPreviousCell:MZ}},oH={version:Ae,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:yZ,addGlobalListener:SZ,removeEventListener:wZ,removeGlobalListener:RZ}},aH={version:Ae,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:fZ,getValue:pZ,getCellValue:YR}},lH={version:Ae,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:kZ,showColumnMenuAfterMouseClick:_Z,showColumnMenu:GZ,hidePopupMenu:DZ}},cH={version:Ae,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:eH}},dH={version:Ae,moduleName:"@ag-grid-community/api",dependantModules:[tH,$L,iH,YL,sH,XL,rH,sZ,nH,oH,hZ,aH,lH,cH]};function uH(e){var t;return((t=e.stateService)==null?void 0:t.getState())??{}}function hH(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=fH(e)}return e}function fH(e){return e.cellSelection=pH(e,"rangeSelection"),e}function pH(e,t){if(e&&typeof e=="object")return e[t]}var gH=class extends Y{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=us(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=us(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=us(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=ti(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Ae),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,i]=this.addManagedEventListeners({newColumnsLoaded:({source:s})=>{s==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i==null||i(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return hH(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:s}=this.getInitialState(),r=this.gos.get("advancedFilterModel");(e||r)&&this.setFilterState(e,r),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),s&&this.setPaginationState(s),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const n=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{n()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:i,columnOrder:s}=this.getInitialState();i&&this.setFocusedCellState(i),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(s!=null&&s.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const r=this.getRangeSelectionState();this.updateCachedState("rangeSelection",r),this.updateCachedState("cellSelection",r),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){const o=this.getRangeSelectionState();this.updateCachedState("rangeSelection",o),this.updateCachedState("cellSelection",o)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],i=[],s=[],r=[],n=[],o=[],a=[],l=[],c=[];let d=0;const u=this.columnGetStateService.getColumnState();for(let f=0;f<u.length;f++){const{colId:g,sort:m,sortIndex:y,rowGroup:b,rowGroupIndex:S,aggFunc:I,pivot:F,pivotIndex:G,pinned:L,hide:T,width:O,flex:Q}=u[f];c.push(g),m&&(t[y??d++]={colId:g,sort:m}),b&&(i[S??0]=g),typeof I=="string"&&s.push({colId:g,aggFunc:I}),F&&(r[G??0]=g),L&&(L==="right"?o:n).push(g),T&&a.push(g),(Q||O)&&l.push({colId:g,flex:Q??void 0,width:O})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:r.length||e?{pivotMode:e,pivotColIds:r}:void 0,columnPinning:n.length||o.length?{leftColIds:n,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:s,pivot:r,columnPinning:n,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:c}=e,d={},u=b=>{let S=d[b];return S||(S={colId:b},d[b]=S,S)},f=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:b,sort:S},I)=>{const F=u(b);F.sort=S,F.sortIndex=I}),f.sort=null,f.sortIndex=null),i&&(i.groupColIds.forEach((b,S)=>{const I=u(b);I.rowGroup=!0,I.rowGroupIndex=S}),f.rowGroup=null,f.rowGroupIndex=null),s&&(s.aggregationModel.forEach(({colId:b,aggFunc:S})=>{u(b).aggFunc=S}),f.aggFunc=null),r&&(r.pivotColIds.forEach((b,S)=>{const I=u(b);I.pivot=!0,I.pivotIndex=S}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),f.pivot=null,f.pivotIndex=null),n&&(n.leftColIds.forEach(b=>{u(b).pinned="left"}),n.rightColIds.forEach(b=>{u(b).pinned="right"}),f.pinned=null),o&&(o.hiddenColIds.forEach(b=>{u(b).hide=!0}),f.hide=null),a&&(a.columnSizingModel.forEach(({colId:b,flex:S,width:I})=>{const F=u(b);F.flex=S??null,F.width=I}),f.flex=null);const g=l==null?void 0:l.orderedColIds,m=!!(g!=null&&g.length),y=m?g.map(b=>u(b)):Object.values(d);y.length&&(this.columnStates=y,this.columnApplyStateService.applyColumnState({state:y,applyOrder:m,defaultState:f},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){const s=[];for(const r of t)this.pivotResultColsService.getPivotResultCol(r.colId)&&s.push(r);this.columnApplyStateService.applyColumnState({state:s,applyOrder:e},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:i,open:s})=>{s&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var r;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set((r=e.columnGroup)==null?void 0:r.openColumnGroupIds),s=this.columnGroupStateService.getColumnGroupState().map(({groupId:n})=>{const o=t.has(n);return o&&t.delete(n),{groupId:n,open:o}});t.forEach(n=>{s.push({groupId:n,open:!0})}),s.length&&(this.columnGroupStates=s),this.columnGroupStateService.setColumnGroupState(s,"gridInitializing")}getFilterState(){var i,s;let e=(i=this.filterManager)==null?void 0:i.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const t=((s=this.filterManager)==null?void 0:s.getAdvancedFilterModel())??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){var r,n;const{filterModel:i,advancedFilterModel:s}=e??{advancedFilterModel:t};i&&((r=this.filterManager)==null||r.setFilterModel(i,"columnFilter")),s&&((n=this.filterManager)==null||n.setAdvancedFilterModel(s))}getRangeSelectionState(){var t;const e=(t=this.rangeService)==null?void 0:t.getCellRanges().map(i=>{const{id:s,type:r,startRow:n,endRow:o,columns:a,startColumn:l}=i;return{id:s,type:r,startRow:n,endRow:o,colIds:a.map(c=>c.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:i,columnModel:s,visibleColsService:r}=this;if(!$r(t)||!i)return;const n=[];if(e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(c=>{const d=s.getCol(c);d&&a.push(d)}),!a.length)return;let l=s.getCol(o.startColId);if(!l){const c=r.getAllCols(),d=new Set(a);l=c.find(u=>d.has(u))}n.push({...o,columns:a,startColumn:l})}),I7(t)&&F7(t)&&n.length>1)return j("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");i.setCellRanges(n)}getScrollState(){var s;if(!this.isClientSideRowModel)return;const e=(s=this.ctrlsService.getGridBodyCtrl())==null?void 0:s.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:i}=(e==null?void 0:e.getVScrollPosition())??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){var s;if(!this.isClientSideRowModel)return;const{top:t,left:i}=e;(s=this.ctrlsService.getGridBodyCtrl())==null||s.getScrollFeature().setScrollPosition(t,i)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:s}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:s}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:s}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){var i;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((i=e==null?void 0:e.toggledNodes)!=null&&i.length)?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;Object.entries(t).forEach(([s,r])=>{Eh(r,this.cachedState[s])||(i=!0)}),this.cachedState={...this.cachedState,...t},i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),Eh(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},XR={version:Ae,moduleName:"@ag-grid-community/state-core",beans:[gH]},mH={version:Ae,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:uH},dependantModules:[XR]},vH={version:Ae,moduleName:"@ag-grid-community/state",dependantModules:[XR,mH]};function bH(e){return e.rowModel.isLastRowIndexKnown()}function CH(e){var t;return((t=e.paginationService)==null?void 0:t.getPageSize())??100}function yH(e){var t;return((t=e.paginationService)==null?void 0:t.getCurrentPage())??0}function wH(e){var t;return((t=e.paginationService)==null?void 0:t.getTotalPages())??1}function SH(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function RH(e){var t;(t=e.paginationService)==null||t.goToNextPage()}function AH(e){var t;(t=e.paginationService)==null||t.goToPreviousPage()}function IH(e){var t;(t=e.paginationService)==null||t.goToFirstPage()}function FH(e){var t;(t=e.paginationService)==null||t.goToLastPage()}function EH(e,t){var i;(i=e.paginationService)==null||i.goToPage(t)}var MH=class extends Y{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const i=Math.max(vf(this.gos),1),s=Math.floor(e/i);this.paginationService.setPageSize(s,"autoCalculated")};this.isBodyRendered?us(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function xH(e,t,i){e.addManagedElementListeners(t,{keydown:s=>{if(!s.defaultPrevented&&s.key===Z.TAB){const r=s.shiftKey;i.findNextFocusableElement(t,!1,r)||i.focusNextGridCoreContainer(r)&&s.preventDefault()}}})}var kc="paginationPageSizeSelector",kH=class extends Ue{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(kc,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){zi(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(kc)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),i=!t||!e.includes(t);if(i){const r=this.gos.exists("paginationPageSize"),n=this.gos.get(kc)!==!0;j(`'paginationPageSize=${t}'${r?"":" (default value)"}, but ${t} is not included in${n?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),n||j(`Either set '${kc}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const s=String(i?"":t);this.selectPageSizeComp?(To(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(s,!0)):this.createPageSizeSelectorComp(e,s),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const i=this.localeService.getLocaleTextFunc(),s=i("pageSizeSelectorLabel","Page Size:"),r=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Lv).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(s).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(kc);return!Array.isArray(t)||Ms(t)?e:[...t].sort((i,s)=>i-s)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},_H={selector:"AG-PAGE-SIZE-SELECTOR",component:kH},GH=class extends ZR{constructor(){super(),this.btFirst=le,this.btPrevious=le,this.btNext=le,this.btLast=le,this.lbRecordCount=le,this.lbFirstRowOnPage=le,this.lbLastRowOnPage=le,this.lbCurrent=le,this.lbTotal=le,this.pageSizeComp=le,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[_H]);const{btFirst:t,btPrevious:i,btNext:s,btLast:r}=this;this.activateTabIndex([t,i,s,r]),t.insertAdjacentElement("afterbegin",Es(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",Es(e?"next":"previous",this.gos)),s.insertAdjacentElement("afterbegin",Es(e?"previous":"next",this.gos)),r.insertAdjacentElement("afterbegin",Es(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:n=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(n):this.focusService.focusGridInnerElement(n)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:s=>{(s.key===Z.ENTER||s.key===Z.SPACE)&&(s.preventDefault(),i())}})}),xH(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const i=this.localeService.getLocaleTextFunc(),s=i("thousandSeparator",","),r=i("decimalSeparator",".");return eV(e,s,r)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),s=e("of","of"),r=e("firstPage","First Page"),n=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${s}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${s}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const s=this.isZeroPagesToDisplay(),r=e===i-1;this.nextButtonDisabled=r||s,this.lastButtonDisabled=!t||s||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){fN(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),i=this.paginationService.getMasterRowCount(),s=e?i:null;if(s===1){const I=this.rowModel.getRow(0);if(I&&I.group&&!(I.groupData||I.aggData)){this.setTotalLabelsToZero();return}}const r=this.paginationService.getCurrentPage(),n=this.paginationService.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=n*r+1,a=o+n-1,e&&a>s&&(a=s));const l=o+n-1,c=!e&&i<l,d=this.formatNumber(o);this.lbFirstRowOnPage.textContent=d;let u;const f=this.localeService.getLocaleTextFunc();c?u=f("pageLastRowUnknown","?"):u=this.formatNumber(a),this.lbLastRowOnPage.textContent=u;const m=t>0?r+1:0,y=this.formatNumber(m);this.lbCurrent.textContent=y;let b,S;if(e)b=this.formatNumber(t),S=this.formatNumber(s);else{const I=f("more","more");b=I,S=I}this.lbTotal.textContent=b,this.lbRecordCount.textContent=S,this.announceAriaStatus(d,u,S,y,b)}announceAriaStatus(e,t,i,s,r){const n=this.localeService.getLocaleTextFunc(),o=n("page","Page"),a=n("to","to"),l=n("of","of"),c=`${e} ${a} ${t} ${l} ${i}`,d=`${o} ${s} ${l} ${r}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnouncementService.announceValue(d,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},DH={selector:"AG-PAGINATION",component:GH},WH=class extends Y{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return DH}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return te(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:te(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:te(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:te(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const s=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=s-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:s=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:s,keepRenderedRows:t})}},JR={version:Ae,moduleName:"@ag-grid-community/pagination-core",beans:[WH,MH]},TH={version:Ae,moduleName:"@ag-grid-community/pagination-api",dependantModules:[JR],apiFunctions:{paginationIsLastPageFound:bH,paginationGetPageSize:CH,paginationGetCurrentPage:yH,paginationGetTotalPages:wH,paginationGetRowCount:SH,paginationGoToNextPage:RH,paginationGoToPreviousPage:AH,paginationGoToFirstPage:IH,paginationGoToLastPage:FH,paginationGoToPage:EH}},NH={version:Ae,moduleName:"@ag-grid-community/pagination",dependantModules:[JR,TH]},os="clientSide",qi="serverSide",Ja="infinite",BH={onGroupExpandedOrCollapsed:[os],refreshClientSideRowModel:[os],isRowDataEmpty:[os],forEachLeafNode:[os],forEachNodeAfterFilter:[os],forEachNodeAfterFilterAndSort:[os],resetRowHeights:[os],applyTransaction:[os],applyTransactionAsync:[os],flushAsyncTransactions:[os],getBestCostNodeSelection:[os],getServerSideSelectionState:[qi],setServerSideSelectionState:[qi],applyServerSideTransaction:[qi],applyServerSideTransactionAsync:[qi],applyServerSideRowData:[qi],retryServerSideLoads:[qi],flushServerSideAsyncTransactions:[qi],refreshServerSide:[qi],getServerSideGroupLevelState:[qi],refreshInfiniteCache:[Ja],purgeInfiniteCache:[Ja],getInfiniteRowCount:[Ja],isLastRowIndexKnown:[Ja,qi],expandAll:[os,qi],collapseAll:[os,qi],onRowHeightChanged:[os,qi],setRowCount:[Ja,qi],getCacheBlockState:[Ja,qi]},VH={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function OH(e,t,i){const s=VH[e];if(s){const{version:n,new:o,old:a,message:l}=s,c=a??e;return(...d)=>{const u=o?`Please use ${o} instead. `:"";return j(`Since ${n} api.${c} is deprecated. ${u}${l??""}`),t.apply(t,d)}}const r=BH[e];return r?(...n)=>{const o=i.rowModel.getType();if(!r.includes(o)){$e(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,n)}:t}var PH={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},Un=(e,t)=>{const i=t.rowModelType??"clientSide";return i==="clientSide"||i==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},LH={enableRowGroup:Un,rowGroup:Un,rowGroupIndex:Un,enablePivot:Un,enableValue:Un,pivot:Un,pivotIndex:Un,aggFunc:Un,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var i;const t=["columnsMenuTab","generalMenuTab"];return(i=e.menuTabs)!=null&&i.some(s=>t.includes(s))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>$a},ZH={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},HH=Object.keys(ZH),$a={objectName:"colDef",allProperties:HH,docsUrl:"column-properties/",deprecations:PH,validations:LH},YH=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),zH={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},jH=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const i=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:i}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:i}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return typeof t=="boolean"||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>$a,defaultColDef:()=>$a,defaultColGroupDef:()=>$a,autoGroupColumnDef:()=>$a,selectionColumnDef:()=>$a}),UH=()=>({objectName:"gridOptions",allProperties:[...Yd.ALL_PROPERTIES,...IS.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:YH(),validations:jH()}),XH=class extends Y{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,UH())}validateApiFunction(e,t){return OH(e,t,this.beans)}processOptions(e,t){const{validations:i,deprecations:s,allProperties:r,propertyExceptions:n,objectName:o,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...n??[],...Object.keys(s)],r,o,a);const l=new Set;Object.keys(e).forEach(d=>{const u=s[d];if(u)if("renamed"in u){const{renamed:F,version:G}=u;l.add(`As of v${G}, ${String(d)} is deprecated. Please use ${String(F)} instead.`),e[F]=e[d]}else{const{message:F,version:G}=u;l.add(`As of v${G}, ${String(d)} is deprecated. ${F??""}`)}const f=e[d];if(f==null||f===!1)return;const g=i[d];let m;if(g)if(typeof g=="function"){const F=g(e,this.gridOptions);if(!F)return;if("objectName"in F){const G=e[d];if(Array.isArray(G)){G.forEach(L=>{this.processOptions(L,F)});return}this.processOptions(e[d],F);return}m=F}else m=g;else return;const{module:y,dependencies:b,validate:S,supportedRowModels:I}=m;if(I){const F=this.gridOptions.rowModelType??"clientSide";if(!I.includes(F)){l.add(`${String(d)} is not supported with the '${F}' row model.`);return}}if(y){const F=Array.isArray(y)?y:[y];let G=!0;if(F.forEach(L=>{this.gos.assertModuleRegistered(L,String(d))||(G=!1,l.add(`${String(d)} is only available when ${L} is loaded.`))}),!G)return}if(b){const F=this.checkForRequiredDependencies(d,b,e);if(F){l.add(F);return}}if(S){const F=S(e,this.gridOptions);if(F){l.add(F);return}}}),l.size>0&&l.forEach(d=>{j(d)})}checkForRequiredDependencies(e,t,i){const r=Object.entries(t).find(([a,l])=>{const c=i[a];return!l.includes(c)});if(!r)return null;const[n,o]=r;return o.length>1?`'${String(e)}' requires '${n}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${n}' to be ${o[0]}.`}checkProperties(e,t,i,s,r){const n=["__ob__","__v_skip","__metadata__"],o=JH(Object.getOwnPropertyNames(e),[...n,...t,...i],i);if(lr(o,(a,l)=>{let c=`invalid ${s} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;i.includes("context")&&(c+=`
If you are trying to annotate ${s} with application data, use the '${s}.context' property instead.`),j(c)}),Object.keys(o).length>0&&r){const a=this.getFrameworkOverrides().getDocLink(r);j(`to see all the valid ${s} properties please check: ${a}`)}}};function JH(e,t,i){const s={},r=e.filter(n=>!t.some(o=>o===n));return r.length>0&&r.forEach(n=>s[n]=QS({inputValue:n,allSuggestions:i}).values),s}var QH={version:Ae,moduleName:"@ag-grid-community/core"},qH={version:Ae,moduleName:"@ag-grid-community/core-validations",beans:[XH]},KH={version:Ae,moduleName:"@ag-grid-community/core-community-features",dependantModules:[QH,qH,d8,VV,vH,HL,K8,NH,dH]},$H=class extends Y{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,t;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((e=this.beans.stateService)==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(t=this.beans.ctrlsService.get("gridCtrl"))==null||t.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},qu=new Set(["gridPreDestroyed","fillStart","pasteStart"]),eY=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",tY=new Map([...Yd.BOOLEAN_PROPERTIES.map(e=>[e,Xg]),...Yd.NUMBER_PROPERTIES.map(e=>[e,pR]),["groupAggFiltering",e=>typeof e=="function"?e:Xg(e)],["pageSize",Fr(1)],["autoSizePadding",Fr(0)],["keepDetailRowsCount",Fr(1)],["rowBuffer",Fr(0)],["infiniteInitialRowCount",Fr(1)],["cacheOverflowSize",Fr(1)],["cacheBlockSize",Fr(1)],["serverSideInitialRowCount",Fr(1)],["viewportRowModelPageSize",Fr(1)],["viewportRowModelBufferSize",Fr(0)]]);function QR(e,t){const i=tY.get(e);return i?i(t):t}function iY(e){const t={};return Object.entries(e).forEach(([i,s])=>{const r=QR(i,s);t[i]=r}),t}var qR=class KR extends Y{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new mc,this.globalEventHandlerFactory=t=>(i,s)=>{if(!this.isAlive())return;const r=qu.has(i);if(r&&!t||!r&&t)return;const n=IS.getCallbackForEvent(i),o=this.gridOptions[n];typeof o=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{o(s)})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi,this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:i})=>{this.updateGridOptions({options:i,force:!0,source:"gridOptionsUpdated"})}})}get(t){return this.gridOptions[t]??zH[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return te(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(s=>{const r=s;return r.api=this.api,r.context=this.gridOptionsContext,t(r)})}updateGridOptions({options:t,force:i,source:s="api"}){var o;const r={id:KR.changeSetId++,properties:[]},n=[];Object.entries(t).forEach(([a,l])=>{s==="api"&&aN[a]&&j(`${a} is an initial property and cannot be updated.`);const c=QR(a,l),d=i||typeof c=="object"&&s==="api",u=this.gridOptions[a];if(d||u!==c){this.gridOptions[a]=c;const f={type:a,currentValue:c,previousValue:u,changeSet:r,source:s};n.push(f)}}),(o=this.validationService)==null||o.processGridOptions(this.gridOptions),r.properties=n.map(a=>a.type),n.forEach(a=>{this.gridOptions.debug&&bn(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(t,i){this.propertyEventService.addEventListener(t,i)}removePropertyEventListener(t,i){this.propertyEventService.removeEventListener(t,i)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const i=t;return i.api=this.api,i.context=this.gridOptionsContext,i}assertModuleRegistered(t,i){return un.__assertRegistered(t,i,this.gridId)}isModuleRegistered(t){return un.__isRegistered(t,this.gridId)}};qR.changeSetId=0;var sY=qR,rY=class extends Y{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let i,s;if(ui(e.column)?i=this.visibleColsService.getGroupAtDirection(e.column,t):(s=`getCol${t}`,i=this.visibleColsService[s](e.column)),!i)return;const{headerRowIndex:r}=e;if(this.getHeaderRowType(r)!=="filter"){const a=[i];for(;i.getParent();)i=i.getParent(),a.push(i);i=a[a.length-1-r]}const{column:n,headerRowIndex:o}=this.getHeaderIndexToFocus(i,r);return{column:n,headerRowIndex:o}}getHeaderIndexToFocus(e,t){let i;if(ui(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const s=e;i=s.getLeafColumns()[0];let r=i;for(;r!==s;)t++,r=r.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),s=i==="filter",r=i==="column";let n=s?e:e.getParent(),o=t-1,a=o;if(r&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;n&&n.isPadding();)n=n.getParent(),o--;a=o,o<0&&(n=e,o=t,a=void 0)}return{column:n,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,i="After"){const s=this.getHeaderRowType(t);let r=e,n=t+1;const o=n;if(s==="group"){const a=e.getDisplayedLeafColumns(),l=i==="After"?a[0]:je(a),c=[];let d=l;for(;d.getParent()!==e;)d=d.getParent(),c.push(d);if(r=l,l.isSpanHeaderHeight())for(let u=c.length-1;u>=0;u--){const f=c[u];if(!f.isPadding()){r=f;break}n++}else r=je(c),r||(r=l)}return{column:r,headerRowIndex:n,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.visibleColsService.getAllCols(),s=i[t==="start"?0:i.length-1];if(!s)return;const r=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()),n=r==null?void 0:r.getRowType(e);if(n=="group"){const o=this.visibleColsService.getColGroupAtLevel(s,e);return{headerRowIndex:e,column:o}}return{headerRowIndex:n==null?-1:e,column:s}}},nY=class extends Y{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(i,s,r)=>e({key:i,defaultValue:s,variableValues:r});const t=this.gos.get("localeText");return(i,s,r)=>{let n=t&&t[i];if(n&&r&&r.length){let o=0;for(;!(o>=r.length||n.indexOf("${variable}")===-1);)n=n.replace("${variable}",r[o++])}return n??s}}},oY=class extends Y{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new Iv(this.getFrameworkOverrides())}addEventListener(e,t){const i=this.frameworkEventWrappingService.wrap(t),s=xh(this.gos)&&!qu.has(e),r=s?this.asyncEventListeners:this.syncEventListeners;r.has(e)||r.set(e,new Set),r.get(e).add(i),this.eventService.addEventListener(e,i,s)}removeEventListener(e,t){var n;const i=this.frameworkEventWrappingService.unwrap(t),s=this.asyncEventListeners.get(e),r=!!(s!=null&&s.delete(i));r||(n=this.syncEventListeners.get(e))==null||n.delete(i),this.eventService.removeEventListener(e,i,r)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(xh(this.gos)){const s=(n,o)=>{qu.has(n)&&t(n,o)},r=(n,o)=>{qu.has(n)||t(n,o)};this.globalEventListenerPairs.set(e,{syncListener:s,asyncListener:r}),this.eventService.addGlobalListener(s,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:s,asyncListener:r}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(s,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((i,s)=>{i.forEach(r=>this.eventService.removeEventListener(s,r,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventService.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},aY=class extends Y{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},lY=class extends Y{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Pe(this.topRowBounds)||Pe(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=te(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},cY=class extends Y{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=us(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=ri(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),MS(t,"polite"),hN(t,"additions text"),uN(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(zi(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},dY=class extends Y{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),t();return}const i=s=>{for(;s.length;){const r=s.pop();r&&r()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),i(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),i(this.executeLaterFuncs)},200)})}},uY=class extends Y{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},hY=class extends Y{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=ti(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){j("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){var r;const s=e.newAgStackInstance();(r=this.overlayWrapperComp)==null||r.showOverlay(s,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(this.state===2){const t=this.ctrlsService.get("gridHeaderCtrl");e=(t==null?void 0:t.getHeaderHeight())||0}else this.wrapperPadding!==0&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},fY=class extends Y{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return te(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),by(t,this.processClassesFromGridOptions(e.rowNode)),by(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=n=>{typeof n=="string"?t.push(n):Array.isArray(n)&&n.forEach(o=>t.push(o))},s=this.gos.get("rowClass");if(s){if(typeof s=="function")return j("rowClass should not be a function, please use getRowClass instead"),[];i(s)}const r=this.gos.getCallback("getRowClass");if(r){const n={data:e.data,node:e,rowIndex:e.rowIndex},o=r(n);i(o)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,i=>{t.push(i)},()=>{}),t}processRowClassRules(e,t,i){const s=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),s,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},pY=class extends Y{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=RN(),this.gos.get("debug")&&bn("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&bn(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},gY=class extends Y{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=Gr(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Gr(this.gos))}doFullSort(e,t){const i=(r,n)=>({currentPos:n,rowNode:r}),s=e.map(i);return s.sort(this.compareRowNodes.bind(this,t)),s.map(r=>r.rowNode)}compareRowNodes(e,t,i){const s=t.rowNode,r=i.rowNode;for(let n=0,o=e.length;n<o;n++){const a=e[n],l=a.sort==="desc",c=this.getValue(s,a.column),d=this.getValue(r,a.column);let u;const f=this.getComparator(a,s);if(f?u=f(c,d,s,r,l):u=C7(c,d,this.isAccentedSort),!isNaN(u)&&u!==0)return a.sort==="asc"?u:u*-1}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,s=i.getColDef().comparator;if(s!=null)return s;if(!i.getColDef().showRowGroup)return;const r=!t.group&&i.getColDef().field;if(!r)return;const n=this.columnModel.getColDefCol(r);if(n)return n.getColDef().comparator}getValue(e,t){var s,r,n;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(yv(this.gos,this.columnModel.isPivotActive())){const l=(s=e.allLeafChildren)==null?void 0:s[0];return l?this.valueService.getValue(t,l,!1,!1):void 0}const a=(r=this.showRowGroupColsService)==null?void 0:r.getShowRowGroupCol(t.getId());return a?(n=e.groupData)==null?void 0:n[a.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},If=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let s=0;s<e.childrenAfterGroup.length;s++){const r=e.childrenAfterGroup[s];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[s],t,i):i&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const s={rowNode:t,children:null};this.mapToItems[t.id]=s,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(s=>this.nodeIdsToColumns[i.id][s.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let s=0;s<t;s++){const r=this.mapToItems[i.id],n=this.mapToItems[i.parent.id];n.children||(n.children=[]),n.children.push(r),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>i[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>!i[r.getId()])}},$R=class extends Y{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new m8,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:i}=this;this.selectionCtx.init(t),this.rowSelectionMode=_h(e),this.groupSelectsChildren=Ga(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const s=Ga(e),r=_h(e);(s!==this.groupSelectsChildren||r!==this.rowSelectionMode)&&(this.groupSelectsChildren=s,this.rowSelectionMode=r,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:i.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,t){if(!eY(t))return e;const i=this.selectionCtx.getRoot();return i?i.isSelected()??!1:!0}setNodesSelected(e){var u;const{newValue:t,clearSelection:i,suppressFinishActions:s,rangeSelect:r,nodes:n,event:o,source:a}=e;if(n.length===0)return 0;if(n.length>1&&!this.isMultiSelect())return j("cannot multi select unless selection mode is 'multiRow'"),0;const l=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,c=n.map(f=>f.footer?f.sibling:f);if(r){if(c.length>1)return j("cannot range select while selecting multiple rows"),0;const f=c[0],g=this.overrideSelectionValue(t,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(f)){const m=this.selectionCtx.truncate(f);return g&&this.selectRange(m.discard,!1,a),this.selectRange(m.keep,g,a)}else if(this.selectionCtx.getRoot()!==f){const b=this.selectionCtx.extend(f,this.groupSelectsChildren);return g&&this.selectRange(b.discard,!1,a),this.selectRange(b.keep,g,a)}}}s||this.selectionCtx.setRoot(c[0]);let d=0;for(let f=0;f<c.length;f++){const g=c[f];l&&g.group||g.selectThisNode(t,o,a)&&d++,this.groupSelectsChildren&&((u=g.childrenAfterGroup)!=null&&u.length)&&(d+=this.selectChildren(g,t,l,a))}return s||(t&&(i||!this.isMultiSelect())&&(d+=this.clearOtherNodes(c[0],a)),d>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),d}selectRange(e,t,i){let s=0;return e.forEach(r=>{if(r.group&&this.groupSelectsChildren)return;r.selectThisNode(t,void 0,i)&&s++}),s>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),s}selectChildren(e,t,i,s){const r=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return Pe(r)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:s,nodes:r})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((i,s)=>{i&&e(i)&&t.set(s,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!ti(this.gos))return!1;const s=this.rowModel.getRootNode();t||(t=new If(!0,s),t.setInactive());let r=!1;return t.forEachChangedNodeDepthFirst(n=>{if(n!==s){const o=n.calculateSelectedFromChildren();r=n.selectThisNode(o===null?!1:o,void 0,e)||r}}),r}clearOtherNodes(e,t){const i=new Map;let s=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==e.id){const n=this.selectedNodes.get(r.id);s+=n.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&r.parent&&i.set(r.parent.id,r.parent)}}),i.forEach(r=>{const n=r.calculateSelectedFromChildren();r.selectThisNode(n===null?!1:n,void 0,t)}),s}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(te(t)&&e.id!==t.id&&t){const s=t.id;this.selectedNodes.get(s)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(!ti(this.gos))return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const i=[];function s(r){for(let n=0,o=r.length;n<o;n++){const a=r[n];if(a.isSelected())i.push(a);else{const l=a;l.group&&l.children&&s(l.children)}}}return s(t),i}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=o=>o.selectThisNode(!1,void 0,s),i=ti(this.gos),{source:s,justFiltered:r,justCurrentPage:n}=e;if(n||r){if(!i){$e("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(r,n).forEach(t)}else this.selectedNodes.forEach(o=>{o&&t(o)}),this.reset(s);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s)}getSelectedCounts(e,t){let i=0,s=0;const r=n=>{this.groupSelectsChildren&&n.group||(n.isSelected()?i++:n.selectable&&s++)};return this.getNodesToSelect(e,t).forEach(r),{selectedCount:i,notSelectedCount:s}}getSelectAllState(e,t){const{selectedCount:i,notSelectedCount:s}=this.getSelectedCounts(e,t);return i===0&&s===0?!1:i>0&&s>0?null:i>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(i=>i.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();const i=[];if(t)return this.forEachNodeOnPage(r=>{if(!r.group){i.push(r);return}if(!r.expanded){const n=o=>{var a;i.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(n)};n(r);return}this.groupSelectsChildren||i.push(r)}),i;const s=this.rowModel;return e?(s.forEachNodeAfterFilter(r=>{i.push(r)}),i):(s.forEachNode(r=>{i.push(r)}),i)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let s=t;s<=i;s++){const r=this.rowModel.getRow(s);r&&e(r)}}selectAllRowNodes(e){if(A7(this.gos)&&!Sv(this.gos))return j("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:i,justCurrentPage:s}=e,r=this.getNodesToSelect(i,s);r.forEach(n=>n.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(r[0]??null),this.selectionCtx.setEndRange(je(r)??null),ti(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return $e("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const i=new Set(e),s=[];this.rowModel.forEachNode(r=>{i.has(r.id)&&s.push(r)}),this.setNodesSelected({newValue:!0,nodes:s,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!ti(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},mY=class extends Y{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:t}=this,i=Mh(t),s=wv(t);if(!i||!s)return;const r=Ga(t),n=ti(t)&&r,o=[],a=l=>{if(e&&!l.group)return;if(n&&l.group){const d=l.childrenAfterGroup.some(u=>u.selectable===!0);l.setRowSelectable(d,!0);return}const c=(s==null?void 0:s(l))??!0;l.setRowSelectable(c,!0),!c&&l.isSelected()&&o.push(l)};if(n){const l=this.rowModel;new If(!1,l.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),n&&this.selectionService instanceof $R&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},Ly=["asc","desc",null],vY=class extends Y{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,i){const s=this.getNextSortDirection(e);this.setSortForColumn(e,s,t,i)}setSortForColumn(e,t,i,s){t!=="asc"&&t!=="desc"&&(t=null);const r=Gr(this.gos);let n=[e];if(r&&e.getColDef().showRowGroup){const l=this.funcColsService.getSourceColumnsForGroupColumn(e),c=l==null?void 0:l.filter(d=>d.isSortable());c&&(n=[e,...c])}n.forEach(l=>l.setSort(t,s));const o=(i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!o){const l=this.clearSortBarTheseColumns(n,s);a.push(...l)}this.updateSortIndex(e),a.push(...n),this.dispatchSortChangedEvents(s,a)}updateSortIndex(e){var a;const t=Gr(this.gos),i=(a=this.showRowGroupColsService)==null?void 0:a.getShowRowGroupCol(e.getId()),s=t&&i||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(l=>l.setSortIndex(null));const n=r.filter(l=>t&&l.getColDef().showRowGroup?!1:l!==s);(s.getSort()?[...n,s]:n).forEach((l,c)=>{l.setSortIndex(c)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.columnModel.getAllCols().forEach(s=>{e.includes(s)||(s.getSort()&&i.push(s),s.setSort(void 0,t))}),i}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=Ly,!Array.isArray(t)||t.length<=0)return j(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort()),s=i<0,r=i==t.length-1;let n;return s||r?n=t[0]:n=t[i+1],Ly.indexOf(n)<0?(j("invalid sort type ",n),null):n}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(n=>!!n.getSort());if(this.columnModel.isPivotMode()){const n=Gr(this.gos);e=e.filter(o=>{var d;const a=!!o.getAggFunc(),l=!o.isPrimary(),c=n?(d=this.showRowGroupColsService)==null?void 0:d.getShowRowGroupCol(o.getId()):o.getColDef().showRowGroup;return a||l||c})}const t=this.funcColsService.getRowGroupColumns().filter(n=>!!n.getSort()),i={};e.forEach((n,o)=>i[n.getId()]=o),e.sort((n,o)=>{const a=n.getSortIndex(),l=o.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const c=i[n.getId()],d=i[o.getId()];return c>d?1:-1}else return l==null?-1:1});const s=Gr(this.gos)&&!!t.length;s&&(e=[...new Set(e.map(n=>{var o;return((o=this.showRowGroupColsService)==null?void 0:o.getShowRowGroupCol(n.getId()))??n}))]);const r=new Map;return e.forEach((n,o)=>r.set(n,o)),s&&t.forEach(n=>{const o=this.showRowGroupColsService.getShowRowGroupCol(n.getId());r.set(n,r.get(o))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,s])=>t-s).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Gr(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const s=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=s[0].getSort();return s.every(o=>o.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},bY=class extends Y{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&bn(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,Qo(e.source))}}},CY="paste",yY=class extends Y{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){ti(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==CY&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const s=this.gos.get("aggregateOnlyChangedColumns"),r=new If(s,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(n=>{i.push(n)})}this.rowRenderer.refreshCells({rowNodes:i})}},wY=class extends Y{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);$e("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return bn("Processing of the expression failed"),bn("Expression = ",e),bn("Params = ",t),bn("Exception = ",i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},SY=class extends Y{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},RY=class extends Y{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=vc(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=i=>this.callColumnCellValueChangedHandler(i),t=xh(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValueForDisplay(e,t){const i=t.leafGroup&&this.columnModel.isPivotMode(),s=t.group&&t.expanded&&!t.footer&&!i,r=this.gos.get("groupSuppressBlankHeader");if(!s||r)return this.getValue(e,t);let n=!1;const o=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof o!="function"?n=!!o:n=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const a=s&&n;return this.getValue(e,t,!1,a)}getValue(e,t,i=!1,s=!1){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),n=r.field,o=e.getColId(),a=t.data;let l;const c=t.groupData&&t.groupData[o]!==void 0,d=!s&&t.aggData&&t.aggData[o]!==void 0,u=this.isSsrm&&s&&!!e.getColDef().aggFunc,f=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(i&&r.filterValueGetter?l=this.executeFilterValueGetter(r.filterValueGetter,a,e,t):this.isTreeData&&d?l=t.aggData[o]:this.isTreeData&&r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,e,t):this.isTreeData&&n&&a?l=Qc(a,n,e.isFieldContainsDots()):c?l=t.groupData[o]:d?l=t.aggData[o]:r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,e,t):f?l=Qc(a,t.field,e.isFieldContainsDots()):n&&a&&!u&&(l=Qc(a,n,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const g=l.substring(1);l=this.executeValueGetter(g,a,e,t)}if(l==null){const g=this.getOpenedGroup(t,e);if(g!=null)return g}return l}parseValue(e,t,i,s){const r=e.getColDef(),n=r.valueParser;if(te(n)){const o=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:s,newValue:i,colDef:r,column:e});return typeof n=="function"?n(o):this.expressionService.evaluate(n,o)}return i}getDeleteValue(e,t){return te(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,s,r=!0){let n=null,o;const a=e.getColDef();if(s?o=s:r&&(o=a.valueFormatter),o){const l=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?n=o(l):n=this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[i]||"";return n==null&&Array.isArray(i)&&(n=i.join(", ")),n}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const s=t.getColDef().showRowGroup;let r=e.parent;for(;r!=null;){if(r.rowGroupColumn&&(s===!0||s===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,t,i,s){const r=this.columnModel.getColDefCol(t);if(!e||!r)return!1;Pe(e.data)&&(e.data={});const{field:n,valueSetter:o}=r.getColDef();if(Pe(n)&&Pe(o))return j("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(r,i))return j("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(r,e),newValue:i,colDef:r.getColDef(),column:r});a.newValue=i;let l;if(te(o)?typeof o=="function"?l=o(a):l=this.expressionService.evaluate(o,a):l=this.setValueUsingField(e.data,n,i,r.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const c=this.getValue(r,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:c,value:c,source:s}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,s){if(!t)return!1;let r=!1;if(!s)r=e[t]===i,r||(e[t]=i);else{const n=t.split(".");let o=e;for(;n.length>0&&o;){const a=n.shift();n.length===0?(r=o[a]===i,r||(o[a]=i)):o=o[a]}}return!r}executeFilterValueGetter(e,t,i,s){const r=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});return typeof e=="function"?e(r):this.expressionService.evaluate(e,r)}executeValueGetter(e,t,i,s){const r=i.getColId(),n=this.valueCache.getValue(s,r);if(n!==void 0)return n;const o=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});let a;return typeof e=="function"?a=e(o):a=this.expressionService.evaluate(e,o),this.valueCache.setValue(s,r,a),a}getValueCallback(e,t){const i=this.columnModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),s=e.getColDef().keyCreator;let r=i;if(s){const n=this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});r=s(n)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&j("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}},$v=class jo{static applyGlobalGridOptions(t){if(!jo.gridOptions)return t;let i={};return ts(i,jo.gridOptions,!0,!0),jo.mergeStrategy==="deep"?ts(i,t,!0,!0):i={...i,...t},jo.gridOptions.context&&(i.context=jo.gridOptions.context),t.context&&(jo.mergeStrategy==="deep"&&i.context&&ts(t.context,i.context,!0,!0),i.context=t.context),i}};$v.gridOptions=void 0;$v.mergeStrategy="shallow";var AY=$v;function IY(e,t,i){if(!t)return $e("No gridOptions provided to createGrid"),{};const s=new EY().create(e,t,r=>{const n=new Q8(e);r.createBean(n)},void 0,i);if(!Object.isFrozen(t)&&!(i!=null&&i.frameworkOverrides)){const r="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:()=>{$e(`gridOptions.api is no longer supported. See ${r}.`)},configurable:!0})}return s}var FY=1,EY=class{create(e,t,i,s,r){const n=AY.applyGlobalGridOptions(t),o=iY(n),a=o.gridId??String(FY++),l=this.getRegisteredModules(r,a),c=this.createBeansList(o.rowModelType,l,a),d=this.createProvidedBeans(e,o,r);if(!c){$e("Failed to create grid.");return}const u={providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:B8,beanDestroyComparator:V8,derivedBeans:[M8]},f=new AB(u);return this.registerModuleUserComponents(f,l),this.registerControllers(f,l),this.registerModuleApiFunctions(f,l),i(f),f.getBean("syncService").start(),s&&s(f),f.getBean("gridApi")}registerControllers(e,t){const i=e.getBean("ctrlsFactory");t.forEach(s=>{s.controllers&&s.controllers.forEach(r=>i.register(r))})}getRegisteredModules(e,t){const i=e?e.modules:null,s=un.__getRegisteredModules(t),r=[],n={},o=(a,l,c)=>{(u=>{n[u.moduleName]||(n[u.moduleName]=!0,r.push(u),un.__register(u,a,c))})(l),l.dependantModules&&l.dependantModules.forEach(u=>o(a,u,c))};return o(!!(i!=null&&i.length)||!un.__isPackageBased(),KH,void 0),i&&i.forEach(a=>o(!0,a,t)),s&&s.forEach(a=>o(!un.__isPackageBased(),a,void 0)),r}registerModuleUserComponents(e,t){const i=this.extractModuleEntity(t,r=>r.userComponents?r.userComponents:[]),s=e.getBean("userComponentRegistry");i.forEach(({name:r,classImp:n,params:o})=>{s.registerDefaultComponent(r,n,o)})}registerModuleApiFunctions(e,t){const i=e.getBean("apiFunctionService");t.forEach(s=>{const r=s.apiFunctions;r&&Object.keys(r).forEach(o=>{i==null||i.addFunction(o,r[o])})})}createProvidedBeans(e,t,i){let s=i?i.frameworkOverrides:null;Pe(s)&&(s=new A8);const r={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:s};return i&&i.providedBeanInstances&&Object.assign(r,i.providedBeanInstances),r}createBeansList(e="clientSide",t,i){const s=t.filter(l=>!l.rowModel||l.rowModel===e),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[e]){$e("Could not find row model for rowModelType = ",e);return}if(!un.__assertRegistered(r[e],`rowModelType = '${e}'`,i))return;const n=[H8,L8,rY,$H,E8,rB,W8,T8,AP,qS,pY,SP,nY,g8,MB,rN,j8,sY,S8,$R,z7,HV,lY,aY,f8,wY,Y7,wP,SY,RY,u8,RP,IB,U8,yP,Y8,I8,v8,CP,vY,uY,dY,mY,yY,IP,x8,fY,gY,P8,X8,Z8,O8,bY,hY,FP,oY,cY,EP,X7,k8,J7,j7,_8,G8,iN,U7,eN,D8,tN,O7],o=this.extractModuleEntity(s,l=>l.beans?l.beans:[]);n.push(...o);const a=[];return n.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},MY=class extends Y{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function xY(e){e.expansionService.expandAll(!0)}function kY(e){e.expansionService.expandAll(!1)}function _Y(e){var s,r;const t=(s=e.rowModelHelperService)==null?void 0:s.getClientSideRowModel(),i=(r=e.rowModelHelperService)==null?void 0:r.getServerSideRowModel();t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}var GY={version:Ae,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:xY,collapseAll:kY,onRowHeightChanged:_Y}},yc=typeof global>"u"?{}:global;yc.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;yc.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;yc.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;yc.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;yc.Node=typeof Node>"u"?{}:Node;yc.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var DY="ROOT_NODE_ID",Dp=0,WY=class{constructor(e,t,i,s,r,n){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=i,this.funcColsService=s,this.beans=n,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=DY,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return yS(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){j("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,i=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((s,r)=>this.createNode(s,this.rootNode,Dp,r)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=t.childrenAfterFilter,i.childrenAfterGroup=t.childrenAfterGroup,i.childrenAfterAggFilter=t.childrenAfterAggFilter,i.childrenAfterSort=t.childrenAfterSort,i.childrenMapped=t.childrenMapped,i.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[];return this.executeRemove(e,t,i),this.executeUpdate(e,t,i),this.executeAdd(e,t),this.updateSelection(i,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,i=(t==null?void 0:t.length)??0,s=new Map;let r=-1,n=-1;for(let o=0;o<i;++o){const a=t[o],l=a.data;l!==e[o]&&(n<0&&(r=o),n=o,s.set(l,a))}if(r<0)return!1;for(let o=r;o<=n;++o){const a=s.get(e[o]);a!==void 0&&(t[o]=a,a.sourceRowIndex=o)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}updateSelection(e,t){const i=e.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const i=e.add;if(Ms(i))return;const s=this.rootNode.allLeafChildren;let r=s.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")))for(let l=0;l<s.length;l++){const c=s[l];if((c==null?void 0:c.rowIndex)==r-1){r=l+1;break}}const n=i.map((a,l)=>this.createNode(a,this.rootNode,Dp,r+l));if(r<s.length){const a=s.slice(0,r),l=s.slice(r,s.length),c=a.length+n.length;for(let d=0,u=l.length;d<u;++d)l[d].sourceRowIndex=c+d;this.rootNode.allLeafChildren=[...a,...n,...l],t.rowsInserted=!0}else this.rootNode.allLeafChildren=s.concat(n);const o=this.rootNode.sibling;o&&(o.allLeafChildren=s),t.rowNodeTransaction.add=n}sanitizeAddIndex(e){var i;const t=((i=this.rootNode.allLeafChildren)==null?void 0:i.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},i){var o,a;const{remove:s}=e;if(Ms(s))return;const r={};s.forEach(l=>{const c=this.lookupRowNode(l);c&&(c.isSelected()&&i.push(c),c.clearRowTopAndRowIndex(),r[c.id]=!0,delete this.allNodesMap[c.id],t.remove.push(c))}),this.rootNode.allLeafChildren=((o=this.rootNode.allLeafChildren)==null?void 0:o.filter(l=>!r[l.id]))??null,(a=this.rootNode.allLeafChildren)==null||a.forEach((l,c)=>{l.sourceRowIndex=c});const n=this.rootNode.sibling;n&&(n.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},i){const{update:s}=e;Ms(s)||s.forEach(r=>{const n=this.lookupRowNode(r);n&&(n.updateData(r),!n.selectable&&n.isSelected()&&i.push(n),this.setMasterForRow(n,r,Dp,!1),t.update.push(n))})}lookupRowNode(e){var s;const t=Cu(this.gos);let i;if(t){const r=t({data:e,level:0});if(i=this.allNodesMap[r],!i)return $e(`could not find row id=${r}, data item was not found for this id`),null}else if(i=(s=this.rootNode.allLeafChildren)==null?void 0:s.find(r=>r.data===e),!i)return $e("could not find data item as object was not found",e),$e("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,t,i,s){const r=new oa(this.beans);return r.sourceRowIndex=s,r.group=!1,this.setMasterForRow(r,e,i,!0),t&&(r.parent=t),r.level=i,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&j(`duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(e,t,i,s){if(this.gos.get("treeData"))e.setMaster(!1),s&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");o?e.setMaster(o(t)):e.setMaster(!0)}else e.setMaster(!1);if(s){const o=this.funcColsService.getRowGroupColumns(),a=o?o.length:0,l=i+a;e.expanded=e.master?this.isExpanded(l):!1}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},TY=class extends Y{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=us(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:De.EVERYTHING}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:De.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:De.PIVOT}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new oa(this.beans),this.nodeManager=new WY(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),s=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),n=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...i,...s,...s,...r,...n,...o,...a];this.addManagedPropertyListeners(l,c=>{var f;const d=(f=c.changeSet)==null?void 0:f.properties;if(!d)return;const u=g=>d.some(m=>g.has(m));if(u(e)){this.setRowData(this.rootNode.allLeafChildren.map(g=>g.data));return}if(u(t)){this.refreshModel({step:De.EVERYTHING});return}if(u(i)){this.refreshModel({step:De.FILTER});return}if(u(s)){this.refreshModel({step:De.PIVOT});return}if(u(r)){this.refreshModel({step:De.AGGREGATE});return}if(u(n)){this.refreshModel({step:De.SORT});return}if(u(o)){this.refreshModel({step:De.FILTER_AGGREGATES});return}u(a)&&this.refreshModel({step:De.MAP})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,s){let r,n=!1;do{r=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,i),c=Math.min(a,s);for(let d=l;d<=c;d++){const u=this.getRow(d);if(u.rowHeightEstimated){const f=_o(this.gos,u);u.setRowHeight(f.height),r=!0,n=!0}}r&&this.setRowTopAndRowIndex()}while(r);return n}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,s=Ni(this.gos,"normal");for(let r=0;r<this.rowsToDisplay.length;r++){const n=this.rowsToDisplay[r];if(n.id!=null&&i.add(n.id),n.rowHeight==null){const o=_o(this.gos,n,s,e);n.setRowHeight(o.height,o.estimated)}n.setRowTop(t),n.setRowIndex(r),t+=n.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),s=n=>{n&&n.id!=null&&!t.has(n.id)&&n.clearRowTopAndRowIndex()},r=n=>{if(s(n),s(n.detailNode),s(n.sibling),n.hasChildren()&&n.childrenAfterGroup){const o=n.level==-1;i&&!o&&!n.expanded||n.childrenAfterGroup.forEach(r)}};r(this.rootNode)}ensureRowsAtPixel(e,t,i=0){const s=this.getRowIndexAtPixel(t),r=this.getRow(s),n=!this.gos.get("suppressAnimationFrame");if(r===e[0])return!1;const o=this.rootNode.allLeafChildren;return e.forEach(a=>{hs(o,a)}),e.forEach((a,l)=>{Gh(o,a,Math.max(s+i,0)+l)}),e.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:De.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:n,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const i=t!=null?this.getRowIndexAtPixel(t):null,s=i!=null?this.getRow(i):null;if(!s||!e||t==null){this.clearHighlightedRow();return}const r=this.getHighlightPosition(t,s),n=this.isHighlightingCurrentPosition(e,s,r),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==s;(n||o)&&(this.clearHighlightedRow(),n)||(s.setHighlighted(r),this.lastHighlightedRow=s)}getHighlightPosition(e,t){if(!t){const r=this.getRowIndexAtPixel(e);if(t=this.getRow(r||0),!t)return Bc.Below}const{rowTop:i,rowHeight:s}=t;return e-i<s/2?Bc.Above:Bc.Below}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,i){if(e===t)return!0;const s=i===Bc.Above?-1:1;return this.getRow(t.rowIndex+s)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter,i=this.rootNode.sibling?1:0;return(t?t.length:0)+i}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;i-=1}const s=this.rowsToDisplay[this.rowsToDisplay.length-1],r=i>=this.rootNode.childrenAfterSort.length;if(s.footer&&r)return s.rowIndex;let n=this.rootNode.childrenAfterSort[i];if(this.gos.get("groupHideOpenParents"))for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex}getRowBounds(e){if(Pe(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=hl(this.gos);this.refreshModel({step:De.MAP,keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=hl(this.gos),s=e.columns.length===0||e.columns.some(r=>r.isPrimary())?De.FILTER:De.FILTER_AGGREGATES;this.refreshModel({step:s,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=hl(this.gos);this.refreshModel({step:De.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:De.PIVOT}):this.refreshModel({step:De.AGGREGATE})}createChangePath(e){const t=Ms(e),i=new If(!1,this.rootNode);return t&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(s=>s.add!=null&&s.add.length>0||s.remove!=null&&s.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t=De.EVERYTHING;const i={everything:De.EVERYTHING,group:De.EVERYTHING,filter:De.FILTER,map:De.MAP,aggregate:De.AGGREGATE,filter_aggregates:De.FILTER_AGGREGATES,sort:De.SORT,pivot:De.PIVOT,nothing:De.NOTHING};if(te(e)&&(t=i[e]),Pe(t)){$e(`invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`);return}const s=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:s}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case De.EVERYTHING:this.doRowGrouping(t.rowNodeTransactions,i,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case De.FILTER:this.doFilter(i);case De.PIVOT:this.doPivot(i);case De.AGGREGATE:this.doAggregate(i);case De.FILTER_AGGREGATES:this.doFilterAggregates(i);case De.SORT:this.doSort(t.rowNodeTransactions,i);case De.MAP:this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,s),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=Pe(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Pe(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return te(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,s=!1;const r=[],n=Ga(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(s)return;if(i&&(o===t||o===e)&&(s=!0,o.group&&n)){r.push(...o.allLeafChildren);return}if(!i){if(o!==t&&o!==e)return;i=!0}if(!o.group||!n){r.push(o);return}}),r}setDatasource(e){$e("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(je(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,n=-1;for(;;){const o=Math.floor((t+i)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(i=o-1),r===t&&n===i))return o;r=t,n=i}}isRowInPixel(e,t){const i=e.rowTop,s=e.rowTop+e.rowHeight;return i<=t&&s>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:i,recursionType:s,includeFooterNodes:r}=e;let{index:n}=e;const o=a=>{var g;const l=(g=t[0])==null?void 0:g.parent;if(!l)return;const c=r&&hS(this.gos),d=fS(this.gos),u=r&&d({node:l});if(l===this.rootNode){c===a&&(l.createFooter(),i(l.sibling,n++));return}u===a&&(l.createFooter(),i(l.sibling,n++))};o("top");for(let a=0;a<t.length;a++){const l=t[a];if(i(l,n++),l.hasChildren()&&!l.footer){let c=null;switch(s){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort;break}c&&(n=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:i,recursionType:s,index:n,includeFooterNodes:r}))}}return o("bottom"),n}doAggregate(e){var t;(t=this.aggregationStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),s=r=>{r&&r.forEach(n=>{const o=()=>{n.expanded=e,s(n.childrenAfterGroup)};if(t){te(n.childrenAfterGroup)&&o();return}if(i){!n.leafGroup&&o();return}n.group&&o()})};this.rootNode&&s(this.rootNode.childrenAfterGroup),this.refreshModel({step:De.MAP}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,s){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:i,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:s}),Ga(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const r=this.rootNode,n=r.sibling;r.childrenAfterGroup=r.allLeafChildren,n&&(n.childrenAfterGroup=r.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(oa.ID_PREFIX_ROW_GROUP)==0){let i;return this.forEachNode(s=>{s.id===e&&(i=s)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:De.EVERYTHING,newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var s;this.valueCache.onDataChanged();const e=[],t=[];let i=!1;(s=this.rowDataTransactionBatch)==null||s.forEach(r=>{const{rowNodeTransaction:n,rowsInserted:o}=this.nodeManager.updateRowData(r.rowDataTransaction);o&&(i=!0),t.push(n),r.callback&&e.push(r.callback.bind(null,n))}),this.commonUpdateRowData(t,i),e.length>0&&window.setTimeout(()=>{e.forEach(r=>r())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:i}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],i),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const i=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:De.EVERYTHING,rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:De.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function NY(e){e.expansionService.onGroupExpandedOrCollapsed()}function BY(e,t){var i,s;(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.refreshModel(t)}function VY(e){var t,i;return((i=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:i.isEmpty())??!0}function OY(e,t){var i,s;(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.forEachLeafNode(t)}function PY(e,t){var i,s;(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.forEachNodeAfterFilter(t)}function LY(e,t){var i,s;(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.forEachNodeAfterFilterAndSort(t)}function ZY(e){var t,i;if(e.columnModel.isAutoRowHeightActive()){j("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(i=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null||i.resetRowHeights()}function HY(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var i,s;return(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null?void 0:s.updateRowData(t)})}function YY(e,t,i){e.frameworkOverrides.wrapIncoming(()=>{var s,r;return(r=(s=e.rowModelHelperService)==null?void 0:s.getClientSideRowModel())==null?void 0:r.batchUpdateRowData(t,i)})}function zY(e){e.frameworkOverrides.wrapIncoming(()=>{var t,i;return(i=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:i.flushAsyncTransactions()})}function jY(e){return e.selectionService.getBestCostNodeSelection()}var UY=class extends Y{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var i;const t=!!((i=this.filterManager)!=null&&i.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const i=(s,r)=>{s.hasChildren()&&e&&!r?s.childrenAfterFilter=s.childrenAfterGroup.filter(n=>{const o=n.childrenAfterFilter&&n.childrenAfterFilter.length>0,a=n.data&&this.filterManager.doesRowPassFilter({rowNode:n});return o||a}):s.childrenAfterFilter=s.childrenAfterGroup,s.sibling&&(s.sibling.childrenAfterFilter=s.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const s=(n,o)=>{if(n.childrenAfterGroup)for(let a=0;a<n.childrenAfterGroup.length;a++){const l=n.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?s(n.childrenAfterGroup[a],c):i(l,c)}i(n,o)},r=n=>s(n,!1);t.executeFromRootNode(r)}else{const s=r=>i(r,!1);t.forEachChangedNodeDepthFirst(s,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},XY=class extends Y{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,i=[],s=this.columnModel.isPivotMode(),r=s&&t.leafGroup,n=r?[t]:t.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,n,i,s,0);const a=i.length>0;if(!r&&a&&o.grandTotalRow){t.createFooter();const c=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,t.sibling,i,0,c)}return i}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:S7(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:hS(this.gos),groupTotalRow:fS(this.gos)}}recursivelyAddToRowsToDisplay(e,t,i,s,r){if(!Ms(t))for(let n=0;n<t.length;n++){const o=t[n],a=o.hasChildren(),l=s&&!a,c=e.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,d=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,u=s&&o.leafGroup,f=e.hideOpenParents&&o.expanded&&!o.master&&!u;if(!l&&!f&&!c&&!d&&this.addRowNodeToRowsToDisplay(e,o,i,r),!(s&&o.leafGroup)){if(a){const m=c||d;if(o.expanded||m){const y=e.groupTotalRow({node:o});y||o.destroyFooter();const b=m?r:r+1;y==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,b)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,i,s,b),y==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,b))}}else if(o.master&&o.expanded){const m=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,m,i,r)}}}}addRowNodeToRowsToDisplay(e,t,i,s,r){r?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:s)}createDetailNode(e){if(te(e.detailNode))return e.detailNode;const t=new oa(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,te(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},JY=class extends Y{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){ti(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const i=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:s,rowsInserted:r}=i.updateRowData(t);let n=!1;this.gos.get("suppressMaintainUnsortedOrder")||(n=i.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(s,n||r)}createTransactionForRowData(e){if(!ti(this.gos))return $e("ImmutableService only works with ClientSideRowModel"),null;const t=Cu(this.gos);if(t==null)return $e("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const i=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),s=[],r=[],n=[];return te(e)&&e.forEach(o=>{const a=t({data:o,level:0}),l=i[a];l?(l.data!==o&&r.push(o),i[a]=void 0):n.push(o)}),lr(i,(o,a)=>{a&&s.push(a.data)}),{remove:s,update:r,add:n}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},QY=class extends Y{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,i,s,r,n){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(f=>f.isRowGroupActive());let l={};i&&s&&(l=this.calculateDirtyNodes(s));const c=this.columnModel.isPivotMode(),d=this.gos.getCallback("postSortRows"),u=f=>{var y;this.pullDownGroupDataForHideOpenParents(f.childrenAfterAggFilter,!0);const g=c&&f.leafGroup;if(o&&a&&!f.leafGroup&&!n){const b=(y=this.funcColsService.getRowGroupColumns())==null?void 0:y[f.level+1],S=(b==null?void 0:b.getSort())===null,I=f.childrenAfterAggFilter.slice(0);if(f.childrenAfterSort&&!S){const F={};f.childrenAfterSort.forEach((G,L)=>{F[G.id]=L}),I.sort((G,L)=>(F[G.id]??0)-(F[L.id]??0))}f.childrenAfterSort=I}else!t||g?f.childrenAfterSort=f.childrenAfterAggFilter.slice(0):i?f.childrenAfterSort=this.doDeltaSort(f,l,r,e):f.childrenAfterSort=this.rowNodeSorter.doFullSort(f.childrenAfterAggFilter,e);if(f.sibling&&(f.sibling.childrenAfterSort=f.childrenAfterSort),this.updateChildIndexes(f),d){const b={nodes:f.childrenAfterSort};d(b)}};r&&r.forEachChangedNodeDepthFirst(u),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){const t={},i=s=>{s&&s.forEach(r=>t[r.id]=!0)};return e&&e.forEach(s=>{i(s.add),i(s.update),i(s.remove)}),t}doDeltaSort(e,t,i,s){const r=e.childrenAfterAggFilter,n=e.childrenAfterSort;if(!n)return this.rowNodeSorter.doFullSort(r,s);const o={},a=[];r.forEach(u=>{t[u.id]||!i.canSkip(u)?a.push(u):o[u.id]=!0});const l=n.filter(u=>o[u.id]),c=(u,f)=>({currentPos:f,rowNode:u}),d=a.map(c).sort((u,f)=>this.rowNodeSorter.compareRowNodes(s,u,f));return this.mergeSortedArrays(s,d,l.map(c)).map(({rowNode:u})=>u)}mergeSortedArrays(e,t,i){const s=[];let r=0,n=0;for(;r<t.length&&n<i.length;)this.rowNodeSorter.compareRowNodes(e,t[r],i[n])<0?s.push(t[r++]):s.push(i[n++]);for(;r<t.length;)s.push(t[r++]);for(;n<i.length;)s.push(i[n++]);return s}updateChildIndexes(e){if(Pe(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const s=t[i],r=i===0,n=i===e.childrenAfterSort.length-1;s.setFirstChild(r),s.setLastChild(n),s.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return j("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(s=>{s.hasChildren()&&t(s)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||Pe(e)||e.forEach(i=>{var r;(((r=this.showRowGroupColsService)==null?void 0:r.getShowRowGroupCols())??[]).forEach(n=>{const o=n.getColDef().showRowGroup;if(typeof o!="string"){$e("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=o,l=this.columnModel.getColDefCol(a);if(l!==i.rowGroupColumn)if(t)i.setGroupValue(n.getId(),void 0);else{const d=this.getFirstChildOfFirstChild(i,l);d&&i.setGroupValue(n.getId(),d.key)}})})}getFirstChildOfFirstChild(e,t){let i=e;for(;i;){const s=i.parent;if(s&&i.firstChild){if(s.rowGroupColumn===t)return s}else return null;i=s}return null}},qY=class extends Y{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),i=te(t)&&t.length>0,s=i&&te(e.rowNodeTransactions)&&this.gos.get("deltaSort"),r=t.some(n=>Gr(this.gos)?n.column.isPrimary()&&n.column.isRowGroupActive():!!n.column.getColDef().showRowGroup);this.sortService.sort(t,i,s,e.rowNodeTransactions,e.changedPath,r)}},e0="32.3.3",e3={version:e0,moduleName:`${bu.ClientSideRowModelModule}-core`,rowModel:"clientSide",beans:[TY,UY,qY,XY,QY,JY]},KY={version:e0,moduleName:`${bu.ClientSideRowModelModule}-api`,beans:[MY],apiFunctions:{onGroupExpandedOrCollapsed:NY,refreshClientSideRowModel:BY,isRowDataEmpty:VY,forEachLeafNode:OY,forEachNodeAfterFilter:PY,forEachNodeAfterFilterAndSort:LY,resetRowHeights:ZY,applyTransaction:HY,applyTransactionAsync:YY,flushAsyncTransactions:zY,getBestCostNodeSelection:jY},dependantModules:[e3,GY]},$Y={version:e0,moduleName:bu.ClientSideRowModelModule,dependantModules:[e3,KY]};class ez{init(t){const{data:i}=t;if(this.eGui=document.createElement("div"),this.eGui.classList.add("flex","items-center"),i){const s=document.createElement("img");s.src=`/test/img/logos/${i.ticker}.png`,s.style.width="20px",s.style.height="20px",s.style.marginRight="5px",s.style.borderRadius="32px",this.eGui.appendChild(s);const r=document.createElement("b");r.className="custom-ticker",r.textContent=i.ticker,this.eGui.appendChild(r);const n=document.createElement("span");n.className="ticker-name",n.textContent=i.name,this.eGui.appendChild(n)}}getGui(){return this.eGui}refresh(){return!1}}class Wp{init(t){const{value:i}=t;this.eGui=document.createElement("span"),String(i).includes("-")&&(this.eGui.style.filter="blur(3px)"),this.eGui.textContent=i}getGui(){return this.eGui}refresh(){return!1}}un.registerModules([$Y]);const tz=e=>{const t=new Intl.NumberFormat("en-US",{style:"decimal",maximumFractionDigits:2});return e.value==null?"":t.format(e.value)},iz=[{field:"token",cellRenderer:ez,enableCellChangeFlash:!0,sortable:!1,filter:!1,minWidth:100,maxWidth:150},{field:"quantity",sortable:!1,filter:!1,type:"rightAligned",cellRenderer:Wp,enableCellChangeFlash:!0,valueFormatter:tz,maxWidth:150},{field:"from",sortable:!1,filter:!1,enableCellChangeFlash:!0,cellRenderer:Wp,type:"rightAligned",maxWidth:180},{field:"to",sortable:!1,filter:!1,enableCellChangeFlash:!0,cellRenderer:Wp,type:"rightAligned",maxWidth:180},{field:"date",enableCellChangeFlash:!0,filter:!1,minWidth:200,maxWidth:350,valueFormatter:e=>{const t=new Date(e.value);return t.toLocaleDateString("en-US")+" "+t.toLocaleTimeString("en-US")}},{field:"txHash",cellDataType:"text",type:"rightAligned",hide:!0,sortable:!1,filter:!1}],sz={rowData:[],getRowId:e=>e.data.txHash,onGridReady(e){e.api,Tc.setState({gridApi:e.api})},rowGroupPanelShow:"always",suppressAggFuncInHeader:!0,groupDefaultExpanded:-1,defaultColDef:{flex:1,filter:!0,sortable:!0},columnDefs:iz};document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#appgrid");IY(e,sz)});export{bi as C,dt as P,We as S,Ht as T,Me as a,lu as b,Wi as c};
